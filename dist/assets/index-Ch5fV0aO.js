const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Receiving-SpEBxufF.js","assets/schemas-D92qbQIR.js","assets/WorkOrder-CWLmSbXa.js","assets/workOrderEvents-Be-RnPcv.js","assets/Movements-Cebdc8bj.js"])))=>i.map(i=>d[i]);
(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function r(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(l){if(l.ep)return;l.ep=!0;const u=r(l);fetch(l.href,u)}})();function Lv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function w_(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var n=t.default;if(typeof n=="function"){var r=function i(){var l=!1;try{l=this instanceof i}catch{}return l?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};r.prototype=n.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var l=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(r,i,l.get?l:{enumerable:!0,get:function(){return t[i]}})}),r}var vd={exports:{}},Ai={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hg;function S_(){if(hg)return Ai;hg=1;var t=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function r(i,l,u){var d=null;if(u!==void 0&&(d=""+u),l.key!==void 0&&(d=""+l.key),"key"in l){u={};for(var h in l)h!=="key"&&(u[h]=l[h])}else u=l;return l=u.ref,{$$typeof:t,type:i,key:d,ref:l!==void 0?l:null,props:u}}return Ai.Fragment=n,Ai.jsx=r,Ai.jsxs=r,Ai}var mg;function x_(){return mg||(mg=1,vd.exports=S_()),vd.exports}var g=x_(),yd={exports:{}},Ci={},bd={exports:{}},_d={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pg;function E_(){return pg||(pg=1,(function(t){function n(U,Y){var ce=U.length;U.push(Y);e:for(;0<ce;){var Ee=ce-1>>>1,T=U[Ee];if(0<l(T,Y))U[Ee]=Y,U[ce]=T,ce=Ee;else break e}}function r(U){return U.length===0?null:U[0]}function i(U){if(U.length===0)return null;var Y=U[0],ce=U.pop();if(ce!==Y){U[0]=ce;e:for(var Ee=0,T=U.length,P=T>>>1;Ee<P;){var te=2*(Ee+1)-1,Q=U[te],V=te+1,W=U[V];if(0>l(Q,ce))V<T&&0>l(W,Q)?(U[Ee]=W,U[V]=ce,Ee=V):(U[Ee]=Q,U[te]=ce,Ee=te);else if(V<T&&0>l(W,ce))U[Ee]=W,U[V]=ce,Ee=V;else break e}}return Y}function l(U,Y){var ce=U.sortIndex-Y.sortIndex;return ce!==0?ce:U.id-Y.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;t.unstable_now=function(){return u.now()}}else{var d=Date,h=d.now();t.unstable_now=function(){return d.now()-h}}var m=[],p=[],y=1,_=null,w=3,E=!1,k=!1,A=!1,N=!1,L=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function F(U){for(var Y=r(p);Y!==null;){if(Y.callback===null)i(p);else if(Y.startTime<=U)i(p),Y.sortIndex=Y.expirationTime,n(m,Y);else break;Y=r(p)}}function B(U){if(A=!1,F(U),!k)if(r(m)!==null)k=!0,X||(X=!0,st());else{var Y=r(p);Y!==null&&ve(B,Y.startTime-U)}}var X=!1,ae=-1,Re=5,De=-1;function Be(){return N?!0:!(t.unstable_now()-De<Re)}function ct(){if(N=!1,X){var U=t.unstable_now();De=U;var Y=!0;try{e:{k=!1,A&&(A=!1,G(ae),ae=-1),E=!0;var ce=w;try{t:{for(F(U),_=r(m);_!==null&&!(_.expirationTime>U&&Be());){var Ee=_.callback;if(typeof Ee=="function"){_.callback=null,w=_.priorityLevel;var T=Ee(_.expirationTime<=U);if(U=t.unstable_now(),typeof T=="function"){_.callback=T,F(U),Y=!0;break t}_===r(m)&&i(m),F(U)}else i(m);_=r(m)}if(_!==null)Y=!0;else{var P=r(p);P!==null&&ve(B,P.startTime-U),Y=!1}}break e}finally{_=null,w=ce,E=!1}Y=void 0}}finally{Y?st():X=!1}}}var st;if(typeof z=="function")st=function(){z(ct)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,be=re.port2;re.port1.onmessage=ct,st=function(){be.postMessage(null)}}else st=function(){L(ct,0)};function ve(U,Y){ae=L(function(){U(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Re=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_next=function(U){switch(w){case 1:case 2:case 3:var Y=3;break;default:Y=w}var ce=w;w=Y;try{return U()}finally{w=ce}},t.unstable_requestPaint=function(){N=!0},t.unstable_runWithPriority=function(U,Y){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var ce=w;w=U;try{return Y()}finally{w=ce}},t.unstable_scheduleCallback=function(U,Y,ce){var Ee=t.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?Ee+ce:Ee):ce=Ee,U){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=ce+T,U={id:y++,callback:Y,priorityLevel:U,startTime:ce,expirationTime:T,sortIndex:-1},ce>Ee?(U.sortIndex=ce,n(p,U),r(m)===null&&U===r(p)&&(A?(G(ae),ae=-1):A=!0,ve(B,ce-Ee))):(U.sortIndex=T,n(m,U),k||E||(k=!0,X||(X=!0,st()))),U},t.unstable_shouldYield=Be,t.unstable_wrapCallback=function(U){var Y=w;return function(){var ce=w;w=Y;try{return U.apply(this,arguments)}finally{w=ce}}}})(_d)),_d}var gg;function T_(){return gg||(gg=1,bd.exports=E_()),bd.exports}var wd={exports:{}},Se={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vg;function j_(){if(vg)return Se;vg=1;var t=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.iterator;function w(T){return T===null||typeof T!="object"?null:(T=_&&T[_]||T["@@iterator"],typeof T=="function"?T:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,A={};function N(T,P,te){this.props=T,this.context=P,this.refs=A,this.updater=te||E}N.prototype.isReactComponent={},N.prototype.setState=function(T,P){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,P,"setState")},N.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function L(){}L.prototype=N.prototype;function G(T,P,te){this.props=T,this.context=P,this.refs=A,this.updater=te||E}var z=G.prototype=new L;z.constructor=G,k(z,N.prototype),z.isPureReactComponent=!0;var F=Array.isArray,B={H:null,A:null,T:null,S:null,V:null},X=Object.prototype.hasOwnProperty;function ae(T,P,te,Q,V,W){return te=W.ref,{$$typeof:t,type:T,key:P,ref:te!==void 0?te:null,props:W}}function Re(T,P){return ae(T.type,P,void 0,void 0,void 0,T.props)}function De(T){return typeof T=="object"&&T!==null&&T.$$typeof===t}function Be(T){var P={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(te){return P[te]})}var ct=/\/+/g;function st(T,P){return typeof T=="object"&&T!==null&&T.key!=null?Be(""+T.key):P.toString(36)}function re(){}function be(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then(re,re):(T.status="pending",T.then(function(P){T.status==="pending"&&(T.status="fulfilled",T.value=P)},function(P){T.status==="pending"&&(T.status="rejected",T.reason=P)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function ve(T,P,te,Q,V){var W=typeof T;(W==="undefined"||W==="boolean")&&(T=null);var ee=!1;if(T===null)ee=!0;else switch(W){case"bigint":case"string":case"number":ee=!0;break;case"object":switch(T.$$typeof){case t:case n:ee=!0;break;case y:return ee=T._init,ve(ee(T._payload),P,te,Q,V)}}if(ee)return V=V(T),ee=Q===""?"."+st(T,0):Q,F(V)?(te="",ee!=null&&(te=ee.replace(ct,"$&/")+"/"),ve(V,P,te,"",function(Hn){return Hn})):V!=null&&(De(V)&&(V=Re(V,te+(V.key==null||T&&T.key===V.key?"":(""+V.key).replace(ct,"$&/")+"/")+ee)),P.push(V)),1;ee=0;var rt=Q===""?".":Q+":";if(F(T))for(var Ge=0;Ge<T.length;Ge++)Q=T[Ge],W=rt+st(Q,Ge),ee+=ve(Q,P,te,W,V);else if(Ge=w(T),typeof Ge=="function")for(T=Ge.call(T),Ge=0;!(Q=T.next()).done;)Q=Q.value,W=rt+st(Q,Ge++),ee+=ve(Q,P,te,W,V);else if(W==="object"){if(typeof T.then=="function")return ve(be(T),P,te,Q,V);throw P=String(T),Error("Objects are not valid as a React child (found: "+(P==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":P)+"). If you meant to render a collection of children, use an array instead.")}return ee}function U(T,P,te){if(T==null)return T;var Q=[],V=0;return ve(T,Q,"","",function(W){return P.call(te,W,V++)}),Q}function Y(T){if(T._status===-1){var P=T._result;P=P(),P.then(function(te){(T._status===0||T._status===-1)&&(T._status=1,T._result=te)},function(te){(T._status===0||T._status===-1)&&(T._status=2,T._result=te)}),T._status===-1&&(T._status=0,T._result=P)}if(T._status===1)return T._result.default;throw T._result}var ce=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var P=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(P))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)};function Ee(){}return Se.Children={map:U,forEach:function(T,P,te){U(T,function(){P.apply(this,arguments)},te)},count:function(T){var P=0;return U(T,function(){P++}),P},toArray:function(T){return U(T,function(P){return P})||[]},only:function(T){if(!De(T))throw Error("React.Children.only expected to receive a single React element child.");return T}},Se.Component=N,Se.Fragment=r,Se.Profiler=l,Se.PureComponent=G,Se.StrictMode=i,Se.Suspense=m,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=B,Se.__COMPILER_RUNTIME={__proto__:null,c:function(T){return B.H.useMemoCache(T)}},Se.cache=function(T){return function(){return T.apply(null,arguments)}},Se.cloneElement=function(T,P,te){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var Q=k({},T.props),V=T.key,W=void 0;if(P!=null)for(ee in P.ref!==void 0&&(W=void 0),P.key!==void 0&&(V=""+P.key),P)!X.call(P,ee)||ee==="key"||ee==="__self"||ee==="__source"||ee==="ref"&&P.ref===void 0||(Q[ee]=P[ee]);var ee=arguments.length-2;if(ee===1)Q.children=te;else if(1<ee){for(var rt=Array(ee),Ge=0;Ge<ee;Ge++)rt[Ge]=arguments[Ge+2];Q.children=rt}return ae(T.type,V,void 0,void 0,W,Q)},Se.createContext=function(T){return T={$$typeof:d,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:u,_context:T},T},Se.createElement=function(T,P,te){var Q,V={},W=null;if(P!=null)for(Q in P.key!==void 0&&(W=""+P.key),P)X.call(P,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(V[Q]=P[Q]);var ee=arguments.length-2;if(ee===1)V.children=te;else if(1<ee){for(var rt=Array(ee),Ge=0;Ge<ee;Ge++)rt[Ge]=arguments[Ge+2];V.children=rt}if(T&&T.defaultProps)for(Q in ee=T.defaultProps,ee)V[Q]===void 0&&(V[Q]=ee[Q]);return ae(T,W,void 0,void 0,null,V)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(T){return{$$typeof:h,render:T}},Se.isValidElement=De,Se.lazy=function(T){return{$$typeof:y,_payload:{_status:-1,_result:T},_init:Y}},Se.memo=function(T,P){return{$$typeof:p,type:T,compare:P===void 0?null:P}},Se.startTransition=function(T){var P=B.T,te={};B.T=te;try{var Q=T(),V=B.S;V!==null&&V(te,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(Ee,ce)}catch(W){ce(W)}finally{B.T=P}},Se.unstable_useCacheRefresh=function(){return B.H.useCacheRefresh()},Se.use=function(T){return B.H.use(T)},Se.useActionState=function(T,P,te){return B.H.useActionState(T,P,te)},Se.useCallback=function(T,P){return B.H.useCallback(T,P)},Se.useContext=function(T){return B.H.useContext(T)},Se.useDebugValue=function(){},Se.useDeferredValue=function(T,P){return B.H.useDeferredValue(T,P)},Se.useEffect=function(T,P,te){var Q=B.H;if(typeof te=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Q.useEffect(T,P)},Se.useId=function(){return B.H.useId()},Se.useImperativeHandle=function(T,P,te){return B.H.useImperativeHandle(T,P,te)},Se.useInsertionEffect=function(T,P){return B.H.useInsertionEffect(T,P)},Se.useLayoutEffect=function(T,P){return B.H.useLayoutEffect(T,P)},Se.useMemo=function(T,P){return B.H.useMemo(T,P)},Se.useOptimistic=function(T,P){return B.H.useOptimistic(T,P)},Se.useReducer=function(T,P,te){return B.H.useReducer(T,P,te)},Se.useRef=function(T){return B.H.useRef(T)},Se.useState=function(T){return B.H.useState(T)},Se.useSyncExternalStore=function(T,P,te){return B.H.useSyncExternalStore(T,P,te)},Se.useTransition=function(){return B.H.useTransition()},Se.version="19.1.1",Se}var yg;function nf(){return yg||(yg=1,wd.exports=j_()),wd.exports}var Sd={exports:{}},Lt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bg;function k_(){if(bg)return Lt;bg=1;var t=nf();function n(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var i={d:{f:r,r:function(){throw Error(n(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(m,p,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:_==null?null:""+_,children:m,containerInfo:p,implementation:y}}var d=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Lt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Lt.createPortal=function(m,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(n(299));return u(m,p,null,y)},Lt.flushSync=function(m){var p=d.T,y=i.p;try{if(d.T=null,i.p=2,m)return m()}finally{d.T=p,i.p=y,i.d.f()}},Lt.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(m,p))},Lt.prefetchDNS=function(m){typeof m=="string"&&i.d.D(m)},Lt.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var y=p.as,_=h(y,p.crossOrigin),w=typeof p.integrity=="string"?p.integrity:void 0,E=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?i.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:w,fetchPriority:E}):y==="script"&&i.d.X(m,{crossOrigin:_,integrity:w,fetchPriority:E,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Lt.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=h(p.as,p.crossOrigin);i.d.M(m,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(m)},Lt.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,_=h(y,p.crossOrigin);i.d.L(m,y,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Lt.preloadModule=function(m,p){if(typeof m=="string")if(p){var y=h(p.as,p.crossOrigin);i.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(m)},Lt.requestFormReset=function(m){i.d.r(m)},Lt.unstable_batchedUpdates=function(m,p){return m(p)},Lt.useFormState=function(m,p,y){return d.H.useFormState(m,p,y)},Lt.useFormStatus=function(){return d.H.useHostTransitionStatus()},Lt.version="19.1.1",Lt}var _g;function qv(){if(_g)return Sd.exports;_g=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(n){console.error(n)}}return t(),Sd.exports=k_(),Sd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wg;function O_(){if(wg)return Ci;wg=1;var t=T_(),n=nf(),r=qv();function i(e){var a="https://react.dev/errors/"+e;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)a+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var a=e,s=e;if(e.alternate)for(;a.return;)a=a.return;else{e=a;do a=e,(a.flags&4098)!==0&&(s=a.return),e=a.return;while(e)}return a.tag===3?s:null}function d(e){if(e.tag===13){var a=e.memoizedState;if(a===null&&(e=e.alternate,e!==null&&(a=e.memoizedState)),a!==null)return a.dehydrated}return null}function h(e){if(u(e)!==e)throw Error(i(188))}function m(e){var a=e.alternate;if(!a){if(a=u(e),a===null)throw Error(i(188));return a!==e?null:e}for(var s=e,o=a;;){var c=s.return;if(c===null)break;var f=c.alternate;if(f===null){if(o=c.return,o!==null){s=o;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===s)return h(c),e;if(f===o)return h(c),a;f=f.sibling}throw Error(i(188))}if(s.return!==o.return)s=c,o=f;else{for(var v=!1,b=c.child;b;){if(b===s){v=!0,s=c,o=f;break}if(b===o){v=!0,o=c,s=f;break}b=b.sibling}if(!v){for(b=f.child;b;){if(b===s){v=!0,s=f,o=c;break}if(b===o){v=!0,o=f,s=c;break}b=b.sibling}if(!v)throw Error(i(189))}}if(s.alternate!==o)throw Error(i(190))}if(s.tag!==3)throw Error(i(188));return s.stateNode.current===s?e:a}function p(e){var a=e.tag;if(a===5||a===26||a===27||a===6)return e;for(e=e.child;e!==null;){if(a=p(e),a!==null)return a;e=e.sibling}return null}var y=Object.assign,_=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),G=Symbol.for("react.consumer"),z=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),ae=Symbol.for("react.memo"),Re=Symbol.for("react.lazy"),De=Symbol.for("react.activity"),Be=Symbol.for("react.memo_cache_sentinel"),ct=Symbol.iterator;function st(e){return e===null||typeof e!="object"?null:(e=ct&&e[ct]||e["@@iterator"],typeof e=="function"?e:null)}var re=Symbol.for("react.client.reference");function be(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===re?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case k:return"Fragment";case N:return"Profiler";case A:return"StrictMode";case B:return"Suspense";case X:return"SuspenseList";case De:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case E:return"Portal";case z:return(e.displayName||"Context")+".Provider";case G:return(e._context.displayName||"Context")+".Consumer";case F:var a=e.render;return e=e.displayName,e||(e=a.displayName||a.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ae:return a=e.displayName||null,a!==null?a:be(e.type)||"Memo";case Re:a=e._payload,e=e._init;try{return be(e(a))}catch{}}return null}var ve=Array.isArray,U=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},Ee=[],T=-1;function P(e){return{current:e}}function te(e){0>T||(e.current=Ee[T],Ee[T]=null,T--)}function Q(e,a){T++,Ee[T]=e.current,e.current=a}var V=P(null),W=P(null),ee=P(null),rt=P(null);function Ge(e,a){switch(Q(ee,a),Q(W,e),Q(V,null),a.nodeType){case 9:case 11:e=(e=a.documentElement)&&(e=e.namespaceURI)?Ip(e):0;break;default:if(e=a.tagName,a=a.namespaceURI)a=Ip(a),e=Hp(a,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}te(V),Q(V,e)}function Hn(){te(V),te(W),te(ee)}function so(e){e.memoizedState!==null&&Q(rt,e);var a=V.current,s=Hp(a,e.type);a!==s&&(Q(W,e),Q(V,s))}function _n(e){W.current===e&&(te(V),te(W)),rt.current===e&&(te(rt),Ei._currentValue=ce)}var Ms=Object.prototype.hasOwnProperty,wn=t.unstable_scheduleCallback,Zn=t.unstable_cancelCallback,zs=t.unstable_shouldYield,Bt=t.unstable_requestPaint,on=t.unstable_now,iu=t.unstable_getCurrentPriorityLevel,Sr=t.unstable_ImmediatePriority,Us=t.unstable_UserBlockingPriority,xr=t.unstable_NormalPriority,ou=t.unstable_LowPriority,io=t.unstable_IdlePriority,lu=t.log,uu=t.unstable_setDisableYieldValue,Fa=null,It=null;function ln(e){if(typeof lu=="function"&&uu(e),It&&typeof It.setStrictMode=="function")try{It.setStrictMode(Fa,e)}catch{}}var Ht=Math.clz32?Math.clz32:J,cu=Math.log,$=Math.LN2;function J(e){return e>>>=0,e===0?32:31-(cu(e)/$|0)|0}var K=256,ie=4194304;function fe(e){var a=e&42;if(a!==0)return a;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function oe(e,a,s){var o=e.pendingLanes;if(o===0)return 0;var c=0,f=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var b=o&134217727;return b!==0?(o=b&~f,o!==0?c=fe(o):(v&=b,v!==0?c=fe(v):s||(s=b&~e,s!==0&&(c=fe(s))))):(b=o&~f,b!==0?c=fe(b):v!==0?c=fe(v):s||(s=o&~e,s!==0&&(c=fe(s)))),c===0?0:a!==0&&a!==c&&(a&f)===0&&(f=c&-c,s=a&-a,f>=s||f===32&&(s&4194048)!==0)?a:c}function he(e,a){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&a)===0}function Ne(e,a){switch(e){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _e(){var e=K;return K<<=1,(K&4194048)===0&&(K=256),e}function ke(){var e=ie;return ie<<=1,(ie&62914560)===0&&(ie=4194304),e}function He(e){for(var a=[],s=0;31>s;s++)a.push(e);return a}function ze(e,a){e.pendingLanes|=a,a!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Sn(e,a,s,o,c,f){var v=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var b=e.entanglements,S=e.expirationTimes,R=e.hiddenUpdates;for(s=v&~s;0<s;){var q=31-Ht(s),Z=1<<q;b[q]=0,S[q]=-1;var D=R[q];if(D!==null)for(R[q]=null,q=0;q<D.length;q++){var M=D[q];M!==null&&(M.lane&=-536870913)}s&=~Z}o!==0&&Dt(e,o,0),f!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=f&~(v&~a))}function Dt(e,a,s){e.pendingLanes|=a,e.suspendedLanes&=~a;var o=31-Ht(a);e.entangledLanes|=a,e.entanglements[o]=e.entanglements[o]|1073741824|s&4194090}function Pn(e,a){var s=e.entangledLanes|=a;for(e=e.entanglements;s;){var o=31-Ht(s),c=1<<o;c&a|e[o]&a&&(e[o]|=a),s&=~c}}function Vn(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ga(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function fa(){var e=Y.p;return e!==0?e:(e=window.event,e===void 0?32:og(e.type))}function oo(e,a){var s=Y.p;try{return Y.p=e,a()}finally{Y.p=s}}var de=Math.random().toString(36).slice(2),yt="__reactFiber$"+de,Ke="__reactProps$"+de,Jt="__reactContainer$"+de,Er="__reactEvents$"+de,$e="__reactListeners$"+de,Ze="__reactHandles$"+de,Le="__reactResources$"+de,Pe="__reactMarker$"+de;function wt(e){delete e[yt],delete e[Ke],delete e[Er],delete e[$e],delete e[Ze]}function ha(e){var a=e[yt];if(a)return a;for(var s=e.parentNode;s;){if(a=s[Jt]||s[yt]){if(s=a.alternate,a.child!==null||s!==null&&s.child!==null)for(e=Fp(e);e!==null;){if(s=e[yt])return s;e=Fp(e)}return a}e=s,s=e.parentNode}return null}function ma(e){if(e=e[yt]||e[Jt]){var a=e.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return e}return null}function Nn(e){var a=e.tag;if(a===5||a===26||a===27||a===6)return e.stateNode;throw Error(i(33))}function pa(e){var a=e[Le];return a||(a=e[Le]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function jt(e){e[Pe]=!0}var Cf=new Set,Rf={};function Ka(e,a){Tr(e,a),Tr(e+"Capture",a)}function Tr(e,a){for(Rf[e]=a,e=0;e<a.length;e++)Cf.add(a[e])}var h0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Nf={},Df={};function m0(e){return Ms.call(Df,e)?!0:Ms.call(Nf,e)?!1:h0.test(e)?Df[e]=!0:(Nf[e]=!0,!1)}function lo(e,a,s){if(m0(a))if(s===null)e.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(a);return;case"boolean":var o=a.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(a);return}}e.setAttribute(a,""+s)}}function uo(e,a,s){if(s===null)e.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttribute(a,""+s)}}function Fn(e,a,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(a,s,""+o)}}var du,Mf;function jr(e){if(du===void 0)try{throw Error()}catch(s){var a=s.stack.trim().match(/\n( *(at )?)/);du=a&&a[1]||"",Mf=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+du+e+Mf}var fu=!1;function hu(e,a){if(!e||fu)return"";fu=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(a){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(M){var D=M}Reflect.construct(e,[],Z)}else{try{Z.call()}catch(M){D=M}e.call(Z.prototype)}}else{try{throw Error()}catch(M){D=M}(Z=e())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(M){if(M&&D&&typeof M.stack=="string")return[M.stack,D.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),v=f[0],b=f[1];if(v&&b){var S=v.split(`
`),R=b.split(`
`);for(c=o=0;o<S.length&&!S[o].includes("DetermineComponentFrameRoot");)o++;for(;c<R.length&&!R[c].includes("DetermineComponentFrameRoot");)c++;if(o===S.length||c===R.length)for(o=S.length-1,c=R.length-1;1<=o&&0<=c&&S[o]!==R[c];)c--;for(;1<=o&&0<=c;o--,c--)if(S[o]!==R[c]){if(o!==1||c!==1)do if(o--,c--,0>c||S[o]!==R[c]){var q=`
`+S[o].replace(" at new "," at ");return e.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",e.displayName)),q}while(1<=o&&0<=c);break}}}finally{fu=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?jr(s):""}function p0(e){switch(e.tag){case 26:case 27:case 5:return jr(e.type);case 16:return jr("Lazy");case 13:return jr("Suspense");case 19:return jr("SuspenseList");case 0:case 15:return hu(e.type,!1);case 11:return hu(e.type.render,!1);case 1:return hu(e.type,!0);case 31:return jr("Activity");default:return""}}function zf(e){try{var a="";do a+=p0(e),e=e.return;while(e);return a}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function un(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Uf(e){var a=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function g0(e){var a=Uf(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,a),o=""+e[a];if(!e.hasOwnProperty(a)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var c=s.get,f=s.set;return Object.defineProperty(e,a,{configurable:!0,get:function(){return c.call(this)},set:function(v){o=""+v,f.call(this,v)}}),Object.defineProperty(e,a,{enumerable:s.enumerable}),{getValue:function(){return o},setValue:function(v){o=""+v},stopTracking:function(){e._valueTracker=null,delete e[a]}}}}function co(e){e._valueTracker||(e._valueTracker=g0(e))}function $f(e){if(!e)return!1;var a=e._valueTracker;if(!a)return!0;var s=a.getValue(),o="";return e&&(o=Uf(e)?e.checked?"true":"false":e.value),e=o,e!==s?(a.setValue(e),!0):!1}function fo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var v0=/[\n"\\]/g;function cn(e){return e.replace(v0,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function mu(e,a,s,o,c,f,v,b){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),a!=null?v==="number"?(a===0&&e.value===""||e.value!=a)&&(e.value=""+un(a)):e.value!==""+un(a)&&(e.value=""+un(a)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),a!=null?pu(e,v,un(a)):s!=null?pu(e,v,un(s)):o!=null&&e.removeAttribute("value"),c==null&&f!=null&&(e.defaultChecked=!!f),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.name=""+un(b):e.removeAttribute("name")}function Lf(e,a,s,o,c,f,v,b){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),a!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||a!=null))return;s=s!=null?""+un(s):"",a=a!=null?""+un(a):s,b||a===e.value||(e.value=a),e.defaultValue=a}o=o??c,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=b?e.checked:!!o,e.defaultChecked=!!o,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v)}function pu(e,a,s){a==="number"&&fo(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function kr(e,a,s,o){if(e=e.options,a){a={};for(var c=0;c<s.length;c++)a["$"+s[c]]=!0;for(s=0;s<e.length;s++)c=a.hasOwnProperty("$"+e[s].value),e[s].selected!==c&&(e[s].selected=c),c&&o&&(e[s].defaultSelected=!0)}else{for(s=""+un(s),a=null,c=0;c<e.length;c++){if(e[c].value===s){e[c].selected=!0,o&&(e[c].defaultSelected=!0);return}a!==null||e[c].disabled||(a=e[c])}a!==null&&(a.selected=!0)}}function qf(e,a,s){if(a!=null&&(a=""+un(a),a!==e.value&&(e.value=a),s==null)){e.defaultValue!==a&&(e.defaultValue=a);return}e.defaultValue=s!=null?""+un(s):""}function Bf(e,a,s,o){if(a==null){if(o!=null){if(s!=null)throw Error(i(92));if(ve(o)){if(1<o.length)throw Error(i(93));o=o[0]}s=o}s==null&&(s=""),a=s}s=un(a),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o)}function Or(e,a){if(a){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=a;return}}e.textContent=a}var y0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function If(e,a,s){var o=a.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="":o?e.setProperty(a,s):typeof s!="number"||s===0||y0.has(a)?a==="float"?e.cssFloat=s:e[a]=(""+s).trim():e[a]=s+"px"}function Hf(e,a,s){if(a!=null&&typeof a!="object")throw Error(i(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||a!=null&&a.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var c in a)o=a[c],a.hasOwnProperty(c)&&s[c]!==o&&If(e,c,o)}else for(var f in a)a.hasOwnProperty(f)&&If(e,f,a[f])}function gu(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var b0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ho(e){return _0.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var vu=null;function yu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ar=null,Cr=null;function Zf(e){var a=ma(e);if(a&&(e=a.stateNode)){var s=e[Ke]||null;e:switch(e=a.stateNode,a.type){case"input":if(mu(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),a=s.name,s.type==="radio"&&a!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+cn(""+a)+'"][type="radio"]'),a=0;a<s.length;a++){var o=s[a];if(o!==e&&o.form===e.form){var c=o[Ke]||null;if(!c)throw Error(i(90));mu(o,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(a=0;a<s.length;a++)o=s[a],o.form===e.form&&$f(o)}break e;case"textarea":qf(e,s.value,s.defaultValue);break e;case"select":a=s.value,a!=null&&kr(e,!!s.multiple,a,!1)}}}var bu=!1;function Pf(e,a,s){if(bu)return e(a,s);bu=!0;try{var o=e(a);return o}finally{if(bu=!1,(Ar!==null||Cr!==null)&&(Jo(),Ar&&(a=Ar,e=Cr,Cr=Ar=null,Zf(a),e)))for(a=0;a<e.length;a++)Zf(e[a])}}function $s(e,a){var s=e.stateNode;if(s===null)return null;var o=s[Ke]||null;if(o===null)return null;s=o[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(i(231,a,typeof s));return s}var Gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_u=!1;if(Gn)try{var Ls={};Object.defineProperty(Ls,"passive",{get:function(){_u=!0}}),window.addEventListener("test",Ls,Ls),window.removeEventListener("test",Ls,Ls)}catch{_u=!1}var ga=null,wu=null,mo=null;function Vf(){if(mo)return mo;var e,a=wu,s=a.length,o,c="value"in ga?ga.value:ga.textContent,f=c.length;for(e=0;e<s&&a[e]===c[e];e++);var v=s-e;for(o=1;o<=v&&a[s-o]===c[f-o];o++);return mo=c.slice(e,1<o?1-o:void 0)}function po(e){var a=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&a===13&&(e=13)):e=a,e===10&&(e=13),32<=e||e===13?e:0}function go(){return!0}function Ff(){return!1}function Ft(e){function a(s,o,c,f,v){this._reactName=s,this._targetInst=c,this.type=o,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var b in e)e.hasOwnProperty(b)&&(s=e[b],this[b]=s?s(f):f[b]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?go:Ff,this.isPropagationStopped=Ff,this}return y(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=go)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=go)},persist:function(){},isPersistent:go}),a}var Ya={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vo=Ft(Ya),qs=y({},Ya,{view:0,detail:0}),w0=Ft(qs),Su,xu,Bs,yo=y({},qs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Bs&&(Bs&&e.type==="mousemove"?(Su=e.screenX-Bs.screenX,xu=e.screenY-Bs.screenY):xu=Su=0,Bs=e),Su)},movementY:function(e){return"movementY"in e?e.movementY:xu}}),Gf=Ft(yo),S0=y({},yo,{dataTransfer:0}),x0=Ft(S0),E0=y({},qs,{relatedTarget:0}),Eu=Ft(E0),T0=y({},Ya,{animationName:0,elapsedTime:0,pseudoElement:0}),j0=Ft(T0),k0=y({},Ya,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),O0=Ft(k0),A0=y({},Ya,{data:0}),Kf=Ft(A0),C0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},R0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},N0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function D0(e){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(e):(e=N0[e])?!!a[e]:!1}function Tu(){return D0}var M0=y({},qs,{key:function(e){if(e.key){var a=C0[e.key]||e.key;if(a!=="Unidentified")return a}return e.type==="keypress"?(e=po(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?R0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tu,charCode:function(e){return e.type==="keypress"?po(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?po(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),z0=Ft(M0),U0=y({},yo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yf=Ft(U0),$0=y({},qs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tu}),L0=Ft($0),q0=y({},Ya,{propertyName:0,elapsedTime:0,pseudoElement:0}),B0=Ft(q0),I0=y({},yo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),H0=Ft(I0),Z0=y({},Ya,{newState:0,oldState:0}),P0=Ft(Z0),V0=[9,13,27,32],ju=Gn&&"CompositionEvent"in window,Is=null;Gn&&"documentMode"in document&&(Is=document.documentMode);var F0=Gn&&"TextEvent"in window&&!Is,Qf=Gn&&(!ju||Is&&8<Is&&11>=Is),Xf=" ",Jf=!1;function Wf(e,a){switch(e){case"keyup":return V0.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function eh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Rr=!1;function G0(e,a){switch(e){case"compositionend":return eh(a);case"keypress":return a.which!==32?null:(Jf=!0,Xf);case"textInput":return e=a.data,e===Xf&&Jf?null:e;default:return null}}function K0(e,a){if(Rr)return e==="compositionend"||!ju&&Wf(e,a)?(e=Vf(),mo=wu=ga=null,Rr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Qf&&a.locale!=="ko"?null:a.data;default:return null}}var Y0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function th(e){var a=e&&e.nodeName&&e.nodeName.toLowerCase();return a==="input"?!!Y0[e.type]:a==="textarea"}function nh(e,a,s,o){Ar?Cr?Cr.push(o):Cr=[o]:Ar=o,a=rl(a,"onChange"),0<a.length&&(s=new vo("onChange","change",null,s,o),e.push({event:s,listeners:a}))}var Hs=null,Zs=null;function Q0(e){Up(e,0)}function bo(e){var a=Nn(e);if($f(a))return e}function ah(e,a){if(e==="change")return a}var rh=!1;if(Gn){var ku;if(Gn){var Ou="oninput"in document;if(!Ou){var sh=document.createElement("div");sh.setAttribute("oninput","return;"),Ou=typeof sh.oninput=="function"}ku=Ou}else ku=!1;rh=ku&&(!document.documentMode||9<document.documentMode)}function ih(){Hs&&(Hs.detachEvent("onpropertychange",oh),Zs=Hs=null)}function oh(e){if(e.propertyName==="value"&&bo(Zs)){var a=[];nh(a,Zs,e,yu(e)),Pf(Q0,a)}}function X0(e,a,s){e==="focusin"?(ih(),Hs=a,Zs=s,Hs.attachEvent("onpropertychange",oh)):e==="focusout"&&ih()}function J0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return bo(Zs)}function W0(e,a){if(e==="click")return bo(a)}function eb(e,a){if(e==="input"||e==="change")return bo(a)}function tb(e,a){return e===a&&(e!==0||1/e===1/a)||e!==e&&a!==a}var Wt=typeof Object.is=="function"?Object.is:tb;function Ps(e,a){if(Wt(e,a))return!0;if(typeof e!="object"||e===null||typeof a!="object"||a===null)return!1;var s=Object.keys(e),o=Object.keys(a);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var c=s[o];if(!Ms.call(a,c)||!Wt(e[c],a[c]))return!1}return!0}function lh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function uh(e,a){var s=lh(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=a&&o>=a)return{node:s,offset:a-e};e=o}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=lh(s)}}function ch(e,a){return e&&a?e===a?!0:e&&e.nodeType===3?!1:a&&a.nodeType===3?ch(e,a.parentNode):"contains"in e?e.contains(a):e.compareDocumentPosition?!!(e.compareDocumentPosition(a)&16):!1:!1}function dh(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var a=fo(e.document);a instanceof e.HTMLIFrameElement;){try{var s=typeof a.contentWindow.location.href=="string"}catch{s=!1}if(s)e=a.contentWindow;else break;a=fo(e.document)}return a}function Au(e){var a=e&&e.nodeName&&e.nodeName.toLowerCase();return a&&(a==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||a==="textarea"||e.contentEditable==="true")}var nb=Gn&&"documentMode"in document&&11>=document.documentMode,Nr=null,Cu=null,Vs=null,Ru=!1;function fh(e,a,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Ru||Nr==null||Nr!==fo(o)||(o=Nr,"selectionStart"in o&&Au(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Vs&&Ps(Vs,o)||(Vs=o,o=rl(Cu,"onSelect"),0<o.length&&(a=new vo("onSelect","select",null,a,s),e.push({event:a,listeners:o}),a.target=Nr)))}function Qa(e,a){var s={};return s[e.toLowerCase()]=a.toLowerCase(),s["Webkit"+e]="webkit"+a,s["Moz"+e]="moz"+a,s}var Dr={animationend:Qa("Animation","AnimationEnd"),animationiteration:Qa("Animation","AnimationIteration"),animationstart:Qa("Animation","AnimationStart"),transitionrun:Qa("Transition","TransitionRun"),transitionstart:Qa("Transition","TransitionStart"),transitioncancel:Qa("Transition","TransitionCancel"),transitionend:Qa("Transition","TransitionEnd")},Nu={},hh={};Gn&&(hh=document.createElement("div").style,"AnimationEvent"in window||(delete Dr.animationend.animation,delete Dr.animationiteration.animation,delete Dr.animationstart.animation),"TransitionEvent"in window||delete Dr.transitionend.transition);function Xa(e){if(Nu[e])return Nu[e];if(!Dr[e])return e;var a=Dr[e],s;for(s in a)if(a.hasOwnProperty(s)&&s in hh)return Nu[e]=a[s];return e}var mh=Xa("animationend"),ph=Xa("animationiteration"),gh=Xa("animationstart"),ab=Xa("transitionrun"),rb=Xa("transitionstart"),sb=Xa("transitioncancel"),vh=Xa("transitionend"),yh=new Map,Du="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Du.push("scrollEnd");function xn(e,a){yh.set(e,a),Ka(a,[e])}var bh=new WeakMap;function dn(e,a){if(typeof e=="object"&&e!==null){var s=bh.get(e);return s!==void 0?s:(a={value:e,source:a,stack:zf(a)},bh.set(e,a),a)}return{value:e,source:a,stack:zf(a)}}var fn=[],Mr=0,Mu=0;function _o(){for(var e=Mr,a=Mu=Mr=0;a<e;){var s=fn[a];fn[a++]=null;var o=fn[a];fn[a++]=null;var c=fn[a];fn[a++]=null;var f=fn[a];if(fn[a++]=null,o!==null&&c!==null){var v=o.pending;v===null?c.next=c:(c.next=v.next,v.next=c),o.pending=c}f!==0&&_h(s,c,f)}}function wo(e,a,s,o){fn[Mr++]=e,fn[Mr++]=a,fn[Mr++]=s,fn[Mr++]=o,Mu|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function zu(e,a,s,o){return wo(e,a,s,o),So(e)}function zr(e,a){return wo(e,null,null,a),So(e)}function _h(e,a,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var c=!1,f=e.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(c=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,c&&a!==null&&(c=31-Ht(s),e=f.hiddenUpdates,o=e[c],o===null?e[c]=[a]:o.push(a),a.lane=s|536870912),f):null}function So(e){if(50<gi)throw gi=0,Ic=null,Error(i(185));for(var a=e.return;a!==null;)e=a,a=e.return;return e.tag===3?e.stateNode:null}var Ur={};function ib(e,a,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function en(e,a,s,o){return new ib(e,a,s,o)}function Uu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Kn(e,a){var s=e.alternate;return s===null?(s=en(e.tag,a,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=a,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,a=e.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function wh(e,a){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=a,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,a=s.dependencies,e.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),e}function xo(e,a,s,o,c,f){var v=0;if(o=e,typeof e=="function")Uu(e)&&(v=1);else if(typeof e=="string")v=l_(e,s,V.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case De:return e=en(31,s,a,c),e.elementType=De,e.lanes=f,e;case k:return Ja(s.children,c,f,a);case A:v=8,c|=24;break;case N:return e=en(12,s,a,c|2),e.elementType=N,e.lanes=f,e;case B:return e=en(13,s,a,c),e.elementType=B,e.lanes=f,e;case X:return e=en(19,s,a,c),e.elementType=X,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case L:case z:v=10;break e;case G:v=9;break e;case F:v=11;break e;case ae:v=14;break e;case Re:v=16,o=null;break e}v=29,s=Error(i(130,e===null?"null":typeof e,"")),o=null}return a=en(v,s,a,c),a.elementType=e,a.type=o,a.lanes=f,a}function Ja(e,a,s,o){return e=en(7,e,o,a),e.lanes=s,e}function $u(e,a,s){return e=en(6,e,null,a),e.lanes=s,e}function Lu(e,a,s){return a=en(4,e.children!==null?e.children:[],e.key,a),a.lanes=s,a.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},a}var $r=[],Lr=0,Eo=null,To=0,hn=[],mn=0,Wa=null,Yn=1,Qn="";function er(e,a){$r[Lr++]=To,$r[Lr++]=Eo,Eo=e,To=a}function Sh(e,a,s){hn[mn++]=Yn,hn[mn++]=Qn,hn[mn++]=Wa,Wa=e;var o=Yn;e=Qn;var c=32-Ht(o)-1;o&=~(1<<c),s+=1;var f=32-Ht(a)+c;if(30<f){var v=c-c%5;f=(o&(1<<v)-1).toString(32),o>>=v,c-=v,Yn=1<<32-Ht(a)+c|s<<c|o,Qn=f+e}else Yn=1<<f|s<<c|o,Qn=e}function qu(e){e.return!==null&&(er(e,1),Sh(e,1,0))}function Bu(e){for(;e===Eo;)Eo=$r[--Lr],$r[Lr]=null,To=$r[--Lr],$r[Lr]=null;for(;e===Wa;)Wa=hn[--mn],hn[mn]=null,Qn=hn[--mn],hn[mn]=null,Yn=hn[--mn],hn[mn]=null}var Zt=null,mt=null,qe=!1,tr=null,Dn=!1,Iu=Error(i(519));function nr(e){var a=Error(i(418,""));throw Ks(dn(a,e)),Iu}function xh(e){var a=e.stateNode,s=e.type,o=e.memoizedProps;switch(a[yt]=e,a[Ke]=o,s){case"dialog":Ae("cancel",a),Ae("close",a);break;case"iframe":case"object":case"embed":Ae("load",a);break;case"video":case"audio":for(s=0;s<yi.length;s++)Ae(yi[s],a);break;case"source":Ae("error",a);break;case"img":case"image":case"link":Ae("error",a),Ae("load",a);break;case"details":Ae("toggle",a);break;case"input":Ae("invalid",a),Lf(a,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),co(a);break;case"select":Ae("invalid",a);break;case"textarea":Ae("invalid",a),Bf(a,o.value,o.defaultValue,o.children),co(a)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||a.textContent===""+s||o.suppressHydrationWarning===!0||Bp(a.textContent,s)?(o.popover!=null&&(Ae("beforetoggle",a),Ae("toggle",a)),o.onScroll!=null&&Ae("scroll",a),o.onScrollEnd!=null&&Ae("scrollend",a),o.onClick!=null&&(a.onclick=sl),a=!0):a=!1,a||nr(e)}function Eh(e){for(Zt=e.return;Zt;)switch(Zt.tag){case 5:case 13:Dn=!1;return;case 27:case 3:Dn=!0;return;default:Zt=Zt.return}}function Fs(e){if(e!==Zt)return!1;if(!qe)return Eh(e),qe=!0,!1;var a=e.tag,s;if((s=a!==3&&a!==27)&&((s=a===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||ad(e.type,e.memoizedProps)),s=!s),s&&mt&&nr(e),Eh(e),a===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));e:{for(e=e.nextSibling,a=0;e;){if(e.nodeType===8)if(s=e.data,s==="/$"){if(a===0){mt=Tn(e.nextSibling);break e}a--}else s!=="$"&&s!=="$!"&&s!=="$?"||a++;e=e.nextSibling}mt=null}}else a===27?(a=mt,Na(e.type)?(e=od,od=null,mt=e):mt=a):mt=Zt?Tn(e.stateNode.nextSibling):null;return!0}function Gs(){mt=Zt=null,qe=!1}function Th(){var e=tr;return e!==null&&(Yt===null?Yt=e:Yt.push.apply(Yt,e),tr=null),e}function Ks(e){tr===null?tr=[e]:tr.push(e)}var Hu=P(null),ar=null,Xn=null;function va(e,a,s){Q(Hu,a._currentValue),a._currentValue=s}function Jn(e){e._currentValue=Hu.current,te(Hu)}function Zu(e,a,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&a)!==a?(e.childLanes|=a,o!==null&&(o.childLanes|=a)):o!==null&&(o.childLanes&a)!==a&&(o.childLanes|=a),e===s)break;e=e.return}}function Pu(e,a,s,o){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var f=c.dependencies;if(f!==null){var v=c.child;f=f.firstContext;e:for(;f!==null;){var b=f;f=c;for(var S=0;S<a.length;S++)if(b.context===a[S]){f.lanes|=s,b=f.alternate,b!==null&&(b.lanes|=s),Zu(f.return,s,e),o||(v=null);break e}f=b.next}}else if(c.tag===18){if(v=c.return,v===null)throw Error(i(341));v.lanes|=s,f=v.alternate,f!==null&&(f.lanes|=s),Zu(v,s,e),v=null}else v=c.child;if(v!==null)v.return=c;else for(v=c;v!==null;){if(v===e){v=null;break}if(c=v.sibling,c!==null){c.return=v.return,v=c;break}v=v.return}c=v}}function Ys(e,a,s,o){e=null;for(var c=a,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var v=c.alternate;if(v===null)throw Error(i(387));if(v=v.memoizedProps,v!==null){var b=c.type;Wt(c.pendingProps.value,v.value)||(e!==null?e.push(b):e=[b])}}else if(c===rt.current){if(v=c.alternate,v===null)throw Error(i(387));v.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(Ei):e=[Ei])}c=c.return}e!==null&&Pu(a,e,s,o),a.flags|=262144}function jo(e){for(e=e.firstContext;e!==null;){if(!Wt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function rr(e){ar=e,Xn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function $t(e){return jh(ar,e)}function ko(e,a){return ar===null&&rr(e),jh(e,a)}function jh(e,a){var s=a._currentValue;if(a={context:a,memoizedValue:s,next:null},Xn===null){if(e===null)throw Error(i(308));Xn=a,e.dependencies={lanes:0,firstContext:a},e.flags|=524288}else Xn=Xn.next=a;return s}var ob=typeof AbortController<"u"?AbortController:function(){var e=[],a=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){a.aborted=!0,e.forEach(function(s){return s()})}},lb=t.unstable_scheduleCallback,ub=t.unstable_NormalPriority,St={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vu(){return{controller:new ob,data:new Map,refCount:0}}function Qs(e){e.refCount--,e.refCount===0&&lb(ub,function(){e.controller.abort()})}var Xs=null,Fu=0,qr=0,Br=null;function cb(e,a){if(Xs===null){var s=Xs=[];Fu=0,qr=Kc(),Br={status:"pending",value:void 0,then:function(o){s.push(o)}}}return Fu++,a.then(kh,kh),a}function kh(){if(--Fu===0&&Xs!==null){Br!==null&&(Br.status="fulfilled");var e=Xs;Xs=null,qr=0,Br=null;for(var a=0;a<e.length;a++)(0,e[a])()}}function db(e,a){var s=[],o={status:"pending",value:null,reason:null,then:function(c){s.push(c)}};return e.then(function(){o.status="fulfilled",o.value=a;for(var c=0;c<s.length;c++)(0,s[c])(a)},function(c){for(o.status="rejected",o.reason=c,c=0;c<s.length;c++)(0,s[c])(void 0)}),o}var Oh=U.S;U.S=function(e,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&cb(e,a),Oh!==null&&Oh(e,a)};var sr=P(null);function Gu(){var e=sr.current;return e!==null?e:tt.pooledCache}function Oo(e,a){a===null?Q(sr,sr.current):Q(sr,a.pool)}function Ah(){var e=Gu();return e===null?null:{parent:St._currentValue,pool:e}}var Js=Error(i(460)),Ch=Error(i(474)),Ao=Error(i(542)),Ku={then:function(){}};function Rh(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Co(){}function Nh(e,a,s){switch(s=e[s],s===void 0?e.push(a):s!==a&&(a.then(Co,Co),a=s),a.status){case"fulfilled":return a.value;case"rejected":throw e=a.reason,Mh(e),e;default:if(typeof a.status=="string")a.then(Co,Co);else{if(e=tt,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=a,e.status="pending",e.then(function(o){if(a.status==="pending"){var c=a;c.status="fulfilled",c.value=o}},function(o){if(a.status==="pending"){var c=a;c.status="rejected",c.reason=o}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw e=a.reason,Mh(e),e}throw Ws=a,Js}}var Ws=null;function Dh(){if(Ws===null)throw Error(i(459));var e=Ws;return Ws=null,e}function Mh(e){if(e===Js||e===Ao)throw Error(i(483))}var ya=!1;function Yu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Qu(e,a){e=e.updateQueue,a.updateQueue===e&&(a.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ba(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function _a(e,a,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Ve&2)!==0){var c=o.pending;return c===null?a.next=a:(a.next=c.next,c.next=a),o.pending=a,a=So(e),_h(e,null,s),a}return wo(e,o,a,s),So(e)}function ei(e,a,s){if(a=a.updateQueue,a!==null&&(a=a.shared,(s&4194048)!==0)){var o=a.lanes;o&=e.pendingLanes,s|=o,a.lanes=s,Pn(e,s)}}function Xu(e,a){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var c=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var v={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?c=f=v:f=f.next=v,s=s.next}while(s!==null);f===null?c=f=a:f=f.next=a}else c=f=a;s={baseState:o.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=a:e.next=a,s.lastBaseUpdate=a}var Ju=!1;function ti(){if(Ju){var e=Br;if(e!==null)throw e}}function ni(e,a,s,o){Ju=!1;var c=e.updateQueue;ya=!1;var f=c.firstBaseUpdate,v=c.lastBaseUpdate,b=c.shared.pending;if(b!==null){c.shared.pending=null;var S=b,R=S.next;S.next=null,v===null?f=R:v.next=R,v=S;var q=e.alternate;q!==null&&(q=q.updateQueue,b=q.lastBaseUpdate,b!==v&&(b===null?q.firstBaseUpdate=R:b.next=R,q.lastBaseUpdate=S))}if(f!==null){var Z=c.baseState;v=0,q=R=S=null,b=f;do{var D=b.lane&-536870913,M=D!==b.lane;if(M?(Me&D)===D:(o&D)===D){D!==0&&D===qr&&(Ju=!0),q!==null&&(q=q.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var ge=e,me=b;D=a;var Xe=s;switch(me.tag){case 1:if(ge=me.payload,typeof ge=="function"){Z=ge.call(Xe,Z,D);break e}Z=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=me.payload,D=typeof ge=="function"?ge.call(Xe,Z,D):ge,D==null)break e;Z=y({},Z,D);break e;case 2:ya=!0}}D=b.callback,D!==null&&(e.flags|=64,M&&(e.flags|=8192),M=c.callbacks,M===null?c.callbacks=[D]:M.push(D))}else M={lane:D,tag:b.tag,payload:b.payload,callback:b.callback,next:null},q===null?(R=q=M,S=Z):q=q.next=M,v|=D;if(b=b.next,b===null){if(b=c.shared.pending,b===null)break;M=b,b=M.next,M.next=null,c.lastBaseUpdate=M,c.shared.pending=null}}while(!0);q===null&&(S=Z),c.baseState=S,c.firstBaseUpdate=R,c.lastBaseUpdate=q,f===null&&(c.shared.lanes=0),Oa|=v,e.lanes=v,e.memoizedState=Z}}function zh(e,a){if(typeof e!="function")throw Error(i(191,e));e.call(a)}function Uh(e,a){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)zh(s[e],a)}var Ir=P(null),Ro=P(0);function $h(e,a){e=sa,Q(Ro,e),Q(Ir,a),sa=e|a.baseLanes}function Wu(){Q(Ro,sa),Q(Ir,Ir.current)}function ec(){sa=Ro.current,te(Ir),te(Ro)}var wa=0,Te=null,Ye=null,bt=null,No=!1,Hr=!1,ir=!1,Do=0,ai=0,Zr=null,fb=0;function gt(){throw Error(i(321))}function tc(e,a){if(a===null)return!1;for(var s=0;s<a.length&&s<e.length;s++)if(!Wt(e[s],a[s]))return!1;return!0}function nc(e,a,s,o,c,f){return wa=f,Te=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,U.H=e===null||e.memoizedState===null?_m:wm,ir=!1,f=s(o,c),ir=!1,Hr&&(f=qh(a,s,o,c)),Lh(e),f}function Lh(e){U.H=qo;var a=Ye!==null&&Ye.next!==null;if(wa=0,bt=Ye=Te=null,No=!1,ai=0,Zr=null,a)throw Error(i(300));e===null||kt||(e=e.dependencies,e!==null&&jo(e)&&(kt=!0))}function qh(e,a,s,o){Te=e;var c=0;do{if(Hr&&(Zr=null),ai=0,Hr=!1,25<=c)throw Error(i(301));if(c+=1,bt=Ye=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}U.H=bb,f=a(s,o)}while(Hr);return f}function hb(){var e=U.H,a=e.useState()[0];return a=typeof a.then=="function"?ri(a):a,e=e.useState()[0],(Ye!==null?Ye.memoizedState:null)!==e&&(Te.flags|=1024),a}function ac(){var e=Do!==0;return Do=0,e}function rc(e,a,s){a.updateQueue=e.updateQueue,a.flags&=-2053,e.lanes&=~s}function sc(e){if(No){for(e=e.memoizedState;e!==null;){var a=e.queue;a!==null&&(a.pending=null),e=e.next}No=!1}wa=0,bt=Ye=Te=null,Hr=!1,ai=Do=0,Zr=null}function Gt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?Te.memoizedState=bt=e:bt=bt.next=e,bt}function _t(){if(Ye===null){var e=Te.alternate;e=e!==null?e.memoizedState:null}else e=Ye.next;var a=bt===null?Te.memoizedState:bt.next;if(a!==null)bt=a,Ye=e;else{if(e===null)throw Te.alternate===null?Error(i(467)):Error(i(310));Ye=e,e={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},bt===null?Te.memoizedState=bt=e:bt=bt.next=e}return bt}function ic(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ri(e){var a=ai;return ai+=1,Zr===null&&(Zr=[]),e=Nh(Zr,e,a),a=Te,(bt===null?a.memoizedState:bt.next)===null&&(a=a.alternate,U.H=a===null||a.memoizedState===null?_m:wm),e}function Mo(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ri(e);if(e.$$typeof===z)return $t(e)}throw Error(i(438,String(e)))}function oc(e){var a=null,s=Te.updateQueue;if(s!==null&&(a=s.memoCache),a==null){var o=Te.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(a={data:o.data.map(function(c){return c.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),s===null&&(s=ic(),Te.updateQueue=s),s.memoCache=a,s=a.data[a.index],s===void 0)for(s=a.data[a.index]=Array(e),o=0;o<e;o++)s[o]=Be;return a.index++,s}function Wn(e,a){return typeof a=="function"?a(e):a}function zo(e){var a=_t();return lc(a,Ye,e)}function lc(e,a,s){var o=e.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=s;var c=e.baseQueue,f=o.pending;if(f!==null){if(c!==null){var v=c.next;c.next=f.next,f.next=v}a.baseQueue=c=f,o.pending=null}if(f=e.baseState,c===null)e.memoizedState=f;else{a=c.next;var b=v=null,S=null,R=a,q=!1;do{var Z=R.lane&-536870913;if(Z!==R.lane?(Me&Z)===Z:(wa&Z)===Z){var D=R.revertLane;if(D===0)S!==null&&(S=S.next={lane:0,revertLane:0,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null}),Z===qr&&(q=!0);else if((wa&D)===D){R=R.next,D===qr&&(q=!0);continue}else Z={lane:0,revertLane:R.revertLane,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},S===null?(b=S=Z,v=f):S=S.next=Z,Te.lanes|=D,Oa|=D;Z=R.action,ir&&s(f,Z),f=R.hasEagerState?R.eagerState:s(f,Z)}else D={lane:Z,revertLane:R.revertLane,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},S===null?(b=S=D,v=f):S=S.next=D,Te.lanes|=Z,Oa|=Z;R=R.next}while(R!==null&&R!==a);if(S===null?v=f:S.next=b,!Wt(f,e.memoizedState)&&(kt=!0,q&&(s=Br,s!==null)))throw s;e.memoizedState=f,e.baseState=v,e.baseQueue=S,o.lastRenderedState=f}return c===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function uc(e){var a=_t(),s=a.queue;if(s===null)throw Error(i(311));s.lastRenderedReducer=e;var o=s.dispatch,c=s.pending,f=a.memoizedState;if(c!==null){s.pending=null;var v=c=c.next;do f=e(f,v.action),v=v.next;while(v!==c);Wt(f,a.memoizedState)||(kt=!0),a.memoizedState=f,a.baseQueue===null&&(a.baseState=f),s.lastRenderedState=f}return[f,o]}function Bh(e,a,s){var o=Te,c=_t(),f=qe;if(f){if(s===void 0)throw Error(i(407));s=s()}else s=a();var v=!Wt((Ye||c).memoizedState,s);v&&(c.memoizedState=s,kt=!0),c=c.queue;var b=Zh.bind(null,o,c,e);if(si(2048,8,b,[e]),c.getSnapshot!==a||v||bt!==null&&bt.memoizedState.tag&1){if(o.flags|=2048,Pr(9,Uo(),Hh.bind(null,o,c,s,a),null),tt===null)throw Error(i(349));f||(wa&124)!==0||Ih(o,a,s)}return s}function Ih(e,a,s){e.flags|=16384,e={getSnapshot:a,value:s},a=Te.updateQueue,a===null?(a=ic(),Te.updateQueue=a,a.stores=[e]):(s=a.stores,s===null?a.stores=[e]:s.push(e))}function Hh(e,a,s,o){a.value=s,a.getSnapshot=o,Ph(a)&&Vh(e)}function Zh(e,a,s){return s(function(){Ph(a)&&Vh(e)})}function Ph(e){var a=e.getSnapshot;e=e.value;try{var s=a();return!Wt(e,s)}catch{return!0}}function Vh(e){var a=zr(e,2);a!==null&&sn(a,e,2)}function cc(e){var a=Gt();if(typeof e=="function"){var s=e;if(e=s(),ir){ln(!0);try{s()}finally{ln(!1)}}}return a.memoizedState=a.baseState=e,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wn,lastRenderedState:e},a}function Fh(e,a,s,o){return e.baseState=s,lc(e,Ye,typeof o=="function"?o:Wn)}function mb(e,a,s,o,c){if(Lo(e))throw Error(i(485));if(e=a.action,e!==null){var f={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};U.T!==null?s(!0):f.isTransition=!1,o(f),s=a.pending,s===null?(f.next=a.pending=f,Gh(a,f)):(f.next=s.next,a.pending=s.next=f)}}function Gh(e,a){var s=a.action,o=a.payload,c=e.state;if(a.isTransition){var f=U.T,v={};U.T=v;try{var b=s(c,o),S=U.S;S!==null&&S(v,b),Kh(e,a,b)}catch(R){dc(e,a,R)}finally{U.T=f}}else try{f=s(c,o),Kh(e,a,f)}catch(R){dc(e,a,R)}}function Kh(e,a,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){Yh(e,a,o)},function(o){return dc(e,a,o)}):Yh(e,a,s)}function Yh(e,a,s){a.status="fulfilled",a.value=s,Qh(a),e.state=s,a=e.pending,a!==null&&(s=a.next,s===a?e.pending=null:(s=s.next,a.next=s,Gh(e,s)))}function dc(e,a,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do a.status="rejected",a.reason=s,Qh(a),a=a.next;while(a!==o)}e.action=null}function Qh(e){e=e.listeners;for(var a=0;a<e.length;a++)(0,e[a])()}function Xh(e,a){return a}function Jh(e,a){if(qe){var s=tt.formState;if(s!==null){e:{var o=Te;if(qe){if(mt){t:{for(var c=mt,f=Dn;c.nodeType!==8;){if(!f){c=null;break t}if(c=Tn(c.nextSibling),c===null){c=null;break t}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){mt=Tn(c.nextSibling),o=c.data==="F!";break e}}nr(o)}o=!1}o&&(a=s[0])}}return s=Gt(),s.memoizedState=s.baseState=a,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xh,lastRenderedState:a},s.queue=o,s=vm.bind(null,Te,o),o.dispatch=s,o=cc(!1),f=gc.bind(null,Te,!1,o.queue),o=Gt(),c={state:a,dispatch:null,action:e,pending:null},o.queue=c,s=mb.bind(null,Te,c,f,s),c.dispatch=s,o.memoizedState=e,[a,s,!1]}function Wh(e){var a=_t();return em(a,Ye,e)}function em(e,a,s){if(a=lc(e,a,Xh)[0],e=zo(Wn)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var o=ri(a)}catch(v){throw v===Js?Ao:v}else o=a;a=_t();var c=a.queue,f=c.dispatch;return s!==a.memoizedState&&(Te.flags|=2048,Pr(9,Uo(),pb.bind(null,c,s),null)),[o,f,e]}function pb(e,a){e.action=a}function tm(e){var a=_t(),s=Ye;if(s!==null)return em(a,s,e);_t(),a=a.memoizedState,s=_t();var o=s.queue.dispatch;return s.memoizedState=e,[a,o,!1]}function Pr(e,a,s,o){return e={tag:e,create:s,deps:o,inst:a,next:null},a=Te.updateQueue,a===null&&(a=ic(),Te.updateQueue=a),s=a.lastEffect,s===null?a.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,a.lastEffect=e),e}function Uo(){return{destroy:void 0,resource:void 0}}function nm(){return _t().memoizedState}function $o(e,a,s,o){var c=Gt();o=o===void 0?null:o,Te.flags|=e,c.memoizedState=Pr(1|a,Uo(),s,o)}function si(e,a,s,o){var c=_t();o=o===void 0?null:o;var f=c.memoizedState.inst;Ye!==null&&o!==null&&tc(o,Ye.memoizedState.deps)?c.memoizedState=Pr(a,f,s,o):(Te.flags|=e,c.memoizedState=Pr(1|a,f,s,o))}function am(e,a){$o(8390656,8,e,a)}function rm(e,a){si(2048,8,e,a)}function sm(e,a){return si(4,2,e,a)}function im(e,a){return si(4,4,e,a)}function om(e,a){if(typeof a=="function"){e=e();var s=a(e);return function(){typeof s=="function"?s():a(null)}}if(a!=null)return e=e(),a.current=e,function(){a.current=null}}function lm(e,a,s){s=s!=null?s.concat([e]):null,si(4,4,om.bind(null,a,e),s)}function fc(){}function um(e,a){var s=_t();a=a===void 0?null:a;var o=s.memoizedState;return a!==null&&tc(a,o[1])?o[0]:(s.memoizedState=[e,a],e)}function cm(e,a){var s=_t();a=a===void 0?null:a;var o=s.memoizedState;if(a!==null&&tc(a,o[1]))return o[0];if(o=e(),ir){ln(!0);try{e()}finally{ln(!1)}}return s.memoizedState=[o,a],o}function hc(e,a,s){return s===void 0||(wa&1073741824)!==0?e.memoizedState=a:(e.memoizedState=s,e=hp(),Te.lanes|=e,Oa|=e,s)}function dm(e,a,s,o){return Wt(s,a)?s:Ir.current!==null?(e=hc(e,s,o),Wt(e,a)||(kt=!0),e):(wa&42)===0?(kt=!0,e.memoizedState=s):(e=hp(),Te.lanes|=e,Oa|=e,a)}function fm(e,a,s,o,c){var f=Y.p;Y.p=f!==0&&8>f?f:8;var v=U.T,b={};U.T=b,gc(e,!1,a,s);try{var S=c(),R=U.S;if(R!==null&&R(b,S),S!==null&&typeof S=="object"&&typeof S.then=="function"){var q=db(S,o);ii(e,a,q,rn(e))}else ii(e,a,o,rn(e))}catch(Z){ii(e,a,{then:function(){},status:"rejected",reason:Z},rn())}finally{Y.p=f,U.T=v}}function gb(){}function mc(e,a,s,o){if(e.tag!==5)throw Error(i(476));var c=hm(e).queue;fm(e,c,a,ce,s===null?gb:function(){return mm(e),s(o)})}function hm(e){var a=e.memoizedState;if(a!==null)return a;a={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wn,lastRenderedState:ce},next:null};var s={};return a.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wn,lastRenderedState:s},next:null},e.memoizedState=a,e=e.alternate,e!==null&&(e.memoizedState=a),a}function mm(e){var a=hm(e).next.queue;ii(e,a,{},rn())}function pc(){return $t(Ei)}function pm(){return _t().memoizedState}function gm(){return _t().memoizedState}function vb(e){for(var a=e.return;a!==null;){switch(a.tag){case 24:case 3:var s=rn();e=ba(s);var o=_a(a,e,s);o!==null&&(sn(o,a,s),ei(o,a,s)),a={cache:Vu()},e.payload=a;return}a=a.return}}function yb(e,a,s){var o=rn();s={lane:o,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},Lo(e)?ym(a,s):(s=zu(e,a,s,o),s!==null&&(sn(s,e,o),bm(s,a,o)))}function vm(e,a,s){var o=rn();ii(e,a,s,o)}function ii(e,a,s,o){var c={lane:o,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(Lo(e))ym(a,c);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=a.lastRenderedReducer,f!==null))try{var v=a.lastRenderedState,b=f(v,s);if(c.hasEagerState=!0,c.eagerState=b,Wt(b,v))return wo(e,a,c,0),tt===null&&_o(),!1}catch{}finally{}if(s=zu(e,a,c,o),s!==null)return sn(s,e,o),bm(s,a,o),!0}return!1}function gc(e,a,s,o){if(o={lane:2,revertLane:Kc(),action:o,hasEagerState:!1,eagerState:null,next:null},Lo(e)){if(a)throw Error(i(479))}else a=zu(e,s,o,2),a!==null&&sn(a,e,2)}function Lo(e){var a=e.alternate;return e===Te||a!==null&&a===Te}function ym(e,a){Hr=No=!0;var s=e.pending;s===null?a.next=a:(a.next=s.next,s.next=a),e.pending=a}function bm(e,a,s){if((s&4194048)!==0){var o=a.lanes;o&=e.pendingLanes,s|=o,a.lanes=s,Pn(e,s)}}var qo={readContext:$t,use:Mo,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useLayoutEffect:gt,useInsertionEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useSyncExternalStore:gt,useId:gt,useHostTransitionStatus:gt,useFormState:gt,useActionState:gt,useOptimistic:gt,useMemoCache:gt,useCacheRefresh:gt},_m={readContext:$t,use:Mo,useCallback:function(e,a){return Gt().memoizedState=[e,a===void 0?null:a],e},useContext:$t,useEffect:am,useImperativeHandle:function(e,a,s){s=s!=null?s.concat([e]):null,$o(4194308,4,om.bind(null,a,e),s)},useLayoutEffect:function(e,a){return $o(4194308,4,e,a)},useInsertionEffect:function(e,a){$o(4,2,e,a)},useMemo:function(e,a){var s=Gt();a=a===void 0?null:a;var o=e();if(ir){ln(!0);try{e()}finally{ln(!1)}}return s.memoizedState=[o,a],o},useReducer:function(e,a,s){var o=Gt();if(s!==void 0){var c=s(a);if(ir){ln(!0);try{s(a)}finally{ln(!1)}}}else c=a;return o.memoizedState=o.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},o.queue=e,e=e.dispatch=yb.bind(null,Te,e),[o.memoizedState,e]},useRef:function(e){var a=Gt();return e={current:e},a.memoizedState=e},useState:function(e){e=cc(e);var a=e.queue,s=vm.bind(null,Te,a);return a.dispatch=s,[e.memoizedState,s]},useDebugValue:fc,useDeferredValue:function(e,a){var s=Gt();return hc(s,e,a)},useTransition:function(){var e=cc(!1);return e=fm.bind(null,Te,e.queue,!0,!1),Gt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,a,s){var o=Te,c=Gt();if(qe){if(s===void 0)throw Error(i(407));s=s()}else{if(s=a(),tt===null)throw Error(i(349));(Me&124)!==0||Ih(o,a,s)}c.memoizedState=s;var f={value:s,getSnapshot:a};return c.queue=f,am(Zh.bind(null,o,f,e),[e]),o.flags|=2048,Pr(9,Uo(),Hh.bind(null,o,f,s,a),null),s},useId:function(){var e=Gt(),a=tt.identifierPrefix;if(qe){var s=Qn,o=Yn;s=(o&~(1<<32-Ht(o)-1)).toString(32)+s,a=""+a+"R"+s,s=Do++,0<s&&(a+="H"+s.toString(32)),a+=""}else s=fb++,a=""+a+"r"+s.toString(32)+"";return e.memoizedState=a},useHostTransitionStatus:pc,useFormState:Jh,useActionState:Jh,useOptimistic:function(e){var a=Gt();a.memoizedState=a.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=s,a=gc.bind(null,Te,!0,s),s.dispatch=a,[e,a]},useMemoCache:oc,useCacheRefresh:function(){return Gt().memoizedState=vb.bind(null,Te)}},wm={readContext:$t,use:Mo,useCallback:um,useContext:$t,useEffect:rm,useImperativeHandle:lm,useInsertionEffect:sm,useLayoutEffect:im,useMemo:cm,useReducer:zo,useRef:nm,useState:function(){return zo(Wn)},useDebugValue:fc,useDeferredValue:function(e,a){var s=_t();return dm(s,Ye.memoizedState,e,a)},useTransition:function(){var e=zo(Wn)[0],a=_t().memoizedState;return[typeof e=="boolean"?e:ri(e),a]},useSyncExternalStore:Bh,useId:pm,useHostTransitionStatus:pc,useFormState:Wh,useActionState:Wh,useOptimistic:function(e,a){var s=_t();return Fh(s,Ye,e,a)},useMemoCache:oc,useCacheRefresh:gm},bb={readContext:$t,use:Mo,useCallback:um,useContext:$t,useEffect:rm,useImperativeHandle:lm,useInsertionEffect:sm,useLayoutEffect:im,useMemo:cm,useReducer:uc,useRef:nm,useState:function(){return uc(Wn)},useDebugValue:fc,useDeferredValue:function(e,a){var s=_t();return Ye===null?hc(s,e,a):dm(s,Ye.memoizedState,e,a)},useTransition:function(){var e=uc(Wn)[0],a=_t().memoizedState;return[typeof e=="boolean"?e:ri(e),a]},useSyncExternalStore:Bh,useId:pm,useHostTransitionStatus:pc,useFormState:tm,useActionState:tm,useOptimistic:function(e,a){var s=_t();return Ye!==null?Fh(s,Ye,e,a):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:oc,useCacheRefresh:gm},Vr=null,oi=0;function Bo(e){var a=oi;return oi+=1,Vr===null&&(Vr=[]),Nh(Vr,e,a)}function li(e,a){a=a.props.ref,e.ref=a!==void 0?a:null}function Io(e,a){throw a.$$typeof===_?Error(i(525)):(e=Object.prototype.toString.call(a),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":e)))}function Sm(e){var a=e._init;return a(e._payload)}function xm(e){function a(O,j){if(e){var C=O.deletions;C===null?(O.deletions=[j],O.flags|=16):C.push(j)}}function s(O,j){if(!e)return null;for(;j!==null;)a(O,j),j=j.sibling;return null}function o(O){for(var j=new Map;O!==null;)O.key!==null?j.set(O.key,O):j.set(O.index,O),O=O.sibling;return j}function c(O,j){return O=Kn(O,j),O.index=0,O.sibling=null,O}function f(O,j,C){return O.index=C,e?(C=O.alternate,C!==null?(C=C.index,C<j?(O.flags|=67108866,j):C):(O.flags|=67108866,j)):(O.flags|=1048576,j)}function v(O){return e&&O.alternate===null&&(O.flags|=67108866),O}function b(O,j,C,H){return j===null||j.tag!==6?(j=$u(C,O.mode,H),j.return=O,j):(j=c(j,C),j.return=O,j)}function S(O,j,C,H){var se=C.type;return se===k?q(O,j,C.props.children,H,C.key):j!==null&&(j.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===Re&&Sm(se)===j.type)?(j=c(j,C.props),li(j,C),j.return=O,j):(j=xo(C.type,C.key,C.props,null,O.mode,H),li(j,C),j.return=O,j)}function R(O,j,C,H){return j===null||j.tag!==4||j.stateNode.containerInfo!==C.containerInfo||j.stateNode.implementation!==C.implementation?(j=Lu(C,O.mode,H),j.return=O,j):(j=c(j,C.children||[]),j.return=O,j)}function q(O,j,C,H,se){return j===null||j.tag!==7?(j=Ja(C,O.mode,H,se),j.return=O,j):(j=c(j,C),j.return=O,j)}function Z(O,j,C){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=$u(""+j,O.mode,C),j.return=O,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case w:return C=xo(j.type,j.key,j.props,null,O.mode,C),li(C,j),C.return=O,C;case E:return j=Lu(j,O.mode,C),j.return=O,j;case Re:var H=j._init;return j=H(j._payload),Z(O,j,C)}if(ve(j)||st(j))return j=Ja(j,O.mode,C,null),j.return=O,j;if(typeof j.then=="function")return Z(O,Bo(j),C);if(j.$$typeof===z)return Z(O,ko(O,j),C);Io(O,j)}return null}function D(O,j,C,H){var se=j!==null?j.key:null;if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return se!==null?null:b(O,j,""+C,H);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case w:return C.key===se?S(O,j,C,H):null;case E:return C.key===se?R(O,j,C,H):null;case Re:return se=C._init,C=se(C._payload),D(O,j,C,H)}if(ve(C)||st(C))return se!==null?null:q(O,j,C,H,null);if(typeof C.then=="function")return D(O,j,Bo(C),H);if(C.$$typeof===z)return D(O,j,ko(O,C),H);Io(O,C)}return null}function M(O,j,C,H,se){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return O=O.get(C)||null,b(j,O,""+H,se);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case w:return O=O.get(H.key===null?C:H.key)||null,S(j,O,H,se);case E:return O=O.get(H.key===null?C:H.key)||null,R(j,O,H,se);case Re:var je=H._init;return H=je(H._payload),M(O,j,C,H,se)}if(ve(H)||st(H))return O=O.get(C)||null,q(j,O,H,se,null);if(typeof H.then=="function")return M(O,j,C,Bo(H),se);if(H.$$typeof===z)return M(O,j,C,ko(j,H),se);Io(j,H)}return null}function ge(O,j,C,H){for(var se=null,je=null,le=j,pe=j=0,At=null;le!==null&&pe<C.length;pe++){le.index>pe?(At=le,le=null):At=le.sibling;var Ue=D(O,le,C[pe],H);if(Ue===null){le===null&&(le=At);break}e&&le&&Ue.alternate===null&&a(O,le),j=f(Ue,j,pe),je===null?se=Ue:je.sibling=Ue,je=Ue,le=At}if(pe===C.length)return s(O,le),qe&&er(O,pe),se;if(le===null){for(;pe<C.length;pe++)le=Z(O,C[pe],H),le!==null&&(j=f(le,j,pe),je===null?se=le:je.sibling=le,je=le);return qe&&er(O,pe),se}for(le=o(le);pe<C.length;pe++)At=M(le,O,pe,C[pe],H),At!==null&&(e&&At.alternate!==null&&le.delete(At.key===null?pe:At.key),j=f(At,j,pe),je===null?se=At:je.sibling=At,je=At);return e&&le.forEach(function($a){return a(O,$a)}),qe&&er(O,pe),se}function me(O,j,C,H){if(C==null)throw Error(i(151));for(var se=null,je=null,le=j,pe=j=0,At=null,Ue=C.next();le!==null&&!Ue.done;pe++,Ue=C.next()){le.index>pe?(At=le,le=null):At=le.sibling;var $a=D(O,le,Ue.value,H);if($a===null){le===null&&(le=At);break}e&&le&&$a.alternate===null&&a(O,le),j=f($a,j,pe),je===null?se=$a:je.sibling=$a,je=$a,le=At}if(Ue.done)return s(O,le),qe&&er(O,pe),se;if(le===null){for(;!Ue.done;pe++,Ue=C.next())Ue=Z(O,Ue.value,H),Ue!==null&&(j=f(Ue,j,pe),je===null?se=Ue:je.sibling=Ue,je=Ue);return qe&&er(O,pe),se}for(le=o(le);!Ue.done;pe++,Ue=C.next())Ue=M(le,O,pe,Ue.value,H),Ue!==null&&(e&&Ue.alternate!==null&&le.delete(Ue.key===null?pe:Ue.key),j=f(Ue,j,pe),je===null?se=Ue:je.sibling=Ue,je=Ue);return e&&le.forEach(function(__){return a(O,__)}),qe&&er(O,pe),se}function Xe(O,j,C,H){if(typeof C=="object"&&C!==null&&C.type===k&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case w:e:{for(var se=C.key;j!==null;){if(j.key===se){if(se=C.type,se===k){if(j.tag===7){s(O,j.sibling),H=c(j,C.props.children),H.return=O,O=H;break e}}else if(j.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===Re&&Sm(se)===j.type){s(O,j.sibling),H=c(j,C.props),li(H,C),H.return=O,O=H;break e}s(O,j);break}else a(O,j);j=j.sibling}C.type===k?(H=Ja(C.props.children,O.mode,H,C.key),H.return=O,O=H):(H=xo(C.type,C.key,C.props,null,O.mode,H),li(H,C),H.return=O,O=H)}return v(O);case E:e:{for(se=C.key;j!==null;){if(j.key===se)if(j.tag===4&&j.stateNode.containerInfo===C.containerInfo&&j.stateNode.implementation===C.implementation){s(O,j.sibling),H=c(j,C.children||[]),H.return=O,O=H;break e}else{s(O,j);break}else a(O,j);j=j.sibling}H=Lu(C,O.mode,H),H.return=O,O=H}return v(O);case Re:return se=C._init,C=se(C._payload),Xe(O,j,C,H)}if(ve(C))return ge(O,j,C,H);if(st(C)){if(se=st(C),typeof se!="function")throw Error(i(150));return C=se.call(C),me(O,j,C,H)}if(typeof C.then=="function")return Xe(O,j,Bo(C),H);if(C.$$typeof===z)return Xe(O,j,ko(O,C),H);Io(O,C)}return typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint"?(C=""+C,j!==null&&j.tag===6?(s(O,j.sibling),H=c(j,C),H.return=O,O=H):(s(O,j),H=$u(C,O.mode,H),H.return=O,O=H),v(O)):s(O,j)}return function(O,j,C,H){try{oi=0;var se=Xe(O,j,C,H);return Vr=null,se}catch(le){if(le===Js||le===Ao)throw le;var je=en(29,le,null,O.mode);return je.lanes=H,je.return=O,je}finally{}}}var Fr=xm(!0),Em=xm(!1),pn=P(null),Mn=null;function Sa(e){var a=e.alternate;Q(xt,xt.current&1),Q(pn,e),Mn===null&&(a===null||Ir.current!==null||a.memoizedState!==null)&&(Mn=e)}function Tm(e){if(e.tag===22){if(Q(xt,xt.current),Q(pn,e),Mn===null){var a=e.alternate;a!==null&&a.memoizedState!==null&&(Mn=e)}}else xa()}function xa(){Q(xt,xt.current),Q(pn,pn.current)}function ea(e){te(pn),Mn===e&&(Mn=null),te(xt)}var xt=P(0);function Ho(e){for(var a=e;a!==null;){if(a.tag===13){var s=a.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||id(s)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break;for(;a.sibling===null;){if(a.return===null||a.return===e)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function vc(e,a,s,o){a=e.memoizedState,s=s(o,a),s=s==null?a:y({},a,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var yc={enqueueSetState:function(e,a,s){e=e._reactInternals;var o=rn(),c=ba(o);c.payload=a,s!=null&&(c.callback=s),a=_a(e,c,o),a!==null&&(sn(a,e,o),ei(a,e,o))},enqueueReplaceState:function(e,a,s){e=e._reactInternals;var o=rn(),c=ba(o);c.tag=1,c.payload=a,s!=null&&(c.callback=s),a=_a(e,c,o),a!==null&&(sn(a,e,o),ei(a,e,o))},enqueueForceUpdate:function(e,a){e=e._reactInternals;var s=rn(),o=ba(s);o.tag=2,a!=null&&(o.callback=a),a=_a(e,o,s),a!==null&&(sn(a,e,s),ei(a,e,s))}};function jm(e,a,s,o,c,f,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,v):a.prototype&&a.prototype.isPureReactComponent?!Ps(s,o)||!Ps(c,f):!0}function km(e,a,s,o){e=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(s,o),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(s,o),a.state!==e&&yc.enqueueReplaceState(a,a.state,null)}function or(e,a){var s=a;if("ref"in a){s={};for(var o in a)o!=="ref"&&(s[o]=a[o])}if(e=e.defaultProps){s===a&&(s=y({},s));for(var c in e)s[c]===void 0&&(s[c]=e[c])}return s}var Zo=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Om(e){Zo(e)}function Am(e){console.error(e)}function Cm(e){Zo(e)}function Po(e,a){try{var s=e.onUncaughtError;s(a.value,{componentStack:a.stack})}catch(o){setTimeout(function(){throw o})}}function Rm(e,a,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function bc(e,a,s){return s=ba(s),s.tag=3,s.payload={element:null},s.callback=function(){Po(e,a)},s}function Nm(e){return e=ba(e),e.tag=3,e}function Dm(e,a,s,o){var c=s.type.getDerivedStateFromError;if(typeof c=="function"){var f=o.value;e.payload=function(){return c(f)},e.callback=function(){Rm(a,s,o)}}var v=s.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){Rm(a,s,o),typeof c!="function"&&(Aa===null?Aa=new Set([this]):Aa.add(this));var b=o.stack;this.componentDidCatch(o.value,{componentStack:b!==null?b:""})})}function _b(e,a,s,o,c){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(a=s.alternate,a!==null&&Ys(a,s,c,!0),s=pn.current,s!==null){switch(s.tag){case 13:return Mn===null?Zc():s.alternate===null&&pt===0&&(pt=3),s.flags&=-257,s.flags|=65536,s.lanes=c,o===Ku?s.flags|=16384:(a=s.updateQueue,a===null?s.updateQueue=new Set([o]):a.add(o),Vc(e,o,c)),!1;case 22:return s.flags|=65536,o===Ku?s.flags|=16384:(a=s.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=a):(s=a.retryQueue,s===null?a.retryQueue=new Set([o]):s.add(o)),Vc(e,o,c)),!1}throw Error(i(435,s.tag))}return Vc(e,o,c),Zc(),!1}if(qe)return a=pn.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=c,o!==Iu&&(e=Error(i(422),{cause:o}),Ks(dn(e,s)))):(o!==Iu&&(a=Error(i(423),{cause:o}),Ks(dn(a,s))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,o=dn(o,s),c=bc(e.stateNode,o,c),Xu(e,c),pt!==4&&(pt=2)),!1;var f=Error(i(520),{cause:o});if(f=dn(f,s),pi===null?pi=[f]:pi.push(f),pt!==4&&(pt=2),a===null)return!0;o=dn(o,s),s=a;do{switch(s.tag){case 3:return s.flags|=65536,e=c&-c,s.lanes|=e,e=bc(s.stateNode,o,e),Xu(s,e),!1;case 1:if(a=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Aa===null||!Aa.has(f))))return s.flags|=65536,c&=-c,s.lanes|=c,c=Nm(c),Dm(c,e,s,o),Xu(s,c),!1}s=s.return}while(s!==null);return!1}var Mm=Error(i(461)),kt=!1;function Mt(e,a,s,o){a.child=e===null?Em(a,null,s,o):Fr(a,e.child,s,o)}function zm(e,a,s,o,c){s=s.render;var f=a.ref;if("ref"in o){var v={};for(var b in o)b!=="ref"&&(v[b]=o[b])}else v=o;return rr(a),o=nc(e,a,s,v,f,c),b=ac(),e!==null&&!kt?(rc(e,a,c),ta(e,a,c)):(qe&&b&&qu(a),a.flags|=1,Mt(e,a,o,c),a.child)}function Um(e,a,s,o,c){if(e===null){var f=s.type;return typeof f=="function"&&!Uu(f)&&f.defaultProps===void 0&&s.compare===null?(a.tag=15,a.type=f,$m(e,a,f,o,c)):(e=xo(s.type,null,o,a,a.mode,c),e.ref=a.ref,e.return=a,a.child=e)}if(f=e.child,!kc(e,c)){var v=f.memoizedProps;if(s=s.compare,s=s!==null?s:Ps,s(v,o)&&e.ref===a.ref)return ta(e,a,c)}return a.flags|=1,e=Kn(f,o),e.ref=a.ref,e.return=a,a.child=e}function $m(e,a,s,o,c){if(e!==null){var f=e.memoizedProps;if(Ps(f,o)&&e.ref===a.ref)if(kt=!1,a.pendingProps=o=f,kc(e,c))(e.flags&131072)!==0&&(kt=!0);else return a.lanes=e.lanes,ta(e,a,c)}return _c(e,a,s,o,c)}function Lm(e,a,s){var o=a.pendingProps,c=o.children,f=e!==null?e.memoizedState:null;if(o.mode==="hidden"){if((a.flags&128)!==0){if(o=f!==null?f.baseLanes|s:s,e!==null){for(c=a.child=e.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;a.childLanes=f&~o}else a.childLanes=0,a.child=null;return qm(e,a,o,s)}if((s&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},e!==null&&Oo(a,f!==null?f.cachePool:null),f!==null?$h(a,f):Wu(),Tm(a);else return a.lanes=a.childLanes=536870912,qm(e,a,f!==null?f.baseLanes|s:s,s)}else f!==null?(Oo(a,f.cachePool),$h(a,f),xa(),a.memoizedState=null):(e!==null&&Oo(a,null),Wu(),xa());return Mt(e,a,c,s),a.child}function qm(e,a,s,o){var c=Gu();return c=c===null?null:{parent:St._currentValue,pool:c},a.memoizedState={baseLanes:s,cachePool:c},e!==null&&Oo(a,null),Wu(),Tm(a),e!==null&&Ys(e,a,o,!0),null}function Vo(e,a){var s=a.ref;if(s===null)e!==null&&e.ref!==null&&(a.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(i(284));(e===null||e.ref!==s)&&(a.flags|=4194816)}}function _c(e,a,s,o,c){return rr(a),s=nc(e,a,s,o,void 0,c),o=ac(),e!==null&&!kt?(rc(e,a,c),ta(e,a,c)):(qe&&o&&qu(a),a.flags|=1,Mt(e,a,s,c),a.child)}function Bm(e,a,s,o,c,f){return rr(a),a.updateQueue=null,s=qh(a,o,s,c),Lh(e),o=ac(),e!==null&&!kt?(rc(e,a,f),ta(e,a,f)):(qe&&o&&qu(a),a.flags|=1,Mt(e,a,s,f),a.child)}function Im(e,a,s,o,c){if(rr(a),a.stateNode===null){var f=Ur,v=s.contextType;typeof v=="object"&&v!==null&&(f=$t(v)),f=new s(o,f),a.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=yc,a.stateNode=f,f._reactInternals=a,f=a.stateNode,f.props=o,f.state=a.memoizedState,f.refs={},Yu(a),v=s.contextType,f.context=typeof v=="object"&&v!==null?$t(v):Ur,f.state=a.memoizedState,v=s.getDerivedStateFromProps,typeof v=="function"&&(vc(a,s,v,o),f.state=a.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&yc.enqueueReplaceState(f,f.state,null),ni(a,o,f,c),ti(),f.state=a.memoizedState),typeof f.componentDidMount=="function"&&(a.flags|=4194308),o=!0}else if(e===null){f=a.stateNode;var b=a.memoizedProps,S=or(s,b);f.props=S;var R=f.context,q=s.contextType;v=Ur,typeof q=="object"&&q!==null&&(v=$t(q));var Z=s.getDerivedStateFromProps;q=typeof Z=="function"||typeof f.getSnapshotBeforeUpdate=="function",b=a.pendingProps!==b,q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(b||R!==v)&&km(a,f,o,v),ya=!1;var D=a.memoizedState;f.state=D,ni(a,o,f,c),ti(),R=a.memoizedState,b||D!==R||ya?(typeof Z=="function"&&(vc(a,s,Z,o),R=a.memoizedState),(S=ya||jm(a,s,S,o,D,R,v))?(q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(a.flags|=4194308)):(typeof f.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=o,a.memoizedState=R),f.props=o,f.state=R,f.context=v,o=S):(typeof f.componentDidMount=="function"&&(a.flags|=4194308),o=!1)}else{f=a.stateNode,Qu(e,a),v=a.memoizedProps,q=or(s,v),f.props=q,Z=a.pendingProps,D=f.context,R=s.contextType,S=Ur,typeof R=="object"&&R!==null&&(S=$t(R)),b=s.getDerivedStateFromProps,(R=typeof b=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==Z||D!==S)&&km(a,f,o,S),ya=!1,D=a.memoizedState,f.state=D,ni(a,o,f,c),ti();var M=a.memoizedState;v!==Z||D!==M||ya||e!==null&&e.dependencies!==null&&jo(e.dependencies)?(typeof b=="function"&&(vc(a,s,b,o),M=a.memoizedState),(q=ya||jm(a,s,q,o,D,M,S)||e!==null&&e.dependencies!==null&&jo(e.dependencies))?(R||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,M,S),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,M,S)),typeof f.componentDidUpdate=="function"&&(a.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===e.memoizedProps&&D===e.memoizedState||(a.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&D===e.memoizedState||(a.flags|=1024),a.memoizedProps=o,a.memoizedState=M),f.props=o,f.state=M,f.context=S,o=q):(typeof f.componentDidUpdate!="function"||v===e.memoizedProps&&D===e.memoizedState||(a.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&D===e.memoizedState||(a.flags|=1024),o=!1)}return f=o,Vo(e,a),o=(a.flags&128)!==0,f||o?(f=a.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),a.flags|=1,e!==null&&o?(a.child=Fr(a,e.child,null,c),a.child=Fr(a,null,s,c)):Mt(e,a,s,c),a.memoizedState=f.state,e=a.child):e=ta(e,a,c),e}function Hm(e,a,s,o){return Gs(),a.flags|=256,Mt(e,a,s,o),a.child}var wc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Sc(e){return{baseLanes:e,cachePool:Ah()}}function xc(e,a,s){return e=e!==null?e.childLanes&~s:0,a&&(e|=gn),e}function Zm(e,a,s){var o=a.pendingProps,c=!1,f=(a.flags&128)!==0,v;if((v=f)||(v=e!==null&&e.memoizedState===null?!1:(xt.current&2)!==0),v&&(c=!0,a.flags&=-129),v=(a.flags&32)!==0,a.flags&=-33,e===null){if(qe){if(c?Sa(a):xa(),qe){var b=mt,S;if(S=b){e:{for(S=b,b=Dn;S.nodeType!==8;){if(!b){b=null;break e}if(S=Tn(S.nextSibling),S===null){b=null;break e}}b=S}b!==null?(a.memoizedState={dehydrated:b,treeContext:Wa!==null?{id:Yn,overflow:Qn}:null,retryLane:536870912,hydrationErrors:null},S=en(18,null,null,0),S.stateNode=b,S.return=a,a.child=S,Zt=a,mt=null,S=!0):S=!1}S||nr(a)}if(b=a.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return id(b)?a.lanes=32:a.lanes=536870912,null;ea(a)}return b=o.children,o=o.fallback,c?(xa(),c=a.mode,b=Fo({mode:"hidden",children:b},c),o=Ja(o,c,s,null),b.return=a,o.return=a,b.sibling=o,a.child=b,c=a.child,c.memoizedState=Sc(s),c.childLanes=xc(e,v,s),a.memoizedState=wc,o):(Sa(a),Ec(a,b))}if(S=e.memoizedState,S!==null&&(b=S.dehydrated,b!==null)){if(f)a.flags&256?(Sa(a),a.flags&=-257,a=Tc(e,a,s)):a.memoizedState!==null?(xa(),a.child=e.child,a.flags|=128,a=null):(xa(),c=o.fallback,b=a.mode,o=Fo({mode:"visible",children:o.children},b),c=Ja(c,b,s,null),c.flags|=2,o.return=a,c.return=a,o.sibling=c,a.child=o,Fr(a,e.child,null,s),o=a.child,o.memoizedState=Sc(s),o.childLanes=xc(e,v,s),a.memoizedState=wc,a=c);else if(Sa(a),id(b)){if(v=b.nextSibling&&b.nextSibling.dataset,v)var R=v.dgst;v=R,o=Error(i(419)),o.stack="",o.digest=v,Ks({value:o,source:null,stack:null}),a=Tc(e,a,s)}else if(kt||Ys(e,a,s,!1),v=(s&e.childLanes)!==0,kt||v){if(v=tt,v!==null&&(o=s&-s,o=(o&42)!==0?1:Vn(o),o=(o&(v.suspendedLanes|s))!==0?0:o,o!==0&&o!==S.retryLane))throw S.retryLane=o,zr(e,o),sn(v,e,o),Mm;b.data==="$?"||Zc(),a=Tc(e,a,s)}else b.data==="$?"?(a.flags|=192,a.child=e.child,a=null):(e=S.treeContext,mt=Tn(b.nextSibling),Zt=a,qe=!0,tr=null,Dn=!1,e!==null&&(hn[mn++]=Yn,hn[mn++]=Qn,hn[mn++]=Wa,Yn=e.id,Qn=e.overflow,Wa=a),a=Ec(a,o.children),a.flags|=4096);return a}return c?(xa(),c=o.fallback,b=a.mode,S=e.child,R=S.sibling,o=Kn(S,{mode:"hidden",children:o.children}),o.subtreeFlags=S.subtreeFlags&65011712,R!==null?c=Kn(R,c):(c=Ja(c,b,s,null),c.flags|=2),c.return=a,o.return=a,o.sibling=c,a.child=o,o=c,c=a.child,b=e.child.memoizedState,b===null?b=Sc(s):(S=b.cachePool,S!==null?(R=St._currentValue,S=S.parent!==R?{parent:R,pool:R}:S):S=Ah(),b={baseLanes:b.baseLanes|s,cachePool:S}),c.memoizedState=b,c.childLanes=xc(e,v,s),a.memoizedState=wc,o):(Sa(a),s=e.child,e=s.sibling,s=Kn(s,{mode:"visible",children:o.children}),s.return=a,s.sibling=null,e!==null&&(v=a.deletions,v===null?(a.deletions=[e],a.flags|=16):v.push(e)),a.child=s,a.memoizedState=null,s)}function Ec(e,a){return a=Fo({mode:"visible",children:a},e.mode),a.return=e,e.child=a}function Fo(e,a){return e=en(22,e,null,a),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Tc(e,a,s){return Fr(a,e.child,null,s),e=Ec(a,a.pendingProps.children),e.flags|=2,a.memoizedState=null,e}function Pm(e,a,s){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a),Zu(e.return,a,s)}function jc(e,a,s,o,c){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:c}:(f.isBackwards=a,f.rendering=null,f.renderingStartTime=0,f.last=o,f.tail=s,f.tailMode=c)}function Vm(e,a,s){var o=a.pendingProps,c=o.revealOrder,f=o.tail;if(Mt(e,a,o.children,s),o=xt.current,(o&2)!==0)o=o&1|2,a.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=a.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Pm(e,s,a);else if(e.tag===19)Pm(e,s,a);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===a)break e;for(;e.sibling===null;){if(e.return===null||e.return===a)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(Q(xt,o),c){case"forwards":for(s=a.child,c=null;s!==null;)e=s.alternate,e!==null&&Ho(e)===null&&(c=s),s=s.sibling;s=c,s===null?(c=a.child,a.child=null):(c=s.sibling,s.sibling=null),jc(a,!1,c,s,f);break;case"backwards":for(s=null,c=a.child,a.child=null;c!==null;){if(e=c.alternate,e!==null&&Ho(e)===null){a.child=c;break}e=c.sibling,c.sibling=s,s=c,c=e}jc(a,!0,s,null,f);break;case"together":jc(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function ta(e,a,s){if(e!==null&&(a.dependencies=e.dependencies),Oa|=a.lanes,(s&a.childLanes)===0)if(e!==null){if(Ys(e,a,s,!1),(s&a.childLanes)===0)return null}else return null;if(e!==null&&a.child!==e.child)throw Error(i(153));if(a.child!==null){for(e=a.child,s=Kn(e,e.pendingProps),a.child=s,s.return=a;e.sibling!==null;)e=e.sibling,s=s.sibling=Kn(e,e.pendingProps),s.return=a;s.sibling=null}return a.child}function kc(e,a){return(e.lanes&a)!==0?!0:(e=e.dependencies,!!(e!==null&&jo(e)))}function wb(e,a,s){switch(a.tag){case 3:Ge(a,a.stateNode.containerInfo),va(a,St,e.memoizedState.cache),Gs();break;case 27:case 5:so(a);break;case 4:Ge(a,a.stateNode.containerInfo);break;case 10:va(a,a.type,a.memoizedProps.value);break;case 13:var o=a.memoizedState;if(o!==null)return o.dehydrated!==null?(Sa(a),a.flags|=128,null):(s&a.child.childLanes)!==0?Zm(e,a,s):(Sa(a),e=ta(e,a,s),e!==null?e.sibling:null);Sa(a);break;case 19:var c=(e.flags&128)!==0;if(o=(s&a.childLanes)!==0,o||(Ys(e,a,s,!1),o=(s&a.childLanes)!==0),c){if(o)return Vm(e,a,s);a.flags|=128}if(c=a.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Q(xt,xt.current),o)break;return null;case 22:case 23:return a.lanes=0,Lm(e,a,s);case 24:va(a,St,e.memoizedState.cache)}return ta(e,a,s)}function Fm(e,a,s){if(e!==null)if(e.memoizedProps!==a.pendingProps)kt=!0;else{if(!kc(e,s)&&(a.flags&128)===0)return kt=!1,wb(e,a,s);kt=(e.flags&131072)!==0}else kt=!1,qe&&(a.flags&1048576)!==0&&Sh(a,To,a.index);switch(a.lanes=0,a.tag){case 16:e:{e=a.pendingProps;var o=a.elementType,c=o._init;if(o=c(o._payload),a.type=o,typeof o=="function")Uu(o)?(e=or(o,e),a.tag=1,a=Im(null,a,o,e,s)):(a.tag=0,a=_c(null,a,o,e,s));else{if(o!=null){if(c=o.$$typeof,c===F){a.tag=11,a=zm(null,a,o,e,s);break e}else if(c===ae){a.tag=14,a=Um(null,a,o,e,s);break e}}throw a=be(o)||o,Error(i(306,a,""))}}return a;case 0:return _c(e,a,a.type,a.pendingProps,s);case 1:return o=a.type,c=or(o,a.pendingProps),Im(e,a,o,c,s);case 3:e:{if(Ge(a,a.stateNode.containerInfo),e===null)throw Error(i(387));o=a.pendingProps;var f=a.memoizedState;c=f.element,Qu(e,a),ni(a,o,null,s);var v=a.memoizedState;if(o=v.cache,va(a,St,o),o!==f.cache&&Pu(a,[St],s,!0),ti(),o=v.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:v.cache},a.updateQueue.baseState=f,a.memoizedState=f,a.flags&256){a=Hm(e,a,o,s);break e}else if(o!==c){c=dn(Error(i(424)),a),Ks(c),a=Hm(e,a,o,s);break e}else{switch(e=a.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(mt=Tn(e.firstChild),Zt=a,qe=!0,tr=null,Dn=!0,s=Em(a,null,o,s),a.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Gs(),o===c){a=ta(e,a,s);break e}Mt(e,a,o,s)}a=a.child}return a;case 26:return Vo(e,a),e===null?(s=Qp(a.type,null,a.pendingProps,null))?a.memoizedState=s:qe||(s=a.type,e=a.pendingProps,o=il(ee.current).createElement(s),o[yt]=a,o[Ke]=e,Ut(o,s,e),jt(o),a.stateNode=o):a.memoizedState=Qp(a.type,e.memoizedProps,a.pendingProps,e.memoizedState),null;case 27:return so(a),e===null&&qe&&(o=a.stateNode=Gp(a.type,a.pendingProps,ee.current),Zt=a,Dn=!0,c=mt,Na(a.type)?(od=c,mt=Tn(o.firstChild)):mt=c),Mt(e,a,a.pendingProps.children,s),Vo(e,a),e===null&&(a.flags|=4194304),a.child;case 5:return e===null&&qe&&((c=o=mt)&&(o=Yb(o,a.type,a.pendingProps,Dn),o!==null?(a.stateNode=o,Zt=a,mt=Tn(o.firstChild),Dn=!1,c=!0):c=!1),c||nr(a)),so(a),c=a.type,f=a.pendingProps,v=e!==null?e.memoizedProps:null,o=f.children,ad(c,f)?o=null:v!==null&&ad(c,v)&&(a.flags|=32),a.memoizedState!==null&&(c=nc(e,a,hb,null,null,s),Ei._currentValue=c),Vo(e,a),Mt(e,a,o,s),a.child;case 6:return e===null&&qe&&((e=s=mt)&&(s=Qb(s,a.pendingProps,Dn),s!==null?(a.stateNode=s,Zt=a,mt=null,e=!0):e=!1),e||nr(a)),null;case 13:return Zm(e,a,s);case 4:return Ge(a,a.stateNode.containerInfo),o=a.pendingProps,e===null?a.child=Fr(a,null,o,s):Mt(e,a,o,s),a.child;case 11:return zm(e,a,a.type,a.pendingProps,s);case 7:return Mt(e,a,a.pendingProps,s),a.child;case 8:return Mt(e,a,a.pendingProps.children,s),a.child;case 12:return Mt(e,a,a.pendingProps.children,s),a.child;case 10:return o=a.pendingProps,va(a,a.type,o.value),Mt(e,a,o.children,s),a.child;case 9:return c=a.type._context,o=a.pendingProps.children,rr(a),c=$t(c),o=o(c),a.flags|=1,Mt(e,a,o,s),a.child;case 14:return Um(e,a,a.type,a.pendingProps,s);case 15:return $m(e,a,a.type,a.pendingProps,s);case 19:return Vm(e,a,s);case 31:return o=a.pendingProps,s=a.mode,o={mode:o.mode,children:o.children},e===null?(s=Fo(o,s),s.ref=a.ref,a.child=s,s.return=a,a=s):(s=Kn(e.child,o),s.ref=a.ref,a.child=s,s.return=a,a=s),a;case 22:return Lm(e,a,s);case 24:return rr(a),o=$t(St),e===null?(c=Gu(),c===null&&(c=tt,f=Vu(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=s),c=f),a.memoizedState={parent:o,cache:c},Yu(a),va(a,St,c)):((e.lanes&s)!==0&&(Qu(e,a),ni(a,null,null,s),ti()),c=e.memoizedState,f=a.memoizedState,c.parent!==o?(c={parent:o,cache:o},a.memoizedState=c,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=c),va(a,St,o)):(o=f.cache,va(a,St,o),o!==c.cache&&Pu(a,[St],s,!0))),Mt(e,a,a.pendingProps.children,s),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function na(e){e.flags|=4}function Gm(e,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!tg(a)){if(a=pn.current,a!==null&&((Me&4194048)===Me?Mn!==null:(Me&62914560)!==Me&&(Me&536870912)===0||a!==Mn))throw Ws=Ku,Ch;e.flags|=8192}}function Go(e,a){a!==null&&(e.flags|=4),e.flags&16384&&(a=e.tag!==22?ke():536870912,e.lanes|=a,Qr|=a)}function ui(e,a){if(!qe)switch(e.tailMode){case"hidden":a=e.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?a||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function dt(e){var a=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(a)for(var c=e.child;c!==null;)s|=c.lanes|c.childLanes,o|=c.subtreeFlags&65011712,o|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)s|=c.lanes|c.childLanes,o|=c.subtreeFlags,o|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=o,e.childLanes=s,a}function Sb(e,a,s){var o=a.pendingProps;switch(Bu(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dt(a),null;case 1:return dt(a),null;case 3:return s=a.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),a.memoizedState.cache!==o&&(a.flags|=2048),Jn(St),Hn(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Fs(a)?na(a):e===null||e.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Th())),dt(a),null;case 26:return s=a.memoizedState,e===null?(na(a),s!==null?(dt(a),Gm(a,s)):(dt(a),a.flags&=-16777217)):s?s!==e.memoizedState?(na(a),dt(a),Gm(a,s)):(dt(a),a.flags&=-16777217):(e.memoizedProps!==o&&na(a),dt(a),a.flags&=-16777217),null;case 27:_n(a),s=ee.current;var c=a.type;if(e!==null&&a.stateNode!=null)e.memoizedProps!==o&&na(a);else{if(!o){if(a.stateNode===null)throw Error(i(166));return dt(a),null}e=V.current,Fs(a)?xh(a):(e=Gp(c,o,s),a.stateNode=e,na(a))}return dt(a),null;case 5:if(_n(a),s=a.type,e!==null&&a.stateNode!=null)e.memoizedProps!==o&&na(a);else{if(!o){if(a.stateNode===null)throw Error(i(166));return dt(a),null}if(e=V.current,Fs(a))xh(a);else{switch(c=il(ee.current),e){case 1:e=c.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:e=c.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":e=c.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":e=c.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":e=c.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?c.createElement("select",{is:o.is}):c.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?c.createElement(s,{is:o.is}):c.createElement(s)}}e[yt]=a,e[Ke]=o;e:for(c=a.child;c!==null;){if(c.tag===5||c.tag===6)e.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break e;for(;c.sibling===null;){if(c.return===null||c.return===a)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}a.stateNode=e;e:switch(Ut(e,s,o),s){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&na(a)}}return dt(a),a.flags&=-16777217,null;case 6:if(e&&a.stateNode!=null)e.memoizedProps!==o&&na(a);else{if(typeof o!="string"&&a.stateNode===null)throw Error(i(166));if(e=ee.current,Fs(a)){if(e=a.stateNode,s=a.memoizedProps,o=null,c=Zt,c!==null)switch(c.tag){case 27:case 5:o=c.memoizedProps}e[yt]=a,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||Bp(e.nodeValue,s)),e||nr(a)}else e=il(e).createTextNode(o),e[yt]=a,a.stateNode=e}return dt(a),null;case 13:if(o=a.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=Fs(a),o!==null&&o.dehydrated!==null){if(e===null){if(!c)throw Error(i(318));if(c=a.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(i(317));c[yt]=a}else Gs(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;dt(a),c=!1}else c=Th(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return a.flags&256?(ea(a),a):(ea(a),null)}if(ea(a),(a.flags&128)!==0)return a.lanes=s,a;if(s=o!==null,e=e!==null&&e.memoizedState!==null,s){o=a.child,c=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(c=o.alternate.memoizedState.cachePool.pool);var f=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==c&&(o.flags|=2048)}return s!==e&&s&&(a.child.flags|=8192),Go(a,a.updateQueue),dt(a),null;case 4:return Hn(),e===null&&Jc(a.stateNode.containerInfo),dt(a),null;case 10:return Jn(a.type),dt(a),null;case 19:if(te(xt),c=a.memoizedState,c===null)return dt(a),null;if(o=(a.flags&128)!==0,f=c.rendering,f===null)if(o)ui(c,!1);else{if(pt!==0||e!==null&&(e.flags&128)!==0)for(e=a.child;e!==null;){if(f=Ho(e),f!==null){for(a.flags|=128,ui(c,!1),e=f.updateQueue,a.updateQueue=e,Go(a,e),a.subtreeFlags=0,e=s,s=a.child;s!==null;)wh(s,e),s=s.sibling;return Q(xt,xt.current&1|2),a.child}e=e.sibling}c.tail!==null&&on()>Qo&&(a.flags|=128,o=!0,ui(c,!1),a.lanes=4194304)}else{if(!o)if(e=Ho(f),e!==null){if(a.flags|=128,o=!0,e=e.updateQueue,a.updateQueue=e,Go(a,e),ui(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!qe)return dt(a),null}else 2*on()-c.renderingStartTime>Qo&&s!==536870912&&(a.flags|=128,o=!0,ui(c,!1),a.lanes=4194304);c.isBackwards?(f.sibling=a.child,a.child=f):(e=c.last,e!==null?e.sibling=f:a.child=f,c.last=f)}return c.tail!==null?(a=c.tail,c.rendering=a,c.tail=a.sibling,c.renderingStartTime=on(),a.sibling=null,e=xt.current,Q(xt,o?e&1|2:e&1),a):(dt(a),null);case 22:case 23:return ea(a),ec(),o=a.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(a.flags|=8192):o&&(a.flags|=8192),o?(s&536870912)!==0&&(a.flags&128)===0&&(dt(a),a.subtreeFlags&6&&(a.flags|=8192)):dt(a),s=a.updateQueue,s!==null&&Go(a,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(o=a.memoizedState.cachePool.pool),o!==s&&(a.flags|=2048),e!==null&&te(sr),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),a.memoizedState.cache!==s&&(a.flags|=2048),Jn(St),dt(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function xb(e,a){switch(Bu(a),a.tag){case 1:return e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 3:return Jn(St),Hn(),e=a.flags,(e&65536)!==0&&(e&128)===0?(a.flags=e&-65537|128,a):null;case 26:case 27:case 5:return _n(a),null;case 13:if(ea(a),e=a.memoizedState,e!==null&&e.dehydrated!==null){if(a.alternate===null)throw Error(i(340));Gs()}return e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 19:return te(xt),null;case 4:return Hn(),null;case 10:return Jn(a.type),null;case 22:case 23:return ea(a),ec(),e!==null&&te(sr),e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 24:return Jn(St),null;case 25:return null;default:return null}}function Km(e,a){switch(Bu(a),a.tag){case 3:Jn(St),Hn();break;case 26:case 27:case 5:_n(a);break;case 4:Hn();break;case 13:ea(a);break;case 19:te(xt);break;case 10:Jn(a.type);break;case 22:case 23:ea(a),ec(),e!==null&&te(sr);break;case 24:Jn(St)}}function ci(e,a){try{var s=a.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var c=o.next;s=c;do{if((s.tag&e)===e){o=void 0;var f=s.create,v=s.inst;o=f(),v.destroy=o}s=s.next}while(s!==c)}}catch(b){et(a,a.return,b)}}function Ea(e,a,s){try{var o=a.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var f=c.next;o=f;do{if((o.tag&e)===e){var v=o.inst,b=v.destroy;if(b!==void 0){v.destroy=void 0,c=a;var S=s,R=b;try{R()}catch(q){et(c,S,q)}}}o=o.next}while(o!==f)}}catch(q){et(a,a.return,q)}}function Ym(e){var a=e.updateQueue;if(a!==null){var s=e.stateNode;try{Uh(a,s)}catch(o){et(e,e.return,o)}}}function Qm(e,a,s){s.props=or(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){et(e,a,o)}}function di(e,a){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(c){et(e,a,c)}}function zn(e,a){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(c){et(e,a,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(c){et(e,a,c)}else s.current=null}function Xm(e){var a=e.type,s=e.memoizedProps,o=e.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break e;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(c){et(e,e.return,c)}}function Oc(e,a,s){try{var o=e.stateNode;Pb(o,e.type,s,a),o[Ke]=a}catch(c){et(e,e.return,c)}}function Jm(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Na(e.type)||e.tag===4}function Ac(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Jm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Na(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Cc(e,a,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,a?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,a):(a=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,a.appendChild(e),s=s._reactRootContainer,s!=null||a.onclick!==null||(a.onclick=sl));else if(o!==4&&(o===27&&Na(e.type)&&(s=e.stateNode,a=null),e=e.child,e!==null))for(Cc(e,a,s),e=e.sibling;e!==null;)Cc(e,a,s),e=e.sibling}function Ko(e,a,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,a?s.insertBefore(e,a):s.appendChild(e);else if(o!==4&&(o===27&&Na(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Ko(e,a,s),e=e.sibling;e!==null;)Ko(e,a,s),e=e.sibling}function Wm(e){var a=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,c=a.attributes;c.length;)a.removeAttributeNode(c[0]);Ut(a,o,s),a[yt]=e,a[Ke]=s}catch(f){et(e,e.return,f)}}var aa=!1,vt=!1,Rc=!1,ep=typeof WeakSet=="function"?WeakSet:Set,Ot=null;function Eb(e,a){if(e=e.containerInfo,td=fl,e=dh(e),Au(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var c=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break e}var v=0,b=-1,S=-1,R=0,q=0,Z=e,D=null;t:for(;;){for(var M;Z!==s||c!==0&&Z.nodeType!==3||(b=v+c),Z!==f||o!==0&&Z.nodeType!==3||(S=v+o),Z.nodeType===3&&(v+=Z.nodeValue.length),(M=Z.firstChild)!==null;)D=Z,Z=M;for(;;){if(Z===e)break t;if(D===s&&++R===c&&(b=v),D===f&&++q===o&&(S=v),(M=Z.nextSibling)!==null)break;Z=D,D=Z.parentNode}Z=M}s=b===-1||S===-1?null:{start:b,end:S}}else s=null}s=s||{start:0,end:0}}else s=null;for(nd={focusedElem:e,selectionRange:s},fl=!1,Ot=a;Ot!==null;)if(a=Ot,e=a.child,(a.subtreeFlags&1024)!==0&&e!==null)e.return=a,Ot=e;else for(;Ot!==null;){switch(a=Ot,f=a.alternate,e=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=a,c=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var ge=or(s.type,c,s.elementType===s.type);e=o.getSnapshotBeforeUpdate(ge,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(me){et(s,s.return,me)}}break;case 3:if((e&1024)!==0){if(e=a.stateNode.containerInfo,s=e.nodeType,s===9)sd(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":sd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(i(163))}if(e=a.sibling,e!==null){e.return=a.return,Ot=e;break}Ot=a.return}}function tp(e,a,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:Ta(e,s),o&4&&ci(5,s);break;case 1:if(Ta(e,s),o&4)if(e=s.stateNode,a===null)try{e.componentDidMount()}catch(v){et(s,s.return,v)}else{var c=or(s.type,a.memoizedProps);a=a.memoizedState;try{e.componentDidUpdate(c,a,e.__reactInternalSnapshotBeforeUpdate)}catch(v){et(s,s.return,v)}}o&64&&Ym(s),o&512&&di(s,s.return);break;case 3:if(Ta(e,s),o&64&&(e=s.updateQueue,e!==null)){if(a=null,s.child!==null)switch(s.child.tag){case 27:case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}try{Uh(e,a)}catch(v){et(s,s.return,v)}}break;case 27:a===null&&o&4&&Wm(s);case 26:case 5:Ta(e,s),a===null&&o&4&&Xm(s),o&512&&di(s,s.return);break;case 12:Ta(e,s);break;case 13:Ta(e,s),o&4&&rp(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=Db.bind(null,s),Xb(e,s))));break;case 22:if(o=s.memoizedState!==null||aa,!o){a=a!==null&&a.memoizedState!==null||vt,c=aa;var f=vt;aa=o,(vt=a)&&!f?ja(e,s,(s.subtreeFlags&8772)!==0):Ta(e,s),aa=c,vt=f}break;case 30:break;default:Ta(e,s)}}function np(e){var a=e.alternate;a!==null&&(e.alternate=null,np(a)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(a=e.stateNode,a!==null&&wt(a)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var it=null,Kt=!1;function ra(e,a,s){for(s=s.child;s!==null;)ap(e,a,s),s=s.sibling}function ap(e,a,s){if(It&&typeof It.onCommitFiberUnmount=="function")try{It.onCommitFiberUnmount(Fa,s)}catch{}switch(s.tag){case 26:vt||zn(s,a),ra(e,a,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:vt||zn(s,a);var o=it,c=Kt;Na(s.type)&&(it=s.stateNode,Kt=!1),ra(e,a,s),_i(s.stateNode),it=o,Kt=c;break;case 5:vt||zn(s,a);case 6:if(o=it,c=Kt,it=null,ra(e,a,s),it=o,Kt=c,it!==null)if(Kt)try{(it.nodeType===9?it.body:it.nodeName==="HTML"?it.ownerDocument.body:it).removeChild(s.stateNode)}catch(f){et(s,a,f)}else try{it.removeChild(s.stateNode)}catch(f){et(s,a,f)}break;case 18:it!==null&&(Kt?(e=it,Vp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Oi(e)):Vp(it,s.stateNode));break;case 4:o=it,c=Kt,it=s.stateNode.containerInfo,Kt=!0,ra(e,a,s),it=o,Kt=c;break;case 0:case 11:case 14:case 15:vt||Ea(2,s,a),vt||Ea(4,s,a),ra(e,a,s);break;case 1:vt||(zn(s,a),o=s.stateNode,typeof o.componentWillUnmount=="function"&&Qm(s,a,o)),ra(e,a,s);break;case 21:ra(e,a,s);break;case 22:vt=(o=vt)||s.memoizedState!==null,ra(e,a,s),vt=o;break;default:ra(e,a,s)}}function rp(e,a){if(a.memoizedState===null&&(e=a.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Oi(e)}catch(s){et(a,a.return,s)}}function Tb(e){switch(e.tag){case 13:case 19:var a=e.stateNode;return a===null&&(a=e.stateNode=new ep),a;case 22:return e=e.stateNode,a=e._retryCache,a===null&&(a=e._retryCache=new ep),a;default:throw Error(i(435,e.tag))}}function Nc(e,a){var s=Tb(e);a.forEach(function(o){var c=Mb.bind(null,e,o);s.has(o)||(s.add(o),o.then(c,c))})}function tn(e,a){var s=a.deletions;if(s!==null)for(var o=0;o<s.length;o++){var c=s[o],f=e,v=a,b=v;e:for(;b!==null;){switch(b.tag){case 27:if(Na(b.type)){it=b.stateNode,Kt=!1;break e}break;case 5:it=b.stateNode,Kt=!1;break e;case 3:case 4:it=b.stateNode.containerInfo,Kt=!0;break e}b=b.return}if(it===null)throw Error(i(160));ap(f,v,c),it=null,Kt=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)sp(a,e),a=a.sibling}var En=null;function sp(e,a){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:tn(a,e),nn(e),o&4&&(Ea(3,e,e.return),ci(3,e),Ea(5,e,e.return));break;case 1:tn(a,e),nn(e),o&512&&(vt||s===null||zn(s,s.return)),o&64&&aa&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var c=En;if(tn(a,e),nn(e),o&512&&(vt||s===null||zn(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){e:{o=e.type,s=e.memoizedProps,c=c.ownerDocument||c;t:switch(o){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Pe]||f[yt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(o),c.head.insertBefore(f,c.querySelector("head > title"))),Ut(f,o,s),f[yt]=e,jt(f),o=f;break e;case"link":var v=Wp("link","href",c).get(o+(s.href||""));if(v){for(var b=0;b<v.length;b++)if(f=v[b],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){v.splice(b,1);break t}}f=c.createElement(o),Ut(f,o,s),c.head.appendChild(f);break;case"meta":if(v=Wp("meta","content",c).get(o+(s.content||""))){for(b=0;b<v.length;b++)if(f=v[b],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){v.splice(b,1);break t}}f=c.createElement(o),Ut(f,o,s),c.head.appendChild(f);break;default:throw Error(i(468,o))}f[yt]=e,jt(f),o=f}e.stateNode=o}else eg(c,e.type,e.stateNode);else e.stateNode=Jp(c,o,e.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?eg(c,e.type,e.stateNode):Jp(c,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Oc(e,e.memoizedProps,s.memoizedProps)}break;case 27:tn(a,e),nn(e),o&512&&(vt||s===null||zn(s,s.return)),s!==null&&o&4&&Oc(e,e.memoizedProps,s.memoizedProps);break;case 5:if(tn(a,e),nn(e),o&512&&(vt||s===null||zn(s,s.return)),e.flags&32){c=e.stateNode;try{Or(c,"")}catch(M){et(e,e.return,M)}}o&4&&e.stateNode!=null&&(c=e.memoizedProps,Oc(e,c,s!==null?s.memoizedProps:c)),o&1024&&(Rc=!0);break;case 6:if(tn(a,e),nn(e),o&4){if(e.stateNode===null)throw Error(i(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(M){et(e,e.return,M)}}break;case 3:if(ul=null,c=En,En=ol(a.containerInfo),tn(a,e),En=c,nn(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{Oi(a.containerInfo)}catch(M){et(e,e.return,M)}Rc&&(Rc=!1,ip(e));break;case 4:o=En,En=ol(e.stateNode.containerInfo),tn(a,e),nn(e),En=o;break;case 12:tn(a,e),nn(e);break;case 13:tn(a,e),nn(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Lc=on()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Nc(e,o)));break;case 22:c=e.memoizedState!==null;var S=s!==null&&s.memoizedState!==null,R=aa,q=vt;if(aa=R||c,vt=q||S,tn(a,e),vt=q,aa=R,nn(e),o&8192)e:for(a=e.stateNode,a._visibility=c?a._visibility&-2:a._visibility|1,c&&(s===null||S||aa||vt||lr(e)),s=null,a=e;;){if(a.tag===5||a.tag===26){if(s===null){S=s=a;try{if(f=S.stateNode,c)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{b=S.stateNode;var Z=S.memoizedProps.style,D=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;b.style.display=D==null||typeof D=="boolean"?"":(""+D).trim()}}catch(M){et(S,S.return,M)}}}else if(a.tag===6){if(s===null){S=a;try{S.stateNode.nodeValue=c?"":S.memoizedProps}catch(M){et(S,S.return,M)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===e)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break e;for(;a.sibling===null;){if(a.return===null||a.return===e)break e;s===a&&(s=null),a=a.return}s===a&&(s=null),a.sibling.return=a.return,a=a.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,Nc(e,s))));break;case 19:tn(a,e),nn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Nc(e,o)));break;case 30:break;case 21:break;default:tn(a,e),nn(e)}}function nn(e){var a=e.flags;if(a&2){try{for(var s,o=e.return;o!==null;){if(Jm(o)){s=o;break}o=o.return}if(s==null)throw Error(i(160));switch(s.tag){case 27:var c=s.stateNode,f=Ac(e);Ko(e,f,c);break;case 5:var v=s.stateNode;s.flags&32&&(Or(v,""),s.flags&=-33);var b=Ac(e);Ko(e,b,v);break;case 3:case 4:var S=s.stateNode.containerInfo,R=Ac(e);Cc(e,R,S);break;default:throw Error(i(161))}}catch(q){et(e,e.return,q)}e.flags&=-3}a&4096&&(e.flags&=-4097)}function ip(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var a=e;ip(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),e=e.sibling}}function Ta(e,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)tp(e,a.alternate,a),a=a.sibling}function lr(e){for(e=e.child;e!==null;){var a=e;switch(a.tag){case 0:case 11:case 14:case 15:Ea(4,a,a.return),lr(a);break;case 1:zn(a,a.return);var s=a.stateNode;typeof s.componentWillUnmount=="function"&&Qm(a,a.return,s),lr(a);break;case 27:_i(a.stateNode);case 26:case 5:zn(a,a.return),lr(a);break;case 22:a.memoizedState===null&&lr(a);break;case 30:lr(a);break;default:lr(a)}e=e.sibling}}function ja(e,a,s){for(s=s&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var o=a.alternate,c=e,f=a,v=f.flags;switch(f.tag){case 0:case 11:case 15:ja(c,f,s),ci(4,f);break;case 1:if(ja(c,f,s),o=f,c=o.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(R){et(o,o.return,R)}if(o=f,c=o.updateQueue,c!==null){var b=o.stateNode;try{var S=c.shared.hiddenCallbacks;if(S!==null)for(c.shared.hiddenCallbacks=null,c=0;c<S.length;c++)zh(S[c],b)}catch(R){et(o,o.return,R)}}s&&v&64&&Ym(f),di(f,f.return);break;case 27:Wm(f);case 26:case 5:ja(c,f,s),s&&o===null&&v&4&&Xm(f),di(f,f.return);break;case 12:ja(c,f,s);break;case 13:ja(c,f,s),s&&v&4&&rp(c,f);break;case 22:f.memoizedState===null&&ja(c,f,s),di(f,f.return);break;case 30:break;default:ja(c,f,s)}a=a.sibling}}function Dc(e,a){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(e=a.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Qs(s))}function Mc(e,a){e=null,a.alternate!==null&&(e=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==e&&(a.refCount++,e!=null&&Qs(e))}function Un(e,a,s,o){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)op(e,a,s,o),a=a.sibling}function op(e,a,s,o){var c=a.flags;switch(a.tag){case 0:case 11:case 15:Un(e,a,s,o),c&2048&&ci(9,a);break;case 1:Un(e,a,s,o);break;case 3:Un(e,a,s,o),c&2048&&(e=null,a.alternate!==null&&(e=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==e&&(a.refCount++,e!=null&&Qs(e)));break;case 12:if(c&2048){Un(e,a,s,o),e=a.stateNode;try{var f=a.memoizedProps,v=f.id,b=f.onPostCommit;typeof b=="function"&&b(v,a.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(S){et(a,a.return,S)}}else Un(e,a,s,o);break;case 13:Un(e,a,s,o);break;case 23:break;case 22:f=a.stateNode,v=a.alternate,a.memoizedState!==null?f._visibility&2?Un(e,a,s,o):fi(e,a):f._visibility&2?Un(e,a,s,o):(f._visibility|=2,Gr(e,a,s,o,(a.subtreeFlags&10256)!==0)),c&2048&&Dc(v,a);break;case 24:Un(e,a,s,o),c&2048&&Mc(a.alternate,a);break;default:Un(e,a,s,o)}}function Gr(e,a,s,o,c){for(c=c&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var f=e,v=a,b=s,S=o,R=v.flags;switch(v.tag){case 0:case 11:case 15:Gr(f,v,b,S,c),ci(8,v);break;case 23:break;case 22:var q=v.stateNode;v.memoizedState!==null?q._visibility&2?Gr(f,v,b,S,c):fi(f,v):(q._visibility|=2,Gr(f,v,b,S,c)),c&&R&2048&&Dc(v.alternate,v);break;case 24:Gr(f,v,b,S,c),c&&R&2048&&Mc(v.alternate,v);break;default:Gr(f,v,b,S,c)}a=a.sibling}}function fi(e,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var s=e,o=a,c=o.flags;switch(o.tag){case 22:fi(s,o),c&2048&&Dc(o.alternate,o);break;case 24:fi(s,o),c&2048&&Mc(o.alternate,o);break;default:fi(s,o)}a=a.sibling}}var hi=8192;function Kr(e){if(e.subtreeFlags&hi)for(e=e.child;e!==null;)lp(e),e=e.sibling}function lp(e){switch(e.tag){case 26:Kr(e),e.flags&hi&&e.memoizedState!==null&&c_(En,e.memoizedState,e.memoizedProps);break;case 5:Kr(e);break;case 3:case 4:var a=En;En=ol(e.stateNode.containerInfo),Kr(e),En=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=hi,hi=16777216,Kr(e),hi=a):Kr(e));break;default:Kr(e)}}function up(e){var a=e.alternate;if(a!==null&&(e=a.child,e!==null)){a.child=null;do a=e.sibling,e.sibling=null,e=a;while(e!==null)}}function mi(e){var a=e.deletions;if((e.flags&16)!==0){if(a!==null)for(var s=0;s<a.length;s++){var o=a[s];Ot=o,dp(o,e)}up(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)cp(e),e=e.sibling}function cp(e){switch(e.tag){case 0:case 11:case 15:mi(e),e.flags&2048&&Ea(9,e,e.return);break;case 3:mi(e);break;case 12:mi(e);break;case 22:var a=e.stateNode;e.memoizedState!==null&&a._visibility&2&&(e.return===null||e.return.tag!==13)?(a._visibility&=-3,Yo(e)):mi(e);break;default:mi(e)}}function Yo(e){var a=e.deletions;if((e.flags&16)!==0){if(a!==null)for(var s=0;s<a.length;s++){var o=a[s];Ot=o,dp(o,e)}up(e)}for(e=e.child;e!==null;){switch(a=e,a.tag){case 0:case 11:case 15:Ea(8,a,a.return),Yo(a);break;case 22:s=a.stateNode,s._visibility&2&&(s._visibility&=-3,Yo(a));break;default:Yo(a)}e=e.sibling}}function dp(e,a){for(;Ot!==null;){var s=Ot;switch(s.tag){case 0:case 11:case 15:Ea(8,s,a);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Qs(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,Ot=o;else e:for(s=e;Ot!==null;){o=Ot;var c=o.sibling,f=o.return;if(np(o),o===s){Ot=null;break e}if(c!==null){c.return=f,Ot=c;break e}Ot=f}}}var jb={getCacheForType:function(e){var a=$t(St),s=a.data.get(e);return s===void 0&&(s=e(),a.data.set(e,s)),s}},kb=typeof WeakMap=="function"?WeakMap:Map,Ve=0,tt=null,Oe=null,Me=0,Fe=0,an=null,ka=!1,Yr=!1,zc=!1,sa=0,pt=0,Oa=0,ur=0,Uc=0,gn=0,Qr=0,pi=null,Yt=null,$c=!1,Lc=0,Qo=1/0,Xo=null,Aa=null,zt=0,Ca=null,Xr=null,Jr=0,qc=0,Bc=null,fp=null,gi=0,Ic=null;function rn(){if((Ve&2)!==0&&Me!==0)return Me&-Me;if(U.T!==null){var e=qr;return e!==0?e:Kc()}return fa()}function hp(){gn===0&&(gn=(Me&536870912)===0||qe?_e():536870912);var e=pn.current;return e!==null&&(e.flags|=32),gn}function sn(e,a,s){(e===tt&&(Fe===2||Fe===9)||e.cancelPendingCommit!==null)&&(Wr(e,0),Ra(e,Me,gn,!1)),ze(e,s),((Ve&2)===0||e!==tt)&&(e===tt&&((Ve&2)===0&&(ur|=s),pt===4&&Ra(e,Me,gn,!1)),$n(e))}function mp(e,a,s){if((Ve&6)!==0)throw Error(i(327));var o=!s&&(a&124)===0&&(a&e.expiredLanes)===0||he(e,a),c=o?Cb(e,a):Pc(e,a,!0),f=o;do{if(c===0){Yr&&!o&&Ra(e,a,0,!1);break}else{if(s=e.current.alternate,f&&!Ob(s)){c=Pc(e,a,!1),f=!1;continue}if(c===2){if(f=a,e.errorRecoveryDisabledLanes&f)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){a=v;e:{var b=e;c=pi;var S=b.current.memoizedState.isDehydrated;if(S&&(Wr(b,v).flags|=256),v=Pc(b,v,!1),v!==2){if(zc&&!S){b.errorRecoveryDisabledLanes|=f,ur|=f,c=4;break e}f=Yt,Yt=c,f!==null&&(Yt===null?Yt=f:Yt.push.apply(Yt,f))}c=v}if(f=!1,c!==2)continue}}if(c===1){Wr(e,0),Ra(e,a,0,!0);break}e:{switch(o=e,f=c,f){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:Ra(o,a,gn,!ka);break e;case 2:Yt=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(c=Lc+300-on(),10<c)){if(Ra(o,a,gn,!ka),oe(o,0,!0)!==0)break e;o.timeoutHandle=Zp(pp.bind(null,o,s,Yt,Xo,$c,a,gn,ur,Qr,ka,f,2,-0,0),c);break e}pp(o,s,Yt,Xo,$c,a,gn,ur,Qr,ka,f,0,-0,0)}}break}while(!0);$n(e)}function pp(e,a,s,o,c,f,v,b,S,R,q,Z,D,M){if(e.timeoutHandle=-1,Z=a.subtreeFlags,(Z&8192||(Z&16785408)===16785408)&&(xi={stylesheets:null,count:0,unsuspend:u_},lp(a),Z=d_(),Z!==null)){e.cancelPendingCommit=Z(Sp.bind(null,e,a,f,s,o,c,v,b,S,q,1,D,M)),Ra(e,f,v,!R);return}Sp(e,a,f,s,o,c,v,b,S)}function Ob(e){for(var a=e;;){var s=a.tag;if((s===0||s===11||s===15)&&a.flags&16384&&(s=a.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var c=s[o],f=c.getSnapshot;c=c.value;try{if(!Wt(f(),c))return!1}catch{return!1}}if(s=a.child,a.subtreeFlags&16384&&s!==null)s.return=a,a=s;else{if(a===e)break;for(;a.sibling===null;){if(a.return===null||a.return===e)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Ra(e,a,s,o){a&=~Uc,a&=~ur,e.suspendedLanes|=a,e.pingedLanes&=~a,o&&(e.warmLanes|=a),o=e.expirationTimes;for(var c=a;0<c;){var f=31-Ht(c),v=1<<f;o[f]=-1,c&=~v}s!==0&&Dt(e,s,a)}function Jo(){return(Ve&6)===0?(vi(0),!1):!0}function Hc(){if(Oe!==null){if(Fe===0)var e=Oe.return;else e=Oe,Xn=ar=null,sc(e),Vr=null,oi=0,e=Oe;for(;e!==null;)Km(e.alternate,e),e=e.return;Oe=null}}function Wr(e,a){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,Fb(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Hc(),tt=e,Oe=s=Kn(e.current,null),Me=a,Fe=0,an=null,ka=!1,Yr=he(e,a),zc=!1,Qr=gn=Uc=ur=Oa=pt=0,Yt=pi=null,$c=!1,(a&8)!==0&&(a|=a&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=a;0<o;){var c=31-Ht(o),f=1<<c;a|=e[c],o&=~f}return sa=a,_o(),s}function gp(e,a){Te=null,U.H=qo,a===Js||a===Ao?(a=Dh(),Fe=3):a===Ch?(a=Dh(),Fe=4):Fe=a===Mm?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,an=a,Oe===null&&(pt=1,Po(e,dn(a,e.current)))}function vp(){var e=U.H;return U.H=qo,e===null?qo:e}function yp(){var e=U.A;return U.A=jb,e}function Zc(){pt=4,ka||(Me&4194048)!==Me&&pn.current!==null||(Yr=!0),(Oa&134217727)===0&&(ur&134217727)===0||tt===null||Ra(tt,Me,gn,!1)}function Pc(e,a,s){var o=Ve;Ve|=2;var c=vp(),f=yp();(tt!==e||Me!==a)&&(Xo=null,Wr(e,a)),a=!1;var v=pt;e:do try{if(Fe!==0&&Oe!==null){var b=Oe,S=an;switch(Fe){case 8:Hc(),v=6;break e;case 3:case 2:case 9:case 6:pn.current===null&&(a=!0);var R=Fe;if(Fe=0,an=null,es(e,b,S,R),s&&Yr){v=0;break e}break;default:R=Fe,Fe=0,an=null,es(e,b,S,R)}}Ab(),v=pt;break}catch(q){gp(e,q)}while(!0);return a&&e.shellSuspendCounter++,Xn=ar=null,Ve=o,U.H=c,U.A=f,Oe===null&&(tt=null,Me=0,_o()),v}function Ab(){for(;Oe!==null;)bp(Oe)}function Cb(e,a){var s=Ve;Ve|=2;var o=vp(),c=yp();tt!==e||Me!==a?(Xo=null,Qo=on()+500,Wr(e,a)):Yr=he(e,a);e:do try{if(Fe!==0&&Oe!==null){a=Oe;var f=an;t:switch(Fe){case 1:Fe=0,an=null,es(e,a,f,1);break;case 2:case 9:if(Rh(f)){Fe=0,an=null,_p(a);break}a=function(){Fe!==2&&Fe!==9||tt!==e||(Fe=7),$n(e)},f.then(a,a);break e;case 3:Fe=7;break e;case 4:Fe=5;break e;case 7:Rh(f)?(Fe=0,an=null,_p(a)):(Fe=0,an=null,es(e,a,f,7));break;case 5:var v=null;switch(Oe.tag){case 26:v=Oe.memoizedState;case 5:case 27:var b=Oe;if(!v||tg(v)){Fe=0,an=null;var S=b.sibling;if(S!==null)Oe=S;else{var R=b.return;R!==null?(Oe=R,Wo(R)):Oe=null}break t}}Fe=0,an=null,es(e,a,f,5);break;case 6:Fe=0,an=null,es(e,a,f,6);break;case 8:Hc(),pt=6;break e;default:throw Error(i(462))}}Rb();break}catch(q){gp(e,q)}while(!0);return Xn=ar=null,U.H=o,U.A=c,Ve=s,Oe!==null?0:(tt=null,Me=0,_o(),pt)}function Rb(){for(;Oe!==null&&!zs();)bp(Oe)}function bp(e){var a=Fm(e.alternate,e,sa);e.memoizedProps=e.pendingProps,a===null?Wo(e):Oe=a}function _p(e){var a=e,s=a.alternate;switch(a.tag){case 15:case 0:a=Bm(s,a,a.pendingProps,a.type,void 0,Me);break;case 11:a=Bm(s,a,a.pendingProps,a.type.render,a.ref,Me);break;case 5:sc(a);default:Km(s,a),a=Oe=wh(a,sa),a=Fm(s,a,sa)}e.memoizedProps=e.pendingProps,a===null?Wo(e):Oe=a}function es(e,a,s,o){Xn=ar=null,sc(a),Vr=null,oi=0;var c=a.return;try{if(_b(e,c,a,s,Me)){pt=1,Po(e,dn(s,e.current)),Oe=null;return}}catch(f){if(c!==null)throw Oe=c,f;pt=1,Po(e,dn(s,e.current)),Oe=null;return}a.flags&32768?(qe||o===1?e=!0:Yr||(Me&536870912)!==0?e=!1:(ka=e=!0,(o===2||o===9||o===3||o===6)&&(o=pn.current,o!==null&&o.tag===13&&(o.flags|=16384))),wp(a,e)):Wo(a)}function Wo(e){var a=e;do{if((a.flags&32768)!==0){wp(a,ka);return}e=a.return;var s=Sb(a.alternate,a,sa);if(s!==null){Oe=s;return}if(a=a.sibling,a!==null){Oe=a;return}Oe=a=e}while(a!==null);pt===0&&(pt=5)}function wp(e,a){do{var s=xb(e.alternate,e);if(s!==null){s.flags&=32767,Oe=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!a&&(e=e.sibling,e!==null)){Oe=e;return}Oe=e=s}while(e!==null);pt=6,Oe=null}function Sp(e,a,s,o,c,f,v,b,S){e.cancelPendingCommit=null;do el();while(zt!==0);if((Ve&6)!==0)throw Error(i(327));if(a!==null){if(a===e.current)throw Error(i(177));if(f=a.lanes|a.childLanes,f|=Mu,Sn(e,s,f,v,b,S),e===tt&&(Oe=tt=null,Me=0),Xr=a,Ca=e,Jr=s,qc=f,Bc=c,fp=o,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,zb(xr,function(){return kp(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||o){o=U.T,U.T=null,c=Y.p,Y.p=2,v=Ve,Ve|=4;try{Eb(e,a,s)}finally{Ve=v,Y.p=c,U.T=o}}zt=1,xp(),Ep(),Tp()}}function xp(){if(zt===1){zt=0;var e=Ca,a=Xr,s=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||s){s=U.T,U.T=null;var o=Y.p;Y.p=2;var c=Ve;Ve|=4;try{sp(a,e);var f=nd,v=dh(e.containerInfo),b=f.focusedElem,S=f.selectionRange;if(v!==b&&b&&b.ownerDocument&&ch(b.ownerDocument.documentElement,b)){if(S!==null&&Au(b)){var R=S.start,q=S.end;if(q===void 0&&(q=R),"selectionStart"in b)b.selectionStart=R,b.selectionEnd=Math.min(q,b.value.length);else{var Z=b.ownerDocument||document,D=Z&&Z.defaultView||window;if(D.getSelection){var M=D.getSelection(),ge=b.textContent.length,me=Math.min(S.start,ge),Xe=S.end===void 0?me:Math.min(S.end,ge);!M.extend&&me>Xe&&(v=Xe,Xe=me,me=v);var O=uh(b,me),j=uh(b,Xe);if(O&&j&&(M.rangeCount!==1||M.anchorNode!==O.node||M.anchorOffset!==O.offset||M.focusNode!==j.node||M.focusOffset!==j.offset)){var C=Z.createRange();C.setStart(O.node,O.offset),M.removeAllRanges(),me>Xe?(M.addRange(C),M.extend(j.node,j.offset)):(C.setEnd(j.node,j.offset),M.addRange(C))}}}}for(Z=[],M=b;M=M.parentNode;)M.nodeType===1&&Z.push({element:M,left:M.scrollLeft,top:M.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<Z.length;b++){var H=Z[b];H.element.scrollLeft=H.left,H.element.scrollTop=H.top}}fl=!!td,nd=td=null}finally{Ve=c,Y.p=o,U.T=s}}e.current=a,zt=2}}function Ep(){if(zt===2){zt=0;var e=Ca,a=Xr,s=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||s){s=U.T,U.T=null;var o=Y.p;Y.p=2;var c=Ve;Ve|=4;try{tp(e,a.alternate,a)}finally{Ve=c,Y.p=o,U.T=s}}zt=3}}function Tp(){if(zt===4||zt===3){zt=0,Bt();var e=Ca,a=Xr,s=Jr,o=fp;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?zt=5:(zt=0,Xr=Ca=null,jp(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(Aa=null),Ga(s),a=a.stateNode,It&&typeof It.onCommitFiberRoot=="function")try{It.onCommitFiberRoot(Fa,a,void 0,(a.current.flags&128)===128)}catch{}if(o!==null){a=U.T,c=Y.p,Y.p=2,U.T=null;try{for(var f=e.onRecoverableError,v=0;v<o.length;v++){var b=o[v];f(b.value,{componentStack:b.stack})}}finally{U.T=a,Y.p=c}}(Jr&3)!==0&&el(),$n(e),c=e.pendingLanes,(s&4194090)!==0&&(c&42)!==0?e===Ic?gi++:(gi=0,Ic=e):gi=0,vi(0)}}function jp(e,a){(e.pooledCacheLanes&=a)===0&&(a=e.pooledCache,a!=null&&(e.pooledCache=null,Qs(a)))}function el(e){return xp(),Ep(),Tp(),kp()}function kp(){if(zt!==5)return!1;var e=Ca,a=qc;qc=0;var s=Ga(Jr),o=U.T,c=Y.p;try{Y.p=32>s?32:s,U.T=null,s=Bc,Bc=null;var f=Ca,v=Jr;if(zt=0,Xr=Ca=null,Jr=0,(Ve&6)!==0)throw Error(i(331));var b=Ve;if(Ve|=4,cp(f.current),op(f,f.current,v,s),Ve=b,vi(0,!1),It&&typeof It.onPostCommitFiberRoot=="function")try{It.onPostCommitFiberRoot(Fa,f)}catch{}return!0}finally{Y.p=c,U.T=o,jp(e,a)}}function Op(e,a,s){a=dn(s,a),a=bc(e.stateNode,a,2),e=_a(e,a,2),e!==null&&(ze(e,2),$n(e))}function et(e,a,s){if(e.tag===3)Op(e,e,s);else for(;a!==null;){if(a.tag===3){Op(a,e,s);break}else if(a.tag===1){var o=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Aa===null||!Aa.has(o))){e=dn(s,e),s=Nm(2),o=_a(a,s,2),o!==null&&(Dm(s,o,a,e),ze(o,2),$n(o));break}}a=a.return}}function Vc(e,a,s){var o=e.pingCache;if(o===null){o=e.pingCache=new kb;var c=new Set;o.set(a,c)}else c=o.get(a),c===void 0&&(c=new Set,o.set(a,c));c.has(s)||(zc=!0,c.add(s),e=Nb.bind(null,e,a,s),a.then(e,e))}function Nb(e,a,s){var o=e.pingCache;o!==null&&o.delete(a),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,tt===e&&(Me&s)===s&&(pt===4||pt===3&&(Me&62914560)===Me&&300>on()-Lc?(Ve&2)===0&&Wr(e,0):Uc|=s,Qr===Me&&(Qr=0)),$n(e)}function Ap(e,a){a===0&&(a=ke()),e=zr(e,a),e!==null&&(ze(e,a),$n(e))}function Db(e){var a=e.memoizedState,s=0;a!==null&&(s=a.retryLane),Ap(e,s)}function Mb(e,a){var s=0;switch(e.tag){case 13:var o=e.stateNode,c=e.memoizedState;c!==null&&(s=c.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(i(314))}o!==null&&o.delete(a),Ap(e,s)}function zb(e,a){return wn(e,a)}var tl=null,ts=null,Fc=!1,nl=!1,Gc=!1,cr=0;function $n(e){e!==ts&&e.next===null&&(ts===null?tl=ts=e:ts=ts.next=e),nl=!0,Fc||(Fc=!0,$b())}function vi(e,a){if(!Gc&&nl){Gc=!0;do for(var s=!1,o=tl;o!==null;){if(e!==0){var c=o.pendingLanes;if(c===0)var f=0;else{var v=o.suspendedLanes,b=o.pingedLanes;f=(1<<31-Ht(42|e)+1)-1,f&=c&~(v&~b),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Dp(o,f))}else f=Me,f=oe(o,o===tt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||he(o,f)||(s=!0,Dp(o,f));o=o.next}while(s);Gc=!1}}function Ub(){Cp()}function Cp(){nl=Fc=!1;var e=0;cr!==0&&(Vb()&&(e=cr),cr=0);for(var a=on(),s=null,o=tl;o!==null;){var c=o.next,f=Rp(o,a);f===0?(o.next=null,s===null?tl=c:s.next=c,c===null&&(ts=s)):(s=o,(e!==0||(f&3)!==0)&&(nl=!0)),o=c}vi(e)}function Rp(e,a){for(var s=e.suspendedLanes,o=e.pingedLanes,c=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var v=31-Ht(f),b=1<<v,S=c[v];S===-1?((b&s)===0||(b&o)!==0)&&(c[v]=Ne(b,a)):S<=a&&(e.expiredLanes|=b),f&=~b}if(a=tt,s=Me,s=oe(e,e===a?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===a&&(Fe===2||Fe===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Zn(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||he(e,s)){if(a=s&-s,a===e.callbackPriority)return a;switch(o!==null&&Zn(o),Ga(s)){case 2:case 8:s=Us;break;case 32:s=xr;break;case 268435456:s=io;break;default:s=xr}return o=Np.bind(null,e),s=wn(s,o),e.callbackPriority=a,e.callbackNode=s,a}return o!==null&&o!==null&&Zn(o),e.callbackPriority=2,e.callbackNode=null,2}function Np(e,a){if(zt!==0&&zt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(el()&&e.callbackNode!==s)return null;var o=Me;return o=oe(e,e===tt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(mp(e,o,a),Rp(e,on()),e.callbackNode!=null&&e.callbackNode===s?Np.bind(null,e):null)}function Dp(e,a){if(el())return null;mp(e,a,!0)}function $b(){Gb(function(){(Ve&6)!==0?wn(Sr,Ub):Cp()})}function Kc(){return cr===0&&(cr=_e()),cr}function Mp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ho(""+e)}function zp(e,a){var s=a.ownerDocument.createElement("input");return s.name=a.name,s.value=a.value,e.id&&s.setAttribute("form",e.id),a.parentNode.insertBefore(s,a),e=new FormData(e),s.parentNode.removeChild(s),e}function Lb(e,a,s,o,c){if(a==="submit"&&s&&s.stateNode===c){var f=Mp((c[Ke]||null).action),v=o.submitter;v&&(a=(a=v[Ke]||null)?Mp(a.formAction):v.getAttribute("formAction"),a!==null&&(f=a,v=null));var b=new vo("action","action",null,o,c);e.push({event:b,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(cr!==0){var S=v?zp(c,v):new FormData(c);mc(s,{pending:!0,data:S,method:c.method,action:f},null,S)}}else typeof f=="function"&&(b.preventDefault(),S=v?zp(c,v):new FormData(c),mc(s,{pending:!0,data:S,method:c.method,action:f},f,S))},currentTarget:c}]})}}for(var Yc=0;Yc<Du.length;Yc++){var Qc=Du[Yc],qb=Qc.toLowerCase(),Bb=Qc[0].toUpperCase()+Qc.slice(1);xn(qb,"on"+Bb)}xn(mh,"onAnimationEnd"),xn(ph,"onAnimationIteration"),xn(gh,"onAnimationStart"),xn("dblclick","onDoubleClick"),xn("focusin","onFocus"),xn("focusout","onBlur"),xn(ab,"onTransitionRun"),xn(rb,"onTransitionStart"),xn(sb,"onTransitionCancel"),xn(vh,"onTransitionEnd"),Tr("onMouseEnter",["mouseout","mouseover"]),Tr("onMouseLeave",["mouseout","mouseover"]),Tr("onPointerEnter",["pointerout","pointerover"]),Tr("onPointerLeave",["pointerout","pointerover"]),Ka("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ka("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ka("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ka("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ka("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ka("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ib=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(yi));function Up(e,a){a=(a&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],c=o.event;o=o.listeners;e:{var f=void 0;if(a)for(var v=o.length-1;0<=v;v--){var b=o[v],S=b.instance,R=b.currentTarget;if(b=b.listener,S!==f&&c.isPropagationStopped())break e;f=b,c.currentTarget=R;try{f(c)}catch(q){Zo(q)}c.currentTarget=null,f=S}else for(v=0;v<o.length;v++){if(b=o[v],S=b.instance,R=b.currentTarget,b=b.listener,S!==f&&c.isPropagationStopped())break e;f=b,c.currentTarget=R;try{f(c)}catch(q){Zo(q)}c.currentTarget=null,f=S}}}}function Ae(e,a){var s=a[Er];s===void 0&&(s=a[Er]=new Set);var o=e+"__bubble";s.has(o)||($p(a,e,2,!1),s.add(o))}function Xc(e,a,s){var o=0;a&&(o|=4),$p(s,e,o,a)}var al="_reactListening"+Math.random().toString(36).slice(2);function Jc(e){if(!e[al]){e[al]=!0,Cf.forEach(function(s){s!=="selectionchange"&&(Ib.has(s)||Xc(s,!1,e),Xc(s,!0,e))});var a=e.nodeType===9?e:e.ownerDocument;a===null||a[al]||(a[al]=!0,Xc("selectionchange",!1,a))}}function $p(e,a,s,o){switch(og(a)){case 2:var c=m_;break;case 8:c=p_;break;default:c=fd}s=c.bind(null,a,s,e),c=void 0,!_u||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(c=!0),o?c!==void 0?e.addEventListener(a,s,{capture:!0,passive:c}):e.addEventListener(a,s,!0):c!==void 0?e.addEventListener(a,s,{passive:c}):e.addEventListener(a,s,!1)}function Wc(e,a,s,o,c){var f=o;if((a&1)===0&&(a&2)===0&&o!==null)e:for(;;){if(o===null)return;var v=o.tag;if(v===3||v===4){var b=o.stateNode.containerInfo;if(b===c)break;if(v===4)for(v=o.return;v!==null;){var S=v.tag;if((S===3||S===4)&&v.stateNode.containerInfo===c)return;v=v.return}for(;b!==null;){if(v=ha(b),v===null)return;if(S=v.tag,S===5||S===6||S===26||S===27){o=f=v;continue e}b=b.parentNode}}o=o.return}Pf(function(){var R=f,q=yu(s),Z=[];e:{var D=yh.get(e);if(D!==void 0){var M=vo,ge=e;switch(e){case"keypress":if(po(s)===0)break e;case"keydown":case"keyup":M=z0;break;case"focusin":ge="focus",M=Eu;break;case"focusout":ge="blur",M=Eu;break;case"beforeblur":case"afterblur":M=Eu;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":M=Gf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":M=x0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":M=L0;break;case mh:case ph:case gh:M=j0;break;case vh:M=B0;break;case"scroll":case"scrollend":M=w0;break;case"wheel":M=H0;break;case"copy":case"cut":case"paste":M=O0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":M=Yf;break;case"toggle":case"beforetoggle":M=P0}var me=(a&4)!==0,Xe=!me&&(e==="scroll"||e==="scrollend"),O=me?D!==null?D+"Capture":null:D;me=[];for(var j=R,C;j!==null;){var H=j;if(C=H.stateNode,H=H.tag,H!==5&&H!==26&&H!==27||C===null||O===null||(H=$s(j,O),H!=null&&me.push(bi(j,H,C))),Xe)break;j=j.return}0<me.length&&(D=new M(D,ge,null,s,q),Z.push({event:D,listeners:me}))}}if((a&7)===0){e:{if(D=e==="mouseover"||e==="pointerover",M=e==="mouseout"||e==="pointerout",D&&s!==vu&&(ge=s.relatedTarget||s.fromElement)&&(ha(ge)||ge[Jt]))break e;if((M||D)&&(D=q.window===q?q:(D=q.ownerDocument)?D.defaultView||D.parentWindow:window,M?(ge=s.relatedTarget||s.toElement,M=R,ge=ge?ha(ge):null,ge!==null&&(Xe=u(ge),me=ge.tag,ge!==Xe||me!==5&&me!==27&&me!==6)&&(ge=null)):(M=null,ge=R),M!==ge)){if(me=Gf,H="onMouseLeave",O="onMouseEnter",j="mouse",(e==="pointerout"||e==="pointerover")&&(me=Yf,H="onPointerLeave",O="onPointerEnter",j="pointer"),Xe=M==null?D:Nn(M),C=ge==null?D:Nn(ge),D=new me(H,j+"leave",M,s,q),D.target=Xe,D.relatedTarget=C,H=null,ha(q)===R&&(me=new me(O,j+"enter",ge,s,q),me.target=C,me.relatedTarget=Xe,H=me),Xe=H,M&&ge)t:{for(me=M,O=ge,j=0,C=me;C;C=ns(C))j++;for(C=0,H=O;H;H=ns(H))C++;for(;0<j-C;)me=ns(me),j--;for(;0<C-j;)O=ns(O),C--;for(;j--;){if(me===O||O!==null&&me===O.alternate)break t;me=ns(me),O=ns(O)}me=null}else me=null;M!==null&&Lp(Z,D,M,me,!1),ge!==null&&Xe!==null&&Lp(Z,Xe,ge,me,!0)}}e:{if(D=R?Nn(R):window,M=D.nodeName&&D.nodeName.toLowerCase(),M==="select"||M==="input"&&D.type==="file")var se=ah;else if(th(D))if(rh)se=eb;else{se=J0;var je=X0}else M=D.nodeName,!M||M.toLowerCase()!=="input"||D.type!=="checkbox"&&D.type!=="radio"?R&&gu(R.elementType)&&(se=ah):se=W0;if(se&&(se=se(e,R))){nh(Z,se,s,q);break e}je&&je(e,D,R),e==="focusout"&&R&&D.type==="number"&&R.memoizedProps.value!=null&&pu(D,"number",D.value)}switch(je=R?Nn(R):window,e){case"focusin":(th(je)||je.contentEditable==="true")&&(Nr=je,Cu=R,Vs=null);break;case"focusout":Vs=Cu=Nr=null;break;case"mousedown":Ru=!0;break;case"contextmenu":case"mouseup":case"dragend":Ru=!1,fh(Z,s,q);break;case"selectionchange":if(nb)break;case"keydown":case"keyup":fh(Z,s,q)}var le;if(ju)e:{switch(e){case"compositionstart":var pe="onCompositionStart";break e;case"compositionend":pe="onCompositionEnd";break e;case"compositionupdate":pe="onCompositionUpdate";break e}pe=void 0}else Rr?Wf(e,s)&&(pe="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(pe="onCompositionStart");pe&&(Qf&&s.locale!=="ko"&&(Rr||pe!=="onCompositionStart"?pe==="onCompositionEnd"&&Rr&&(le=Vf()):(ga=q,wu="value"in ga?ga.value:ga.textContent,Rr=!0)),je=rl(R,pe),0<je.length&&(pe=new Kf(pe,e,null,s,q),Z.push({event:pe,listeners:je}),le?pe.data=le:(le=eh(s),le!==null&&(pe.data=le)))),(le=F0?G0(e,s):K0(e,s))&&(pe=rl(R,"onBeforeInput"),0<pe.length&&(je=new Kf("onBeforeInput","beforeinput",null,s,q),Z.push({event:je,listeners:pe}),je.data=le)),Lb(Z,e,R,s,q)}Up(Z,a)})}function bi(e,a,s){return{instance:e,listener:a,currentTarget:s}}function rl(e,a){for(var s=a+"Capture",o=[];e!==null;){var c=e,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=$s(e,s),c!=null&&o.unshift(bi(e,c,f)),c=$s(e,a),c!=null&&o.push(bi(e,c,f))),e.tag===3)return o;e=e.return}return[]}function ns(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Lp(e,a,s,o,c){for(var f=a._reactName,v=[];s!==null&&s!==o;){var b=s,S=b.alternate,R=b.stateNode;if(b=b.tag,S!==null&&S===o)break;b!==5&&b!==26&&b!==27||R===null||(S=R,c?(R=$s(s,f),R!=null&&v.unshift(bi(s,R,S))):c||(R=$s(s,f),R!=null&&v.push(bi(s,R,S)))),s=s.return}v.length!==0&&e.push({event:a,listeners:v})}var Hb=/\r\n?/g,Zb=/\u0000|\uFFFD/g;function qp(e){return(typeof e=="string"?e:""+e).replace(Hb,`
`).replace(Zb,"")}function Bp(e,a){return a=qp(a),qp(e)===a}function sl(){}function Qe(e,a,s,o,c,f){switch(s){case"children":typeof o=="string"?a==="body"||a==="textarea"&&o===""||Or(e,o):(typeof o=="number"||typeof o=="bigint")&&a!=="body"&&Or(e,""+o);break;case"className":uo(e,"class",o);break;case"tabIndex":uo(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":uo(e,s,o);break;case"style":Hf(e,o,f);break;case"data":if(a!=="object"){uo(e,"data",o);break}case"src":case"href":if(o===""&&(a!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=ho(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(a!=="input"&&Qe(e,a,"name",c.name,c,null),Qe(e,a,"formEncType",c.formEncType,c,null),Qe(e,a,"formMethod",c.formMethod,c,null),Qe(e,a,"formTarget",c.formTarget,c,null)):(Qe(e,a,"encType",c.encType,c,null),Qe(e,a,"method",c.method,c,null),Qe(e,a,"target",c.target,c,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=ho(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=sl);break;case"onScroll":o!=null&&Ae("scroll",e);break;case"onScrollEnd":o!=null&&Ae("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(i(61));if(s=o.__html,s!=null){if(c.children!=null)throw Error(i(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=ho(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":Ae("beforetoggle",e),Ae("toggle",e),lo(e,"popover",o);break;case"xlinkActuate":Fn(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Fn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Fn(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Fn(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Fn(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Fn(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Fn(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Fn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Fn(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":lo(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=b0.get(s)||s,lo(e,s,o))}}function ed(e,a,s,o,c,f){switch(s){case"style":Hf(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(i(61));if(s=o.__html,s!=null){if(c.children!=null)throw Error(i(60));e.innerHTML=s}}break;case"children":typeof o=="string"?Or(e,o):(typeof o=="number"||typeof o=="bigint")&&Or(e,""+o);break;case"onScroll":o!=null&&Ae("scroll",e);break;case"onScrollEnd":o!=null&&Ae("scrollend",e);break;case"onClick":o!=null&&(e.onclick=sl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Rf.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(c=s.endsWith("Capture"),a=s.slice(2,c?s.length-7:void 0),f=e[Ke]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(a,f,c),typeof o=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(a,o,c);break e}s in e?e[s]=o:o===!0?e.setAttribute(s,""):lo(e,s,o)}}}function Ut(e,a,s){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ae("error",e),Ae("load",e);var o=!1,c=!1,f;for(f in s)if(s.hasOwnProperty(f)){var v=s[f];if(v!=null)switch(f){case"src":o=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Qe(e,a,f,v,s,null)}}c&&Qe(e,a,"srcSet",s.srcSet,s,null),o&&Qe(e,a,"src",s.src,s,null);return;case"input":Ae("invalid",e);var b=f=v=c=null,S=null,R=null;for(o in s)if(s.hasOwnProperty(o)){var q=s[o];if(q!=null)switch(o){case"name":c=q;break;case"type":v=q;break;case"checked":S=q;break;case"defaultChecked":R=q;break;case"value":f=q;break;case"defaultValue":b=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(i(137,a));break;default:Qe(e,a,o,q,s,null)}}Lf(e,f,b,S,R,v,c,!1),co(e);return;case"select":Ae("invalid",e),o=v=f=null;for(c in s)if(s.hasOwnProperty(c)&&(b=s[c],b!=null))switch(c){case"value":f=b;break;case"defaultValue":v=b;break;case"multiple":o=b;default:Qe(e,a,c,b,s,null)}a=f,s=v,e.multiple=!!o,a!=null?kr(e,!!o,a,!1):s!=null&&kr(e,!!o,s,!0);return;case"textarea":Ae("invalid",e),f=c=o=null;for(v in s)if(s.hasOwnProperty(v)&&(b=s[v],b!=null))switch(v){case"value":o=b;break;case"defaultValue":c=b;break;case"children":f=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(i(91));break;default:Qe(e,a,v,b,s,null)}Bf(e,o,c,f),co(e);return;case"option":for(S in s)if(s.hasOwnProperty(S)&&(o=s[S],o!=null))switch(S){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Qe(e,a,S,o,s,null)}return;case"dialog":Ae("beforetoggle",e),Ae("toggle",e),Ae("cancel",e),Ae("close",e);break;case"iframe":case"object":Ae("load",e);break;case"video":case"audio":for(o=0;o<yi.length;o++)Ae(yi[o],e);break;case"image":Ae("error",e),Ae("load",e);break;case"details":Ae("toggle",e);break;case"embed":case"source":case"link":Ae("error",e),Ae("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(R in s)if(s.hasOwnProperty(R)&&(o=s[R],o!=null))switch(R){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Qe(e,a,R,o,s,null)}return;default:if(gu(a)){for(q in s)s.hasOwnProperty(q)&&(o=s[q],o!==void 0&&ed(e,a,q,o,s,void 0));return}}for(b in s)s.hasOwnProperty(b)&&(o=s[b],o!=null&&Qe(e,a,b,o,s,null))}function Pb(e,a,s,o){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,v=null,b=null,S=null,R=null,q=null;for(M in s){var Z=s[M];if(s.hasOwnProperty(M)&&Z!=null)switch(M){case"checked":break;case"value":break;case"defaultValue":S=Z;default:o.hasOwnProperty(M)||Qe(e,a,M,null,o,Z)}}for(var D in o){var M=o[D];if(Z=s[D],o.hasOwnProperty(D)&&(M!=null||Z!=null))switch(D){case"type":f=M;break;case"name":c=M;break;case"checked":R=M;break;case"defaultChecked":q=M;break;case"value":v=M;break;case"defaultValue":b=M;break;case"children":case"dangerouslySetInnerHTML":if(M!=null)throw Error(i(137,a));break;default:M!==Z&&Qe(e,a,D,M,o,Z)}}mu(e,v,b,S,R,q,f,c);return;case"select":M=v=b=D=null;for(f in s)if(S=s[f],s.hasOwnProperty(f)&&S!=null)switch(f){case"value":break;case"multiple":M=S;default:o.hasOwnProperty(f)||Qe(e,a,f,null,o,S)}for(c in o)if(f=o[c],S=s[c],o.hasOwnProperty(c)&&(f!=null||S!=null))switch(c){case"value":D=f;break;case"defaultValue":b=f;break;case"multiple":v=f;default:f!==S&&Qe(e,a,c,f,o,S)}a=b,s=v,o=M,D!=null?kr(e,!!s,D,!1):!!o!=!!s&&(a!=null?kr(e,!!s,a,!0):kr(e,!!s,s?[]:"",!1));return;case"textarea":M=D=null;for(b in s)if(c=s[b],s.hasOwnProperty(b)&&c!=null&&!o.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Qe(e,a,b,null,o,c)}for(v in o)if(c=o[v],f=s[v],o.hasOwnProperty(v)&&(c!=null||f!=null))switch(v){case"value":D=c;break;case"defaultValue":M=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(i(91));break;default:c!==f&&Qe(e,a,v,c,o,f)}qf(e,D,M);return;case"option":for(var ge in s)if(D=s[ge],s.hasOwnProperty(ge)&&D!=null&&!o.hasOwnProperty(ge))switch(ge){case"selected":e.selected=!1;break;default:Qe(e,a,ge,null,o,D)}for(S in o)if(D=o[S],M=s[S],o.hasOwnProperty(S)&&D!==M&&(D!=null||M!=null))switch(S){case"selected":e.selected=D&&typeof D!="function"&&typeof D!="symbol";break;default:Qe(e,a,S,D,o,M)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var me in s)D=s[me],s.hasOwnProperty(me)&&D!=null&&!o.hasOwnProperty(me)&&Qe(e,a,me,null,o,D);for(R in o)if(D=o[R],M=s[R],o.hasOwnProperty(R)&&D!==M&&(D!=null||M!=null))switch(R){case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(i(137,a));break;default:Qe(e,a,R,D,o,M)}return;default:if(gu(a)){for(var Xe in s)D=s[Xe],s.hasOwnProperty(Xe)&&D!==void 0&&!o.hasOwnProperty(Xe)&&ed(e,a,Xe,void 0,o,D);for(q in o)D=o[q],M=s[q],!o.hasOwnProperty(q)||D===M||D===void 0&&M===void 0||ed(e,a,q,D,o,M);return}}for(var O in s)D=s[O],s.hasOwnProperty(O)&&D!=null&&!o.hasOwnProperty(O)&&Qe(e,a,O,null,o,D);for(Z in o)D=o[Z],M=s[Z],!o.hasOwnProperty(Z)||D===M||D==null&&M==null||Qe(e,a,Z,D,o,M)}var td=null,nd=null;function il(e){return e.nodeType===9?e:e.ownerDocument}function Ip(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Hp(e,a){if(e===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&a==="foreignObject"?0:e}function ad(e,a){return e==="textarea"||e==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var rd=null;function Vb(){var e=window.event;return e&&e.type==="popstate"?e===rd?!1:(rd=e,!0):(rd=null,!1)}var Zp=typeof setTimeout=="function"?setTimeout:void 0,Fb=typeof clearTimeout=="function"?clearTimeout:void 0,Pp=typeof Promise=="function"?Promise:void 0,Gb=typeof queueMicrotask=="function"?queueMicrotask:typeof Pp<"u"?function(e){return Pp.resolve(null).then(e).catch(Kb)}:Zp;function Kb(e){setTimeout(function(){throw e})}function Na(e){return e==="head"}function Vp(e,a){var s=a,o=0,c=0;do{var f=s.nextSibling;if(e.removeChild(s),f&&f.nodeType===8)if(s=f.data,s==="/$"){if(0<o&&8>o){s=o;var v=e.ownerDocument;if(s&1&&_i(v.documentElement),s&2&&_i(v.body),s&4)for(s=v.head,_i(s),v=s.firstChild;v;){var b=v.nextSibling,S=v.nodeName;v[Pe]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&v.rel.toLowerCase()==="stylesheet"||s.removeChild(v),v=b}}if(c===0){e.removeChild(f),Oi(a);return}c--}else s==="$"||s==="$?"||s==="$!"?c++:o=s.charCodeAt(0)-48;else o=0;s=f}while(s);Oi(a)}function sd(e){var a=e.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var s=a;switch(a=a.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":sd(s),wt(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function Yb(e,a,s,o){for(;e.nodeType===1;){var c=s;if(e.nodeName.toLowerCase()!==a.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[Pe])switch(a){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(a==="input"&&e.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Tn(e.nextSibling),e===null)break}return null}function Qb(e,a,s){if(a==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Tn(e.nextSibling),e===null))return null;return e}function id(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function Xb(e,a){var s=e.ownerDocument;if(e.data!=="$?"||s.readyState==="complete")a();else{var o=function(){a(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Tn(e){for(;e!=null;e=e.nextSibling){var a=e.nodeType;if(a===1||a===3)break;if(a===8){if(a=e.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return e}var od=null;function Fp(e){e=e.previousSibling;for(var a=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(a===0)return e;a--}else s==="/$"&&a++}e=e.previousSibling}return null}function Gp(e,a,s){switch(a=il(s),e){case"html":if(e=a.documentElement,!e)throw Error(i(452));return e;case"head":if(e=a.head,!e)throw Error(i(453));return e;case"body":if(e=a.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function _i(e){for(var a=e.attributes;a.length;)e.removeAttributeNode(a[0]);wt(e)}var vn=new Map,Kp=new Set;function ol(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ia=Y.d;Y.d={f:Jb,r:Wb,D:e_,C:t_,L:n_,m:a_,X:s_,S:r_,M:i_};function Jb(){var e=ia.f(),a=Jo();return e||a}function Wb(e){var a=ma(e);a!==null&&a.tag===5&&a.type==="form"?mm(a):ia.r(e)}var as=typeof document>"u"?null:document;function Yp(e,a,s){var o=as;if(o&&typeof a=="string"&&a){var c=cn(a);c='link[rel="'+e+'"][href="'+c+'"]',typeof s=="string"&&(c+='[crossorigin="'+s+'"]'),Kp.has(c)||(Kp.add(c),e={rel:e,crossOrigin:s,href:a},o.querySelector(c)===null&&(a=o.createElement("link"),Ut(a,"link",e),jt(a),o.head.appendChild(a)))}}function e_(e){ia.D(e),Yp("dns-prefetch",e,null)}function t_(e,a){ia.C(e,a),Yp("preconnect",e,a)}function n_(e,a,s){ia.L(e,a,s);var o=as;if(o&&e&&a){var c='link[rel="preload"][as="'+cn(a)+'"]';a==="image"&&s&&s.imageSrcSet?(c+='[imagesrcset="'+cn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(c+='[imagesizes="'+cn(s.imageSizes)+'"]')):c+='[href="'+cn(e)+'"]';var f=c;switch(a){case"style":f=rs(e);break;case"script":f=ss(e)}vn.has(f)||(e=y({rel:"preload",href:a==="image"&&s&&s.imageSrcSet?void 0:e,as:a},s),vn.set(f,e),o.querySelector(c)!==null||a==="style"&&o.querySelector(wi(f))||a==="script"&&o.querySelector(Si(f))||(a=o.createElement("link"),Ut(a,"link",e),jt(a),o.head.appendChild(a)))}}function a_(e,a){ia.m(e,a);var s=as;if(s&&e){var o=a&&typeof a.as=="string"?a.as:"script",c='link[rel="modulepreload"][as="'+cn(o)+'"][href="'+cn(e)+'"]',f=c;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ss(e)}if(!vn.has(f)&&(e=y({rel:"modulepreload",href:e},a),vn.set(f,e),s.querySelector(c)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Si(f)))return}o=s.createElement("link"),Ut(o,"link",e),jt(o),s.head.appendChild(o)}}}function r_(e,a,s){ia.S(e,a,s);var o=as;if(o&&e){var c=pa(o).hoistableStyles,f=rs(e);a=a||"default";var v=c.get(f);if(!v){var b={loading:0,preload:null};if(v=o.querySelector(wi(f)))b.loading=5;else{e=y({rel:"stylesheet",href:e,"data-precedence":a},s),(s=vn.get(f))&&ld(e,s);var S=v=o.createElement("link");jt(S),Ut(S,"link",e),S._p=new Promise(function(R,q){S.onload=R,S.onerror=q}),S.addEventListener("load",function(){b.loading|=1}),S.addEventListener("error",function(){b.loading|=2}),b.loading|=4,ll(v,a,o)}v={type:"stylesheet",instance:v,count:1,state:b},c.set(f,v)}}}function s_(e,a){ia.X(e,a);var s=as;if(s&&e){var o=pa(s).hoistableScripts,c=ss(e),f=o.get(c);f||(f=s.querySelector(Si(c)),f||(e=y({src:e,async:!0},a),(a=vn.get(c))&&ud(e,a),f=s.createElement("script"),jt(f),Ut(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(c,f))}}function i_(e,a){ia.M(e,a);var s=as;if(s&&e){var o=pa(s).hoistableScripts,c=ss(e),f=o.get(c);f||(f=s.querySelector(Si(c)),f||(e=y({src:e,async:!0,type:"module"},a),(a=vn.get(c))&&ud(e,a),f=s.createElement("script"),jt(f),Ut(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(c,f))}}function Qp(e,a,s,o){var c=(c=ee.current)?ol(c):null;if(!c)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(a=rs(s.href),s=pa(c).hoistableStyles,o=s.get(a),o||(o={type:"style",instance:null,count:0,state:null},s.set(a,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=rs(s.href);var f=pa(c).hoistableStyles,v=f.get(e);if(v||(c=c.ownerDocument||c,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,v),(f=c.querySelector(wi(e)))&&!f._p&&(v.instance=f,v.state.loading=5),vn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},vn.set(e,s),f||o_(c,e,s,v.state))),a&&o===null)throw Error(i(528,""));return v}if(a&&o!==null)throw Error(i(529,""));return null;case"script":return a=s.async,s=s.src,typeof s=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=ss(s),s=pa(c).hoistableScripts,o=s.get(a),o||(o={type:"script",instance:null,count:0,state:null},s.set(a,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function rs(e){return'href="'+cn(e)+'"'}function wi(e){return'link[rel="stylesheet"]['+e+"]"}function Xp(e){return y({},e,{"data-precedence":e.precedence,precedence:null})}function o_(e,a,s,o){e.querySelector('link[rel="preload"][as="style"]['+a+"]")?o.loading=1:(a=e.createElement("link"),o.preload=a,a.addEventListener("load",function(){return o.loading|=1}),a.addEventListener("error",function(){return o.loading|=2}),Ut(a,"link",s),jt(a),e.head.appendChild(a))}function ss(e){return'[src="'+cn(e)+'"]'}function Si(e){return"script[async]"+e}function Jp(e,a,s){if(a.count++,a.instance===null)switch(a.type){case"style":var o=e.querySelector('style[data-href~="'+cn(s.href)+'"]');if(o)return a.instance=o,jt(o),o;var c=y({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),jt(o),Ut(o,"style",c),ll(o,s.precedence,e),a.instance=o;case"stylesheet":c=rs(s.href);var f=e.querySelector(wi(c));if(f)return a.state.loading|=4,a.instance=f,jt(f),f;o=Xp(s),(c=vn.get(c))&&ld(o,c),f=(e.ownerDocument||e).createElement("link"),jt(f);var v=f;return v._p=new Promise(function(b,S){v.onload=b,v.onerror=S}),Ut(f,"link",o),a.state.loading|=4,ll(f,s.precedence,e),a.instance=f;case"script":return f=ss(s.src),(c=e.querySelector(Si(f)))?(a.instance=c,jt(c),c):(o=s,(c=vn.get(f))&&(o=y({},s),ud(o,c)),e=e.ownerDocument||e,c=e.createElement("script"),jt(c),Ut(c,"link",o),e.head.appendChild(c),a.instance=c);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(o=a.instance,a.state.loading|=4,ll(o,s.precedence,e));return a.instance}function ll(e,a,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=o.length?o[o.length-1]:null,f=c,v=0;v<o.length;v++){var b=o[v];if(b.dataset.precedence===a)f=b;else if(f!==c)break}f?f.parentNode.insertBefore(e,f.nextSibling):(a=s.nodeType===9?s.head:s,a.insertBefore(e,a.firstChild))}function ld(e,a){e.crossOrigin==null&&(e.crossOrigin=a.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=a.referrerPolicy),e.title==null&&(e.title=a.title)}function ud(e,a){e.crossOrigin==null&&(e.crossOrigin=a.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=a.referrerPolicy),e.integrity==null&&(e.integrity=a.integrity)}var ul=null;function Wp(e,a,s){if(ul===null){var o=new Map,c=ul=new Map;c.set(s,o)}else c=ul,o=c.get(s),o||(o=new Map,c.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),c=0;c<s.length;c++){var f=s[c];if(!(f[Pe]||f[yt]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(a)||"";v=e+v;var b=o.get(v);b?b.push(f):o.set(v,[f])}}return o}function eg(e,a,s){e=e.ownerDocument||e,e.head.insertBefore(s,a==="title"?e.querySelector("head > title"):null)}function l_(e,a,s){if(s===1||a.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return e=a.disabled,typeof a.precedence=="string"&&e==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function tg(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var xi=null;function u_(){}function c_(e,a,s){if(xi===null)throw Error(i(475));var o=xi;if(a.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var c=rs(s.href),f=e.querySelector(wi(c));if(f){e=f._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=cl.bind(o),e.then(o,o)),a.state.loading|=4,a.instance=f,jt(f);return}f=e.ownerDocument||e,s=Xp(s),(c=vn.get(c))&&ld(s,c),f=f.createElement("link"),jt(f);var v=f;v._p=new Promise(function(b,S){v.onload=b,v.onerror=S}),Ut(f,"link",s),a.instance=f}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(a,e),(e=a.state.preload)&&(a.state.loading&3)===0&&(o.count++,a=cl.bind(o),e.addEventListener("load",a),e.addEventListener("error",a))}}function d_(){if(xi===null)throw Error(i(475));var e=xi;return e.stylesheets&&e.count===0&&cd(e,e.stylesheets),0<e.count?function(a){var s=setTimeout(function(){if(e.stylesheets&&cd(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(s)}}:null}function cl(){if(this.count--,this.count===0){if(this.stylesheets)cd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var dl=null;function cd(e,a){e.stylesheets=null,e.unsuspend!==null&&(e.count++,dl=new Map,a.forEach(f_,e),dl=null,cl.call(e))}function f_(e,a){if(!(a.state.loading&4)){var s=dl.get(e);if(s)var o=s.get(null);else{s=new Map,dl.set(e,s);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var v=c[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(s.set(v.dataset.precedence,v),o=v)}o&&s.set(null,o)}c=a.instance,v=c.getAttribute("data-precedence"),f=s.get(v)||o,f===o&&s.set(null,c),s.set(v,c),this.count++,o=cl.bind(this),c.addEventListener("load",o),c.addEventListener("error",o),f?f.parentNode.insertBefore(c,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),a.state.loading|=4}}var Ei={$$typeof:z,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function h_(e,a,s,o,c,f,v,b){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=He(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=He(0),this.hiddenUpdates=He(null),this.identifierPrefix=o,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function ng(e,a,s,o,c,f,v,b,S,R,q,Z){return e=new h_(e,a,s,v,b,S,R,Z),a=1,f===!0&&(a|=24),f=en(3,null,null,a),e.current=f,f.stateNode=e,a=Vu(),a.refCount++,e.pooledCache=a,a.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:a},Yu(f),e}function ag(e){return e?(e=Ur,e):Ur}function rg(e,a,s,o,c,f){c=ag(c),o.context===null?o.context=c:o.pendingContext=c,o=ba(a),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=_a(e,o,a),s!==null&&(sn(s,e,a),ei(s,e,a))}function sg(e,a){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<a?s:a}}function dd(e,a){sg(e,a),(e=e.alternate)&&sg(e,a)}function ig(e){if(e.tag===13){var a=zr(e,67108864);a!==null&&sn(a,e,67108864),dd(e,67108864)}}var fl=!0;function m_(e,a,s,o){var c=U.T;U.T=null;var f=Y.p;try{Y.p=2,fd(e,a,s,o)}finally{Y.p=f,U.T=c}}function p_(e,a,s,o){var c=U.T;U.T=null;var f=Y.p;try{Y.p=8,fd(e,a,s,o)}finally{Y.p=f,U.T=c}}function fd(e,a,s,o){if(fl){var c=hd(o);if(c===null)Wc(e,a,o,hl,s),lg(e,o);else if(v_(c,e,a,s,o))o.stopPropagation();else if(lg(e,o),a&4&&-1<g_.indexOf(e)){for(;c!==null;){var f=ma(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=fe(f.pendingLanes);if(v!==0){var b=f;for(b.pendingLanes|=2,b.entangledLanes|=2;v;){var S=1<<31-Ht(v);b.entanglements[1]|=S,v&=~S}$n(f),(Ve&6)===0&&(Qo=on()+500,vi(0))}}break;case 13:b=zr(f,2),b!==null&&sn(b,f,2),Jo(),dd(f,2)}if(f=hd(o),f===null&&Wc(e,a,o,hl,s),f===c)break;c=f}c!==null&&o.stopPropagation()}else Wc(e,a,o,null,s)}}function hd(e){return e=yu(e),md(e)}var hl=null;function md(e){if(hl=null,e=ha(e),e!==null){var a=u(e);if(a===null)e=null;else{var s=a.tag;if(s===13){if(e=d(a),e!==null)return e;e=null}else if(s===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;e=null}else a!==e&&(e=null)}}return hl=e,null}function og(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(iu()){case Sr:return 2;case Us:return 8;case xr:case ou:return 32;case io:return 268435456;default:return 32}default:return 32}}var pd=!1,Da=null,Ma=null,za=null,Ti=new Map,ji=new Map,Ua=[],g_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function lg(e,a){switch(e){case"focusin":case"focusout":Da=null;break;case"dragenter":case"dragleave":Ma=null;break;case"mouseover":case"mouseout":za=null;break;case"pointerover":case"pointerout":Ti.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":ji.delete(a.pointerId)}}function ki(e,a,s,o,c,f){return e===null||e.nativeEvent!==f?(e={blockedOn:a,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[c]},a!==null&&(a=ma(a),a!==null&&ig(a)),e):(e.eventSystemFlags|=o,a=e.targetContainers,c!==null&&a.indexOf(c)===-1&&a.push(c),e)}function v_(e,a,s,o,c){switch(a){case"focusin":return Da=ki(Da,e,a,s,o,c),!0;case"dragenter":return Ma=ki(Ma,e,a,s,o,c),!0;case"mouseover":return za=ki(za,e,a,s,o,c),!0;case"pointerover":var f=c.pointerId;return Ti.set(f,ki(Ti.get(f)||null,e,a,s,o,c)),!0;case"gotpointercapture":return f=c.pointerId,ji.set(f,ki(ji.get(f)||null,e,a,s,o,c)),!0}return!1}function ug(e){var a=ha(e.target);if(a!==null){var s=u(a);if(s!==null){if(a=s.tag,a===13){if(a=d(s),a!==null){e.blockedOn=a,oo(e.priority,function(){if(s.tag===13){var o=rn();o=Vn(o);var c=zr(s,o);c!==null&&sn(c,s,o),dd(s,o)}});return}}else if(a===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ml(e){if(e.blockedOn!==null)return!1;for(var a=e.targetContainers;0<a.length;){var s=hd(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);vu=o,s.target.dispatchEvent(o),vu=null}else return a=ma(s),a!==null&&ig(a),e.blockedOn=s,!1;a.shift()}return!0}function cg(e,a,s){ml(e)&&s.delete(a)}function y_(){pd=!1,Da!==null&&ml(Da)&&(Da=null),Ma!==null&&ml(Ma)&&(Ma=null),za!==null&&ml(za)&&(za=null),Ti.forEach(cg),ji.forEach(cg)}function pl(e,a){e.blockedOn===a&&(e.blockedOn=null,pd||(pd=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,y_)))}var gl=null;function dg(e){gl!==e&&(gl=e,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){gl===e&&(gl=null);for(var a=0;a<e.length;a+=3){var s=e[a],o=e[a+1],c=e[a+2];if(typeof o!="function"){if(md(o||s)===null)continue;break}var f=ma(s);f!==null&&(e.splice(a,3),a-=3,mc(f,{pending:!0,data:c,method:s.method,action:o},o,c))}}))}function Oi(e){function a(S){return pl(S,e)}Da!==null&&pl(Da,e),Ma!==null&&pl(Ma,e),za!==null&&pl(za,e),Ti.forEach(a),ji.forEach(a);for(var s=0;s<Ua.length;s++){var o=Ua[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Ua.length&&(s=Ua[0],s.blockedOn===null);)ug(s),s.blockedOn===null&&Ua.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var c=s[o],f=s[o+1],v=c[Ke]||null;if(typeof f=="function")v||dg(s);else if(v){var b=null;if(f&&f.hasAttribute("formAction")){if(c=f,v=f[Ke]||null)b=v.formAction;else if(md(c)!==null)continue}else b=v.action;typeof b=="function"?s[o+1]=b:(s.splice(o,3),o-=3),dg(s)}}}function gd(e){this._internalRoot=e}vl.prototype.render=gd.prototype.render=function(e){var a=this._internalRoot;if(a===null)throw Error(i(409));var s=a.current,o=rn();rg(s,o,e,a,null,null)},vl.prototype.unmount=gd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var a=e.containerInfo;rg(e.current,2,null,e,null,null),Jo(),a[Jt]=null}};function vl(e){this._internalRoot=e}vl.prototype.unstable_scheduleHydration=function(e){if(e){var a=fa();e={blockedOn:null,target:e,priority:a};for(var s=0;s<Ua.length&&a!==0&&a<Ua[s].priority;s++);Ua.splice(s,0,e),s===0&&ug(e)}};var fg=n.version;if(fg!=="19.1.1")throw Error(i(527,fg,"19.1.1"));Y.findDOMNode=function(e){var a=e._reactInternals;if(a===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=m(a),e=e!==null?p(e):null,e=e===null?null:e.stateNode,e};var b_={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yl.isDisabled&&yl.supportsFiber)try{Fa=yl.inject(b_),It=yl}catch{}}return Ci.createRoot=function(e,a){if(!l(e))throw Error(i(299));var s=!1,o="",c=Om,f=Am,v=Cm,b=null;return a!=null&&(a.unstable_strictMode===!0&&(s=!0),a.identifierPrefix!==void 0&&(o=a.identifierPrefix),a.onUncaughtError!==void 0&&(c=a.onUncaughtError),a.onCaughtError!==void 0&&(f=a.onCaughtError),a.onRecoverableError!==void 0&&(v=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(b=a.unstable_transitionCallbacks)),a=ng(e,1,!1,null,null,s,o,c,f,v,b,null),e[Jt]=a.current,Jc(e),new gd(a)},Ci.hydrateRoot=function(e,a,s){if(!l(e))throw Error(i(299));var o=!1,c="",f=Om,v=Am,b=Cm,S=null,R=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(v=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(S=s.unstable_transitionCallbacks),s.formState!==void 0&&(R=s.formState)),a=ng(e,1,!0,a,s??null,o,c,f,v,b,S,R),a.context=ag(null),s=a.current,o=rn(),o=Vn(o),c=ba(o),c.callback=null,_a(s,c,o),s=o,a.current.lanes=s,ze(a,s),$n(a),e[Jt]=a.current,Jc(e),new vl(a)},Ci.version="19.1.1",Ci}var Sg;function A_(){if(Sg)return yd.exports;Sg=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(n){console.error(n)}}return t(),yd.exports=O_(),yd.exports}var C_=A_(),Fl=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Gl=typeof window>"u"||"Deno"in globalThis;function kn(){}function R_(t,n){return typeof t=="function"?t(n):t}function N_(t){return typeof t=="number"&&t>=0&&t!==1/0}function D_(t,n){return Math.max(t+(n||0)-Date.now(),0)}function Ud(t,n){return typeof t=="function"?t(n):t}function M_(t,n){return typeof t=="function"?t(n):t}function xg(t,n){const{type:r="all",exact:i,fetchStatus:l,predicate:u,queryKey:d,stale:h}=t;if(d){if(i){if(n.queryHash!==af(d,n.options))return!1}else if(!Yi(n.queryKey,d))return!1}if(r!=="all"){const m=n.isActive();if(r==="active"&&!m||r==="inactive"&&m)return!1}return!(typeof h=="boolean"&&n.isStale()!==h||l&&l!==n.state.fetchStatus||u&&!u(n))}function Eg(t,n){const{exact:r,status:i,predicate:l,mutationKey:u}=t;if(u){if(!n.options.mutationKey)return!1;if(r){if(Ki(n.options.mutationKey)!==Ki(u))return!1}else if(!Yi(n.options.mutationKey,u))return!1}return!(i&&n.state.status!==i||l&&!l(n))}function af(t,n){return(n?.queryKeyHashFn||Ki)(t)}function Ki(t){return JSON.stringify(t,(n,r)=>$d(r)?Object.keys(r).sort().reduce((i,l)=>(i[l]=r[l],i),{}):r)}function Yi(t,n){return t===n?!0:typeof t!=typeof n?!1:t&&n&&typeof t=="object"&&typeof n=="object"?Object.keys(n).every(r=>Yi(t[r],n[r])):!1}function Bv(t,n){if(t===n)return t;const r=Tg(t)&&Tg(n);if(r||$d(t)&&$d(n)){const i=r?t:Object.keys(t),l=i.length,u=r?n:Object.keys(n),d=u.length,h=r?[]:{},m=new Set(i);let p=0;for(let y=0;y<d;y++){const _=r?y:u[y];(!r&&m.has(_)||r)&&t[_]===void 0&&n[_]===void 0?(h[_]=void 0,p++):(h[_]=Bv(t[_],n[_]),h[_]===t[_]&&t[_]!==void 0&&p++)}return l===d&&p===l?t:h}return n}function Tg(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function $d(t){if(!jg(t))return!1;const n=t.constructor;if(n===void 0)return!0;const r=n.prototype;return!(!jg(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function jg(t){return Object.prototype.toString.call(t)==="[object Object]"}function z_(t){return new Promise(n=>{setTimeout(n,t)})}function U_(t,n,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,n):r.structuralSharing!==!1?Bv(t,n):n}function $_(t,n,r=0){const i=[...t,n];return r&&i.length>r?i.slice(1):i}function L_(t,n,r=0){const i=[n,...t];return r&&i.length>r?i.slice(0,-1):i}var rf=Symbol();function Iv(t,n){return!t.queryFn&&n?.initialPromise?()=>n.initialPromise:!t.queryFn||t.queryFn===rf?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var q_=class extends Fl{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!Gl&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},Hv=new q_,B_=class extends Fl{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!Gl&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(r=>{r(t)}))}isOnline(){return this.#e}},$l=new B_;function I_(){let t,n;const r=new Promise((l,u)=>{t=l,n=u});r.status="pending",r.catch(()=>{});function i(l){Object.assign(r,l),delete r.resolve,delete r.reject}return r.resolve=l=>{i({status:"fulfilled",value:l}),t(l)},r.reject=l=>{i({status:"rejected",reason:l}),n(l)},r}function H_(t){return Math.min(1e3*2**t,3e4)}function Zv(t){return(t??"online")==="online"?$l.isOnline():!0}var Pv=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function Vv(t){let n=!1,r=0,i;const l=I_(),u=()=>l.status!=="pending",d=A=>{u()||(w(new Pv(A)),t.abort?.())},h=()=>{n=!0},m=()=>{n=!1},p=()=>Hv.isFocused()&&(t.networkMode==="always"||$l.isOnline())&&t.canRun(),y=()=>Zv(t.networkMode)&&t.canRun(),_=A=>{u()||(i?.(),l.resolve(A))},w=A=>{u()||(i?.(),l.reject(A))},E=()=>new Promise(A=>{i=N=>{(u()||p())&&A(N)},t.onPause?.()}).then(()=>{i=void 0,u()||t.onContinue?.()}),k=()=>{if(u())return;let A;const N=r===0?t.initialPromise:void 0;try{A=N??t.fn()}catch(L){A=Promise.reject(L)}Promise.resolve(A).then(_).catch(L=>{if(u())return;const G=t.retry??(Gl?0:3),z=t.retryDelay??H_,F=typeof z=="function"?z(r,L):z,B=G===!0||typeof G=="number"&&r<G||typeof G=="function"&&G(r,L);if(n||!B){w(L);return}r++,t.onFail?.(r,L),z_(F).then(()=>p()?void 0:E()).then(()=>{n?w(L):k()})})};return{promise:l,status:()=>l.status,cancel:d,continue:()=>(i?.(),l),cancelRetry:h,continueRetry:m,canStart:y,start:()=>(y()?k():E().then(k),l)}}var Z_=t=>setTimeout(t,0);function P_(){let t=[],n=0,r=h=>{h()},i=h=>{h()},l=Z_;const u=h=>{n?t.push(h):l(()=>{r(h)})},d=()=>{const h=t;t=[],h.length&&l(()=>{i(()=>{h.forEach(m=>{r(m)})})})};return{batch:h=>{let m;n++;try{m=h()}finally{n--,n||d()}return m},batchCalls:h=>(...m)=>{u(()=>{h(...m)})},schedule:u,setNotifyFunction:h=>{r=h},setBatchNotifyFunction:h=>{i=h},setScheduler:h=>{l=h}}}var Vt=P_(),Fv=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),N_(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Gl?1/0:300*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},V_=class extends Fv{#e;#t;#n;#r;#a;#i;#o;constructor(t){super(),this.#o=!1,this.#i=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#r=t.client,this.#n=this.#r.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=G_(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#a?.promise}setOptions(t){this.options={...this.#i,...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(t,n){const r=U_(this.state.data,t,this.options);return this.#s({data:r,type:"success",dataUpdatedAt:n?.updatedAt,manual:n?.manual}),r}setState(t,n){this.#s({type:"setState",state:t,setStateOptions:n})}cancel(t){const n=this.#a?.promise;return this.#a?.cancel(t),n?n.then(kn).catch(kn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>M_(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===rf||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Ud(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!D_(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(n=>n.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#a?.continue()}onOnline(){this.observers.find(n=>n.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#a?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(this.#a&&(this.#o?this.#a.cancel({revert:!0}):this.#a.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}async fetch(t,n){if(this.state.fetchStatus!=="idle"&&this.#a?.status()!=="rejected"){if(this.state.data!==void 0&&n?.cancelRefetch)this.cancel({silent:!0});else if(this.#a)return this.#a.continueRetry(),this.#a.promise}if(t&&this.setOptions(t),!this.options.queryFn){const h=this.observers.find(m=>m.options.queryFn);h&&this.setOptions(h.options)}const r=new AbortController,i=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(this.#o=!0,r.signal)})},l=()=>{const h=Iv(this.options,n),p=(()=>{const y={client:this.#r,queryKey:this.queryKey,meta:this.meta};return i(y),y})();return this.#o=!1,this.options.persister?this.options.persister(h,p,this):h(p)},d=(()=>{const h={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:this.#r,state:this.state,fetchFn:l};return i(h),h})();this.options.behavior?.onFetch(d,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==d.fetchOptions?.meta)&&this.#s({type:"fetch",meta:d.fetchOptions?.meta}),this.#a=Vv({initialPromise:n?.initialPromise,fn:d.fetchFn,abort:r.abort.bind(r),onFail:(h,m)=>{this.#s({type:"failed",failureCount:h,error:m})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:d.options.retry,retryDelay:d.options.retryDelay,networkMode:d.options.networkMode,canRun:()=>!0});try{const h=await this.#a.start();if(h===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(h),this.#n.config.onSuccess?.(h,this),this.#n.config.onSettled?.(h,this.state.error,this),h}catch(h){if(h instanceof Pv){if(h.silent)return this.#a.promise;if(h.revert)return this.setState({...this.#t,fetchStatus:"idle"}),this.state.data}throw this.#s({type:"error",error:h}),this.#n.config.onError?.(h,this),this.#n.config.onSettled?.(this.state.data,h,this),h}finally{this.scheduleGc()}}#s(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...F_(r.data,this.options),fetchMeta:t.meta??null};case"success":const i={...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=t.manual?i:void 0,i;case"error":const l=t.error;return{...r,error:l,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:l,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),Vt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:t})})}};function F_(t,n){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Zv(n.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function G_(t){const n=typeof t.initialData=="function"?t.initialData():t.initialData,r=n!==void 0,i=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:n,dataUpdateCount:0,dataUpdatedAt:r?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var K_=class extends Fl{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,n,r){const i=n.queryKey,l=n.queryHash??af(i,n);let u=this.get(l);return u||(u=new V_({client:t,queryKey:i,queryHash:l,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(i)}),this.add(u)),u}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=this.#e.get(t.queryHash);n&&(t.destroy(),n===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Vt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>xg(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>xg(t,r)):n}notify(t){Vt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Vt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Vt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Y_=class extends Fv{#e;#t;#n;constructor(t){super(),this.mutationId=t.mutationId,this.#t=t.mutationCache,this.#e=[],this.state=t.state||Q_(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#e.includes(t)||(this.#e.push(t),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#e=this.#e.filter(n=>n!==t),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(t){const n=()=>{this.#r({type:"continue"})};this.#n=Vv({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(l,u)=>{this.#r({type:"failed",failureCount:l,error:u})},onPause:()=>{this.#r({type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const r=this.state.status==="pending",i=!this.#n.canStart();try{if(r)n();else{this.#r({type:"pending",variables:t,isPaused:i}),await this.#t.config.onMutate?.(t,this);const u=await this.options.onMutate?.(t);u!==this.state.context&&this.#r({type:"pending",context:u,variables:t,isPaused:i})}const l=await this.#n.start();return await this.#t.config.onSuccess?.(l,t,this.state.context,this),await this.options.onSuccess?.(l,t,this.state.context),await this.#t.config.onSettled?.(l,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(l,null,t,this.state.context),this.#r({type:"success",data:l}),l}catch(l){try{throw await this.#t.config.onError?.(l,t,this.state.context,this),await this.options.onError?.(l,t,this.state.context),await this.#t.config.onSettled?.(void 0,l,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,l,t,this.state.context),l}finally{this.#r({type:"error",error:l})}}finally{this.#t.runNext(this)}}#r(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Vt.batch(()=>{this.#e.forEach(r=>{r.onMutationUpdate(t)}),this.#t.notify({mutation:this,type:"updated",action:t})})}};function Q_(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var X_=class extends Fl{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(t,n,r){const i=new Y_({mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(n),state:r});return this.add(i),i}add(t){this.#e.add(t);const n=bl(t);if(typeof n=="string"){const r=this.#t.get(n);r?r.push(t):this.#t.set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const n=bl(t);if(typeof n=="string"){const r=this.#t.get(n);if(r)if(r.length>1){const i=r.indexOf(t);i!==-1&&r.splice(i,1)}else r[0]===t&&this.#t.delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=bl(t);if(typeof n=="string"){const i=this.#t.get(n)?.find(l=>l.state.status==="pending");return!i||i===t}else return!0}runNext(t){const n=bl(t);return typeof n=="string"?this.#t.get(n)?.find(i=>i!==t&&i.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Vt.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Eg(n,r))}findAll(t={}){return this.getAll().filter(n=>Eg(t,n))}notify(t){Vt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Vt.batch(()=>Promise.all(t.map(n=>n.continue().catch(kn))))}};function bl(t){return t.options.scope?.id}function kg(t){return{onFetch:(n,r)=>{const i=n.options,l=n.fetchOptions?.meta?.fetchMore?.direction,u=n.state.data?.pages||[],d=n.state.data?.pageParams||[];let h={pages:[],pageParams:[]},m=0;const p=async()=>{let y=!1;const _=k=>{Object.defineProperty(k,"signal",{enumerable:!0,get:()=>(n.signal.aborted?y=!0:n.signal.addEventListener("abort",()=>{y=!0}),n.signal)})},w=Iv(n.options,n.fetchOptions),E=async(k,A,N)=>{if(y)return Promise.reject();if(A==null&&k.pages.length)return Promise.resolve(k);const G=(()=>{const X={client:n.client,queryKey:n.queryKey,pageParam:A,direction:N?"backward":"forward",meta:n.options.meta};return _(X),X})(),z=await w(G),{maxPages:F}=n.options,B=N?L_:$_;return{pages:B(k.pages,z,F),pageParams:B(k.pageParams,A,F)}};if(l&&u.length){const k=l==="backward",A=k?J_:Og,N={pages:u,pageParams:d},L=A(i,N);h=await E(N,L,k)}else{const k=t??u.length;do{const A=m===0?d[0]??i.initialPageParam:Og(i,h);if(m>0&&A==null)break;h=await E(h,A),m++}while(m<k)}return h};n.options.persister?n.fetchFn=()=>n.options.persister?.(p,{client:n.client,queryKey:n.queryKey,meta:n.options.meta,signal:n.signal},r):n.fetchFn=p}}}function Og(t,{pages:n,pageParams:r}){const i=n.length-1;return n.length>0?t.getNextPageParam(n[i],n,r[i],r):void 0}function J_(t,{pages:n,pageParams:r}){return n.length>0?t.getPreviousPageParam?.(n[0],n,r[0],r):void 0}var W_=class{#e;#t;#n;#r;#a;#i;#o;#s;constructor(t={}){this.#e=t.queryCache||new K_,this.#t=t.mutationCache||new X_,this.#n=t.defaultOptions||{},this.#r=new Map,this.#a=new Map,this.#i=0}mount(){this.#i++,this.#i===1&&(this.#o=Hv.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#s=$l.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#i--,this.#i===0&&(this.#o?.(),this.#o=void 0,this.#s?.(),this.#s=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const n=this.defaultQueryOptions({queryKey:t});return this.#e.get(n.queryHash)?.state.data}ensureQueryData(t){const n=this.defaultQueryOptions(t),r=this.#e.build(this,n),i=r.state.data;return i===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(Ud(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(i))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:n,state:r})=>{const i=r.data;return[n,i]})}setQueryData(t,n,r){const i=this.defaultQueryOptions({queryKey:t}),u=this.#e.get(i.queryHash)?.state.data,d=R_(n,u);if(d!==void 0)return this.#e.build(this,i).setData(d,{...r,manual:!0})}setQueriesData(t,n,r){return Vt.batch(()=>this.#e.findAll(t).map(({queryKey:i})=>[i,this.setQueryData(i,n,r)]))}getQueryState(t){const n=this.defaultQueryOptions({queryKey:t});return this.#e.get(n.queryHash)?.state}removeQueries(t){const n=this.#e;Vt.batch(()=>{n.findAll(t).forEach(r=>{n.remove(r)})})}resetQueries(t,n){const r=this.#e;return Vt.batch(()=>(r.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...t},n)))}cancelQueries(t,n={}){const r={revert:!0,...n},i=Vt.batch(()=>this.#e.findAll(t).map(l=>l.cancel(r)));return Promise.all(i).then(kn).catch(kn)}invalidateQueries(t,n={}){return Vt.batch(()=>(this.#e.findAll(t).forEach(r=>{r.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},n)))}refetchQueries(t,n={}){const r={...n,cancelRefetch:n.cancelRefetch??!0},i=Vt.batch(()=>this.#e.findAll(t).filter(l=>!l.isDisabled()&&!l.isStatic()).map(l=>{let u=l.fetch(void 0,r);return r.throwOnError||(u=u.catch(kn)),l.state.fetchStatus==="paused"?Promise.resolve():u}));return Promise.all(i).then(kn)}fetchQuery(t){const n=this.defaultQueryOptions(t);n.retry===void 0&&(n.retry=!1);const r=this.#e.build(this,n);return r.isStaleByTime(Ud(n.staleTime,r))?r.fetch(n):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(kn).catch(kn)}fetchInfiniteQuery(t){return t.behavior=kg(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(kn).catch(kn)}ensureInfiniteQueryData(t){return t.behavior=kg(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return $l.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,n){this.#r.set(Ki(t),{queryKey:t,defaultOptions:n})}getQueryDefaults(t){const n=[...this.#r.values()],r={};return n.forEach(i=>{Yi(t,i.queryKey)&&Object.assign(r,i.defaultOptions)}),r}setMutationDefaults(t,n){this.#a.set(Ki(t),{mutationKey:t,defaultOptions:n})}getMutationDefaults(t){const n=[...this.#a.values()],r={};return n.forEach(i=>{Yi(t,i.mutationKey)&&Object.assign(r,i.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const n={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return n.queryHash||(n.queryHash=af(n.queryKey,n)),n.refetchOnReconnect===void 0&&(n.refetchOnReconnect=n.networkMode!=="always"),n.throwOnError===void 0&&(n.throwOnError=!!n.suspense),!n.networkMode&&n.persister&&(n.networkMode="offlineFirst"),n.queryFn===rf&&(n.enabled=!1),n}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},x=nf();const qn=Lv(x);var ew=x.createContext(void 0),tw=({client:t,children:n})=>(x.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),g.jsx(ew.Provider,{value:t,children:n}));/**
 * react-router v7.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Ag="popstate";function nw(t={}){function n(i,l){let{pathname:u,search:d,hash:h}=i.location;return Ld("",{pathname:u,search:d,hash:h},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function r(i,l){return typeof l=="string"?l:Qi(l)}return rw(n,r,null,t)}function ot(t,n){if(t===!1||t===null||typeof t>"u")throw new Error(n)}function Cn(t,n){if(!t){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function aw(){return Math.random().toString(36).substring(2,10)}function Cg(t,n){return{usr:t.state,key:t.key,idx:n}}function Ld(t,n,r=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof n=="string"?Os(n):n,state:r,key:n&&n.key||i||aw()}}function Qi({pathname:t="/",search:n="",hash:r=""}){return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Os(t){let n={};if(t){let r=t.indexOf("#");r>=0&&(n.hash=t.substring(r),t=t.substring(0,r));let i=t.indexOf("?");i>=0&&(n.search=t.substring(i),t=t.substring(0,i)),t&&(n.pathname=t)}return n}function rw(t,n,r,i={}){let{window:l=document.defaultView,v5Compat:u=!1}=i,d=l.history,h="POP",m=null,p=y();p==null&&(p=0,d.replaceState({...d.state,idx:p},""));function y(){return(d.state||{idx:null}).idx}function _(){h="POP";let N=y(),L=N==null?null:N-p;p=N,m&&m({action:h,location:A.location,delta:L})}function w(N,L){h="PUSH";let G=Ld(A.location,N,L);p=y()+1;let z=Cg(G,p),F=A.createHref(G);try{d.pushState(z,"",F)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;l.location.assign(F)}u&&m&&m({action:h,location:A.location,delta:1})}function E(N,L){h="REPLACE";let G=Ld(A.location,N,L);p=y();let z=Cg(G,p),F=A.createHref(G);d.replaceState(z,"",F),u&&m&&m({action:h,location:A.location,delta:0})}function k(N){return sw(N)}let A={get action(){return h},get location(){return t(l,d)},listen(N){if(m)throw new Error("A history only accepts one active listener");return l.addEventListener(Ag,_),m=N,()=>{l.removeEventListener(Ag,_),m=null}},createHref(N){return n(l,N)},createURL:k,encodeLocation(N){let L=k(N);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:w,replace:E,go(N){return d.go(N)}};return A}function sw(t,n=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),ot(r,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:Qi(t);return i=i.replace(/ $/,"%20"),!n&&i.startsWith("//")&&(i=r+i),new URL(i,r)}function Gv(t,n,r="/"){return iw(t,n,r,!1)}function iw(t,n,r,i){let l=typeof n=="string"?Os(n):n,u=da(l.pathname||"/",r);if(u==null)return null;let d=Kv(t);ow(d);let h=null;for(let m=0;h==null&&m<d.length;++m){let p=yw(u);h=gw(d[m],p,i)}return h}function Kv(t,n=[],r=[],i="",l=!1){let u=(d,h,m=l,p)=>{let y={relativePath:p===void 0?d.path||"":p,caseSensitive:d.caseSensitive===!0,childrenIndex:h,route:d};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(i)&&m)return;ot(y.relativePath.startsWith(i),`Absolute route path "${y.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(i.length)}let _=ua([i,y.relativePath]),w=r.concat(y);d.children&&d.children.length>0&&(ot(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),Kv(d.children,n,w,_,m)),!(d.path==null&&!d.index)&&n.push({path:_,score:mw(_,d.index),routesMeta:w})};return t.forEach((d,h)=>{if(d.path===""||!d.path?.includes("?"))u(d,h);else for(let m of Yv(d.path))u(d,h,!0,m)}),n}function Yv(t){let n=t.split("/");if(n.length===0)return[];let[r,...i]=n,l=r.endsWith("?"),u=r.replace(/\?$/,"");if(i.length===0)return l?[u,""]:[u];let d=Yv(i.join("/")),h=[];return h.push(...d.map(m=>m===""?u:[u,m].join("/"))),l&&h.push(...d),h.map(m=>t.startsWith("/")&&m===""?"/":m)}function ow(t){t.sort((n,r)=>n.score!==r.score?r.score-n.score:pw(n.routesMeta.map(i=>i.childrenIndex),r.routesMeta.map(i=>i.childrenIndex)))}var lw=/^:[\w-]+$/,uw=3,cw=2,dw=1,fw=10,hw=-2,Rg=t=>t==="*";function mw(t,n){let r=t.split("/"),i=r.length;return r.some(Rg)&&(i+=hw),n&&(i+=cw),r.filter(l=>!Rg(l)).reduce((l,u)=>l+(lw.test(u)?uw:u===""?dw:fw),i)}function pw(t,n){return t.length===n.length&&t.slice(0,-1).every((i,l)=>i===n[l])?t[t.length-1]-n[n.length-1]:0}function gw(t,n,r=!1){let{routesMeta:i}=t,l={},u="/",d=[];for(let h=0;h<i.length;++h){let m=i[h],p=h===i.length-1,y=u==="/"?n:n.slice(u.length)||"/",_=Ll({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},y),w=m.route;if(!_&&p&&r&&!i[i.length-1].route.index&&(_=Ll({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!_)return null;Object.assign(l,_.params),d.push({params:l,pathname:ua([u,_.pathname]),pathnameBase:Sw(ua([u,_.pathnameBase])),route:w}),_.pathnameBase!=="/"&&(u=ua([u,_.pathnameBase]))}return d}function Ll(t,n){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,i]=vw(t.path,t.caseSensitive,t.end),l=n.match(r);if(!l)return null;let u=l[0],d=u.replace(/(.)\/+$/,"$1"),h=l.slice(1);return{params:i.reduce((p,{paramName:y,isOptional:_},w)=>{if(y==="*"){let k=h[w]||"";d=u.slice(0,u.length-k.length).replace(/(.)\/+$/,"$1")}const E=h[w];return _&&!E?p[y]=void 0:p[y]=(E||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:d,pattern:t}}function vw(t,n=!1,r=!0){Cn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],l="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,h,m)=>(i.push({paramName:h,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),l+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?l+="\\/*$":t!==""&&t!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,n?void 0:"i"),i]}function yw(t){try{return t.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return Cn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${n}).`),t}}function da(t,n){if(n==="/")return t;if(!t.toLowerCase().startsWith(n.toLowerCase()))return null;let r=n.endsWith("/")?n.length-1:n.length,i=t.charAt(r);return i&&i!=="/"?null:t.slice(r)||"/"}function bw(t,n="/"){let{pathname:r,search:i="",hash:l=""}=typeof t=="string"?Os(t):t;return{pathname:r?r.startsWith("/")?r:_w(r,n):n,search:xw(i),hash:Ew(l)}}function _w(t,n){let r=n.replace(/\/+$/,"").split("/");return t.split("/").forEach(l=>{l===".."?r.length>1&&r.pop():l!=="."&&r.push(l)}),r.length>1?r.join("/"):"/"}function xd(t,n,r,i){return`Cannot include a '${t}' character in a manually specified \`to.${n}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ww(t){return t.filter((n,r)=>r===0||n.route.path&&n.route.path.length>0)}function sf(t){let n=ww(t);return n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase)}function of(t,n,r,i=!1){let l;typeof t=="string"?l=Os(t):(l={...t},ot(!l.pathname||!l.pathname.includes("?"),xd("?","pathname","search",l)),ot(!l.pathname||!l.pathname.includes("#"),xd("#","pathname","hash",l)),ot(!l.search||!l.search.includes("#"),xd("#","search","hash",l)));let u=t===""||l.pathname==="",d=u?"/":l.pathname,h;if(d==null)h=r;else{let _=n.length-1;if(!i&&d.startsWith("..")){let w=d.split("/");for(;w[0]==="..";)w.shift(),_-=1;l.pathname=w.join("/")}h=_>=0?n[_]:"/"}let m=bw(l,h),p=d&&d!=="/"&&d.endsWith("/"),y=(u||d===".")&&r.endsWith("/");return!m.pathname.endsWith("/")&&(p||y)&&(m.pathname+="/"),m}var ua=t=>t.join("/").replace(/\/\/+/g,"/"),Sw=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),xw=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Ew=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Tw(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var Qv=["POST","PUT","PATCH","DELETE"];new Set(Qv);var jw=["GET",...Qv];new Set(jw);var As=x.createContext(null);As.displayName="DataRouter";var Kl=x.createContext(null);Kl.displayName="DataRouterState";x.createContext(!1);var Xv=x.createContext({isTransitioning:!1});Xv.displayName="ViewTransition";var kw=x.createContext(new Map);kw.displayName="Fetchers";var Ow=x.createContext(null);Ow.displayName="Await";var Rn=x.createContext(null);Rn.displayName="Navigation";var to=x.createContext(null);to.displayName="Location";var In=x.createContext({outlet:null,matches:[],isDataRoute:!1});In.displayName="Route";var lf=x.createContext(null);lf.displayName="RouteError";function Aw(t,{relative:n}={}){ot(Cs(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:i}=x.useContext(Rn),{hash:l,pathname:u,search:d}=no(t,{relative:n}),h=u;return r!=="/"&&(h=u==="/"?r:ua([r,u])),i.createHref({pathname:h,search:d,hash:l})}function Cs(){return x.useContext(to)!=null}function Pa(){return ot(Cs(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(to).location}var Jv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Wv(t){x.useContext(Rn).static||x.useLayoutEffect(t)}function ey(){let{isDataRoute:t}=x.useContext(In);return t?Hw():Cw()}function Cw(){ot(Cs(),"useNavigate() may be used only in the context of a <Router> component.");let t=x.useContext(As),{basename:n,navigator:r}=x.useContext(Rn),{matches:i}=x.useContext(In),{pathname:l}=Pa(),u=JSON.stringify(sf(i)),d=x.useRef(!1);return Wv(()=>{d.current=!0}),x.useCallback((m,p={})=>{if(Cn(d.current,Jv),!d.current)return;if(typeof m=="number"){r.go(m);return}let y=of(m,JSON.parse(u),l,p.relative==="path");t==null&&n!=="/"&&(y.pathname=y.pathname==="/"?n:ua([n,y.pathname])),(p.replace?r.replace:r.push)(y,p.state,p)},[n,r,u,l,t])}x.createContext(null);function no(t,{relative:n}={}){let{matches:r}=x.useContext(In),{pathname:i}=Pa(),l=JSON.stringify(sf(r));return x.useMemo(()=>of(t,JSON.parse(l),i,n==="path"),[t,l,i,n])}function Rw(t,n){return ty(t,n)}function ty(t,n,r,i){ot(Cs(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=x.useContext(Rn),{matches:u}=x.useContext(In),d=u[u.length-1],h=d?d.params:{},m=d?d.pathname:"/",p=d?d.pathnameBase:"/",y=d&&d.route;{let L=y&&y.path||"";ny(m,!y||L.endsWith("*")||L.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${L}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${L}"> to <Route path="${L==="/"?"*":`${L}/*`}">.`)}let _=Pa(),w;if(n){let L=typeof n=="string"?Os(n):n;ot(p==="/"||L.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${L.pathname}" was given in the \`location\` prop.`),w=L}else w=_;let E=w.pathname||"/",k=E;if(p!=="/"){let L=p.replace(/^\//,"").split("/");k="/"+E.replace(/^\//,"").split("/").slice(L.length).join("/")}let A=Gv(t,{pathname:k});Cn(y||A!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),Cn(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=Uw(A&&A.map(L=>Object.assign({},L,{params:Object.assign({},h,L.params),pathname:ua([p,l.encodeLocation?l.encodeLocation(L.pathname).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?p:ua([p,l.encodeLocation?l.encodeLocation(L.pathnameBase).pathname:L.pathnameBase])})),u,r,i);return n&&N?x.createElement(to.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},N):N}function Nw(){let t=Iw(),n=Tw(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:i},u={padding:"2px 4px",backgroundColor:i},d=null;return console.error("Error handled by React Router default ErrorBoundary:",t),d=x.createElement(x.Fragment,null,x.createElement("p",null," Hey developer "),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:u},"ErrorBoundary")," or"," ",x.createElement("code",{style:u},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},n),r?x.createElement("pre",{style:l},r):null,d)}var Dw=x.createElement(Nw,null),Mw=class extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?x.createElement(In.Provider,{value:this.props.routeContext},x.createElement(lf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function zw({routeContext:t,match:n,children:r}){let i=x.useContext(As);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),x.createElement(In.Provider,{value:t},r)}function Uw(t,n=[],r=null,i=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(n.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let l=t,u=r?.errors;if(u!=null){let m=l.findIndex(p=>p.route.id&&u?.[p.route.id]!==void 0);ot(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,m+1))}let d=!1,h=-1;if(r)for(let m=0;m<l.length;m++){let p=l[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=m),p.route.id){let{loaderData:y,errors:_}=r,w=p.route.loader&&!y.hasOwnProperty(p.route.id)&&(!_||_[p.route.id]===void 0);if(p.route.lazy||w){d=!0,h>=0?l=l.slice(0,h+1):l=[l[0]];break}}}return l.reduceRight((m,p,y)=>{let _,w=!1,E=null,k=null;r&&(_=u&&p.route.id?u[p.route.id]:void 0,E=p.route.errorElement||Dw,d&&(h<0&&y===0?(ny("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,k=null):h===y&&(w=!0,k=p.route.hydrateFallbackElement||null)));let A=n.concat(l.slice(0,y+1)),N=()=>{let L;return _?L=E:w?L=k:p.route.Component?L=x.createElement(p.route.Component,null):p.route.element?L=p.route.element:L=m,x.createElement(zw,{match:p,routeContext:{outlet:m,matches:A,isDataRoute:r!=null},children:L})};return r&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?x.createElement(Mw,{location:r.location,revalidation:r.revalidation,component:E,error:_,children:N(),routeContext:{outlet:null,matches:A,isDataRoute:!0}}):N()},null)}function uf(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $w(t){let n=x.useContext(As);return ot(n,uf(t)),n}function Lw(t){let n=x.useContext(Kl);return ot(n,uf(t)),n}function qw(t){let n=x.useContext(In);return ot(n,uf(t)),n}function cf(t){let n=qw(t),r=n.matches[n.matches.length-1];return ot(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function Bw(){return cf("useRouteId")}function Iw(){let t=x.useContext(lf),n=Lw("useRouteError"),r=cf("useRouteError");return t!==void 0?t:n.errors?.[r]}function Hw(){let{router:t}=$w("useNavigate"),n=cf("useNavigate"),r=x.useRef(!1);return Wv(()=>{r.current=!0}),x.useCallback(async(l,u={})=>{Cn(r.current,Jv),r.current&&(typeof l=="number"?t.navigate(l):await t.navigate(l,{fromRouteId:n,...u}))},[t,n])}var Ng={};function ny(t,n,r){!n&&!Ng[t]&&(Ng[t]=!0,Cn(!1,r))}x.memo(Zw);function Zw({routes:t,future:n,state:r}){return ty(t,void 0,r,n)}function ql({to:t,replace:n,state:r,relative:i}){ot(Cs(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=x.useContext(Rn);Cn(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=x.useContext(In),{pathname:d}=Pa(),h=ey(),m=of(t,sf(u),d,i==="path"),p=JSON.stringify(m);return x.useEffect(()=>{h(JSON.parse(p),{replace:n,state:r,relative:i})},[h,p,i,n,r]),null}function Ui(t){ot(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Pw({basename:t="/",children:n=null,location:r,navigationType:i="POP",navigator:l,static:u=!1}){ot(!Cs(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=t.replace(/^\/*/,"/"),h=x.useMemo(()=>({basename:d,navigator:l,static:u,future:{}}),[d,l,u]);typeof r=="string"&&(r=Os(r));let{pathname:m="/",search:p="",hash:y="",state:_=null,key:w="default"}=r,E=x.useMemo(()=>{let k=da(m,d);return k==null?null:{location:{pathname:k,search:p,hash:y,state:_,key:w},navigationType:i}},[d,m,p,y,_,w,i]);return Cn(E!=null,`<Router basename="${d}"> is not able to match the URL "${m}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:x.createElement(Rn.Provider,{value:h},x.createElement(to.Provider,{children:n,value:E}))}function Vw({children:t,location:n}){return Rw(qd(t),n)}function qd(t,n=[]){let r=[];return x.Children.forEach(t,(i,l)=>{if(!x.isValidElement(i))return;let u=[...n,l];if(i.type===x.Fragment){r.push.apply(r,qd(i.props.children,u));return}ot(i.type===Ui,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ot(!i.props.index||!i.props.children,"An index route cannot have child routes.");let d={id:i.props.id||u.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(d.children=qd(i.props.children,u)),r.push(d)}),r}var Rl="get",Nl="application/x-www-form-urlencoded";function Yl(t){return t!=null&&typeof t.tagName=="string"}function Fw(t){return Yl(t)&&t.tagName.toLowerCase()==="button"}function Gw(t){return Yl(t)&&t.tagName.toLowerCase()==="form"}function Kw(t){return Yl(t)&&t.tagName.toLowerCase()==="input"}function Yw(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Qw(t,n){return t.button===0&&(!n||n==="_self")&&!Yw(t)}var _l=null;function Xw(){if(_l===null)try{new FormData(document.createElement("form"),0),_l=!1}catch{_l=!0}return _l}var Jw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ed(t){return t!=null&&!Jw.has(t)?(Cn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Nl}"`),null):t}function Ww(t,n){let r,i,l,u,d;if(Gw(t)){let h=t.getAttribute("action");i=h?da(h,n):null,r=t.getAttribute("method")||Rl,l=Ed(t.getAttribute("enctype"))||Nl,u=new FormData(t)}else if(Fw(t)||Kw(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=t.getAttribute("formaction")||h.getAttribute("action");if(i=m?da(m,n):null,r=t.getAttribute("formmethod")||h.getAttribute("method")||Rl,l=Ed(t.getAttribute("formenctype"))||Ed(h.getAttribute("enctype"))||Nl,u=new FormData(h,t),!Xw()){let{name:p,type:y,value:_}=t;if(y==="image"){let w=p?`${p}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else p&&u.append(p,_)}}else{if(Yl(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Rl,i=null,l=Nl,d=t}return u&&l==="text/plain"&&(d=u,u=void 0),{action:i,method:r.toLowerCase(),encType:l,formData:u,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function df(t,n){if(t===!1||t===null||typeof t>"u")throw new Error(n)}function eS(t,n,r){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return i.pathname==="/"?i.pathname=`_root.${r}`:n&&da(i.pathname,n)==="/"?i.pathname=`${n.replace(/\/$/,"")}/_root.${r}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${r}`,i}async function tS(t,n){if(t.id in n)return n[t.id];try{let r=await import(t.module);return n[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function nS(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function aS(t,n,r){let i=await Promise.all(t.map(async l=>{let u=n.routes[l.route.id];if(u){let d=await tS(u,r);return d.links?d.links():[]}return[]}));return oS(i.flat(1).filter(nS).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function Dg(t,n,r,i,l,u){let d=(m,p)=>r[p]?m.route.id!==r[p].route.id:!0,h=(m,p)=>r[p].pathname!==m.pathname||r[p].route.path?.endsWith("*")&&r[p].params["*"]!==m.params["*"];return u==="assets"?n.filter((m,p)=>d(m,p)||h(m,p)):u==="data"?n.filter((m,p)=>{let y=i.routes[m.route.id];if(!y||!y.hasLoader)return!1;if(d(m,p)||h(m,p))return!0;if(m.route.shouldRevalidate){let _=m.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function rS(t,n,{includeHydrateFallback:r}={}){return sS(t.map(i=>{let l=n.routes[i.route.id];if(!l)return[];let u=[l.module];return l.clientActionModule&&(u=u.concat(l.clientActionModule)),l.clientLoaderModule&&(u=u.concat(l.clientLoaderModule)),r&&l.hydrateFallbackModule&&(u=u.concat(l.hydrateFallbackModule)),l.imports&&(u=u.concat(l.imports)),u}).flat(1))}function sS(t){return[...new Set(t)]}function iS(t){let n={},r=Object.keys(t).sort();for(let i of r)n[i]=t[i];return n}function oS(t,n){let r=new Set;return new Set(n),t.reduce((i,l)=>{let u=JSON.stringify(iS(l));return r.has(u)||(r.add(u),i.push({key:u,link:l})),i},[])}function ay(){let t=x.useContext(As);return df(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function lS(){let t=x.useContext(Kl);return df(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var ff=x.createContext(void 0);ff.displayName="FrameworkContext";function ry(){let t=x.useContext(ff);return df(t,"You must render this element inside a <HydratedRouter> element"),t}function uS(t,n){let r=x.useContext(ff),[i,l]=x.useState(!1),[u,d]=x.useState(!1),{onFocus:h,onBlur:m,onMouseEnter:p,onMouseLeave:y,onTouchStart:_}=n,w=x.useRef(null);x.useEffect(()=>{if(t==="render"&&d(!0),t==="viewport"){let A=L=>{L.forEach(G=>{d(G.isIntersecting)})},N=new IntersectionObserver(A,{threshold:.5});return w.current&&N.observe(w.current),()=>{N.disconnect()}}},[t]),x.useEffect(()=>{if(i){let A=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(A)}}},[i]);let E=()=>{l(!0)},k=()=>{l(!1),d(!1)};return r?t!=="intent"?[u,w,{}]:[u,w,{onFocus:Ri(h,E),onBlur:Ri(m,k),onMouseEnter:Ri(p,E),onMouseLeave:Ri(y,k),onTouchStart:Ri(_,E)}]:[!1,w,{}]}function Ri(t,n){return r=>{t&&t(r),r.defaultPrevented||n(r)}}function cS({page:t,...n}){let{router:r}=ay(),i=x.useMemo(()=>Gv(r.routes,t,r.basename),[r.routes,t,r.basename]);return i?x.createElement(fS,{page:t,matches:i,...n}):null}function dS(t){let{manifest:n,routeModules:r}=ry(),[i,l]=x.useState([]);return x.useEffect(()=>{let u=!1;return aS(t,n,r).then(d=>{u||l(d)}),()=>{u=!0}},[t,n,r]),i}function fS({page:t,matches:n,...r}){let i=Pa(),{manifest:l,routeModules:u}=ry(),{basename:d}=ay(),{loaderData:h,matches:m}=lS(),p=x.useMemo(()=>Dg(t,n,m,l,i,"data"),[t,n,m,l,i]),y=x.useMemo(()=>Dg(t,n,m,l,i,"assets"),[t,n,m,l,i]),_=x.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let k=new Set,A=!1;if(n.forEach(L=>{let G=l.routes[L.route.id];!G||!G.hasLoader||(!p.some(z=>z.route.id===L.route.id)&&L.route.id in h&&u[L.route.id]?.shouldRevalidate||G.hasClientLoader?A=!0:k.add(L.route.id))}),k.size===0)return[];let N=eS(t,d,"data");return A&&k.size>0&&N.searchParams.set("_routes",n.filter(L=>k.has(L.route.id)).map(L=>L.route.id).join(",")),[N.pathname+N.search]},[d,h,i,l,p,n,t,u]),w=x.useMemo(()=>rS(y,l),[y,l]),E=dS(y);return x.createElement(x.Fragment,null,_.map(k=>x.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...r})),w.map(k=>x.createElement("link",{key:k,rel:"modulepreload",href:k,...r})),E.map(({key:k,link:A})=>x.createElement("link",{key:k,nonce:r.nonce,...A})))}function hS(...t){return n=>{t.forEach(r=>{typeof r=="function"?r(n):r!=null&&(r.current=n)})}}var sy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{sy&&(window.__reactRouterVersion="7.8.1")}catch{}function mS({basename:t,children:n,window:r}){let i=x.useRef();i.current==null&&(i.current=nw({window:r,v5Compat:!0}));let l=i.current,[u,d]=x.useState({action:l.action,location:l.location}),h=x.useCallback(m=>{x.startTransition(()=>d(m))},[d]);return x.useLayoutEffect(()=>l.listen(h),[l,h]),x.createElement(Pw,{basename:t,children:n,location:u.location,navigationType:u.action,navigator:l})}var iy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,oy=x.forwardRef(function({onClick:n,discover:r="render",prefetch:i="none",relative:l,reloadDocument:u,replace:d,state:h,target:m,to:p,preventScrollReset:y,viewTransition:_,...w},E){let{basename:k}=x.useContext(Rn),A=typeof p=="string"&&iy.test(p),N,L=!1;if(typeof p=="string"&&A&&(N=p,sy))try{let De=new URL(window.location.href),Be=p.startsWith("//")?new URL(De.protocol+p):new URL(p),ct=da(Be.pathname,k);Be.origin===De.origin&&ct!=null?p=ct+Be.search+Be.hash:L=!0}catch{Cn(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let G=Aw(p,{relative:l}),[z,F,B]=uS(i,w),X=yS(p,{replace:d,state:h,target:m,preventScrollReset:y,relative:l,viewTransition:_});function ae(De){n&&n(De),De.defaultPrevented||X(De)}let Re=x.createElement("a",{...w,...B,href:N||G,onClick:L||u?n:ae,ref:hS(E,F),target:m,"data-discover":!A&&r==="render"?"true":void 0});return z&&!A?x.createElement(x.Fragment,null,Re,x.createElement(cS,{page:G})):Re});oy.displayName="Link";var pS=x.forwardRef(function({"aria-current":n="page",caseSensitive:r=!1,className:i="",end:l=!1,style:u,to:d,viewTransition:h,children:m,...p},y){let _=no(d,{relative:p.relative}),w=Pa(),E=x.useContext(Kl),{navigator:k,basename:A}=x.useContext(Rn),N=E!=null&&xS(_)&&h===!0,L=k.encodeLocation?k.encodeLocation(_).pathname:_.pathname,G=w.pathname,z=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;r||(G=G.toLowerCase(),z=z?z.toLowerCase():null,L=L.toLowerCase()),z&&A&&(z=da(z,A)||z);const F=L!=="/"&&L.endsWith("/")?L.length-1:L.length;let B=G===L||!l&&G.startsWith(L)&&G.charAt(F)==="/",X=z!=null&&(z===L||!l&&z.startsWith(L)&&z.charAt(L.length)==="/"),ae={isActive:B,isPending:X,isTransitioning:N},Re=B?n:void 0,De;typeof i=="function"?De=i(ae):De=[i,B?"active":null,X?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let Be=typeof u=="function"?u(ae):u;return x.createElement(oy,{...p,"aria-current":Re,className:De,ref:y,style:Be,to:d,viewTransition:h},typeof m=="function"?m(ae):m)});pS.displayName="NavLink";var gS=x.forwardRef(({discover:t="render",fetcherKey:n,navigate:r,reloadDocument:i,replace:l,state:u,method:d=Rl,action:h,onSubmit:m,relative:p,preventScrollReset:y,viewTransition:_,...w},E)=>{let k=wS(),A=SS(h,{relative:p}),N=d.toLowerCase()==="get"?"get":"post",L=typeof h=="string"&&iy.test(h),G=z=>{if(m&&m(z),z.defaultPrevented)return;z.preventDefault();let F=z.nativeEvent.submitter,B=F?.getAttribute("formmethod")||d;k(F||z.currentTarget,{fetcherKey:n,method:B,navigate:r,replace:l,state:u,relative:p,preventScrollReset:y,viewTransition:_})};return x.createElement("form",{ref:E,method:N,action:A,onSubmit:i?m:G,...w,"data-discover":!L&&t==="render"?"true":void 0})});gS.displayName="Form";function vS(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ly(t){let n=x.useContext(As);return ot(n,vS(t)),n}function yS(t,{target:n,replace:r,state:i,preventScrollReset:l,relative:u,viewTransition:d}={}){let h=ey(),m=Pa(),p=no(t,{relative:u});return x.useCallback(y=>{if(Qw(y,n)){y.preventDefault();let _=r!==void 0?r:Qi(m)===Qi(p);h(t,{replace:_,state:i,preventScrollReset:l,relative:u,viewTransition:d})}},[m,h,p,r,i,n,t,l,u,d])}var bS=0,_S=()=>`__${String(++bS)}__`;function wS(){let{router:t}=ly("useSubmit"),{basename:n}=x.useContext(Rn),r=Bw();return x.useCallback(async(i,l={})=>{let{action:u,method:d,encType:h,formData:m,body:p}=Ww(i,n);if(l.navigate===!1){let y=l.fetcherKey||_S();await t.fetch(y,r,l.action||u,{preventScrollReset:l.preventScrollReset,formData:m,body:p,formMethod:l.method||d,formEncType:l.encType||h,flushSync:l.flushSync})}else await t.navigate(l.action||u,{preventScrollReset:l.preventScrollReset,formData:m,body:p,formMethod:l.method||d,formEncType:l.encType||h,replace:l.replace,state:l.state,fromRouteId:r,flushSync:l.flushSync,viewTransition:l.viewTransition})},[t,n,r])}function SS(t,{relative:n}={}){let{basename:r}=x.useContext(Rn),i=x.useContext(In);ot(i,"useFormAction must be used inside a RouteContext");let[l]=i.matches.slice(-1),u={...no(t||".",{relative:n})},d=Pa();if(t==null){u.search=d.search;let h=new URLSearchParams(u.search),m=h.getAll("index");if(m.some(y=>y==="")){h.delete("index"),m.filter(_=>_).forEach(_=>h.append("index",_));let y=h.toString();u.search=y?`?${y}`:""}}return(!t||t===".")&&l.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(u.pathname=u.pathname==="/"?r:ua([r,u.pathname])),Qi(u)}function xS(t,{relative:n}={}){let r=x.useContext(Xv);ot(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=ly("useViewTransitionState"),l=no(t,{relative:n});if(!r.isTransitioning)return!1;let u=da(r.currentLocation.pathname,i)||r.currentLocation.pathname,d=da(r.nextLocation.pathname,i)||r.nextLocation.pathname;return Ll(l.pathname,d)!=null||Ll(l.pathname,u)!=null}var BA=qv(),Mg={},ES="@vercel/analytics",TS="1.5.0",jS=()=>{window.va||(window.va=function(...n){(window.vaq=window.vaq||[]).push(n)})};function uy(){return typeof window<"u"}function cy(){try{const t="production"}catch{}return"production"}function kS(t="auto"){if(t==="auto"){window.vam=cy();return}window.vam=t}function OS(){return(uy()?window.vam:cy())||"production"}function Bd(){return OS()==="development"}function AS(t){return t.scriptSrc?t.scriptSrc:Bd()?"https://va.vercel-scripts.com/v1/script.debug.js":t.basePath?`${t.basePath}/insights/script.js`:"/_vercel/insights/script.js"}function CS(t={debug:!0}){var n;if(!uy())return;kS(t.mode),jS(),t.beforeSend&&((n=window.va)==null||n.call(window,"beforeSend",t.beforeSend));const r=AS(t);if(document.head.querySelector(`script[src*="${r}"]`))return;const i=document.createElement("script");i.src=r,i.defer=!0,i.dataset.sdkn=ES+(t.framework?`/${t.framework}`:""),i.dataset.sdkv=TS,t.disableAutoTrack&&(i.dataset.disableAutoTrack="1"),t.endpoint?i.dataset.endpoint=t.endpoint:t.basePath&&(i.dataset.endpoint=`${t.basePath}/insights`),t.dsn&&(i.dataset.dsn=t.dsn),i.onerror=()=>{const l=Bd()?"Please check if any ad blockers are enabled and try again.":"Be sure to enable Web Analytics for your project and deploy again. See https://vercel.com/docs/analytics/quickstart for more information.";console.log(`[Vercel Web Analytics] Failed to load script from ${r}. ${l}`)},Bd()&&t.debug===!1&&(i.dataset.debug="false"),document.head.appendChild(i)}function RS({route:t,path:n}){var r;(r=window.va)==null||r.call(window,"pageview",{route:t,path:n})}function NS(){if(!(typeof process>"u"||typeof Mg>"u"))return Mg.REACT_APP_VERCEL_OBSERVABILITY_BASEPATH}function DS(t){return x.useEffect(()=>{var n;t.beforeSend&&((n=window.va)==null||n.call(window,"beforeSend",t.beforeSend))},[t.beforeSend]),x.useEffect(()=>{CS({framework:t.framework||"react",basePath:t.basePath??NS(),...t.route!==void 0&&{disableAutoTrack:!0},...t})},[]),x.useEffect(()=>{t.route&&t.path&&RS({route:t.route,path:t.path})},[t.route,t.path]),null}const MS="modulepreload",zS=function(t){return"/"+t},zg={},Qt=function(n,r,i){let l=Promise.resolve();if(r&&r.length>0){let m=function(p){return Promise.all(p.map(y=>Promise.resolve(y).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),h=d?.nonce||d?.getAttribute("nonce");l=m(r.map(p=>{if(p=zS(p),p in zg)return;zg[p]=!0;const y=p.endsWith(".css"),_=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${_}`))return;const w=document.createElement("link");if(w.rel=y?"stylesheet":MS,y||(w.as="script"),w.crossOrigin="",w.href=p,h&&w.setAttribute("nonce",h),document.head.appendChild(w),y)return new Promise((E,k)=>{w.addEventListener("load",E),w.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${p}`)))})}))}function u(d){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=d,window.dispatchEvent(h),!h.defaultPrevented)throw d}return l.then(d=>{for(const h of d||[])h.status==="rejected"&&u(h.reason);return n().catch(u)})};function _s({className:t="",...n}){return g.jsx("div",{className:`rounded-xl border ${t}`,...n})}function $i({className:t="",...n}){return g.jsx("div",{className:`p-4 border-b ${t}`,...n})}function ws({className:t="",...n}){return g.jsx("div",{className:`text-base font-semibold ${t}`,...n})}function Ss({className:t="",...n}){return g.jsx("div",{className:`p-4 ${t}`,...n})}const Nt=qn.forwardRef(function({className:n="",...r},i){return g.jsx("input",{ref:i,className:`h-10 px-3 rounded-xl border border-slate-300 focus:outline-none focus:ring-2 focus:ring-slate-400 ${n}`,...r})}),Rt=({className:t="",...n})=>g.jsx("label",{className:`text-sm font-medium text-slate-700 ${t}`,...n}),xe=({variant:t="default",size:n="md",className:r="",...i})=>{const l="inline-flex items-center justify-center font-medium rounded-xl",u={sm:"h-8 px-3 text-sm",md:"h-10 px-4",lg:"h-12 px-5 text-lg"},d={default:"bg-slate-900 text-white hover:bg-slate-800",outline:"border border-slate-300 hover:bg-slate-50",destructive:"bg-red-600 text-white hover:bg-red-700",secondary:"bg-slate-100 text-slate-800"};return g.jsx("button",{className:`${l} ${u[n]} ${d[t]} ${r}`,...i})},dy=x.createContext({});function qi({value:t,onValueChange:n,children:r}){const i=d=>d==null||d===!1?"":typeof d=="string"||typeof d=="number"?String(d):Array.isArray(d)?d.map(i).join(""):qn.isValidElement(d)?i((d.props??{}).children):"",l=[],u=d=>{qn.Children.forEach(d,h=>{if(!qn.isValidElement(h))return;const m=h,p=m.props??{};m.type?.__isSelectItem?l.push({value:String(p.value),label:i(p.children),disabled:!!p.disabled}):p?.children&&u(p.children)})};return u(r),g.jsx(dy.Provider,{value:{value:t,onValueChange:n},children:g.jsx("div",{className:"inline-flex items-center gap-2",children:g.jsxs("select",{className:"h-10 px-3 rounded-xl border border-slate-300 bg-white",value:t,onChange:d=>n?.(d.target.value),children:[!t&&g.jsx("option",{value:"",hidden:!0}),l.map((d,h)=>g.jsx("option",{value:d.value,disabled:!!d.disabled,children:d.label},h))]})})})}const Bi=({className:t="",...n})=>g.jsx("div",{className:t,...n}),Ii=({placeholder:t})=>{const{value:n}=x.useContext(dy);return g.jsx("span",{className:"text-slate-500",children:n??t??""})},Hi=({className:t="",...n})=>g.jsx("div",{className:t,...n}),qt=({value:t,disabled:n,className:r="",...i})=>g.jsx("div",{"data-value":t,"data-disabled":n?"true":void 0,className:r,...i});qt.__isSelectItem=!0;const US=({variant:t="default",className:n="",...r})=>{const i={default:"bg-slate-900 text-white",secondary:"bg-slate-100 text-slate-800"};return g.jsx("span",{className:`inline-flex items-center px-2 py-0.5 text-xs rounded-full ${i[t]} ${n}`,...r})},Ql=({className:t="",...n})=>g.jsx("table",{className:`w-full text-sm ${t}`,...n}),Xl=({className:t="",...n})=>g.jsx("thead",{className:t,...n}),Jl=({className:t="",...n})=>g.jsx("tbody",{className:t,...n}),Ia=({className:t="",...n})=>g.jsx("tr",{className:`border-b last:border-0 ${t}`,...n}),Je=({className:t="",...n})=>g.jsx("th",{className:`text-left text-slate-500 font-medium py-2 px-3 ${t}`,...n}),We=({className:t="",...n})=>g.jsx("td",{className:`py-2 px-3 ${t}`,...n}),hf=x.createContext(null);function $S({value:t,onValueChange:n,children:r}){const[i,l]=x.useState(t??""),u=t??i,d=h=>n?n(h):l(h);return g.jsx(hf.Provider,{value:{value:u,setValue:d},children:g.jsx("div",{children:r})})}const LS=({className:t="",...n})=>g.jsx("div",{className:`inline-grid gap-2 ${t}`,...n}),wl=({value:t,className:n="",...r})=>{const i=x.useContext(hf),l=i.value===t;return g.jsx("button",{className:`h-9 px-3 rounded-xl border ${l?"bg-slate-900 text-white":"bg-white"} ${n}`,onClick:()=>i.setValue(t),...r})},qS=({value:t,className:n="",...r})=>x.useContext(hf).value!==t?null:g.jsx("div",{className:n,...r});function BS(t){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}Array(12).fill(0);let Id=1;class IS{constructor(){this.subscribe=n=>(this.subscribers.push(n),()=>{const r=this.subscribers.indexOf(n);this.subscribers.splice(r,1)}),this.publish=n=>{this.subscribers.forEach(r=>r(n))},this.addToast=n=>{this.publish(n),this.toasts=[...this.toasts,n]},this.create=n=>{var r;const{message:i,...l}=n,u=typeof n?.id=="number"||((r=n.id)==null?void 0:r.length)>0?n.id:Id++,d=this.toasts.find(m=>m.id===u),h=n.dismissible===void 0?!0:n.dismissible;return this.dismissedToasts.has(u)&&this.dismissedToasts.delete(u),d?this.toasts=this.toasts.map(m=>m.id===u?(this.publish({...m,...n,id:u,title:i}),{...m,...n,id:u,dismissible:h,title:i}):m):this.addToast({title:i,...l,dismissible:h,id:u}),u},this.dismiss=n=>(n?(this.dismissedToasts.add(n),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:n,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(i=>i({id:r.id,dismiss:!0}))}),n),this.message=(n,r)=>this.create({...r,message:n}),this.error=(n,r)=>this.create({...r,message:n,type:"error"}),this.success=(n,r)=>this.create({...r,type:"success",message:n}),this.info=(n,r)=>this.create({...r,type:"info",message:n}),this.warning=(n,r)=>this.create({...r,type:"warning",message:n}),this.loading=(n,r)=>this.create({...r,type:"loading",message:n}),this.promise=(n,r)=>{if(!r)return;let i;r.loading!==void 0&&(i=this.create({...r,promise:n,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const l=Promise.resolve(n instanceof Function?n():n);let u=i!==void 0,d;const h=l.then(async p=>{if(d=["resolve",p],qn.isValidElement(p))u=!1,this.create({id:i,type:"default",message:p});else if(ZS(p)&&!p.ok){u=!1;const _=typeof r.error=="function"?await r.error(`HTTP error! status: ${p.status}`):r.error,w=typeof r.description=="function"?await r.description(`HTTP error! status: ${p.status}`):r.description,k=typeof _=="object"&&!qn.isValidElement(_)?_:{message:_};this.create({id:i,type:"error",description:w,...k})}else if(p instanceof Error){u=!1;const _=typeof r.error=="function"?await r.error(p):r.error,w=typeof r.description=="function"?await r.description(p):r.description,k=typeof _=="object"&&!qn.isValidElement(_)?_:{message:_};this.create({id:i,type:"error",description:w,...k})}else if(r.success!==void 0){u=!1;const _=typeof r.success=="function"?await r.success(p):r.success,w=typeof r.description=="function"?await r.description(p):r.description,k=typeof _=="object"&&!qn.isValidElement(_)?_:{message:_};this.create({id:i,type:"success",description:w,...k})}}).catch(async p=>{if(d=["reject",p],r.error!==void 0){u=!1;const y=typeof r.error=="function"?await r.error(p):r.error,_=typeof r.description=="function"?await r.description(p):r.description,E=typeof y=="object"&&!qn.isValidElement(y)?y:{message:y};this.create({id:i,type:"error",description:_,...E})}}).finally(()=>{u&&(this.dismiss(i),i=void 0),r.finally==null||r.finally.call(r)}),m=()=>new Promise((p,y)=>h.then(()=>d[0]==="reject"?y(d[1]):p(d[1])).catch(y));return typeof i!="string"&&typeof i!="number"?{unwrap:m}:Object.assign(i,{unwrap:m})},this.custom=(n,r)=>{const i=r?.id||Id++;return this.create({jsx:n(i),id:i,...r}),i},this.getActiveToasts=()=>this.toasts.filter(n=>!this.dismissedToasts.has(n.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const bn=new IS,HS=(t,n)=>{const r=n?.id||Id++;return bn.addToast({title:t,...n,id:r}),r},ZS=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",PS=HS,VS=()=>bn.toasts,FS=()=>bn.getActiveToasts(),ye=Object.assign(PS,{success:bn.success,info:bn.info,warning:bn.warning,error:bn.error,custom:bn.custom,message:bn.message,promise:bn.promise,dismiss:bn.dismiss,loading:bn.loading},{getHistory:VS,getToasts:FS});BS("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");const GS=t=>{let n;return t?n=t:typeof fetch>"u"?n=(...r)=>Qt(async()=>{const{default:i}=await Promise.resolve().then(()=>Rs);return{default:i}},[]).then(({default:i})=>i(...r)):n=fetch,(...r)=>n(...r)};class mf extends Error{constructor(n,r="FunctionsError",i){super(n),this.name=r,this.context=i}}class KS extends mf{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class Ug extends mf{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class $g extends mf{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var Hd;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Hd||(Hd={}));var YS=function(t,n,r,i){function l(u){return u instanceof r?u:new r(function(d){d(u)})}return new(r||(r=Promise))(function(u,d){function h(y){try{p(i.next(y))}catch(_){d(_)}}function m(y){try{p(i.throw(y))}catch(_){d(_)}}function p(y){y.done?u(y.value):l(y.value).then(h,m)}p((i=i.apply(t,n||[])).next())})};class QS{constructor(n,{headers:r={},customFetch:i,region:l=Hd.Any}={}){this.url=n,this.headers=r,this.region=l,this.fetch=GS(i)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n,r={}){var i;return YS(this,void 0,void 0,function*(){try{const{headers:l,method:u,body:d}=r;let h={},{region:m}=r;m||(m=this.region);const p=new URL(`${this.url}/${n}`);m&&m!=="any"&&(h["x-region"]=m,p.searchParams.set("forceFunctionRegion",m));let y;d&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)&&(typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",y=d):typeof d=="string"?(h["Content-Type"]="text/plain",y=d):typeof FormData<"u"&&d instanceof FormData?y=d:(h["Content-Type"]="application/json",y=JSON.stringify(d)));const _=yield this.fetch(p.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),l),body:y}).catch(A=>{throw new KS(A)}),w=_.headers.get("x-relay-error");if(w&&w==="true")throw new Ug(_);if(!_.ok)throw new $g(_);let E=((i=_.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),k;return E==="application/json"?k=yield _.json():E==="application/octet-stream"?k=yield _.blob():E==="text/event-stream"?k=_:E==="multipart/form-data"?k=yield _.formData():k=yield _.text(),{data:k,error:null,response:_}}catch(l){return{data:null,error:l,response:l instanceof $g||l instanceof Ug?l.context:void 0}}})}}var Ct={},is={},os={},ls={},us={},cs={},XS=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ts=XS();const JS=Ts.fetch,fy=Ts.fetch.bind(Ts),hy=Ts.Headers,WS=Ts.Request,ex=Ts.Response,Rs=Object.freeze(Object.defineProperty({__proto__:null,Headers:hy,Request:WS,Response:ex,default:fy,fetch:JS},Symbol.toStringTag,{value:"Module"})),tx=w_(Rs);var Sl={},Lg;function my(){if(Lg)return Sl;Lg=1,Object.defineProperty(Sl,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Sl.default=t,Sl}var qg;function py(){if(qg)return cs;qg=1;var t=cs&&cs.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(cs,"__esModule",{value:!0});const n=t(tx),r=t(my());class i{constructor(u){this.shouldThrowOnError=!1,this.method=u.method,this.url=u.url,this.headers=u.headers,this.schema=u.schema,this.body=u.body,this.shouldThrowOnError=u.shouldThrowOnError,this.signal=u.signal,this.isMaybeSingle=u.isMaybeSingle,u.fetch?this.fetch=u.fetch:typeof fetch>"u"?this.fetch=n.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(u,d){return this.headers=Object.assign({},this.headers),this.headers[u]=d,this}then(u,d){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const h=this.fetch;let m=h(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async p=>{var y,_,w;let E=null,k=null,A=null,N=p.status,L=p.statusText;if(p.ok){if(this.method!=="HEAD"){const B=await p.text();B===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?k=B:k=JSON.parse(B))}const z=(y=this.headers.Prefer)===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),F=(_=p.headers.get("content-range"))===null||_===void 0?void 0:_.split("/");z&&F&&F.length>1&&(A=parseInt(F[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(k)&&(k.length>1?(E={code:"PGRST116",details:`Results contain ${k.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},k=null,A=null,N=406,L="Not Acceptable"):k.length===1?k=k[0]:k=null)}else{const z=await p.text();try{E=JSON.parse(z),Array.isArray(E)&&p.status===404&&(k=[],E=null,N=200,L="OK")}catch{p.status===404&&z===""?(N=204,L="No Content"):E={message:z}}if(E&&this.isMaybeSingle&&(!((w=E?.details)===null||w===void 0)&&w.includes("0 rows"))&&(E=null,N=200,L="OK"),E&&this.shouldThrowOnError)throw new r.default(E)}return{error:E,data:k,count:A,status:N,statusText:L}});return this.shouldThrowOnError||(m=m.catch(p=>{var y,_,w;return{error:{message:`${(y=p?.name)!==null&&y!==void 0?y:"FetchError"}: ${p?.message}`,details:`${(_=p?.stack)!==null&&_!==void 0?_:""}`,hint:"",code:`${(w=p?.code)!==null&&w!==void 0?w:""}`},data:null,count:null,status:0,statusText:""}})),m.then(u,d)}returns(){return this}overrideTypes(){return this}}return cs.default=i,cs}var Bg;function gy(){if(Bg)return us;Bg=1;var t=us&&us.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(us,"__esModule",{value:!0});const n=t(py());class r extends n.default{select(l){let u=!1;const d=(l??"*").split("").map(h=>/\s/.test(h)&&!u?"":(h==='"'&&(u=!u),h)).join("");return this.url.searchParams.set("select",d),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(l,{ascending:u=!0,nullsFirst:d,foreignTable:h,referencedTable:m=h}={}){const p=m?`${m}.order`:"order",y=this.url.searchParams.get(p);return this.url.searchParams.set(p,`${y?`${y},`:""}${l}.${u?"asc":"desc"}${d===void 0?"":d?".nullsfirst":".nullslast"}`),this}limit(l,{foreignTable:u,referencedTable:d=u}={}){const h=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(h,`${l}`),this}range(l,u,{foreignTable:d,referencedTable:h=d}={}){const m=typeof h>"u"?"offset":`${h}.offset`,p=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(m,`${l}`),this.url.searchParams.set(p,`${u-l+1}`),this}abortSignal(l){return this.signal=l,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:l=!1,verbose:u=!1,settings:d=!1,buffers:h=!1,wal:m=!1,format:p="text"}={}){var y;const _=[l?"analyze":null,u?"verbose":null,d?"settings":null,h?"buffers":null,m?"wal":null].filter(Boolean).join("|"),w=(y=this.headers.Accept)!==null&&y!==void 0?y:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${p}; for="${w}"; options=${_};`,p==="json"?this:this}rollback(){var l;return((l=this.headers.Prefer)!==null&&l!==void 0?l:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return us.default=r,us}var Ig;function pf(){if(Ig)return ls;Ig=1;var t=ls&&ls.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(ls,"__esModule",{value:!0});const n=t(gy());class r extends n.default{eq(l,u){return this.url.searchParams.append(l,`eq.${u}`),this}neq(l,u){return this.url.searchParams.append(l,`neq.${u}`),this}gt(l,u){return this.url.searchParams.append(l,`gt.${u}`),this}gte(l,u){return this.url.searchParams.append(l,`gte.${u}`),this}lt(l,u){return this.url.searchParams.append(l,`lt.${u}`),this}lte(l,u){return this.url.searchParams.append(l,`lte.${u}`),this}like(l,u){return this.url.searchParams.append(l,`like.${u}`),this}likeAllOf(l,u){return this.url.searchParams.append(l,`like(all).{${u.join(",")}}`),this}likeAnyOf(l,u){return this.url.searchParams.append(l,`like(any).{${u.join(",")}}`),this}ilike(l,u){return this.url.searchParams.append(l,`ilike.${u}`),this}ilikeAllOf(l,u){return this.url.searchParams.append(l,`ilike(all).{${u.join(",")}}`),this}ilikeAnyOf(l,u){return this.url.searchParams.append(l,`ilike(any).{${u.join(",")}}`),this}is(l,u){return this.url.searchParams.append(l,`is.${u}`),this}in(l,u){const d=Array.from(new Set(u)).map(h=>typeof h=="string"&&new RegExp("[,()]").test(h)?`"${h}"`:`${h}`).join(",");return this.url.searchParams.append(l,`in.(${d})`),this}contains(l,u){return typeof u=="string"?this.url.searchParams.append(l,`cs.${u}`):Array.isArray(u)?this.url.searchParams.append(l,`cs.{${u.join(",")}}`):this.url.searchParams.append(l,`cs.${JSON.stringify(u)}`),this}containedBy(l,u){return typeof u=="string"?this.url.searchParams.append(l,`cd.${u}`):Array.isArray(u)?this.url.searchParams.append(l,`cd.{${u.join(",")}}`):this.url.searchParams.append(l,`cd.${JSON.stringify(u)}`),this}rangeGt(l,u){return this.url.searchParams.append(l,`sr.${u}`),this}rangeGte(l,u){return this.url.searchParams.append(l,`nxl.${u}`),this}rangeLt(l,u){return this.url.searchParams.append(l,`sl.${u}`),this}rangeLte(l,u){return this.url.searchParams.append(l,`nxr.${u}`),this}rangeAdjacent(l,u){return this.url.searchParams.append(l,`adj.${u}`),this}overlaps(l,u){return typeof u=="string"?this.url.searchParams.append(l,`ov.${u}`):this.url.searchParams.append(l,`ov.{${u.join(",")}}`),this}textSearch(l,u,{config:d,type:h}={}){let m="";h==="plain"?m="pl":h==="phrase"?m="ph":h==="websearch"&&(m="w");const p=d===void 0?"":`(${d})`;return this.url.searchParams.append(l,`${m}fts${p}.${u}`),this}match(l){return Object.entries(l).forEach(([u,d])=>{this.url.searchParams.append(u,`eq.${d}`)}),this}not(l,u,d){return this.url.searchParams.append(l,`not.${u}.${d}`),this}or(l,{foreignTable:u,referencedTable:d=u}={}){const h=d?`${d}.or`:"or";return this.url.searchParams.append(h,`(${l})`),this}filter(l,u,d){return this.url.searchParams.append(l,`${u}.${d}`),this}}return ls.default=r,ls}var Hg;function vy(){if(Hg)return os;Hg=1;var t=os&&os.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(os,"__esModule",{value:!0});const n=t(pf());class r{constructor(l,{headers:u={},schema:d,fetch:h}){this.url=l,this.headers=u,this.schema=d,this.fetch=h}select(l,{head:u=!1,count:d}={}){const h=u?"HEAD":"GET";let m=!1;const p=(l??"*").split("").map(y=>/\s/.test(y)&&!m?"":(y==='"'&&(m=!m),y)).join("");return this.url.searchParams.set("select",p),d&&(this.headers.Prefer=`count=${d}`),new n.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(l,{count:u,defaultToNull:d=!0}={}){const h="POST",m=[];if(this.headers.Prefer&&m.push(this.headers.Prefer),u&&m.push(`count=${u}`),d||m.push("missing=default"),this.headers.Prefer=m.join(","),Array.isArray(l)){const p=l.reduce((y,_)=>y.concat(Object.keys(_)),[]);if(p.length>0){const y=[...new Set(p)].map(_=>`"${_}"`);this.url.searchParams.set("columns",y.join(","))}}return new n.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:this.fetch,allowEmpty:!1})}upsert(l,{onConflict:u,ignoreDuplicates:d=!1,count:h,defaultToNull:m=!0}={}){const p="POST",y=[`resolution=${d?"ignore":"merge"}-duplicates`];if(u!==void 0&&this.url.searchParams.set("on_conflict",u),this.headers.Prefer&&y.push(this.headers.Prefer),h&&y.push(`count=${h}`),m||y.push("missing=default"),this.headers.Prefer=y.join(","),Array.isArray(l)){const _=l.reduce((w,E)=>w.concat(Object.keys(E)),[]);if(_.length>0){const w=[...new Set(_)].map(E=>`"${E}"`);this.url.searchParams.set("columns",w.join(","))}}return new n.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:this.fetch,allowEmpty:!1})}update(l,{count:u}={}){const d="PATCH",h=[];return this.headers.Prefer&&h.push(this.headers.Prefer),u&&h.push(`count=${u}`),this.headers.Prefer=h.join(","),new n.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:this.fetch,allowEmpty:!1})}delete({count:l}={}){const u="DELETE",d=[];return l&&d.push(`count=${l}`),this.headers.Prefer&&d.unshift(this.headers.Prefer),this.headers.Prefer=d.join(","),new n.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return os.default=r,os}var Ni={},Di={},Zg;function nx(){return Zg||(Zg=1,Object.defineProperty(Di,"__esModule",{value:!0}),Di.version=void 0,Di.version="0.0.0-automated"),Di}var Pg;function ax(){if(Pg)return Ni;Pg=1,Object.defineProperty(Ni,"__esModule",{value:!0}),Ni.DEFAULT_HEADERS=void 0;const t=nx();return Ni.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${t.version}`},Ni}var Vg;function rx(){if(Vg)return is;Vg=1;var t=is&&is.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(is,"__esModule",{value:!0});const n=t(vy()),r=t(pf()),i=ax();class l{constructor(d,{headers:h={},schema:m,fetch:p}={}){this.url=d,this.headers=Object.assign(Object.assign({},i.DEFAULT_HEADERS),h),this.schemaName=m,this.fetch=p}from(d){const h=new URL(`${this.url}/${d}`);return new n.default(h,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(d){return new l(this.url,{headers:this.headers,schema:d,fetch:this.fetch})}rpc(d,h={},{head:m=!1,get:p=!1,count:y}={}){let _;const w=new URL(`${this.url}/rpc/${d}`);let E;m||p?(_=m?"HEAD":"GET",Object.entries(h).filter(([A,N])=>N!==void 0).map(([A,N])=>[A,Array.isArray(N)?`{${N.join(",")}}`:`${N}`]).forEach(([A,N])=>{w.searchParams.append(A,N)})):(_="POST",E=h);const k=Object.assign({},this.headers);return y&&(k.Prefer=`count=${y}`),new r.default({method:_,url:w,headers:k,schema:this.schemaName,body:E,fetch:this.fetch,allowEmpty:!1})}}return is.default=l,is}var Fg;function sx(){if(Fg)return Ct;Fg=1;var t=Ct&&Ct.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.PostgrestError=Ct.PostgrestBuilder=Ct.PostgrestTransformBuilder=Ct.PostgrestFilterBuilder=Ct.PostgrestQueryBuilder=Ct.PostgrestClient=void 0;const n=t(rx());Ct.PostgrestClient=n.default;const r=t(vy());Ct.PostgrestQueryBuilder=r.default;const i=t(pf());Ct.PostgrestFilterBuilder=i.default;const l=t(gy());Ct.PostgrestTransformBuilder=l.default;const u=t(py());Ct.PostgrestBuilder=u.default;const d=t(my());return Ct.PostgrestError=d.default,Ct.default={PostgrestClient:n.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:l.default,PostgrestBuilder:u.default,PostgrestError:d.default},Ct}var ix=sx();const ox=Lv(ix),{PostgrestClient:lx,PostgrestQueryBuilder:IA,PostgrestFilterBuilder:HA,PostgrestTransformBuilder:ZA,PostgrestBuilder:PA,PostgrestError:VA}=ox;class ux{static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const r=parseInt(process.versions.node.split(".")[0]);return r>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${r} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${r} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const n=this.detectEnvironment();if(n.constructor)return n.constructor;let r=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(r+=`

Suggested solution: ${n.workaround}`),new Error(r)}static createWebSocket(n,r){const i=this.getWebSocketConstructor();return new i(n,r)}static isWebSocketSupported(){try{const n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}}const cx="2.15.1",dx=`realtime-js/${cx}`,fx="1.0.0",Zd=1e4,hx=1e3,mx=100;var Zi;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Zi||(Zi={}));var Et;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Et||(Et={}));var An;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(An||(An={}));var Pd;(function(t){t.websocket="websocket"})(Pd||(Pd={}));var pr;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(pr||(pr={}));class px{constructor(){this.HEADER_LENGTH=1}decode(n,r){return n.constructor===ArrayBuffer?r(this._binaryDecode(n)):r(typeof n=="string"?JSON.parse(n):{})}_binaryDecode(n){const r=new DataView(n),i=new TextDecoder;return this._decodeBroadcast(n,r,i)}_decodeBroadcast(n,r,i){const l=r.getUint8(1),u=r.getUint8(2);let d=this.HEADER_LENGTH+2;const h=i.decode(n.slice(d,d+l));d=d+l;const m=i.decode(n.slice(d,d+u));d=d+u;const p=JSON.parse(i.decode(n.slice(d,n.byteLength)));return{ref:null,topic:h,event:m,payload:p}}}class yy{constructor(n,r){this.callback=n,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var nt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(nt||(nt={}));const Gg=(t,n,r={})=>{var i;const l=(i=r.skipTypes)!==null&&i!==void 0?i:[];return Object.keys(n).reduce((u,d)=>(u[d]=gx(d,t,n,l),u),{})},gx=(t,n,r,i)=>{const l=n.find(h=>h.name===t),u=l?.type,d=r[t];return u&&!i.includes(u)?by(u,d):Vd(d)},by=(t,n)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return _x(n,r)}switch(t){case nt.bool:return vx(n);case nt.float4:case nt.float8:case nt.int2:case nt.int4:case nt.int8:case nt.numeric:case nt.oid:return yx(n);case nt.json:case nt.jsonb:return bx(n);case nt.timestamp:return wx(n);case nt.abstime:case nt.date:case nt.daterange:case nt.int4range:case nt.int8range:case nt.money:case nt.reltime:case nt.text:case nt.time:case nt.timestamptz:case nt.timetz:case nt.tsrange:case nt.tstzrange:return Vd(n);default:return Vd(n)}},Vd=t=>t,vx=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},yx=t=>{if(typeof t=="string"){const n=parseFloat(t);if(!Number.isNaN(n))return n}return t},bx=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(n){return console.log(`JSON parse error: ${n}`),t}return t},_x=(t,n)=>{if(typeof t!="string")return t;const r=t.length-1,i=t[r];if(t[0]==="{"&&i==="}"){let u;const d=t.slice(1,r);try{u=JSON.parse("["+d+"]")}catch{u=d?d.split(","):[]}return u.map(h=>by(n,h))}return t},wx=t=>typeof t=="string"?t.replace(" ","T"):t,_y=t=>{let n=t;return n=n.replace(/^ws/i,"http"),n=n.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),n.replace(/\/+$/,"")+"/api/broadcast"};class Td{constructor(n,r,i={},l=Zd){this.channel=n,this.event=r,this.payload=i,this.timeout=l,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,r){var i;return this._hasReceived(n)&&r((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:n,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:r}){this.recHooks.filter(i=>i.status===n).forEach(i=>i.callback(r))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var Kg;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Kg||(Kg={}));class Pi{constructor(n,r){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},l=>{const{onJoin:u,onLeave:d,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Pi.syncState(this.state,l,u,d),this.pendingDiffs.forEach(m=>{this.state=Pi.syncDiff(this.state,m,u,d)}),this.pendingDiffs=[],h()}),this.channel._on(i.diff,{},l=>{const{onJoin:u,onLeave:d,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(l):(this.state=Pi.syncDiff(this.state,l,u,d),h())}),this.onJoin((l,u,d)=>{this.channel._trigger("presence",{event:"join",key:l,currentPresences:u,newPresences:d})}),this.onLeave((l,u,d)=>{this.channel._trigger("presence",{event:"leave",key:l,currentPresences:u,leftPresences:d})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,r,i,l){const u=this.cloneDeep(n),d=this.transformState(r),h={},m={};return this.map(u,(p,y)=>{d[p]||(m[p]=y)}),this.map(d,(p,y)=>{const _=u[p];if(_){const w=y.map(N=>N.presence_ref),E=_.map(N=>N.presence_ref),k=y.filter(N=>E.indexOf(N.presence_ref)<0),A=_.filter(N=>w.indexOf(N.presence_ref)<0);k.length>0&&(h[p]=k),A.length>0&&(m[p]=A)}else h[p]=y}),this.syncDiff(u,{joins:h,leaves:m},i,l)}static syncDiff(n,r,i,l){const{joins:u,leaves:d}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return i||(i=()=>{}),l||(l=()=>{}),this.map(u,(h,m)=>{var p;const y=(p=n[h])!==null&&p!==void 0?p:[];if(n[h]=this.cloneDeep(m),y.length>0){const _=n[h].map(E=>E.presence_ref),w=y.filter(E=>_.indexOf(E.presence_ref)<0);n[h].unshift(...w)}i(h,y,m)}),this.map(d,(h,m)=>{let p=n[h];if(!p)return;const y=m.map(_=>_.presence_ref);p=p.filter(_=>y.indexOf(_.presence_ref)<0),n[h]=p,l(h,p,m),p.length===0&&delete n[h]}),n}static map(n,r){return Object.getOwnPropertyNames(n).map(i=>r(i,n[i]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((r,i)=>{const l=n[i];return"metas"in l?r[i]=l.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):r[i]=l,r},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Yg;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Yg||(Yg={}));var Vi;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Vi||(Vi={}));var la;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(la||(la={}));class gf{constructor(n,r={config:{}},i){this.topic=n,this.params=r,this.socket=i,this.bindings={},this.state=Et.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Td(this,An.join,this.params,this.timeout),this.rejoinTimer=new yy(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Et.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Et.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Et.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Et.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Et.errored,this.rejoinTimer.scheduleTimeout())}),this._on(An.reply,{},(l,u)=>{this._trigger(this._replyEventName(u),l)}),this.presence=new Pi(this),this.broadcastEndpointURL=_y(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(n,r=this.timeout){var i,l;if(this.socket.isConnected()||this.socket.connect(),this.state==Et.closed){const{config:{broadcast:u,presence:d,private:h}}=this.params,m=(l=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(w=>w.filter))!==null&&l!==void 0?l:[],p=!!this.bindings[Vi.PRESENCE]&&this.bindings[Vi.PRESENCE].length>0,y={},_={broadcast:u,presence:Object.assign(Object.assign({},d),{enabled:p}),postgres_changes:m,private:h};this.socket.accessTokenValue&&(y.access_token=this.socket.accessTokenValue),this._onError(w=>n?.(la.CHANNEL_ERROR,w)),this._onClose(()=>n?.(la.CLOSED)),this.updateJoinPayload(Object.assign({config:_},y)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:w})=>{var E;if(this.socket.setAuth(),w===void 0){n?.(la.SUBSCRIBED);return}else{const k=this.bindings.postgres_changes,A=(E=k?.length)!==null&&E!==void 0?E:0,N=[];for(let L=0;L<A;L++){const G=k[L],{filter:{event:z,schema:F,table:B,filter:X}}=G,ae=w&&w[L];if(ae&&ae.event===z&&ae.schema===F&&ae.table===B&&ae.filter===X)N.push(Object.assign(Object.assign({},G),{id:ae.id}));else{this.unsubscribe(),this.state=Et.errored,n?.(la.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=N,n&&n(la.SUBSCRIBED);return}}).receive("error",w=>{this.state=Et.errored,n?.(la.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(w).join(", ")||"error")))}).receive("timeout",()=>{n?.(la.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,r={}){return await this.send({type:"presence",event:"track",payload:n},r.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,r,i){return this.state===Et.joined&&n===Vi.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(n,r,i)}async send(n,r={}){var i,l;if(!this._canPush()&&n.type==="broadcast"){const{event:u,payload:d}=n,m={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:d,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);return await((l=p.body)===null||l===void 0?void 0:l.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var d,h,m;const p=this._push(n.type,n,r.timeout||this.timeout);n.type==="broadcast"&&!(!((m=(h=(d=this.params)===null||d===void 0?void 0:d.config)===null||h===void 0?void 0:h.broadcast)===null||m===void 0)&&m.ack)&&u("ok"),p.receive("ok",()=>u("ok")),p.receive("error",()=>u("error")),p.receive("timeout",()=>u("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=Et.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(An.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(l=>{i=new Td(this,An.leave,{},n),i.receive("ok",()=>{r(),l("ok")}).receive("timeout",()=>{r(),l("timed out")}).receive("error",()=>{l("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i?.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Et.closed,this.bindings={}}async _fetchWithTimeout(n,r,i){const l=new AbortController,u=setTimeout(()=>l.abort(),i),d=await this.socket.fetch(n,Object.assign(Object.assign({},r),{signal:l.signal}));return clearTimeout(u),d}_push(n,r,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let l=new Td(this,n,r,i);return this._canPush()?l.send():this._addToPushBuffer(l),l}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>mx){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(n,r,i){return r}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,r,i){var l,u;const d=n.toLocaleLowerCase(),{close:h,error:m,leave:p,join:y}=An;if(i&&[h,m,p,y].indexOf(d)>=0&&i!==this._joinRef())return;let w=this._onMessage(d,r,i);if(r&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(d)?(l=this.bindings.postgres_changes)===null||l===void 0||l.filter(E=>{var k,A,N;return((k=E.filter)===null||k===void 0?void 0:k.event)==="*"||((N=(A=E.filter)===null||A===void 0?void 0:A.event)===null||N===void 0?void 0:N.toLocaleLowerCase())===d}).map(E=>E.callback(w,i)):(u=this.bindings[d])===null||u===void 0||u.filter(E=>{var k,A,N,L,G,z;if(["broadcast","presence","postgres_changes"].includes(d))if("id"in E){const F=E.id,B=(k=E.filter)===null||k===void 0?void 0:k.event;return F&&((A=r.ids)===null||A===void 0?void 0:A.includes(F))&&(B==="*"||B?.toLocaleLowerCase()===((N=r.data)===null||N===void 0?void 0:N.type.toLocaleLowerCase()))}else{const F=(G=(L=E?.filter)===null||L===void 0?void 0:L.event)===null||G===void 0?void 0:G.toLocaleLowerCase();return F==="*"||F===((z=r?.event)===null||z===void 0?void 0:z.toLocaleLowerCase())}else return E.type.toLocaleLowerCase()===d}).map(E=>{if(typeof w=="object"&&"ids"in w){const k=w.data,{schema:A,table:N,commit_timestamp:L,type:G,errors:z}=k;w=Object.assign(Object.assign({},{schema:A,table:N,commit_timestamp:L,eventType:G,new:{},old:{},errors:z}),this._getPayloadRecords(k))}E.callback(w,i)})}_isClosed(){return this.state===Et.closed}_isJoined(){return this.state===Et.joined}_isJoining(){return this.state===Et.joining}_isLeaving(){return this.state===Et.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,r,i){const l=n.toLocaleLowerCase(),u={type:l,filter:r,callback:i};return this.bindings[l]?this.bindings[l].push(u):this.bindings[l]=[u],this}_off(n,r){const i=n.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(l=>{var u;return!(((u=l.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===i&&gf.isEqual(l.filter,r))})),this}static isEqual(n,r){if(Object.keys(n).length!==Object.keys(r).length)return!1;for(const i in n)if(n[i]!==r[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(An.close,{},n)}_onError(n){this._on(An.error,{},r=>n(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Et.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const r={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(r.new=Gg(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(r.old=Gg(n.columns,n.old_record)),r}}const Qg=()=>{},xl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Sx=[1e3,2e3,5e3,1e4],xx=1e4,Ex=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Tx{constructor(n,r){var i;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Zd,this.transport=null,this.heartbeatIntervalMs=xl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Qg,this.ref=0,this.reconnectTimer=null,this.logger=Qg,this.conn=null,this.sendBuffer=[],this.serializer=new px,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=l=>{let u;return l?u=l:typeof fetch>"u"?u=(...d)=>Qt(async()=>{const{default:h}=await Promise.resolve().then(()=>Rs);return{default:h}},void 0).then(({default:h})=>h(...d)).catch(h=>{throw new Error(`Failed to load @supabase/node-fetch: ${h.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):u=fetch,(...d)=>u(...d)},!(!((i=r?.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${n}/${Pd.websocket}`,this.httpEndpoint=_y(n),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=ux.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");const r=n.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:fx}))}disconnect(n,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},n?this.conn.close(n,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(n){const r=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const n=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,r,i){this.logger(n,r,i)}connectionState(){switch(this.conn&&this.conn.readyState){case Zi.connecting:return pr.Connecting;case Zi.open:return pr.Open;case Zi.closing:return pr.Closing;default:return pr.Closed}}isConnected(){return this.connectionState()===pr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,r={config:{}}){const i=`realtime:${n}`,l=this.getChannels().find(u=>u.topic===i);if(l)return l;{const u=new gf(`realtime:${n}`,r,this);return this.channels.push(u),u}}push(n){const{topic:r,event:i,payload:l,ref:u}=n,d=()=>{this.encode(n,h=>{var m;(m=this.conn)===null||m===void 0||m.send(h)})};this.log("push",`${r} ${i} (${u})`,l),this.isConnected()?d():this.sendBuffer.push(d)}async setAuth(n=null){this._authPromise=this._performAuth(n);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var n;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(hx,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},xl.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let r=this.channels.find(i=>i.topic===n&&(i._isJoined()||i._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${n}"`),r.unsubscribe())}_remove(n){this.channels=this.channels.filter(r=>r.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,r=>{r.topic==="phoenix"&&r.event==="phx_reply"&&this.heartbeatCallback(r.payload.status==="ok"?"ok":"error"),r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:l,payload:u,ref:d}=r,h=d?`(${d})`:"",m=u.status||"";this.log("receive",`${m} ${i} ${l} ${h}`.trim(),u),this.channels.filter(p=>p._isMember(i)).forEach(p=>p._trigger(l,u,d)),this._triggerStateCallbacks("message",r)})}_clearTimer(n){var r;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(n){var r;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n)}_triggerChanError(){this.channels.forEach(n=>n._trigger(An.error))}_appendParams(n,r){if(Object.keys(r).length===0)return n;const i=n.match(/\?/)?"&":"?",l=new URLSearchParams(r);return`${n}${i}${l}`}_workerObjectUrl(n){let r;if(n)r=n;else{const i=new Blob([Ex],{type:"application/javascript"});r=URL.createObjectURL(i)}return r}_setConnectionState(n,r=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(n=null){let r;n?r=n:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(i=>{const l={access_token:r,version:dx};r&&i.updateJoinPayload(l),i.joinedOnce&&i._isJoined()&&i._push(An.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(n="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${n}`,r)})}_triggerStateCallbacks(n,r){try{this.stateChangeCallbacks[n].forEach(i=>{try{i(r)}catch(l){this.log("error",`error in ${n} callback`,l)}})}catch(i){this.log("error",`error triggering ${n} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new yy(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},xl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(n){var r,i,l,u,d,h,m,p;if(this.transport=(r=n?.transport)!==null&&r!==void 0?r:null,this.timeout=(i=n?.timeout)!==null&&i!==void 0?i:Zd,this.heartbeatIntervalMs=(l=n?.heartbeatIntervalMs)!==null&&l!==void 0?l:xl.HEARTBEAT_INTERVAL,this.worker=(u=n?.worker)!==null&&u!==void 0?u:!1,this.accessToken=(d=n?.accessToken)!==null&&d!==void 0?d:null,n?.params&&(this.params=n.params),n?.logger&&(this.logger=n.logger),(n?.logLevel||n?.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(h=n?.reconnectAfterMs)!==null&&h!==void 0?h:(y=>Sx[y-1]||xx),this.encode=(m=n?.encode)!==null&&m!==void 0?m:((y,_)=>_(JSON.stringify(y))),this.decode=(p=n?.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n?.workerUrl}}}class vf extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}}function Tt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class jx extends vf{constructor(n,r,i){super(n),this.name="StorageApiError",this.status=r,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Fd extends vf{constructor(n,r){super(n),this.name="StorageUnknownError",this.originalError=r}}var kx=function(t,n,r,i){function l(u){return u instanceof r?u:new r(function(d){d(u)})}return new(r||(r=Promise))(function(u,d){function h(y){try{p(i.next(y))}catch(_){d(_)}}function m(y){try{p(i.throw(y))}catch(_){d(_)}}function p(y){y.done?u(y.value):l(y.value).then(h,m)}p((i=i.apply(t,n||[])).next())})};const wy=t=>{let n;return t?n=t:typeof fetch>"u"?n=(...r)=>Qt(async()=>{const{default:i}=await Promise.resolve().then(()=>Rs);return{default:i}},void 0).then(({default:i})=>i(...r)):n=fetch,(...r)=>n(...r)},Ox=()=>kx(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Qt(()=>Promise.resolve().then(()=>Rs),void 0)).Response:Response}),Gd=t=>{if(Array.isArray(t))return t.map(r=>Gd(r));if(typeof t=="function"||t!==Object(t))return t;const n={};return Object.entries(t).forEach(([r,i])=>{const l=r.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));n[l]=Gd(i)}),n},Ax=t=>{if(typeof t!="object"||t===null)return!1;const n=Object.getPrototypeOf(t);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var br=function(t,n,r,i){function l(u){return u instanceof r?u:new r(function(d){d(u)})}return new(r||(r=Promise))(function(u,d){function h(y){try{p(i.next(y))}catch(_){d(_)}}function m(y){try{p(i.throw(y))}catch(_){d(_)}}function p(y){y.done?u(y.value):l(y.value).then(h,m)}p((i=i.apply(t,n||[])).next())})};const jd=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Cx=(t,n,r)=>br(void 0,void 0,void 0,function*(){const i=yield Ox();t instanceof i&&!r?.noResolveJson?t.json().then(l=>{const u=t.status||500,d=l?.statusCode||u+"";n(new jx(jd(l),u,d))}).catch(l=>{n(new Fd(jd(l),l))}):n(new Fd(jd(t),t))}),Rx=(t,n,r,i)=>{const l={method:t,headers:n?.headers||{}};return t==="GET"||!i?l:(Ax(i)?(l.headers=Object.assign({"Content-Type":"application/json"},n?.headers),l.body=JSON.stringify(i)):l.body=i,n?.duplex&&(l.duplex=n.duplex),Object.assign(Object.assign({},l),r))};function ao(t,n,r,i,l,u){return br(this,void 0,void 0,function*(){return new Promise((d,h)=>{t(r,Rx(n,i,l,u)).then(m=>{if(!m.ok)throw m;return i?.noResolveJson?m:m.json()}).then(m=>d(m)).catch(m=>Cx(m,h,i))})})}function Bl(t,n,r,i){return br(this,void 0,void 0,function*(){return ao(t,"GET",n,r,i)})}function Ln(t,n,r,i,l){return br(this,void 0,void 0,function*(){return ao(t,"POST",n,i,l,r)})}function Kd(t,n,r,i,l){return br(this,void 0,void 0,function*(){return ao(t,"PUT",n,i,l,r)})}function Nx(t,n,r,i){return br(this,void 0,void 0,function*(){return ao(t,"HEAD",n,Object.assign(Object.assign({},r),{noResolveJson:!0}),i)})}function Sy(t,n,r,i,l){return br(this,void 0,void 0,function*(){return ao(t,"DELETE",n,i,l,r)})}var Pt=function(t,n,r,i){function l(u){return u instanceof r?u:new r(function(d){d(u)})}return new(r||(r=Promise))(function(u,d){function h(y){try{p(i.next(y))}catch(_){d(_)}}function m(y){try{p(i.throw(y))}catch(_){d(_)}}function p(y){y.done?u(y.value):l(y.value).then(h,m)}p((i=i.apply(t,n||[])).next())})};const Dx={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Xg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Mx{constructor(n,r={},i,l){this.url=n,this.headers=r,this.bucketId=i,this.fetch=wy(l)}uploadOrUpdate(n,r,i,l){return Pt(this,void 0,void 0,function*(){try{let u;const d=Object.assign(Object.assign({},Xg),l);let h=Object.assign(Object.assign({},this.headers),n==="POST"&&{"x-upsert":String(d.upsert)});const m=d.metadata;typeof Blob<"u"&&i instanceof Blob?(u=new FormData,u.append("cacheControl",d.cacheControl),m&&u.append("metadata",this.encodeMetadata(m)),u.append("",i)):typeof FormData<"u"&&i instanceof FormData?(u=i,u.append("cacheControl",d.cacheControl),m&&u.append("metadata",this.encodeMetadata(m))):(u=i,h["cache-control"]=`max-age=${d.cacheControl}`,h["content-type"]=d.contentType,m&&(h["x-metadata"]=this.toBase64(this.encodeMetadata(m)))),l?.headers&&(h=Object.assign(Object.assign({},h),l.headers));const p=this._removeEmptyFolders(r),y=this._getFinalPath(p),_=yield(n=="PUT"?Kd:Ln)(this.fetch,`${this.url}/object/${y}`,u,Object.assign({headers:h},d?.duplex?{duplex:d.duplex}:{}));return{data:{path:p,id:_.Id,fullPath:_.Key},error:null}}catch(u){if(Tt(u))return{data:null,error:u};throw u}})}upload(n,r,i){return Pt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",n,r,i)})}uploadToSignedUrl(n,r,i,l){return Pt(this,void 0,void 0,function*(){const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),h=new URL(this.url+`/object/upload/sign/${d}`);h.searchParams.set("token",r);try{let m;const p=Object.assign({upsert:Xg.upsert},l),y=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&i instanceof Blob?(m=new FormData,m.append("cacheControl",p.cacheControl),m.append("",i)):typeof FormData<"u"&&i instanceof FormData?(m=i,m.append("cacheControl",p.cacheControl)):(m=i,y["cache-control"]=`max-age=${p.cacheControl}`,y["content-type"]=p.contentType);const _=yield Kd(this.fetch,h.toString(),m,{headers:y});return{data:{path:u,fullPath:_.Key},error:null}}catch(m){if(Tt(m))return{data:null,error:m};throw m}})}createSignedUploadUrl(n,r){return Pt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(n);const l=Object.assign({},this.headers);r?.upsert&&(l["x-upsert"]="true");const u=yield Ln(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:l}),d=new URL(this.url+u.url),h=d.searchParams.get("token");if(!h)throw new vf("No token returned by API");return{data:{signedUrl:d.toString(),path:n,token:h},error:null}}catch(i){if(Tt(i))return{data:null,error:i};throw i}})}update(n,r,i){return Pt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",n,r,i)})}move(n,r,i){return Pt(this,void 0,void 0,function*(){try{return{data:yield Ln(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:n,destinationKey:r,destinationBucket:i?.destinationBucket},{headers:this.headers}),error:null}}catch(l){if(Tt(l))return{data:null,error:l};throw l}})}copy(n,r,i){return Pt(this,void 0,void 0,function*(){try{return{data:{path:(yield Ln(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:n,destinationKey:r,destinationBucket:i?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(l){if(Tt(l))return{data:null,error:l};throw l}})}createSignedUrl(n,r,i){return Pt(this,void 0,void 0,function*(){try{let l=this._getFinalPath(n),u=yield Ln(this.fetch,`${this.url}/object/sign/${l}`,Object.assign({expiresIn:r},i?.transform?{transform:i.transform}:{}),{headers:this.headers});const d=i?.download?`&download=${i.download===!0?"":i.download}`:"";return u={signedUrl:encodeURI(`${this.url}${u.signedURL}${d}`)},{data:u,error:null}}catch(l){if(Tt(l))return{data:null,error:l};throw l}})}createSignedUrls(n,r,i){return Pt(this,void 0,void 0,function*(){try{const l=yield Ln(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:n},{headers:this.headers}),u=i?.download?`&download=${i.download===!0?"":i.download}`:"";return{data:l.map(d=>Object.assign(Object.assign({},d),{signedUrl:d.signedURL?encodeURI(`${this.url}${d.signedURL}${u}`):null})),error:null}}catch(l){if(Tt(l))return{data:null,error:l};throw l}})}download(n,r){return Pt(this,void 0,void 0,function*(){const l=typeof r?.transform<"u"?"render/image/authenticated":"object",u=this.transformOptsToQueryString(r?.transform||{}),d=u?`?${u}`:"";try{const h=this._getFinalPath(n);return{data:yield(yield Bl(this.fetch,`${this.url}/${l}/${h}${d}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(h){if(Tt(h))return{data:null,error:h};throw h}})}info(n){return Pt(this,void 0,void 0,function*(){const r=this._getFinalPath(n);try{const i=yield Bl(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Gd(i),error:null}}catch(i){if(Tt(i))return{data:null,error:i};throw i}})}exists(n){return Pt(this,void 0,void 0,function*(){const r=this._getFinalPath(n);try{return yield Nx(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(Tt(i)&&i instanceof Fd){const l=i.originalError;if([400,404].includes(l?.status))return{data:!1,error:i}}throw i}})}getPublicUrl(n,r){const i=this._getFinalPath(n),l=[],u=r?.download?`download=${r.download===!0?"":r.download}`:"";u!==""&&l.push(u);const h=typeof r?.transform<"u"?"render/image":"object",m=this.transformOptsToQueryString(r?.transform||{});m!==""&&l.push(m);let p=l.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${i}${p}`)}}}remove(n){return Pt(this,void 0,void 0,function*(){try{return{data:yield Sy(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:n},{headers:this.headers}),error:null}}catch(r){if(Tt(r))return{data:null,error:r};throw r}})}list(n,r,i){return Pt(this,void 0,void 0,function*(){try{const l=Object.assign(Object.assign(Object.assign({},Dx),r),{prefix:n||""});return{data:yield Ln(this.fetch,`${this.url}/object/list/${this.bucketId}`,l,{headers:this.headers},i),error:null}}catch(l){if(Tt(l))return{data:null,error:l};throw l}})}listV2(n,r){return Pt(this,void 0,void 0,function*(){try{const i=Object.assign({},n);return{data:yield Ln(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(Tt(i))return{data:null,error:i};throw i}})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const r=[];return n.width&&r.push(`width=${n.width}`),n.height&&r.push(`height=${n.height}`),n.resize&&r.push(`resize=${n.resize}`),n.format&&r.push(`format=${n.format}`),n.quality&&r.push(`quality=${n.quality}`),r.join("&")}}const zx="2.11.0",Ux={"X-Client-Info":`storage-js/${zx}`};var ds=function(t,n,r,i){function l(u){return u instanceof r?u:new r(function(d){d(u)})}return new(r||(r=Promise))(function(u,d){function h(y){try{p(i.next(y))}catch(_){d(_)}}function m(y){try{p(i.throw(y))}catch(_){d(_)}}function p(y){y.done?u(y.value):l(y.value).then(h,m)}p((i=i.apply(t,n||[])).next())})};class $x{constructor(n,r={},i,l){const u=new URL(n);l?.useNewHostname&&/supabase\.(co|in|red)$/.test(u.hostname)&&!u.hostname.includes("storage.supabase.")&&(u.hostname=u.hostname.replace("supabase.","storage.supabase.")),this.url=u.href,this.headers=Object.assign(Object.assign({},Ux),r),this.fetch=wy(i)}listBuckets(){return ds(this,void 0,void 0,function*(){try{return{data:yield Bl(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(n){if(Tt(n))return{data:null,error:n};throw n}})}getBucket(n){return ds(this,void 0,void 0,function*(){try{return{data:yield Bl(this.fetch,`${this.url}/bucket/${n}`,{headers:this.headers}),error:null}}catch(r){if(Tt(r))return{data:null,error:r};throw r}})}createBucket(n,r={public:!1}){return ds(this,void 0,void 0,function*(){try{return{data:yield Ln(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(Tt(i))return{data:null,error:i};throw i}})}updateBucket(n,r){return ds(this,void 0,void 0,function*(){try{return{data:yield Kd(this.fetch,`${this.url}/bucket/${n}`,{id:n,name:n,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(Tt(i))return{data:null,error:i};throw i}})}emptyBucket(n){return ds(this,void 0,void 0,function*(){try{return{data:yield Ln(this.fetch,`${this.url}/bucket/${n}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Tt(r))return{data:null,error:r};throw r}})}deleteBucket(n){return ds(this,void 0,void 0,function*(){try{return{data:yield Sy(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(r){if(Tt(r))return{data:null,error:r};throw r}})}}class Lx extends $x{constructor(n,r={},i,l){super(n,r,i,l)}from(n){return new Mx(this.url,this.headers,n,this.fetch)}}const qx="2.55.0";let Li="";typeof Deno<"u"?Li="deno":typeof document<"u"?Li="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Li="react-native":Li="node";const Bx={"X-Client-Info":`supabase-js-${Li}/${qx}`},Ix={headers:Bx},Hx={schema:"public"},Zx={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Px={};var Vx=function(t,n,r,i){function l(u){return u instanceof r?u:new r(function(d){d(u)})}return new(r||(r=Promise))(function(u,d){function h(y){try{p(i.next(y))}catch(_){d(_)}}function m(y){try{p(i.throw(y))}catch(_){d(_)}}function p(y){y.done?u(y.value):l(y.value).then(h,m)}p((i=i.apply(t,n||[])).next())})};const Fx=t=>{let n;return t?n=t:typeof fetch>"u"?n=fy:n=fetch,(...r)=>n(...r)},Gx=()=>typeof Headers>"u"?hy:Headers,Kx=(t,n,r)=>{const i=Fx(r),l=Gx();return(u,d)=>Vx(void 0,void 0,void 0,function*(){var h;const m=(h=yield n())!==null&&h!==void 0?h:t;let p=new l(d?.headers);return p.has("apikey")||p.set("apikey",t),p.has("Authorization")||p.set("Authorization",`Bearer ${m}`),i(u,Object.assign(Object.assign({},d),{headers:p}))})};var Yx=function(t,n,r,i){function l(u){return u instanceof r?u:new r(function(d){d(u)})}return new(r||(r=Promise))(function(u,d){function h(y){try{p(i.next(y))}catch(_){d(_)}}function m(y){try{p(i.throw(y))}catch(_){d(_)}}function p(y){y.done?u(y.value):l(y.value).then(h,m)}p((i=i.apply(t,n||[])).next())})};function Qx(t){return t.endsWith("/")?t:t+"/"}function Xx(t,n){var r,i;const{db:l,auth:u,realtime:d,global:h}=t,{db:m,auth:p,realtime:y,global:_}=n,w={db:Object.assign(Object.assign({},m),l),auth:Object.assign(Object.assign({},p),u),realtime:Object.assign(Object.assign({},y),d),storage:{},global:Object.assign(Object.assign(Object.assign({},_),h),{headers:Object.assign(Object.assign({},(r=_?.headers)!==null&&r!==void 0?r:{}),(i=h?.headers)!==null&&i!==void 0?i:{})}),accessToken:()=>Yx(this,void 0,void 0,function*(){return""})};return t.accessToken?w.accessToken=t.accessToken:delete w.accessToken,w}const xy="2.71.1",vs=30*1e3,Yd=3,kd=Yd*vs,Jx="http://localhost:9999",Wx="supabase.auth.token",eE={"X-Client-Info":`gotrue-js/${xy}`},Qd="X-Supabase-Api-Version",Ey={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},tE=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,nE=600*1e3;class yf extends Error{constructor(n,r,i){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=i}}function we(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class aE extends yf{constructor(n,r,i){super(n,r,i),this.name="AuthApiError",this.status=r,this.code=i}}function rE(t){return we(t)&&t.name==="AuthApiError"}class Ty extends yf{constructor(n,r){super(n),this.name="AuthUnknownError",this.originalError=r}}class Va extends yf{constructor(n,r,i,l){super(n,i,l),this.name=r,this.status=i}}class qa extends Va{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function sE(t){return we(t)&&t.name==="AuthSessionMissingError"}class El extends Va{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Tl extends Va{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class jl extends Va{constructor(n,r=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function iE(t){return we(t)&&t.name==="AuthImplicitGrantRedirectError"}class Jg extends Va{constructor(n,r=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Xd extends Va{constructor(n,r){super(n,"AuthRetryableFetchError",r,void 0)}}function Od(t){return we(t)&&t.name==="AuthRetryableFetchError"}class Wg extends Va{constructor(n,r,i){super(n,"AuthWeakPasswordError",r,"weak_password"),this.reasons=i}}class Jd extends Va{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const Il="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ev=` 	
\r=`.split(""),oE=(()=>{const t=new Array(128);for(let n=0;n<t.length;n+=1)t[n]=-1;for(let n=0;n<ev.length;n+=1)t[ev[n].charCodeAt(0)]=-2;for(let n=0;n<Il.length;n+=1)t[Il[n].charCodeAt(0)]=n;return t})();function tv(t,n,r){if(t!==null)for(n.queue=n.queue<<8|t,n.queuedBits+=8;n.queuedBits>=6;){const i=n.queue>>n.queuedBits-6&63;r(Il[i]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const i=n.queue>>n.queuedBits-6&63;r(Il[i]),n.queuedBits-=6}}function jy(t,n,r){const i=oE[t];if(i>-1)for(n.queue=n.queue<<6|i,n.queuedBits+=6;n.queuedBits>=8;)r(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function nv(t){const n=[],r=d=>{n.push(String.fromCodePoint(d))},i={utf8seq:0,codepoint:0},l={queue:0,queuedBits:0},u=d=>{cE(d,i,r)};for(let d=0;d<t.length;d+=1)jy(t.charCodeAt(d),l,u);return n.join("")}function lE(t,n){if(t<=127){n(t);return}else if(t<=2047){n(192|t>>6),n(128|t&63);return}else if(t<=65535){n(224|t>>12),n(128|t>>6&63),n(128|t&63);return}else if(t<=1114111){n(240|t>>18),n(128|t>>12&63),n(128|t>>6&63),n(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function uE(t,n){for(let r=0;r<t.length;r+=1){let i=t.charCodeAt(r);if(i>55295&&i<=56319){const l=(i-55296)*1024&65535;i=(t.charCodeAt(r+1)-56320&65535|l)+65536,r+=1}lE(i,n)}}function cE(t,n,r){if(n.utf8seq===0){if(t<=127){r(t);return}for(let i=1;i<6;i+=1)if((t>>7-i&1)===0){n.utf8seq=i;break}if(n.utf8seq===2)n.codepoint=t&31;else if(n.utf8seq===3)n.codepoint=t&15;else if(n.utf8seq===4)n.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|t&63,n.utf8seq-=1,n.utf8seq===0&&r(n.codepoint)}}function dE(t){const n=[],r={queue:0,queuedBits:0},i=l=>{n.push(l)};for(let l=0;l<t.length;l+=1)jy(t.charCodeAt(l),r,i);return new Uint8Array(n)}function fE(t){const n=[];return uE(t,r=>n.push(r)),new Uint8Array(n)}function hE(t){const n=[],r={queue:0,queuedBits:0},i=l=>{n.push(l)};return t.forEach(l=>tv(l,r,i)),tv(null,r,i),n.join("")}function mE(t){return Math.round(Date.now()/1e3)+t}function pE(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const n=Math.random()*16|0;return(t=="x"?n:n&3|8).toString(16)})}const jn=()=>typeof window<"u"&&typeof document<"u",dr={tested:!1,writable:!1},ky=()=>{if(!jn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(dr.tested)return dr.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),dr.tested=!0,dr.writable=!0}catch{dr.tested=!0,dr.writable=!1}return dr.writable};function gE(t){const n={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((l,u)=>{n[u]=l})}catch{}return r.searchParams.forEach((i,l)=>{n[l]=i}),n}const Oy=t=>{let n;return t?n=t:typeof fetch>"u"?n=(...r)=>Qt(async()=>{const{default:i}=await Promise.resolve().then(()=>Rs);return{default:i}},void 0).then(({default:i})=>i(...r)):n=fetch,(...r)=>n(...r)},vE=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",ys=async(t,n,r)=>{await t.setItem(n,JSON.stringify(r))},fr=async(t,n)=>{const r=await t.getItem(n);if(!r)return null;try{return JSON.parse(r)}catch{return r}},La=async(t,n)=>{await t.removeItem(n)};class Wl{constructor(){this.promise=new Wl.promiseConstructor((n,r)=>{this.resolve=n,this.reject=r})}}Wl.promiseConstructor=Promise;function Ad(t){const n=t.split(".");if(n.length!==3)throw new Jd("Invalid JWT structure");for(let i=0;i<n.length;i++)if(!tE.test(n[i]))throw new Jd("JWT not in base64url format");return{header:JSON.parse(nv(n[0])),payload:JSON.parse(nv(n[1])),signature:dE(n[2]),raw:{header:n[0],payload:n[1]}}}async function yE(t){return await new Promise(n=>{setTimeout(()=>n(null),t)})}function bE(t,n){return new Promise((i,l)=>{(async()=>{for(let u=0;u<1/0;u++)try{const d=await t(u);if(!n(u,null,d)){i(d);return}}catch(d){if(!n(u,d)){l(d);return}}})()})}function _E(t){return("0"+t.toString(16)).substr(-2)}function wE(){const n=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=r.length;let l="";for(let u=0;u<56;u++)l+=r.charAt(Math.floor(Math.random()*i));return l}return crypto.getRandomValues(n),Array.from(n,_E).join("")}async function SE(t){const r=new TextEncoder().encode(t),i=await crypto.subtle.digest("SHA-256",r),l=new Uint8Array(i);return Array.from(l).map(u=>String.fromCharCode(u)).join("")}async function xE(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await SE(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function fs(t,n,r=!1){const i=wE();let l=i;r&&(l+="/PASSWORD_RECOVERY"),await ys(t,`${n}-code-verifier`,l);const u=await xE(i);return[u,i===u?"plain":"s256"]}const EE=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function TE(t){const n=t.headers.get(Qd);if(!n||!n.match(EE))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function jE(t){if(!t)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(t<=n)throw new Error("JWT has expired")}function kE(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const OE=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function hs(t){if(!OE.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Cd(){const t={};return new Proxy(t,{get:(n,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function av(t){return JSON.parse(JSON.stringify(t))}var AE=function(t,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&n.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(t);l<i.length;l++)n.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(t,i[l])&&(r[i[l]]=t[i[l]]);return r};const mr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),CE=[502,503,504];async function rv(t){var n;if(!vE(t))throw new Xd(mr(t),0);if(CE.includes(t.status))throw new Xd(mr(t),t.status);let r;try{r=await t.json()}catch(u){throw new Ty(mr(u),u)}let i;const l=TE(t);if(l&&l.getTime()>=Ey["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?i=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(i=r.error_code),i){if(i==="weak_password")throw new Wg(mr(r),t.status,((n=r.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(i==="session_not_found")throw new qa}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((u,d)=>u&&typeof d=="string",!0))throw new Wg(mr(r),t.status,r.weak_password.reasons);throw new aE(mr(r),t.status||500,i)}const RE=(t,n,r,i)=>{const l={method:t,headers:n?.headers||{}};return t==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),l.body=JSON.stringify(i),Object.assign(Object.assign({},l),r))};async function Ce(t,n,r,i){var l;const u=Object.assign({},i?.headers);u[Qd]||(u[Qd]=Ey["2024-01-01"].name),i?.jwt&&(u.Authorization=`Bearer ${i.jwt}`);const d=(l=i?.query)!==null&&l!==void 0?l:{};i?.redirectTo&&(d.redirect_to=i.redirectTo);const h=Object.keys(d).length?"?"+new URLSearchParams(d).toString():"",m=await NE(t,n,r+h,{headers:u,noResolveJson:i?.noResolveJson},{},i?.body);return i?.xform?i?.xform(m):{data:Object.assign({},m),error:null}}async function NE(t,n,r,i,l,u){const d=RE(n,i,l,u);let h;try{h=await t(r,Object.assign({},d))}catch(m){throw console.error(m),new Xd(mr(m),0)}if(h.ok||await rv(h),i?.noResolveJson)return h;try{return await h.json()}catch(m){await rv(m)}}function oa(t){var n;let r=null;UE(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=mE(t.expires_in)));const i=(n=t.user)!==null&&n!==void 0?n:t;return{data:{session:r,user:i},error:null}}function sv(t){const n=oa(t);return!n.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,i)=>r&&typeof i=="string",!0)&&(n.data.weak_password=t.weak_password),n}function Ba(t){var n;return{data:{user:(n=t.user)!==null&&n!==void 0?n:t},error:null}}function DE(t){return{data:t,error:null}}function ME(t){const{action_link:n,email_otp:r,hashed_token:i,redirect_to:l,verification_type:u}=t,d=AE(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:n,email_otp:r,hashed_token:i,redirect_to:l,verification_type:u},m=Object.assign({},d);return{data:{properties:h,user:m},error:null}}function zE(t){return t}function UE(t){return t.access_token&&t.refresh_token&&t.expires_in}const Rd=["global","local","others"];var $E=function(t,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&n.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(t);l<i.length;l++)n.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(t,i[l])&&(r[i[l]]=t[i[l]]);return r};class LE{constructor({url:n="",headers:r={},fetch:i}){this.url=n,this.headers=r,this.fetch=Oy(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(n,r=Rd[0]){if(Rd.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Rd.join(", ")}`);try{return await Ce(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(i){if(we(i))return{data:null,error:i};throw i}}async inviteUserByEmail(n,r={}){try{return await Ce(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Ba})}catch(i){if(we(i))return{data:{user:null},error:i};throw i}}async generateLink(n){try{const{options:r}=n,i=$E(n,["options"]),l=Object.assign(Object.assign({},i),r);return"newEmail"in i&&(l.new_email=i?.newEmail,delete l.newEmail),await Ce(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:l,headers:this.headers,xform:ME,redirectTo:r?.redirectTo})}catch(r){if(we(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(n){try{return await Ce(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:Ba})}catch(r){if(we(r))return{data:{user:null},error:r};throw r}}async listUsers(n){var r,i,l,u,d,h,m;try{const p={nextPage:null,lastPage:0,total:0},y=await Ce(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(r=n?.page)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:"",per_page:(u=(l=n?.perPage)===null||l===void 0?void 0:l.toString())!==null&&u!==void 0?u:""},xform:zE});if(y.error)throw y.error;const _=await y.json(),w=(d=y.headers.get("x-total-count"))!==null&&d!==void 0?d:0,E=(m=(h=y.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&m!==void 0?m:[];return E.length>0&&(E.forEach(k=>{const A=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(k.split(";")[1].split("=")[1]);p[`${N}Page`]=A}),p.total=parseInt(w)),{data:Object.assign(Object.assign({},_),p),error:null}}catch(p){if(we(p))return{data:{users:[]},error:p};throw p}}async getUserById(n){hs(n);try{return await Ce(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:Ba})}catch(r){if(we(r))return{data:{user:null},error:r};throw r}}async updateUserById(n,r){hs(n);try{return await Ce(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:r,headers:this.headers,xform:Ba})}catch(i){if(we(i))return{data:{user:null},error:i};throw i}}async deleteUser(n,r=!1){hs(n);try{return await Ce(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:r},xform:Ba})}catch(i){if(we(i))return{data:{user:null},error:i};throw i}}async _listFactors(n){hs(n.userId);try{const{data:r,error:i}=await Ce(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:l=>({data:{factors:l},error:null})});return{data:r,error:i}}catch(r){if(we(r))return{data:null,error:r};throw r}}async _deleteFactor(n){hs(n.userId),hs(n.id);try{return{data:await Ce(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(r){if(we(r))return{data:null,error:r};throw r}}}function iv(t={}){return{getItem:n=>t[n]||null,setItem:(n,r)=>{t[n]=r},removeItem:n=>{delete t[n]}}}function qE(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const ms={debug:!!(globalThis&&ky()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Ay extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class BE extends Ay{}async function IE(t,n,r){ms.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,n);const i=new globalThis.AbortController;return n>0&&setTimeout(()=>{i.abort(),ms.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async l=>{if(l){ms.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,l.name);try{return await r()}finally{ms.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,l.name)}}else{if(n===0)throw ms.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new BE(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(ms.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}qE();const HE={url:Jx,storageKey:Wx,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:eE,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function ov(t,n,r){return await r()}const ps={};class Xi{constructor(n){var r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Xi.nextInstanceID,Xi.nextInstanceID+=1,this.instanceID>0&&jn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const l=Object.assign(Object.assign({},HE),n);if(this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.persistSession=l.persistSession,this.storageKey=l.storageKey,this.autoRefreshToken=l.autoRefreshToken,this.admin=new LE({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=Oy(l.fetch),this.lock=l.lock||ov,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,l.lock?this.lock=l.lock:jn()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=IE:this.lock=ov,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:ky()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=iv(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=iv(this.memoryStorage)),jn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}get jwks(){var n,r;return(r=(n=ps[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(n){ps[this.storageKey]=Object.assign(Object.assign({},ps[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,r;return(r=(n=ps[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){ps[this.storageKey]=Object.assign(Object.assign({},ps[this.storageKey]),{cachedAt:n})}_debug(...n){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${xy}) ${new Date().toISOString()}`,...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{const r=gE(window.location.href);let i="none";if(this._isImplicitGrantCallback(r)?i="implicit":await this._isPKCECallback(r)&&(i="pkce"),jn()&&this.detectSessionInUrl&&i!=="none"){const{data:l,error:u}=await this._getSessionFromURL(r,i);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),iE(u)){const m=(n=u.details)===null||n===void 0?void 0:n.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:u}}return await this._removeSession(),{error:u}}const{session:d,redirectType:h}=l;return this._debug("#_initialize()","detected session in URL",d,"redirect type",h),await this._saveSession(d),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",d):await this._notifyAllSubscribers("SIGNED_IN",d)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return we(r)?{error:r}:{error:new Ty("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var r,i,l;try{const u=await Ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(r=n?.options)===null||r===void 0?void 0:r.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(l=n?.options)===null||l===void 0?void 0:l.captchaToken}},xform:oa}),{data:d,error:h}=u;if(h||!d)return{data:{user:null,session:null},error:h};const m=d.session,p=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",m)),{data:{user:p,session:m},error:null}}catch(u){if(we(u))return{data:{user:null,session:null},error:u};throw u}}async signUp(n){var r,i,l;try{let u;if("email"in n){const{email:y,password:_,options:w}=n;let E=null,k=null;this.flowType==="pkce"&&([E,k]=await fs(this.storage,this.storageKey)),u=await Ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w?.emailRedirectTo,body:{email:y,password:_,data:(r=w?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:w?.captchaToken},code_challenge:E,code_challenge_method:k},xform:oa})}else if("phone"in n){const{phone:y,password:_,options:w}=n;u=await Ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:_,data:(i=w?.data)!==null&&i!==void 0?i:{},channel:(l=w?.channel)!==null&&l!==void 0?l:"sms",gotrue_meta_security:{captcha_token:w?.captchaToken}},xform:oa})}else throw new Tl("You must provide either an email or phone number and a password");const{data:d,error:h}=u;if(h||!d)return{data:{user:null,session:null},error:h};const m=d.session,p=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",m)),{data:{user:p,session:m},error:null}}catch(u){if(we(u))return{data:{user:null,session:null},error:u};throw u}}async signInWithPassword(n){try{let r;if("email"in n){const{email:u,password:d,options:h}=n;r=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:d,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:sv})}else if("phone"in n){const{phone:u,password:d,options:h}=n;r=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:d,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:sv})}else throw new Tl("You must provide either an email or phone number and a password");const{data:i,error:l}=r;return l?{data:{user:null,session:null},error:l}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new El}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:l})}catch(r){if(we(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(n){var r,i,l,u;return await this._handleProviderSignIn(n.provider,{redirectTo:(r=n.options)===null||r===void 0?void 0:r.redirectTo,scopes:(i=n.options)===null||i===void 0?void 0:i.scopes,queryParams:(l=n.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:(u=n.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:r}=n;if(r==="solana")return await this.signInWithSolana(n);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(n){var r,i,l,u,d,h,m,p,y,_,w,E;let k,A;if("message"in n)k=n.message,A=n.signature;else{const{chain:N,wallet:L,statement:G,options:z}=n;let F;if(jn())if(typeof L=="object")F=L;else{const X=window;if("solana"in X&&typeof X.solana=="object"&&("signIn"in X.solana&&typeof X.solana.signIn=="function"||"signMessage"in X.solana&&typeof X.solana.signMessage=="function"))F=X.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof L!="object"||!z?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");F=L}const B=new URL((r=z?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in F&&F.signIn){const X=await F.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},z?.signInWithSolana),{version:"1",domain:B.host,uri:B.href}),G?{statement:G}:null));let ae;if(Array.isArray(X)&&X[0]&&typeof X[0]=="object")ae=X[0];else if(X&&typeof X=="object"&&"signedMessage"in X&&"signature"in X)ae=X;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in ae&&"signature"in ae&&(typeof ae.signedMessage=="string"||ae.signedMessage instanceof Uint8Array)&&ae.signature instanceof Uint8Array)k=typeof ae.signedMessage=="string"?ae.signedMessage:new TextDecoder().decode(ae.signedMessage),A=ae.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in F)||typeof F.signMessage!="function"||!("publicKey"in F)||typeof F!="object"||!F.publicKey||!("toBase58"in F.publicKey)||typeof F.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");k=[`${B.host} wants you to sign in with your Solana account:`,F.publicKey.toBase58(),...G?["",G,""]:[""],"Version: 1",`URI: ${B.href}`,`Issued At: ${(l=(i=z?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&l!==void 0?l:new Date().toISOString()}`,...!((u=z?.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${z.signInWithSolana.notBefore}`]:[],...!((d=z?.signInWithSolana)===null||d===void 0)&&d.expirationTime?[`Expiration Time: ${z.signInWithSolana.expirationTime}`]:[],...!((h=z?.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${z.signInWithSolana.chainId}`]:[],...!((m=z?.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${z.signInWithSolana.nonce}`]:[],...!((p=z?.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${z.signInWithSolana.requestId}`]:[],...!((_=(y=z?.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||_===void 0)&&_.length?["Resources",...z.signInWithSolana.resources.map(ae=>`- ${ae}`)]:[]].join(`
`);const X=await F.signMessage(new TextEncoder().encode(k),"utf8");if(!X||!(X instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");A=X}}try{const{data:N,error:L}=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:k,signature:hE(A)},!((w=n.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(E=n.options)===null||E===void 0?void 0:E.captchaToken}}:null),xform:oa});if(L)throw L;return!N||!N.session||!N.user?{data:{user:null,session:null},error:new El}:(N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),{data:Object.assign({},N),error:L})}catch(N){if(we(N))return{data:{user:null,session:null},error:N};throw N}}async _exchangeCodeForSession(n){const r=await fr(this.storage,`${this.storageKey}-code-verifier`),[i,l]=(r??"").split("/");try{const{data:u,error:d}=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:i},xform:oa});if(await La(this.storage,`${this.storageKey}-code-verifier`),d)throw d;return!u||!u.session||!u.user?{data:{user:null,session:null,redirectType:null},error:new El}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:Object.assign(Object.assign({},u),{redirectType:l??null}),error:d})}catch(u){if(we(u))return{data:{user:null,session:null,redirectType:null},error:u};throw u}}async signInWithIdToken(n){try{const{options:r,provider:i,token:l,access_token:u,nonce:d}=n,h=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:l,access_token:u,nonce:d,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:oa}),{data:m,error:p}=h;return p?{data:{user:null,session:null},error:p}:!m||!m.session||!m.user?{data:{user:null,session:null},error:new El}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),{data:m,error:p})}catch(r){if(we(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(n){var r,i,l,u,d;try{if("email"in n){const{email:h,options:m}=n;let p=null,y=null;this.flowType==="pkce"&&([p,y]=await fs(this.storage,this.storageKey));const{error:_}=await Ce(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(r=m?.data)!==null&&r!==void 0?r:{},create_user:(i=m?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},code_challenge:p,code_challenge_method:y},redirectTo:m?.emailRedirectTo});return{data:{user:null,session:null},error:_}}if("phone"in n){const{phone:h,options:m}=n,{data:p,error:y}=await Ce(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(l=m?.data)!==null&&l!==void 0?l:{},create_user:(u=m?.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},channel:(d=m?.channel)!==null&&d!==void 0?d:"sms"}});return{data:{user:null,session:null,messageId:p?.message_id},error:y}}throw new Tl("You must provide either an email or phone number.")}catch(h){if(we(h))return{data:{user:null,session:null},error:h};throw h}}async verifyOtp(n){var r,i;try{let l,u;"options"in n&&(l=(r=n.options)===null||r===void 0?void 0:r.redirectTo,u=(i=n.options)===null||i===void 0?void 0:i.captchaToken);const{data:d,error:h}=await Ce(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:u}}),redirectTo:l,xform:oa});if(h)throw h;if(!d)throw new Error("An error occurred on token verification.");const m=d.session,p=d.user;return m?.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),{data:{user:p,session:m},error:null}}catch(l){if(we(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithSSO(n){var r,i,l;try{let u=null,d=null;return this.flowType==="pkce"&&([u,d]=await fs(this.storage,this.storageKey)),await Ce(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(i=(r=n.options)===null||r===void 0?void 0:r.redirectTo)!==null&&i!==void 0?i:void 0}),!((l=n?.options)===null||l===void 0)&&l.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:d}),headers:this.headers,xform:DE})}catch(u){if(we(u))return{data:null,error:u};throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;if(i)throw i;if(!r)throw new qa;const{error:l}=await Ce(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:l}})}catch(n){if(we(n))return{data:{user:null,session:null},error:n};throw n}}async resend(n){try{const r=`${this.url}/resend`;if("email"in n){const{email:i,type:l,options:u}=n,{error:d}=await Ce(this.fetch,"POST",r,{headers:this.headers,body:{email:i,type:l,gotrue_meta_security:{captcha_token:u?.captchaToken}},redirectTo:u?.emailRedirectTo});return{data:{user:null,session:null},error:d}}else if("phone"in n){const{phone:i,type:l,options:u}=n,{data:d,error:h}=await Ce(this.fetch,"POST",r,{headers:this.headers,body:{phone:i,type:l,gotrue_meta_security:{captcha_token:u?.captchaToken}}});return{data:{user:null,session:null,messageId:d?.message_id},error:h}}throw new Tl("You must provide either an email or phone number and a type")}catch(r){if(we(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(n,r){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),l=(async()=>(await i,await r()))();return this.pendingInLock.push((async()=>{try{await l}catch{}})()),l}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=r();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const l=[...this.pendingInLock];await Promise.all(l),this.pendingInLock.splice(0,l.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await n(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const r=await fr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?n=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const i=n.expires_at?n.expires_at*1e3-Date.now()<kd:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",n.expires_at),!i){if(this.userStorage){const d=await fr(this.userStorage,this.storageKey+"-user");d?.user?n.user=d.user:n.user=Cd()}if(this.storage.isServer&&n.user){let d=this.suppressGetSessionWarning;n=new Proxy(n,{get:(m,p,y)=>(!d&&p==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),d=!0,this.suppressGetSessionWarning=!0),Reflect.get(m,p,y))})}return{data:{session:n},error:null}}const{session:l,error:u}=await this._callRefreshToken(n.refresh_token);return u?{data:{session:null},error:u}:{data:{session:l},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(n){return n?await this._getUser(n):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(n){try{return n?await Ce(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:Ba}):await this._useSession(async r=>{var i,l,u;const{data:d,error:h}=r;if(h)throw h;return!(!((i=d.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new qa}:await Ce(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(l=d.session)===null||l===void 0?void 0:l.access_token)!==null&&u!==void 0?u:void 0,xform:Ba})})}catch(r){if(we(r))return sE(r)&&(await this._removeSession(),await La(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(n,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(n,r))}async _updateUser(n,r={}){try{return await this._useSession(async i=>{const{data:l,error:u}=i;if(u)throw u;if(!l.session)throw new qa;const d=l.session;let h=null,m=null;this.flowType==="pkce"&&n.email!=null&&([h,m]=await fs(this.storage,this.storageKey));const{data:p,error:y}=await Ce(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:h,code_challenge_method:m}),jwt:d.access_token,xform:Ba});if(y)throw y;return d.user=p.user,await this._saveSession(d),await this._notifyAllSubscribers("USER_UPDATED",d),{data:{user:d.user},error:null}})}catch(i){if(we(i))return{data:{user:null},error:i};throw i}}async setSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new qa;const r=Date.now()/1e3;let i=r,l=!0,u=null;const{payload:d}=Ad(n.access_token);if(d.exp&&(i=d.exp,l=i<=r),l){const{session:h,error:m}=await this._callRefreshToken(n.refresh_token);if(m)return{data:{user:null,session:null},error:m};if(!h)return{data:{user:null,session:null},error:null};u=h}else{const{data:h,error:m}=await this._getUser(n.access_token);if(m)throw m;u={access_token:n.access_token,refresh_token:n.refresh_token,user:h.user,token_type:"bearer",expires_in:i-r,expires_at:i},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return{data:{user:u.user,session:u},error:null}}catch(r){if(we(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async r=>{var i;if(!n){const{data:d,error:h}=r;if(h)throw h;n=(i=d.session)!==null&&i!==void 0?i:void 0}if(!n?.refresh_token)throw new qa;const{session:l,error:u}=await this._callRefreshToken(n.refresh_token);return u?{data:{user:null,session:null},error:u}:l?{data:{user:l.user,session:l},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(we(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(n,r){try{if(!jn())throw new jl("No browser detected.");if(n.error||n.error_description||n.error_code)throw new jl(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Jg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new jl("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new Jg("No code detected.");const{data:G,error:z}=await this._exchangeCodeForSession(n.code);if(z)throw z;const F=new URL(window.location.href);return F.searchParams.delete("code"),window.history.replaceState(window.history.state,"",F.toString()),{data:{session:G.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:l,access_token:u,refresh_token:d,expires_in:h,expires_at:m,token_type:p}=n;if(!u||!h||!d||!p)throw new jl("No session defined in URL");const y=Math.round(Date.now()/1e3),_=parseInt(h);let w=y+_;m&&(w=parseInt(m));const E=w-y;E*1e3<=vs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${E}s, should have been closer to ${_}s`);const k=w-_;y-k>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",k,w,y):y-k<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",k,w,y);const{data:A,error:N}=await this._getUser(u);if(N)throw N;const L={provider_token:i,provider_refresh_token:l,access_token:u,expires_in:_,expires_at:w,refresh_token:d,token_type:p,user:A.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:L,redirectType:n.type},error:null}}catch(i){if(we(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(n){return!!(n.access_token||n.error_description)}async _isPKCECallback(n){const r=await fr(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&r)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async r=>{var i;const{data:l,error:u}=r;if(u)return{error:u};const d=(i=l.session)===null||i===void 0?void 0:i.access_token;if(d){const{error:h}=await this.admin.signOut(d,n);if(h&&!(rE(h)&&(h.status===404||h.status===401||h.status===403)))return{error:h}}return n!=="others"&&(await this._removeSession(),await La(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(n){const r=pE(),i={id:r,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:i}}}async _emitInitialSession(n){return await this._useSession(async r=>{var i,l;try{const{data:{session:u},error:d}=r;if(d)throw d;await((i=this.stateChangeEmitters.get(n))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",n,"session",u)}catch(u){await((l=this.stateChangeEmitters.get(n))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",u),console.error(u)}})}async resetPasswordForEmail(n,r={}){let i=null,l=null;this.flowType==="pkce"&&([i,l]=await fs(this.storage,this.storageKey,!0));try{return await Ce(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:i,code_challenge_method:l,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(u){if(we(u))return{data:null,error:u};throw u}}async getUserIdentities(){var n;try{const{data:r,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(n=r.user.identities)!==null&&n!==void 0?n:[]},error:null}}catch(r){if(we(r))return{data:null,error:r};throw r}}async linkIdentity(n){var r;try{const{data:i,error:l}=await this._useSession(async u=>{var d,h,m,p,y;const{data:_,error:w}=u;if(w)throw w;const E=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(d=n.options)===null||d===void 0?void 0:d.redirectTo,scopes:(h=n.options)===null||h===void 0?void 0:h.scopes,queryParams:(m=n.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await Ce(this.fetch,"GET",E,{headers:this.headers,jwt:(y=(p=_.session)===null||p===void 0?void 0:p.access_token)!==null&&y!==void 0?y:void 0})});if(l)throw l;return jn()&&!(!((r=n.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(i?.url),{data:{provider:n.provider,url:i?.url},error:null}}catch(i){if(we(i))return{data:{provider:n.provider,url:null},error:i};throw i}}async unlinkIdentity(n){try{return await this._useSession(async r=>{var i,l;const{data:u,error:d}=r;if(d)throw d;return await Ce(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(l=(i=u.session)===null||i===void 0?void 0:i.access_token)!==null&&l!==void 0?l:void 0})})}catch(r){if(we(r))return{data:null,error:r};throw r}}async _refreshAccessToken(n){const r=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(r,"begin");try{const i=Date.now();return await bE(async l=>(l>0&&await yE(200*Math.pow(2,l-1)),this._debug(r,"refreshing attempt",l),await Ce(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:oa})),(l,u)=>{const d=200*Math.pow(2,l);return u&&Od(u)&&Date.now()+d-i<vs})}catch(i){if(this._debug(r,"error",i),we(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(r,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,r){const i=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",r,"url",i),jn()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:n,url:i},error:null}}async _recoverAndRefresh(){var n,r;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const l=await fr(this.storage,this.storageKey);if(l&&this.userStorage){let d=await fr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!d&&(d={user:l.user},await ys(this.userStorage,this.storageKey+"-user",d)),l.user=(n=d?.user)!==null&&n!==void 0?n:Cd()}else if(l&&!l.user&&!l.user){const d=await fr(this.storage,this.storageKey+"-user");d&&d?.user?(l.user=d.user,await La(this.storage,this.storageKey+"-user"),await ys(this.storage,this.storageKey,l)):l.user=Cd()}if(this._debug(i,"session from storage",l),!this._isValidSession(l)){this._debug(i,"session is not valid"),l!==null&&await this._removeSession();return}const u=((r=l.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<kd;if(this._debug(i,`session has${u?"":" not"} expired with margin of ${kd}s`),u){if(this.autoRefreshToken&&l.refresh_token){const{error:d}=await this._callRefreshToken(l.refresh_token);d&&(console.error(d),Od(d)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",d),await this._removeSession()))}}else if(l.user&&l.user.__isUserNotAvailableProxy===!0)try{const{data:d,error:h}=await this._getUser(l.access_token);!h&&d?.user?(l.user=d.user,await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(d){console.error("Error getting user data:",d),this._debug(i,"error getting user data, skipping SIGNED_IN notification",d)}else await this._notifyAllSubscribers("SIGNED_IN",l)}catch(l){this._debug(i,"error",l),console.error(l);return}finally{this._debug(i,"end")}}async _callRefreshToken(n){var r,i;if(!n)throw new qa;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const l=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(l,"begin");try{this.refreshingDeferred=new Wl;const{data:u,error:d}=await this._refreshAccessToken(n);if(d)throw d;if(!u.session)throw new qa;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const h={session:u.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(u){if(this._debug(l,"error",u),we(u)){const d={session:null,error:u};return Od(u)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(d),d}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(u),u}finally{this.refreshingDeferred=null,this._debug(l,"end")}}async _notifyAllSubscribers(n,r,i=!0){const l=`#_notifyAllSubscribers(${n})`;this._debug(l,"begin",r,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:n,session:r});const u=[],d=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(n,r)}catch(m){u.push(m)}});if(await Promise.all(d),u.length>0){for(let h=0;h<u.length;h+=1)console.error(u[h]);throw u[0]}}finally{this._debug(l,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0;const r=Object.assign({},n),i=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&r.user&&await ys(this.userStorage,this.storageKey+"-user",{user:r.user});const l=Object.assign({},r);delete l.user;const u=av(l);await ys(this.storage,this.storageKey,u)}else{const l=av(r);await ys(this.storage,this.storageKey,l)}}async _removeSession(){this._debug("#_removeSession()"),await La(this.storage,this.storageKey),await La(this.storage,this.storageKey+"-code-verifier"),await La(this.storage,this.storageKey+"-user"),this.userStorage&&await La(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&jn()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),vs);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async r=>{const{data:{session:i}}=r;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const l=Math.floor((i.expires_at*1e3-n)/vs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${l} ticks, a tick lasts ${vs}ms, refresh threshold is ${Yd} ticks`),l<=Yd&&await this._callRefreshToken(i.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof Ay)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!jn()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const r=`#_onVisibilityChanged(${n})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,r,i){const l=[`provider=${encodeURIComponent(r)}`];if(i?.redirectTo&&l.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&l.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[u,d]=await fs(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(d)}`});l.push(h.toString())}if(i?.queryParams){const u=new URLSearchParams(i.queryParams);l.push(u.toString())}return i?.skipBrowserRedirect&&l.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${n}?${l.join("&")}`}async _unenroll(n){try{return await this._useSession(async r=>{var i;const{data:l,error:u}=r;return u?{data:null,error:u}:await Ce(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(i=l?.session)===null||i===void 0?void 0:i.access_token})})}catch(r){if(we(r))return{data:null,error:r};throw r}}async _enroll(n){try{return await this._useSession(async r=>{var i,l;const{data:u,error:d}=r;if(d)return{data:null,error:d};const h=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:{issuer:n.issuer}),{data:m,error:p}=await Ce(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(i=u?.session)===null||i===void 0?void 0:i.access_token});return p?{data:null,error:p}:(n.factorType==="totp"&&(!((l=m?.totp)===null||l===void 0)&&l.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),{data:m,error:null})})}catch(r){if(we(r))return{data:null,error:r};throw r}}async _verify(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var i;const{data:l,error:u}=r;if(u)return{data:null,error:u};const{data:d,error:h}=await Ce(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:{code:n.code,challenge_id:n.challengeId},headers:this.headers,jwt:(i=l?.session)===null||i===void 0?void 0:i.access_token});return h?{data:null,error:h}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),{data:d,error:h})})}catch(r){if(we(r))return{data:null,error:r};throw r}})}async _challenge(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var i;const{data:l,error:u}=r;return u?{data:null,error:u}:await Ce(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:{channel:n.channel},headers:this.headers,jwt:(i=l?.session)===null||i===void 0?void 0:i.access_token})})}catch(r){if(we(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(n){const{data:r,error:i}=await this._challenge({factorId:n.factorId});return i?{data:null,error:i}:await this._verify({factorId:n.factorId,challengeId:r.id,code:n.code})}async _listFactors(){const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i=n?.factors||[],l=i.filter(d=>d.factor_type==="totp"&&d.status==="verified"),u=i.filter(d=>d.factor_type==="phone"&&d.status==="verified");return{data:{all:i,totp:l,phone:u},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async n=>{var r,i;const{data:{session:l},error:u}=n;if(u)return{data:null,error:u};if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:d}=Ad(l.access_token);let h=null;d.aal&&(h=d.aal);let m=h;((i=(r=l.user.factors)===null||r===void 0?void 0:r.filter(_=>_.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(m="aal2");const y=d.amr||[];return{data:{currentLevel:h,nextLevel:m,currentAuthenticationMethods:y},error:null}}))}async fetchJwk(n,r={keys:[]}){let i=r.keys.find(h=>h.kid===n);if(i)return i;const l=Date.now();if(i=this.jwks.keys.find(h=>h.kid===n),i&&this.jwks_cached_at+nE>l)return i;const{data:u,error:d}=await Ce(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(d)throw d;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=l,i=u.keys.find(h=>h.kid===n),!i)?null:i}async getClaims(n,r={}){try{let i=n;if(!i){const{data:E,error:k}=await this.getSession();if(k||!E.session)return{data:null,error:k};i=E.session.access_token}const{header:l,payload:u,signature:d,raw:{header:h,payload:m}}=Ad(i);r?.allowExpired||jE(u.exp);const p=!l.alg||l.alg.startsWith("HS")||!l.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(l.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!p){const{error:E}=await this.getUser(i);if(E)throw E;return{data:{claims:u,header:l,signature:d},error:null}}const y=kE(l.alg),_=await crypto.subtle.importKey("jwk",p,y,!0,["verify"]);if(!await crypto.subtle.verify(y,_,d,fE(`${h}.${m}`)))throw new Jd("Invalid JWT signature");return{data:{claims:u,header:l,signature:d},error:null}}catch(i){if(we(i))return{data:null,error:i};throw i}}}Xi.nextInstanceID=0;const ZE=Xi;class PE extends ZE{constructor(n){super(n)}}var VE=function(t,n,r,i){function l(u){return u instanceof r?u:new r(function(d){d(u)})}return new(r||(r=Promise))(function(u,d){function h(y){try{p(i.next(y))}catch(_){d(_)}}function m(y){try{p(i.throw(y))}catch(_){d(_)}}function p(y){y.done?u(y.value):l(y.value).then(h,m)}p((i=i.apply(t,n||[])).next())})};class FE{constructor(n,r,i){var l,u,d;if(this.supabaseUrl=n,this.supabaseKey=r,!n)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const h=Qx(n),m=new URL(h);this.realtimeUrl=new URL("realtime/v1",m),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",m),this.storageUrl=new URL("storage/v1",m),this.functionsUrl=new URL("functions/v1",m);const p=`sb-${m.hostname.split(".")[0]}-auth-token`,y={db:Hx,realtime:Px,auth:Object.assign(Object.assign({},Zx),{storageKey:p}),global:Ix},_=Xx(i??{},y);this.storageKey=(l=_.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(u=_.global.headers)!==null&&u!==void 0?u:{},_.accessToken?(this.accessToken=_.accessToken,this.auth=new Proxy({},{get:(w,E)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(E)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((d=_.auth)!==null&&d!==void 0?d:{},this.headers,_.global.fetch),this.fetch=Kx(r,this._getAccessToken.bind(this),_.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},_.realtime)),this.rest=new lx(new URL("rest/v1",m).href,{headers:this.headers,schema:_.db.schema,fetch:this.fetch}),this.storage=new Lx(this.storageUrl.href,this.headers,this.fetch,i?.storage),_.accessToken||this._listenForAuthEvents()}get functions(){return new QS(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,r={},i={}){return this.rest.rpc(n,r,i)}channel(n,r={config:{}}){return this.realtime.channel(n,r)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var n,r;return VE(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:i}=yield this.auth.getSession();return(r=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:r,detectSessionInUrl:i,storage:l,storageKey:u,flowType:d,lock:h,debug:m},p,y){const _={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new PE({url:this.authUrl.href,headers:Object.assign(Object.assign({},_),p),storageKey:u,autoRefreshToken:n,persistSession:r,detectSessionInUrl:i,storage:l,flowType:d,lock:h,debug:m,fetch:y,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(n){return new Tx(this.realtimeUrl.href,Object.assign(Object.assign({},n),{params:Object.assign({apikey:this.supabaseKey},n?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,i)=>{this._handleTokenChanged(r,"CLIENT",i?.access_token)})}_handleTokenChanged(n,r,i){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==i?this.changedAccessToken=i:n==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Cy=(t,n,r)=>new FE(t,n,r);function GE(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const n=t.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}GE()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const KE="https://errkjwfxrbkfajngshkn.supabase.co",YE="sb_publishable_w3w_OD8s64kHs2w-Ptj7TA_ORqPeFRe",ne=Cy(KE,YE,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0},realtime:{params:{eventsPerSecond:10}}});function Ie(t){throw console.error("Supabase error:",t),new Error(t.message||"Database operation failed")}const QE=Object.freeze(Object.defineProperty({__proto__:null,handleSupabaseError:Ie,supabase:ne},Symbol.toStringTag,{value:"Module"})),Ry=x.createContext(void 0);function bf(){const t=x.useContext(Ry);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}function XE({children:t}){const[n,r]=x.useState(null),[i,l]=x.useState(null),[u,d]=x.useState(!0);x.useEffect(()=>{ne.auth.getSession().then(({data:{session:_}})=>{l(_),r(_?.user??null),d(!1)});const{data:{subscription:y}}=ne.auth.onAuthStateChange((_,w)=>{l(w),r(w?.user??null),d(!1)});return()=>y.unsubscribe()},[]);const p={user:n,session:i,loading:u,signIn:async(y,_)=>{try{d(!0);const{data:w,error:E}=await ne.auth.signInWithPassword({email:y,password:_});return E?{error:E.message}:{}}catch{return{error:"An unexpected error occurred"}}finally{d(!1)}},signOut:async()=>{try{d(!0),await ne.auth.signOut()}catch(y){console.error("Error signing out:",y)}finally{d(!1)}}};return g.jsx(Ry.Provider,{value:p,children:t})}function JE({data:t,height:n=40,formatValue:r,labels:i}){const[l,u]=x.useState(null),d=Math.max(...t,1),h=Math.min(...t,0);let m=d,p=h;if(d===h){const w=d===0?1:Math.abs(d)*.05;m=d+w,p=h-w}else{const w=(d-h)*.1;m=d+w,p=h-w}const y=m-p||1,_=3;return g.jsxs("div",{className:"relative h-full",style:{minHeight:n+(i?16:0)},children:[g.jsxs("div",{className:"relative",style:{height:n},onMouseLeave:()=>u(null),children:[g.jsx("div",{className:"flex gap-3 opacity-0 pointer-events-none",children:t.map((w,E)=>g.jsx("div",{className:"w-4"},E))}),g.jsxs("svg",{className:"absolute inset-0 w-full h-full",children:[g.jsx("polyline",{fill:"none",stroke:"black",strokeWidth:"2",opacity:.9,points:t.map((w,E)=>{const k=8+E*28,A=(w-p)/y*n;return`${k},${n-A}`}).join(" ")}),t.map((w,E)=>{const k=8+E*28,A=n-(w-p)/y*n;return g.jsx("circle",{cx:k,cy:A,r:_,fill:"black",opacity:l===null||l===E?1:.3,className:"cursor-pointer transition-opacity",onMouseEnter:()=>u(E),title:r?r(w):String(w)},E)})]}),l!==null&&g.jsxs("div",{className:"absolute -top-6 text-[10px] px-1.5 py-0.5 rounded bg-black text-white shadow pointer-events-none",style:{left:8+l*28-15},children:[g.jsx("div",{children:r?r(t[l]):t[l]}),l>0&&g.jsx("div",{className:"text-[9px] opacity-80",children:(()=>{const w=t[l],E=t[l-1];if(E===0)return"";const k=(w-E)/Math.abs(E)*100;return`${k>=0?"+":""}${k.toFixed(1)}%`})()})]})]}),i&&g.jsx("div",{className:"flex gap-3 mt-1",children:i.map((w,E)=>g.jsx("div",{className:"w-4 text-[8px] text-slate-400 text-center",style:{fontSize:"7px",lineHeight:"10px"},children:w},E))})]})}function WE({data:t,height:n=40,formatValue:r,labels:i}){const[l,u]=x.useState(null),d=Math.max(...t,1);return g.jsxs("div",{className:"relative h-full",style:{minHeight:n+(i?16:0)},children:[g.jsxs("div",{className:"relative flex items-end gap-3",style:{height:n},onMouseLeave:()=>u(null),children:[t.map((p,y)=>g.jsx("div",{className:"w-4 rounded-sm bg-black/90 transition-opacity",style:{height:`${Math.max(8,Math.round(p/d*n))}px`,opacity:l===null||l===y?1:.25},onMouseEnter:()=>u(y),title:r?r(p):String(p),"aria-label":`bar-${y}`},y)),l!==null&&g.jsxs("div",{className:"absolute -top-6 text-[10px] px-1.5 py-0.5 rounded bg-black text-white shadow pointer-events-none",style:{left:l*(16+12)},children:[g.jsx("div",{children:r?r(t[l]):t[l]}),l>0&&g.jsx("div",{className:"text-[9px] opacity-80",children:(()=>{const p=t[l],y=t[l-1];if(y===0)return"";const _=(p-y)/Math.abs(y)*100;return`${_>=0?"+":""}${_.toFixed(1)}%`})()})]})]}),i&&g.jsx("div",{className:"flex gap-3 mt-1",children:i.map((p,y)=>g.jsx("div",{className:"w-4 text-[8px] text-slate-400 text-center",style:{fontSize:"7px",lineHeight:"10px"},children:p},y))})]})}function e1({title:t,primary:n,secondary:r,unitPrimary:i,unitSecondary:l,series:u,direction:d,valueFormatter:h,infoContent:m,labels:p,chartType:y="bars"}){const _=x.useMemo(()=>{if(!u||u.length<2)return 0;const N=u[0],L=u[u.length-1];return N===0?0:(L-N)/Math.abs(N)*100},[u]),w=d==="up"||d===void 0&&_>=0,E=d==="flat"||d===void 0&&Math.abs(_)<.1,[k,A]=x.useState(!1);return g.jsx(_s,{className:"rounded-2xl border-dashed",children:g.jsxs(Ss,{className:"p-4",children:[g.jsxs("div",{className:"flex items-center justify-between mb-1",children:[g.jsx("div",{className:"text-xs text-slate-500",children:t}),m&&g.jsxs("div",{className:"relative",children:[g.jsx("button",{type:"button","aria-label":"Info",className:"h-5 w-5 leading-none rounded-full border text-[10px] flex items-center justify-center text-slate-600 hover:bg-slate-50",onClick:()=>A(N=>!N),children:"i"}),k&&g.jsxs("div",{role:"dialog","aria-label":`${t} info`,className:"absolute right-0 z-10 mt-2 w-72 max-w-[80vw] rounded-md border bg-white p-3 text-xs text-slate-700 shadow-lg",onClick:N=>N.stopPropagation(),children:[g.jsxs("div",{className:"mb-2 font-medium text-slate-900",children:["About: ",t]}),g.jsx("div",{className:"space-y-1",children:m}),g.jsx("div",{className:"mt-2 text-right",children:g.jsx("button",{type:"button",className:"text-xs text-slate-600 hover:text-slate-900",onClick:()=>A(!1),children:"Close"})})]})]})]}),g.jsxs("div",{children:[g.jsxs("div",{className:"flex items-baseline gap-2",children:[g.jsx("p",{className:"text-2xl font-semibold",children:n}),i&&g.jsx("span",{className:"text-sm text-slate-500",children:i})]}),r&&g.jsxs("p",{className:"text-sm text-slate-500",children:[r," ",l??""]}),g.jsx("div",{className:`mt-2 text-xs ${E?"text-slate-500":w?"text-emerald-600":"text-red-600"}`,children:E?"0%":`${w?"+":""}${_.toFixed(1)}%`}),g.jsx("div",{className:"mt-3 h-24",children:y==="line"?g.jsx(JE,{data:u,height:80,formatValue:h,labels:p}):g.jsx(WE,{data:u,height:80,formatValue:h,labels:p})})]})]})})}const Nd=x.memo(e1),t1=t=>typeof t=="string"&&/^[A-Z0-9-]+$/.test(t),Ny=t=>{if(!t1(t))throw new Error(`SKUId invlido: esperado /^[A-Z0-9-]+$/, recebido "${t}"`);return t},n1=t=>typeof t=="string"&&t.length>0,a1=t=>{if(!n1(t))throw new Error("LayerId invlido: string vazia no  permitida.");return t},r1=t=>typeof t=="string"&&t.length>0,Hl=t=>{if(!r1(t))throw new Error("MovementId invlido: string vazia no  permitida.");return t};var js=(t=>(t.ADJUSTMENT="ADJUSTMENT",t.DAMAGE="DAMAGE",t.ISSUE="ISSUE",t.PRODUCE="PRODUCE",t.RECEIVE="RECEIVE",t.TRANSFER="TRANSFER",t.WASTE="WASTE",t))(js||{});function eu(t){return{id:Ny(t.id),description:t.description,type:t.type,productCategory:t.product_category,unit:t.unit,active:t.active,min:t.min_stock,onHand:t.on_hand}}async function s1(t,n){try{let r=ne.from("skus").select("id",{count:"exact",head:!0}).eq("product_category",t);n?.activeOnly&&(r=r.eq("active",!0));const{count:i,error:l}=await r;return l&&Ie(l),i??0}catch(r){throw console.error("Error counting SKUs by category:",r),r}}async function lv(t){try{let n=ne.from("skus").select("*").order("id");t?.type&&(n=n.eq("type",t.type)),t?.active!==void 0&&(n=n.eq("active",t.active)),t?.searchTerm&&(n=n.or(`id.ilike.%${t.searchTerm}%,description.ilike.%${t.searchTerm}%`));const{data:r,error:i}=await n;return i&&Ie(i),r?.map(eu)||[]}catch(n){throw console.error("Error fetching SKUs:",n),n}}async function i1(t){try{const{data:n,error:r}=await ne.from("skus").select("*").eq("id",t).single();if(r){if(r.code==="PGRST116")return null;Ie(r)}return n?eu(n):null}catch(n){throw console.error("Error fetching SKU by ID:",n),n}}async function o1(t){try{const n={id:t.id,description:t.description||"",type:t.type,product_category:t.productCategory,unit:t.unit||"unit",active:t.active??!0,min_stock:t.min||0,on_hand:0},{data:r,error:i}=await ne.from("skus").insert(n).select().single();return i&&Ie(i),eu(r)}catch(n){throw console.error("Error creating SKU:",n),n}}async function l1(t,n){try{const r={};n.description!==void 0&&(r.description=n.description),n.type!==void 0&&(r.type=n.type),n.productCategory!==void 0&&(r.product_category=n.productCategory),n.unit!==void 0&&(r.unit=n.unit),n.active!==void 0&&(r.active=n.active),n.min!==void 0&&(r.min_stock=n.min),n.onHand!==void 0&&(r.on_hand=n.onHand),r.updated_at=new Date().toISOString();const{data:i,error:l}=await ne.from("skus").update(r).eq("id",t).select().single();return l&&Ie(l),eu(i)}catch(r){throw console.error("Error updating SKU:",r),r}}async function u1(t){try{const{error:n}=await ne.from("skus").update({active:!1,updated_at:new Date().toISOString()}).eq("id",t);n&&Ie(n)}catch(n){throw console.error("Error deleting SKU:",n),n}}async function c1(){try{const{data:t,error:n}=await ne.from("inventory_summary").select("*").order("id");return n&&Ie(n),t?.map(r=>({id:Ny(r.id),description:r.description,type:r.type,productCategory:r.product_category,unit:r.unit,active:r.active,min:r.min_stock,onHand:r.on_hand,status:r.status,currentAvgCost:r.current_avg_cost,activeLayers:r.active_layers}))||[]}catch(t){throw console.error("Error fetching inventory summary:",t),t}}function _f(t){return{id:a1(t.id),date:new Date(t.receiving_date),remaining:t.remaining_quantity,cost:t.unit_cost}}async function wf(t){try{const{data:n,error:r}=await ne.from("fifo_layers").select("*").eq("sku_id",t).eq("status","ACTIVE").gt("remaining_quantity",0).order("receiving_date",{ascending:!0}).order("created_at",{ascending:!0});return r&&Ie(r),n?.map(_f)||[]}catch(n){throw console.error("Error fetching FIFO layers:",n),n}}async function Dy(){try{const{data:t,error:n}=await ne.from("fifo_layers").select("*").eq("status","ACTIVE").gt("remaining_quantity",0).order("sku_id").order("receiving_date",{ascending:!0});n&&Ie(n);const r={};return t?.forEach(i=>{const l=i.sku_id;r[l]||(r[l]=[]),r[l].push(_f(i))}),r}catch(t){throw console.error("Error fetching all FIFO layers:",t),t}}async function My(t){try{const n={id:t.id,sku_id:t.skuId,receiving_date:t.receivingDate.toISOString().split("T")[0],original_quantity:t.quantity,remaining_quantity:t.quantity,unit_cost:t.unitCost,vendor_id:t.vendorId,packing_slip_no:t.packingSlipNo,lot_number:t.lotNumber,status:"ACTIVE"},{data:r,error:i}=await ne.from("fifo_layers").insert(n).select().single();return i&&Ie(i),_f(r)}catch(n){throw console.error("Error creating FIFO layer:",n),n}}async function ks(t,n){try{const r=await wf(t),i=[];let l=n,u=0,d=0;for(const h of r){if(l<=0)break;const m=Math.min(l,h.remaining),p=m*h.cost;i.push({layerId:h.id,consumeQty:m,unitCost:h.cost,totalCost:p}),u+=p,d+=m,l-=m}return{plan:i,totalCost:u,totalQty:d,canFulfill:l<=0}}catch(r){throw console.error("Error calculating FIFO plan:",r),r}}async function Sf(t,n){try{const{error:r}=await ne.rpc("begin_transaction");if(r)throw r;try{let i=0,l="";for(const d of t){const{error:h}=await ne.rpc("update_layer_quantity",{p_layer_id:d.layerId,p_quantity_change:-d.consumeQty});if(h)throw h;if(!l){const{data:p}=await ne.from("fifo_layers").select("sku_id").eq("id",d.layerId).single();l=p?.sku_id||""}const{error:m}=await ne.from("layer_consumptions").insert({movement_id:n,layer_id:d.layerId,quantity_consumed:d.consumeQty,unit_cost:d.unitCost,total_cost:d.totalCost});if(m)throw m;i+=d.consumeQty}if(l&&i>0){const{data:d,error:h}=await ne.from("skus").select("on_hand").eq("id",l).single();if(h)throw h;const m=d?.on_hand??0;if(m<i)throw new Error(`INSUFFICIENT_STOCK_ON_HAND: sku=${l}, on_hand=${m}, required=${i}`);const{error:p}=await ne.rpc("update_sku_quantity",{p_sku_id:l,p_quantity_change:-i});if(p)throw p}const{error:u}=await ne.rpc("commit_transaction");if(u)throw u}catch(i){throw await ne.rpc("rollback_transaction"),i}}catch(r){throw console.error("Error executing FIFO consumption:",r),r}}async function d1(t,n,r,i){try{try{const{data:l,error:u}=await ne.from("fifo_layers").select("id, sku_id, remaining_quantity, status").eq("id",t).eq("status","ACTIVE").single();if(u)throw u;if(!l)throw new Error(`FIFO layer ${t} not found or not active`);const d=l.remaining_quantity,h=d+n;if(h<0)throw new Error(`INSUFFICIENT_LAYER_QUANTITY: layer=${t}, current=${d}, adjustment=${n}`);const m=h===0?"EXHAUSTED":"ACTIVE",p=m==="EXHAUSTED",{error:y}=await ne.from("fifo_layers").update({remaining_quantity:h,status:m,updated_at:new Date().toISOString()}).eq("id",t);if(y)throw y;const{data:_,error:w}=await ne.from("fifo_layers").select("remaining_quantity").eq("sku_id",l.sku_id).eq("status","ACTIVE").gt("remaining_quantity",0);if(w)throw w;const E=(_||[]).reduce((A,N)=>A+(N.remaining_quantity||0),0),{error:k}=await ne.from("skus").update({on_hand:E,updated_at:new Date().toISOString()}).eq("id",l.sku_id);if(k)throw k;return{success:!0,newRemaining:h,layerExhausted:p}}catch(l){throw l}}catch(l){throw console.error("Error adjusting layer quantity:",l),l}}async function zy(t){try{const{data:n,error:r}=await ne.from("fifo_layers").select("id, sku_id, remaining_quantity, unit_cost, status").eq("id",t).single();if(r)throw r;if(!n)throw new Error(`FIFO layer ${t} not found`);return{id:n.id,skuId:n.sku_id,remaining:n.remaining_quantity,cost:n.unit_cost,status:n.status,canAdjust:n.status==="ACTIVE"&&n.remaining_quantity>0}}catch(n){throw console.error("Error getting layer adjustment info:",n),n}}async function Uy(t){try{const{data:n,error:r}=await ne.from("fifo_layers").select("remaining_quantity").eq("sku_id",t).eq("status","ACTIVE");return r&&Ie(r),n?.reduce((i,l)=>i+l.remaining_quantity,0)||0}catch(n){throw console.error("Error getting available quantity:",n),n}}const f1=Object.freeze(Object.defineProperty({__proto__:null,adjustLayerQuantity:d1,calculateFIFOPlan:ks,createFIFOLayer:My,executeFIFOConsumption:Sf,getAllFIFOLayers:Dy,getAvailableQuantity:Uy,getFIFOLayers:wf,getLayerAdjustmentInfo:zy},Symbol.toStringTag,{value:"Module"}));function h1(t){return{name:t.name,address:t.address||void 0,bank:t.bank_info?JSON.stringify(t.bank_info):void 0,email:t.email||void 0,phone:t.phone||void 0}}async function m1(t){try{if(t.trim().length<3)return[];const{data:n,error:r}=await ne.from("vendors").select("*").eq("active",!0).ilike("name",`%${t.trim()}%`).order("name").limit(8);return r&&Ie(r),n?.map(h1)||[]}catch(n){throw console.error("Error fetching vendor suggestions:",n),n}}async function p1(t){try{let n=ne.from("vendors").select("*").order("name");t?.active!==void 0&&(n=n.eq("active",t.active)),t?.searchTerm&&(n=n.ilike("name",`%${t.searchTerm}%`));const{data:r,error:i}=await n;return i&&Ie(i),r||[]}catch(n){throw console.error("Error fetching vendors:",n),n}}async function g1(t){try{const{data:n,error:r}=await ne.from("vendors").select("*").eq("id",t).single();if(r){if(r.code==="PGRST116")return null;Ie(r)}return n}catch(n){throw console.error("Error fetching vendor by ID:",n),n}}async function v1(t){try{const{data:n,error:r}=await ne.from("vendors").select("*").eq("name",t.trim()).eq("active",!0).single();if(r){if(r.code==="PGRST116")return null;Ie(r)}return n}catch(n){throw console.error("Error fetching vendor by name:",n),n}}async function $y(t){try{const n=t.name.replace(/[^A-Z0-9]/gi,"").toUpperCase().slice(0,8),r=Date.now().toString().slice(-4);let i=`VND-${n}-${r}`,l=1,u=!1;for(;!u&&l<=5;){const{data:p}=await ne.from("vendors").select("id").eq("id",i).single();p?(i=`VND-${n}-${r}-${l}`,l++):u=!0}u||(i=`VND-${n}-${Math.random().toString(36).substr(2,6).toUpperCase()}`);const d={id:i,name:t.name.trim(),legal_name:t.legalName?.trim(),address:t.address?.trim(),city:t.city?.trim(),state:t.state?.trim(),zip_code:t.zipCode?.trim(),email:t.email?.trim(),phone:t.phone?.trim(),bank_info:t.bankInfo||{}},{data:h,error:m}=await ne.from("vendors").insert(d).select().single();return m&&Ie(m),h}catch(n){throw console.error("Error creating vendor:",n),n}}async function y1(t,n){try{const r={...n,updated_at:new Date().toISOString()},{data:i,error:l}=await ne.from("vendors").update(r).eq("id",t).select().single();return l&&Ie(l),i}catch(r){throw console.error("Error updating vendor:",r),r}}async function b1(t){try{const{error:n}=await ne.from("vendors").update({active:!1,updated_at:new Date().toISOString()}).eq("id",t);n&&Ie(n)}catch(n){throw console.error("Error deleting vendor:",n),n}}async function Ly(t){try{const n=await v1(t);return n||await $y({name:t})}catch(n){throw console.error("Error creating or getting vendor:",n),n}}async function _1(t){try{const{data:n,error:r}=await ne.from("movements").select("id, type, sku_id, quantity, total_value").eq("id",t).is("deleted_at",null).single();if(r){if(r.code==="PGRST116")return{canDelete:!1,reason:"Movement not found or already deleted"};throw r}if(n.type!=="RECEIVE")return{canDelete:!1,reason:`Invalid movement type: ${n.type}. Only RECEIVE movements are validated.`};const{data:i,error:l}=await ne.from("fifo_layers").select("id, sku_id, original_quantity, remaining_quantity, unit_cost, status").eq("created_by_movement_id",t).eq("status","ACTIVE");if(l)throw l;if(!i||i.length===0)return{canDelete:!0,reason:"No FIFO layers found - safe to delete"};const u=[],d=new Set;let h=0,m=0;for(const p of i){const y=p.original_quantity-p.remaining_quantity;if(y>0){const{data:_,error:w}=await ne.from("layer_consumptions").select(`
            quantity_consumed,
            total_cost,
            movement_id,
            movements!inner (
              work_order_id,
              type,
              reference
            )
          `).eq("layer_id",p.id).is("deleted_at",null);if(w)throw w;_?.forEach(E=>{E.movements?.work_order_id&&d.add(E.movements.work_order_id)}),u.push({layerId:p.id,skuId:p.sku_id,originalQuantity:p.original_quantity,remainingQuantity:p.remaining_quantity,consumedQuantity:y,unitCost:p.unit_cost,consumedValue:y*p.unit_cost}),h+=y}m+=p.remaining_quantity}return u.length>0?{canDelete:!1,reason:`Cannot delete: ${u.length} FIFO layer(s) have been consumed by Work Orders`,affectedLayers:u,totalConsumed:h,totalRemaining:m,workOrdersAffected:Array.from(d)}:{canDelete:!0,reason:"All FIFO layers are unused - safe to delete",totalRemaining:m}}catch(n){return console.error("Error validating movement deletion:",n),Ie(n),{canDelete:!1,reason:"Error occurred during validation - deletion blocked for safety"}}}function Ns(t){return{id:Hl(t.id.toString()),date:new Date(t.datetime),type:t.type,skuId:t.sku_id||"",skuDescription:t.skus?.description||t.product_name||t.sku_id||"",unit:t.skus?.unit||"unit",quantity:t.quantity,unitCost:t.unit_cost||0,totalCost:t.total_value||0,vendor:t.vendors?.name,reference:t.reference,notes:t.notes||void 0}}async function w1(t){try{const{data:n,error:r}=await ne.rpc("get_movements_filtered",{p_sku_id:t?.skuId||null,p_type:t?.type||null,p_date_from:t?.dateFrom?.toISOString()||null,p_date_to:t?.dateTo?.toISOString()||null,p_include_deleted:t?.includeDeleted||!1,p_limit:t?.limit||100,p_offset:t?.offset||0});if(r)throw r;const i=(n||[]).map(u=>({id:Hl(u.id.toString()),date:new Date(u.datetime),type:u.type,skuId:u.sku_id||"",skuDescription:u.sku_description||u.product_name||u.sku_id||"",unit:u.sku_unit||"unit",quantity:u.quantity,unitCost:u.unit_cost||0,totalCost:u.total_value||0,vendor:u.vendor_name,reference:u.reference,notes:u.notes||void 0,deletedAt:u.deleted_at?new Date(u.deleted_at):void 0,deletedBy:u.deleted_by||void 0,deletionReason:u.deletion_reason||void 0})),{count:l}=await ne.from("movements").select("*",{count:"exact",head:!0}).is("deleted_at",t?.includeDeleted?void 0:null);return{movements:i,total:l||0}}catch(n){throw console.error("Error fetching movements:",n),n}}async function S1(t){try{const n=await Ly(t.vendorName);console.log("Creating receive movement with transactional RPC:",{skuId:t.skuId,quantity:t.quantity,unitCost:t.unitCost,vendorId:n.id});const{data:r,error:i}=await ne.rpc("create_receiving_transaction",{p_sku_id:t.skuId,p_quantity:t.quantity,p_unit_cost:t.unitCost,p_receiving_date:t.date.toISOString().split("T")[0],p_vendor_id:n.id,p_packing_slip_no:t.packingSlipNo||null,p_reference:t.packingSlipNo||`RCV-${Date.now()}`,p_notes:t.notes||null});if(i)throw console.error("Error creating receive movement via RPC:",i),i;if(!r?.success)throw new Error("Receive movement creation failed");console.log("Receive movement created successfully:",r);const{data:l,error:u}=await ne.from("movements").select(`
        *,
        skus (id, description, unit),
        vendors (name)
      `).eq("id",r.movement_id).single();if(u)throw u;return Ns(l)}catch(n){throw console.error("Error creating receive movement:",n),n}}async function x1(t){try{const n=await ks(t.skuId,t.quantity);if(!n.canFulfill)throw new Error(`Insufficient inventory. Available: ${n.totalQty}, Requested: ${t.quantity}`);try{const r={type:"ISSUE",sku_id:t.skuId,quantity:-t.quantity,unit_cost:n.totalCost/t.quantity,total_value:-n.totalCost,datetime:t.date.toISOString(),reference:t.reference||`ISS-${Date.now()}`,notes:t.notes},{data:i,error:l}=await ne.from("movements").insert(r).select(`
          *,
          skus (id, description, unit),
          vendors (name)
        `).single();if(l)throw l;return await Sf(n.plan,i.id),{movement:Ns(i),totalCost:n.totalCost}}catch(r){throw console.error("Error within createIssueMovement flow:",r),r}}catch(n){throw console.error("Error creating issue movement:",n),n}}async function E1(t){try{const{data:n,error:r}=await ne.from("skus").select("last_cost, average_cost").eq("id",t.skuId).single();if(r)throw r;const i=t.unitCost||n.last_cost||n.average_cost||0,l=t.quantity*i;try{const u=[t.generalNotes,t.damageNotes,t.notes].filter(p=>p?.trim()).join(" | "),d={type:"DAMAGE",sku_id:t.skuId,quantity:-t.quantity,unit_cost:i,total_value:-l,datetime:t.date.toISOString(),reference:t.reference||`DMG-${Date.now()}`,notes:u||null},{data:h,error:m}=await ne.from("movements").insert(d).select(`
          *,
          skus (id, description, unit),
          vendors (name)
        `).single();if(m)throw m;return{movement:Ns(h),totalCost:l}}catch(u){throw console.error("Error within createDamageMovement flow:",u),u}}catch(n){throw console.error("Error creating damage movement:",n),n}}async function T1(t){try{const n=await ks(t.skuId,t.quantity);if(!n.canFulfill)throw new Error(`Insufficient inventory. Available: ${n.totalQty}, Requested: ${t.quantity}`);try{const r={type:"WASTE",sku_id:t.skuId,quantity:-t.quantity,unit_cost:n.totalCost/t.quantity,total_value:-n.totalCost,datetime:t.date.toISOString(),reference:t.reference||`WST-${Date.now()}`,notes:t.notes},{data:i,error:l}=await ne.from("movements").insert(r).select(`
          *,
          skus (id, description, unit),
          vendors (name)
        `).single();if(l)throw l;return await Sf(n.plan,i.id),{movement:Ns(i),totalCost:n.totalCost}}catch(r){throw console.error("Error within createWasteMovement flow:",r),r}}catch(n){throw console.error("Error creating waste movement:",n),n}}async function j1(t){try{try{const n={type:"PRODUCE",sku_id:t.skuId||null,product_name:t.skuId?null:t.productName||"Produced Item",quantity:t.quantity,unit_cost:t.unitCost,total_value:t.quantity*t.unitCost,datetime:t.date.toISOString(),reference:t.reference||`PRD-${Date.now()}`,notes:t.notes},{data:r,error:i}=await ne.from("movements").insert(n).select(`
          *,
          skus (id, description, unit),
          vendors (name)
        `).single();if(i)throw i;if(t.skuId){const l=`L-${r.id}-${t.skuId}`;await My({id:l,skuId:t.skuId,receivingDate:t.date,quantity:t.quantity,unitCost:t.unitCost})}return Ns(r)}catch(n){throw console.error("Error within createProduceMovement flow:",n),n}}catch(n){throw console.error("Error creating produce movement:",n),n}}async function k1(t){try{const{adjustLayerQuantity:n,getLayerAdjustmentInfo:r}=await Qt(async()=>{const{adjustLayerQuantity:l,getLayerAdjustmentInfo:u}=await Promise.resolve().then(()=>f1);return{adjustLayerQuantity:l,getLayerAdjustmentInfo:u}},void 0),i=await r(t.layerId);if(!i.canAdjust)throw new Error(`Cannot adjust layer ${t.layerId}: status=${i.status}, remaining=${i.remaining}`);if(i.skuId!==t.skuId)throw new Error(`Layer ${t.layerId} belongs to SKU ${i.skuId}, not ${t.skuId}`);if(t.quantity===0)throw new Error("Adjustment quantity cannot be zero");if(t.quantity<0&&Math.abs(t.quantity)>i.remaining)throw new Error(`Insufficient quantity in layer: available=${i.remaining}, requested=${Math.abs(t.quantity)}`);try{const l=t.quantity*i.cost,u={type:"ADJUSTMENT",sku_id:t.skuId,quantity:t.quantity,unit_cost:i.cost,total_value:l,datetime:t.date.toISOString(),reference:t.reference||`ADJ-${Date.now()}-${t.layerId}`,notes:`Layer Adjustment: ${t.reason}${t.notes?` | ${t.notes}`:""}`},{data:d,error:h}=await ne.from("movements").insert(u).select(`
          *,
          skus (id, description, unit),
          vendors (name)
        `).single();if(h)throw h;if(!(await n(t.layerId,t.quantity,t.reason,t.adjustedBy)).success)throw new Error("Failed to adjust layer quantity");return Ns(d)}catch(l){throw console.error("Error within createAdjustmentMovement flow:",l),l}}catch(n){throw console.error("Error creating adjustment movement:",n),n}}async function O1(t){const{data:n,error:r}=await ne.rpc("can_reverse_movement",{p_movement_id:t});if(r)throw r;return{canReverse:n.can_reverse,reason:n.reason,currentStock:n.current_stock,requiredQuantity:n.movement_quantity,remainingAfterReversal:n.remaining_after_reversal}}async function A1(t){const{data:n,error:r}=await ne.rpc("validate_work_order_state",{p_reference:t});if(r)throw r;return{reference:n.reference,isValid:n.is_valid,canDelete:n.can_delete,canRestore:n.can_restore,hasProduce:n.has_produce,hasIssue:n.has_issue,hasWaste:n.has_waste,activeCount:n.active_count,deletedCount:n.deleted_count,issues:n.issues||[],movements:n.movements||[]}}async function C1(t,n){const{data:r,error:i}=await ne.rpc("delete_work_order_atomic",{p_reference:t,p_deletion_reason:n?.reason||null,p_deleted_by:n?.deletedBy||"system"});if(i)throw i;if(!r?.success)throw new Error("Failed to delete Work Order atomically");return{success:r.success,reference:r.reference,deletedMovementsCount:r.deleted_movements_count,affectedSkus:r.affected_skus||[],deletedMovements:r.deleted_movements||[]}}async function R1(t,n){const{data:r,error:i}=await ne.rpc("restore_work_order_atomic",{p_reference:t,p_restored_by:n||"system"});if(i)throw i;if(!r?.success)throw new Error("Failed to restore Work Order atomically");return{success:r.success,reference:r.reference,restoredMovementsCount:r.restored_movements_count,affectedSkus:r.affected_skus||[],restoredMovements:r.restored_movements||[]}}async function N1(t){const{data:n,error:r}=await ne.rpc("diagnose_work_order_integrity",{p_reference:t});if(r)throw r;return{reference:n.reference,validation:n.validation,skuIntegrity:n.sku_integrity||[],overallIntegrity:n.overall_integrity}}async function D1(t){const{data:n,error:r}=await ne.rpc("repair_sku_integrity",{p_sku_id:t});if(r)throw r;return{skuId:n.sku_id,oldOnHand:n.old_on_hand,layerTotal:n.layer_total,newOnHand:n.new_on_hand,wasRepaired:n.was_repaired,isNowSynchronized:n.is_now_synchronized}}async function qy(t){const{data:n,error:r}=await ne.rpc("get_movement_deletion_info",{p_movement_id:t});if(r)throw r;if(n?.error)throw new Error(n.error);return{canDelete:n.can_delete,movementType:n.type,skuId:n.sku_id,quantity:n.quantity,totalValue:n.total_value,reference:n.reference,consumptions:n.consumptions||[],isReversed:n.is_reversed}}async function M1(t,n){const{data:r,error:i}=await ne.rpc("reverse_movement",{p_movement_id:t,p_deletion_reason:n?.reason||null,p_deleted_by:n?.deletedBy||"system"});if(i)throw i;if(!r?.success)throw new Error("Failed to reverse movement");return{success:r.success,movementId:r.movement_id,movementType:r.movement_type,restoredLayers:r.restored_layers||[],reversedAt:r.reversed_at,auditId:r.audit_id}}async function z1(t,n){try{let r;if(!n?.bypassValidation&&(r=await _1(t),!r.canDelete))throw new Error(`Cannot delete movement: ${r.reason}
This would cause data inconsistency. `+(r.workOrdersAffected?.length?`Affected Work Orders: ${r.workOrdersAffected.join(", ")}`:""));const{data:i,error:l}=await ne.rpc("soft_delete_movement",{p_movement_id:t,p_deletion_reason:n?.reason||null,p_deleted_by:n?.deletedBy||"system"});if(l)throw l;if(!i?.success)throw new Error("Failed to soft delete movement");return{success:i.success,movementId:i.movement_id,movementType:i.movement_type,deletedAt:i.deleted_at,deletedBy:i.deleted_by,deletionReason:i.deletion_reason,validationResult:r}}catch(r){throw console.error("Error in softDeleteMovement:",r),r}}async function U1(t,n){const{data:r,error:i}=await ne.rpc("restore_movement",{p_movement_id:t,p_restored_by:n||"system"});if(i)throw i;if(!r?.success)throw new Error("Failed to restore movement");return{success:r.success,movementId:r.movement_id,movementType:r.movement_type,restoredAt:r.restored_at,restoredBy:r.restored_by}}async function $1(t,n){const r=await qy(t);if(r.movementType==="PRODUCE"){const{data:u,error:d}=await ne.rpc("delete_production_group",{p_reference:r.reference,p_deletion_reason:n?.reason||null,p_deleted_by:n?.deletedBy||"system"});if(d)throw d;if(!u?.success)throw new Error("Failed to delete production group");return{success:!0,movementId:t,movementType:r.movementType,restoredLayers:[],deleted:!0,auditId:0,deletionAuditId:0}}const{data:i,error:l}=await ne.rpc("delete_movement",{p_movement_id:t,p_deletion_reason:n?.reason||null,p_deleted_by:n?.deletedBy||"system"});if(l)throw l;if(!i?.success)throw new Error("Failed to delete movement");return{success:i.success,movementId:i.movement_id,movementType:i.movement_type,restoredLayers:i.restored_layers||[],deleted:i.deleted,auditId:i.audit_id,deletionAuditId:i.deletion_audit_id}}const L1=new Set(["40001","40P01","55P03"]);function q1(t){const n=t?.code||t?.details||t?.hint,r=String(t?.message||t?.details||"").toLowerCase();return n&&L1.has(n)||r.includes("could not serialize")||r.includes("deadlock")||r.includes("lock not available")}function B1(t){return new Promise(n=>setTimeout(n,t))}async function I1(t,n=3,r=100){let i=0,l=null;for(;i<n;){const{data:u,error:d}=await t();if(!d)return u;if(l=d,!q1(d))throw d;const h=r*Math.pow(2,i);console.warn(`[rpcWithRetry] Retriable error (attempt ${i+1}/${n}):`,d?.code||d?.message),await B1(h),i++}throw l||new Error("RPC failed after retries")}async function uv(t,n,r){try{if(!t)return null;let i=ne.from("work_orders").select("*").eq("invoice_no",t).order("created_at",{ascending:!1}).limit(1);n&&(i=i.eq("output_name",n)),typeof r=="number"&&!Number.isNaN(r)&&(i=i.eq("output_quantity",r));const{data:l,error:u}=await i;return u&&Ie(u),!l||l.length===0?null:l[0]}catch(i){return console.warn("[findExistingWorkOrderByReference] lookup failed:",i),null}}async function Dl(t,n){try{const r=[],i=[];let l=0,u=0;const d=[];for(const h of t){const m=await ks(h.skuId,h.quantity);r.push({skuId:h.skuId,requestedQty:h.quantity,plan:m}),m.canFulfill||d.push(h.skuId),l+=m.totalCost}for(const h of n)if(h.quantity>0){const m=await ks(h.skuId,h.quantity);i.push({skuId:h.skuId,requestedQty:h.quantity,plan:m}),u+=m.totalCost}return{rawPlans:r,wastePlans:i,totalRawCost:l,totalWasteCost:u,canFulfill:d.length===0,insufficientSKUs:d}}catch(r){throw console.error("Error calculating work order FIFO plans:",r),r}}async function H1(t){try{const n=t.rawMaterials.map(m=>({sku_id:m.skuId,quantity:m.quantity,type:"ISSUE"})),r=t.wasteLines.filter(m=>m.quantity>0).map(m=>({sku_id:m.skuId,quantity:m.quantity,type:"WASTE"})),i=[...n,...r];console.log("Creating work order with transactional RPC:",{outputName:t.outputName,outputQuantity:t.outputQuantity,materials:i});const l=await uv(t.reference,t.outputName,t.outputQuantity);if(l){const m=await Dl(t.rawMaterials,t.wasteLines);return{workOrderId:l.id,totalRawCost:m.totalRawCost,totalWasteCost:m.totalWasteCost,outputUnitCost:m.totalRawCost>0&&t.outputQuantity>0?(m.totalRawCost-m.totalWasteCost)/t.outputQuantity:0,rawPlans:m.rawPlans,wastePlans:m.wastePlans,netProduceCost:m.totalRawCost-m.totalWasteCost,details:{rawCost:m.totalRawCost,wasteCost:m.totalWasteCost,netCost:m.totalRawCost-m.totalWasteCost,unitCost:m.totalRawCost>0&&t.outputQuantity>0?(m.totalRawCost-m.totalWasteCost)/t.outputQuantity:0,consumptions:[]}}}const u={p_output_name:t.outputName,p_output_quantity:t.outputQuantity,p_output_unit:"unit",p_mode:"AUTO",p_client_name:null,p_invoice_no:t.reference||null,p_notes:t.notes||null,p_materials:i};console.log("RPC parameters:",u);let d;try{d=await I1(()=>ne.rpc("create_work_order_transaction",u),3,100)}catch(m){console.error("Error creating work order via RPC (after retries):",m);const p=await uv(t.reference,t.outputName,t.outputQuantity);if(p){const y=await Dl(t.rawMaterials,t.wasteLines);return{workOrderId:p.id,totalRawCost:y.totalRawCost,totalWasteCost:y.totalWasteCost,outputUnitCost:y.totalRawCost>0&&t.outputQuantity>0?(y.totalRawCost-y.totalWasteCost)/t.outputQuantity:0,rawPlans:y.rawPlans,wastePlans:y.wastePlans,netProduceCost:y.totalRawCost-y.totalWasteCost,details:{rawCost:y.totalRawCost,wasteCost:y.totalWasteCost,netCost:y.totalRawCost-y.totalWasteCost,unitCost:y.totalRawCost>0&&t.outputQuantity>0?(y.totalRawCost-y.totalWasteCost)/t.outputQuantity:0,consumptions:[]}}}throw m}if(!d?.success)throw new Error("Work order creation failed");console.log("Work order created successfully:",d);const h=await Dl(t.rawMaterials,t.wasteLines);return{workOrderId:d.work_order_id,totalRawCost:d.total_raw_cost||h.totalRawCost,totalWasteCost:d.total_waste_cost||h.totalWasteCost,outputUnitCost:d.produce_unit_cost||(d.net_produce_cost||h.totalRawCost)/t.outputQuantity,rawPlans:h.rawPlans,wastePlans:h.wastePlans,netProduceCost:d.net_produce_cost,details:{rawCost:d.total_raw_cost,wasteCost:d.total_waste_cost,netCost:d.net_produce_cost,unitCost:d.produce_unit_cost,consumptions:d.material_consumptions}}}catch(n){throw console.error("Error creating work order:",n),n}}async function Z1(t){try{let n=ne.from("work_orders").select("*",{count:"exact"});t?.outputSkuId&&(n=n.eq("output_sku_id",t.outputSkuId)),t?.dateFrom&&(n=n.gte("work_order_date",t.dateFrom.toISOString().split("T")[0])),t?.dateTo&&(n=n.lte("work_order_date",t.dateTo.toISOString().split("T")[0])),t?.status&&(n=n.eq("status",t.status)),t?.limit&&(n=n.limit(t.limit)),t?.offset&&(n=n.range(t.offset,t.offset+(t?.limit||50)-1)),n=n.order("work_order_date",{ascending:!1}).order("created_at",{ascending:!1});const{data:r,error:i,count:l}=await n;return i&&Ie(i),{workOrders:r||[],total:l||0}}catch(n){throw console.error("Error fetching work orders:",n),n}}async function P1(t){try{const{data:n,error:r}=await ne.from("work_orders").select(`
        *,
        skus (id, description, unit)
      `).eq("id",t).single();if(r){if(r.code==="PGRST116")return null;Ie(r)}const{data:i,error:l}=await ne.from("work_order_lines").select(`
        *,
        skus (id, description, unit),
        movements (id, type, datetime)
      `).eq("work_order_id",t).order("type").order("created_at");return l&&Ie(l),{workOrder:n,lines:i||[]}}catch(n){throw console.error("Error fetching work order details:",n),n}}function V1(t){return t.toLowerCase().normalize("NFKD").replace(/[^a-z0-9]+/g,"-").replace(/(^-+)|(-+$)/g,"")||"category"}async function F1(t,n,r){try{const{data:i,error:l}=await ne.rpc("rename_category_and_retag_skus",{old_name:t,new_name:n,dry_run:!!r?.dryRun});return l&&Ie(l),i||{success:!1,dryRun:!!r?.dryRun}}catch(i){throw console.error("Error renaming category via RPC:",i),i}}function tu(t){return{id:String(t.id),name:String(t.name),active:!!t.active,description:t.description??void 0,sortOrder:t.sort_order??null,slug:t.slug??null,createdAt:t.created_at??void 0,updatedAt:t.updated_at??void 0}}async function G1(t){try{let n=ne.from("categories").select("*");typeof t?.active=="boolean"&&(n=n.eq("active",t.active)),t?.searchTerm&&(n=n.ilike("name",`%${t.searchTerm}%`)),n=n.order("sort_order",{ascending:!0,nullsFirst:!1}).order("name",{ascending:!0});const{data:r,error:i}=await n;return i&&Ie(i),(r||[]).map(tu)}catch(n){throw console.error("Error fetching categories:",n),n}}async function K1(t){try{const{data:n,error:r}=await ne.from("categories").select("*").eq("id",t).single();if(r){if(r?.code==="PGRST116")return null;Ie(r)}return n?tu(n):null}catch(n){throw console.error("Error fetching category by ID:",n),n}}async function Y1(t){try{const n=(t.name||"").trim();if(!n)throw new Error("Category name is required");const r=V1(n),i={id:r,name:n,slug:r,description:t.description??null,active:!0,sort_order:typeof t.sortOrder=="number"?t.sortOrder:null},{data:l,error:u}=await ne.from("categories").insert(i).select("*").single();return u&&Ie(u),tu(l)}catch(n){throw console.error("Error creating category:",n),n}}async function Q1(t,n){try{const r={updated_at:new Date().toISOString()};n.name!==void 0&&(r.name=n.name),n.description!==void 0&&(r.description=n.description),n.active!==void 0&&(r.active=n.active),n.sortOrder!==void 0&&(r.sort_order=n.sortOrder),n.slug!==void 0&&(r.slug=n.slug);const{data:i,error:l}=await ne.from("categories").update(r).eq("id",t).select("*").single();return l&&Ie(l),tu(i)}catch(r){throw console.error("Error updating category:",r),r}}async function X1(t){try{const{error:n}=await ne.from("categories").update({active:!1,updated_at:new Date().toISOString()}).eq("id",t);n&&Ie(n)}catch(n){throw console.error("Error deleting category:",n),n}}const Fi={async getAllSKUs(){return await lv({active:!0})},async getSKUsByType(t){return await lv({type:t,active:!0})},async getSKUById(t){return await i1(t)},async createSKU(t){return await o1(t)},async updateSKU(t,n){return await l1(t,n)},async deleteSKU(t){return await u1(t)},async getInventorySummary(){return await c1()},async countSKUsByCategory(t,n){return await s1(t,n)}},Ml={async getVendorSuggestions(t){return await m1(t)},async createOrGetVendor(t){return await Ly(t)},async getAllVendors(){return await p1({active:!0})},async getVendorById(t){return await g1(t)},async createVendor(t){return await $y({name:t.name,address:t.address,email:t.email,phone:t.phone,bankInfo:t.bank?{display:t.bank}:void 0})},async updateVendor(t,n){return await y1(t,{name:n.name,address:n.address,email:n.email,phone:n.phone,bank_info:n.bank?{display:n.bank}:void 0})},async deleteVendor(t){return await b1(t)}},bs={async getCategories(t){return await G1(t)},async getCategoryById(t){return await K1(t)},async createCategory(t){return await Y1(t)},async updateCategory(t,n){return await Q1(t,n)},async deleteCategory(t){return await X1(t)},async renameCategoryAndRetagSkus(t,n,r){return await F1(t,n,r)}},J1={async getFIFOLayers(t){return await wf(t)},async getAllFIFOLayers(){return await Dy()},async calculateFIFOPlan(t,n){return await ks(t,n)},async getAvailableQuantity(t){return await Uy(t)},async getLayerAdjustmentInfo(t){return await zy(t)}},nu={async createReceiveMovement(t){return await S1(t)},async createIssueMovement(t){return await x1(t)},async createWasteMovement(t){return await T1(t)},async createDamageMovement(t){return await E1(t)},async createAdjustmentMovement(t){return await k1(t)},async createProduceMovement(t){return await j1(t)},async getMovementDeletionInfo(t){return await qy(t)},async canReverseMovement(t){return await O1(t)},async reverseMovement(t,n){return await M1(t,n)},async deleteMovement(t,n){return await $1(t,n)},async softDeleteMovement(t,n){return await z1(t,n)},async restoreMovement(t,n){return await U1(t,n)},async getMovements(t){return await w1(t)},async validateWorkOrderState(t){return await A1(t)},async deleteWorkOrderAtomic(t,n){return await C1(t,n)},async restoreWorkOrderAtomic(t,n){return await R1(t,n)},async diagnoseWorkOrderIntegrity(t){return await N1(t)},async repairSkuIntegrity(t){return await D1(t)}},W1={async calculateWorkOrderPlans(t,n){return await Dl(t,n)},async createWorkOrder(t){return await H1(t)},async getWorkOrders(t){return await Z1(t)},async getWorkOrderById(t){return await P1(t)}};async function eT(t){return J1.getFIFOLayers(t)}async function cv(t){return nu.getMovements(t)}async function dv(t,n){return nu.deleteMovement(t,n)}async function FA(t){return nu.createReceiveMovement(t)}async function GA(t){return W1.createWorkOrder(t)}const hr="pgaskets-journal-export-history",Dd="pgaskets-journal-last-sync",fv=100;class tT{supabase;conflictStrategy="merge-union";onSyncCallbacks=[];constructor(n,r){n&&r?this.supabase=Cy(n,r):Qt(async()=>{const{supabase:i}=await Promise.resolve().then(()=>QE);return{supabase:i}},void 0).then(({supabase:i})=>{this.supabase=i})}getExportedMovements(){try{const n=localStorage.getItem(hr);return n?new Set(JSON.parse(n)):new Set}catch(n){return console.warn("Failed to load journal export history from localStorage:",n),new Set}}markMovementsAsExported(n,r){try{const i=this.getExportedMovements();n.forEach(u=>i.add(u)),localStorage.setItem(hr,JSON.stringify([...i]));const l=this.getExportMetadata();n.forEach(u=>{l[u]={exported_at:new Date().toISOString(),journal_number:r,synced:!1}}),this.setExportMetadata(l)}catch(i){console.warn("Failed to save journal export history to localStorage:",i)}}clearLocalHistory(){try{localStorage.removeItem(hr),localStorage.removeItem(hr+"-metadata"),localStorage.removeItem(Dd),ye.success("Local export history cleared")}catch(n){console.warn("Failed to clear local journal export history:",n),ye.error("Failed to clear local history")}}getExportMetadata(){try{const n=localStorage.getItem(hr+"-metadata");return n?JSON.parse(n):{}}catch{return{}}}setExportMetadata(n){try{localStorage.setItem(hr+"-metadata",JSON.stringify(n))}catch(r){console.warn("Failed to save export metadata:",r)}}getLastSyncTime(){try{const n=localStorage.getItem(Dd);return n?new Date(n):null}catch{return null}}setLastSyncTime(n){try{localStorage.setItem(Dd,n.toISOString())}catch(r){console.warn("Failed to save last sync time:",r)}}async getSupabaseExports(){if(!this.supabase)throw new Error("Supabase client not initialized");const{data:n,error:r}=await this.supabase.from("journal_export_history").select("*").order("created_at",{ascending:!1});if(r)throw r;return n||[]}async insertSupabaseExports(n){if(!this.supabase)throw new Error("Supabase client not initialized");if(n.length===0)return;const{error:r}=await this.supabase.from("journal_export_history").upsert(n,{onConflict:"user_id,movement_id",ignoreDuplicates:!1});if(r)throw r}async clearSupabaseHistory(){if(!this.supabase)throw new Error("Supabase client not initialized");const{error:n}=await this.supabase.from("journal_export_history").delete().neq("id","00000000-0000-0000-0000-000000000000");if(n)throw n}async syncToSupabase(){const n={success:!1,uploaded:0,downloaded:0,conflicts:0,errors:[]};try{if(!this.supabase)throw new Error("Supabase client not available");const r=this.getExportMetadata(),i=[],{data:{user:l}}=await this.supabase.auth.getUser();if(!l)throw new Error("User not authenticated");if(Object.entries(r).forEach(([u,d])=>{d.synced||i.push({user_id:l.id,movement_id:u,exported_at:d.exported_at,journal_number:d.journal_number,device_info:{userAgent:navigator.userAgent,timestamp:new Date().toISOString()}})}),i.length>0){for(let d=0;d<i.length;d+=fv){const h=i.slice(d,d+fv);await this.insertSupabaseExports(h),n.uploaded+=h.length}const u={...r};i.forEach(d=>{u[d.movement_id]&&(u[d.movement_id].synced=!0)}),this.setExportMetadata(u)}this.setLastSyncTime(new Date),n.success=!0}catch(r){console.error("Failed to sync to Supabase:",r),n.errors.push(r instanceof Error?r.message:"Unknown error")}return this.onSyncCallbacks.forEach(r=>r(n)),n}async syncFromSupabase(){const n={success:!1,uploaded:0,downloaded:0,conflicts:0,errors:[]};try{if(!this.supabase)throw new Error("Supabase client not available");const r=await this.getSupabaseExports(),i=this.getExportedMovements(),l=this.getExportMetadata(),u=new Set(i),d={...l};r.forEach(h=>{const m=h.movement_id;if(!i.has(m))u.add(m),d[m]={exported_at:h.exported_at,journal_number:h.journal_number,synced:!0},n.downloaded++;else if(!l[m]?.synced)switch(this.conflictStrategy){case"supabase-wins":d[m]={exported_at:h.exported_at,journal_number:h.journal_number,synced:!0},n.conflicts++;break;case"merge-union":d[m]&&(d[m].synced=!0);break}}),localStorage.setItem(hr,JSON.stringify([...u])),this.setExportMetadata(d),this.setLastSyncTime(new Date),n.success=!0}catch(r){console.error("Failed to sync from Supabase:",r),n.errors.push(r instanceof Error?r.message:"Unknown error")}return this.onSyncCallbacks.forEach(r=>r(n)),n}async fullSync(){const n=await this.syncFromSupabase(),r=await this.syncToSupabase();return{success:n.success&&r.success,uploaded:r.uploaded,downloaded:n.downloaded,conflicts:n.conflicts+r.conflicts,errors:[...n.errors,...r.errors]}}async exportHistoryToExcel(){try{const n=await Qt(()=>import("./xlsx-DGuHH-KN.js"),[]),r=this.getExportMetadata(),i=await this.getSupabaseExports().catch(()=>[]),l=[];Object.entries(r).forEach(([_,w])=>{l.push({"Movement ID":_,"Exported At":w.exported_at?new Date(w.exported_at).toLocaleString():"","Journal Number":w.journal_number||"",Source:"Local",Synced:w.synced?"Yes":"No"})});const u=new Set(Object.keys(r));if(i.forEach(_=>{u.has(_.movement_id)||l.push({"Movement ID":_.movement_id,"Exported At":new Date(_.exported_at).toLocaleString(),"Journal Number":_.journal_number||"",Source:"Supabase",Synced:"Yes"})}),l.length===0)return;l.sort((_,w)=>new Date(w["Exported At"]).getTime()-new Date(_["Exported At"]).getTime());const d=n.utils.book_new(),h=n.utils.json_to_sheet(l),m=[{wch:15},{wch:20},{wch:18},{wch:10},{wch:8}];h["!cols"]=m,n.utils.book_append_sheet(d,h,"Export History Backup");const y=`journal-export-history-backup-${new Date().toISOString().split("T")[0]}.xlsx`;n.writeFile(d,y),ye.info(`Backup saved: ${y}`,{description:`${l.length} export records archived`})}catch(n){console.warn("Failed to export history backup:",n),ye.error("Failed to create backup file")}}async clearAllHistory(){try{await this.exportHistoryToExcel(),await this.clearSupabaseHistory(),this.clearLocalHistory(),ye.success("Export history cleared and backed up to Excel")}catch(n){console.error("Failed to clear all history:",n),ye.error("Failed to clear remote history"),this.clearLocalHistory()}}setConflictStrategy(n){this.conflictStrategy=n}onSync(n){this.onSyncCallbacks.push(n)}async autoSync(){try{await this.fullSync()}catch(n){console.warn("Auto-sync failed:",n)}}getSyncStatus(){const n=this.getExportMetadata(),r=Object.values(n).filter(l=>!l.synced).length,i=this.getExportedMovements().size;return{lastSync:this.getLastSyncTime(),pendingUpload:r,totalExported:i}}}const gs=new tT,nT=()=>({JOURNAL_HISTORY_TRACKING:!0,PERFORMANCE_MONITORING:!0,JOURNAL_HISTORY_UI:!1,ENHANCED_ERROR_TRACKING:!1,JOURNAL_PREMIUM_ANALYTICS:!1,JOURNAL_EXPORT_ACTIONS:!1,JOURNAL_AUTO_SYNC:!1,INVENTORY_CATEGORIES:!1});let aT=nT();function On(t){return aT[t]}function hv(t,n,r){try{return On(t)?n():r()}catch(i){return console.error(`Feature flag ${t} failed:`,i),r()}}function I(t,n,r){function i(h,m){var p;Object.defineProperty(h,"_zod",{value:h._zod??{},enumerable:!1}),(p=h._zod).traits??(p.traits=new Set),h._zod.traits.add(t),n(h,m);for(const y in d.prototype)y in h||Object.defineProperty(h,y,{value:d.prototype[y].bind(h)});h._zod.constr=d,h._zod.def=m}const l=r?.Parent??Object;class u extends l{}Object.defineProperty(u,"name",{value:t});function d(h){var m;const p=r?.Parent?new u:this;i(p,h),(m=p._zod).deferred??(m.deferred=[]);for(const y of p._zod.deferred)y();return p}return Object.defineProperty(d,"init",{value:i}),Object.defineProperty(d,Symbol.hasInstance,{value:h=>r?.Parent&&h instanceof r.Parent?!0:h?._zod?.traits?.has(t)}),Object.defineProperty(d,"name",{value:t}),d}class Ji extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}const By={};function Ha(t){return By}function rT(t){const n=Object.values(t).filter(i=>typeof i=="number");return Object.entries(t).filter(([i,l])=>n.indexOf(+i)===-1).map(([i,l])=>l)}function Wd(t,n){return typeof n=="bigint"?n.toString():n}function Iy(t){return{get value(){{const n=t();return Object.defineProperty(this,"value",{value:n}),n}}}}function xf(t){return t==null}function Ef(t){const n=t.startsWith("^")?1:0,r=t.endsWith("$")?t.length-1:t.length;return t.slice(n,r)}function sT(t,n){const r=(t.toString().split(".")[1]||"").length,i=n.toString();let l=(i.split(".")[1]||"").length;if(l===0&&/\d?e-\d?/.test(i)){const m=i.match(/\d?e-(\d?)/);m?.[1]&&(l=Number.parseInt(m[1]))}const u=r>l?r:l,d=Number.parseInt(t.toFixed(u).replace(".","")),h=Number.parseInt(n.toFixed(u).replace(".",""));return d%h/10**u}const mv=Symbol("evaluating");function at(t,n,r){let i;Object.defineProperty(t,n,{get(){if(i!==mv)return i===void 0&&(i=mv,i=r()),i},set(l){Object.defineProperty(t,n,{value:l})},configurable:!0})}function iT(t){return Object.create(Object.getPrototypeOf(t),Object.getOwnPropertyDescriptors(t))}function _r(t,n,r){Object.defineProperty(t,n,{value:r,writable:!0,enumerable:!0,configurable:!0})}function Ds(...t){const n={};for(const r of t){const i=Object.getOwnPropertyDescriptors(r);Object.assign(n,i)}return Object.defineProperties({},n)}function pv(t){return JSON.stringify(t)}const Hy="captureStackTrace"in Error?Error.captureStackTrace:(...t)=>{};function ef(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}const oT=Iy(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function Wi(t){if(ef(t)===!1)return!1;const n=t.constructor;if(n===void 0)return!0;const r=n.prototype;return!(ef(r)===!1||Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")===!1)}function Zy(t){return Wi(t)?{...t}:t}const lT=new Set(["string","number","symbol"]);function au(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function wr(t,n,r){const i=new t._zod.constr(n??t._zod.def);return(!n||r?.parent)&&(i._zod.parent=t),i}function ue(t){const n=t;if(!n)return{};if(typeof n=="string")return{error:()=>n};if(n?.message!==void 0){if(n?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");n.error=n.message}return delete n.message,typeof n.error=="string"?{...n,error:()=>n.error}:n}function uT(t){return Object.keys(t).filter(n=>t[n]._zod.optin==="optional"&&t[n]._zod.optout==="optional")}const cT={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function dT(t,n){const r=t._zod.def,i=Ds(t._zod.def,{get shape(){const l={};for(const u in n){if(!(u in r.shape))throw new Error(`Unrecognized key: "${u}"`);n[u]&&(l[u]=r.shape[u])}return _r(this,"shape",l),l},checks:[]});return wr(t,i)}function fT(t,n){const r=t._zod.def,i=Ds(t._zod.def,{get shape(){const l={...t._zod.def.shape};for(const u in n){if(!(u in r.shape))throw new Error(`Unrecognized key: "${u}"`);n[u]&&delete l[u]}return _r(this,"shape",l),l},checks:[]});return wr(t,i)}function hT(t,n){if(!Wi(n))throw new Error("Invalid input to extend: expected a plain object");const r=Ds(t._zod.def,{get shape(){const i={...t._zod.def.shape,...n};return _r(this,"shape",i),i},checks:[]});return wr(t,r)}function mT(t,n){const r=Ds(t._zod.def,{get shape(){const i={...t._zod.def.shape,...n._zod.def.shape};return _r(this,"shape",i),i},get catchall(){return n._zod.def.catchall},checks:[]});return wr(t,r)}function pT(t,n,r){const i=Ds(n._zod.def,{get shape(){const l=n._zod.def.shape,u={...l};if(r)for(const d in r){if(!(d in l))throw new Error(`Unrecognized key: "${d}"`);r[d]&&(u[d]=t?new t({type:"optional",innerType:l[d]}):l[d])}else for(const d in l)u[d]=t?new t({type:"optional",innerType:l[d]}):l[d];return _r(this,"shape",u),u},checks:[]});return wr(n,i)}function gT(t,n,r){const i=Ds(n._zod.def,{get shape(){const l=n._zod.def.shape,u={...l};if(r)for(const d in r){if(!(d in u))throw new Error(`Unrecognized key: "${d}"`);r[d]&&(u[d]=new t({type:"nonoptional",innerType:l[d]}))}else for(const d in l)u[d]=new t({type:"nonoptional",innerType:l[d]});return _r(this,"shape",u),u},checks:[]});return wr(n,i)}function Gi(t,n=0){for(let r=n;r<t.issues.length;r++)if(t.issues[r]?.continue!==!0)return!0;return!1}function xs(t,n){return n.map(r=>{var i;return(i=r).path??(i.path=[]),r.path.unshift(t),r})}function kl(t){return typeof t=="string"?t:t?.message}function Za(t,n,r){const i={...t,path:t.path??[]};if(!t.message){const l=kl(t.inst?._zod.def?.error?.(t))??kl(n?.error?.(t))??kl(r.customError?.(t))??kl(r.localeError?.(t))??"Invalid input";i.message=l}return delete i.inst,delete i.continue,n?.reportInput||delete i.input,i}function Tf(t){return Array.isArray(t)?"array":typeof t=="string"?"string":"unknown"}function eo(...t){const[n,r,i]=t;return typeof n=="string"?{message:n,code:"custom",input:r,inst:i}:{...n}}const Py=(t,n)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:n,enumerable:!1}),t.message=JSON.stringify(n,Wd,2),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},Vy=I("$ZodError",Py),Fy=I("$ZodError",Py,{Parent:Error});function vT(t,n=r=>r.message){const r={},i=[];for(const l of t.issues)l.path.length>0?(r[l.path[0]]=r[l.path[0]]||[],r[l.path[0]].push(n(l))):i.push(n(l));return{formErrors:i,fieldErrors:r}}function yT(t,n){const r=n||function(u){return u.message},i={_errors:[]},l=u=>{for(const d of u.issues)if(d.code==="invalid_union"&&d.errors.length)d.errors.map(h=>l({issues:h}));else if(d.code==="invalid_key")l({issues:d.issues});else if(d.code==="invalid_element")l({issues:d.issues});else if(d.path.length===0)i._errors.push(r(d));else{let h=i,m=0;for(;m<d.path.length;){const p=d.path[m];m===d.path.length-1?(h[p]=h[p]||{_errors:[]},h[p]._errors.push(r(d))):h[p]=h[p]||{_errors:[]},h=h[p],m++}}};return l(t),i}const bT=t=>(n,r,i,l)=>{const u=i?Object.assign(i,{async:!1}):{async:!1},d=n._zod.run({value:r,issues:[]},u);if(d instanceof Promise)throw new Ji;if(d.issues.length){const h=new(l?.Err??t)(d.issues.map(m=>Za(m,u,Ha())));throw Hy(h,l?.callee),h}return d.value},_T=t=>async(n,r,i,l)=>{const u=i?Object.assign(i,{async:!0}):{async:!0};let d=n._zod.run({value:r,issues:[]},u);if(d instanceof Promise&&(d=await d),d.issues.length){const h=new(l?.Err??t)(d.issues.map(m=>Za(m,u,Ha())));throw Hy(h,l?.callee),h}return d.value},Gy=t=>(n,r,i)=>{const l=i?{...i,async:!1}:{async:!1},u=n._zod.run({value:r,issues:[]},l);if(u instanceof Promise)throw new Ji;return u.issues.length?{success:!1,error:new(t??Vy)(u.issues.map(d=>Za(d,l,Ha())))}:{success:!0,data:u.value}},wT=Gy(Fy),Ky=t=>async(n,r,i)=>{const l=i?Object.assign(i,{async:!0}):{async:!0};let u=n._zod.run({value:r,issues:[]},l);return u instanceof Promise&&(u=await u),u.issues.length?{success:!1,error:new t(u.issues.map(d=>Za(d,l,Ha())))}:{success:!0,data:u.value}},ST=Ky(Fy),xT=/^[cC][^\s-]{8,}$/,ET=/^[0-9a-z]+$/,TT=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,jT=/^[0-9a-vA-V]{20}$/,kT=/^[A-Za-z0-9]{27}$/,OT=/^[a-zA-Z0-9_-]{21}$/,AT=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,CT=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,gv=t=>t?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${t}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000)$/,RT=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,NT="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function DT(){return new RegExp(NT,"u")}const MT=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,zT=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})$/,UT=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,$T=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,LT=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,Yy=/^[A-Za-z0-9_-]*$/,qT=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,BT=/^\+(?:[0-9]){6,14}[0-9]$/,Qy="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",IT=new RegExp(`^${Qy}$`);function Xy(t){const n="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof t.precision=="number"?t.precision===-1?`${n}`:t.precision===0?`${n}:[0-5]\\d`:`${n}:[0-5]\\d\\.\\d{${t.precision}}`:`${n}(?::[0-5]\\d(?:\\.\\d+)?)?`}function HT(t){return new RegExp(`^${Xy(t)}$`)}function ZT(t){const n=Xy({precision:t.precision}),r=["Z"];t.local&&r.push(""),t.offset&&r.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const i=`${n}(?:${r.join("|")})`;return new RegExp(`^${Qy}T(?:${i})$`)}const PT=t=>{const n=t?`[\\s\\S]{${t?.minimum??0},${t?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${n}$`)},VT=/^\d+$/,FT=/^-?\d+(?:\.\d+)?/i,GT=/true|false/i,KT=/^[^A-Z]*$/,YT=/^[^a-z]*$/,Xt=I("$ZodCheck",(t,n)=>{var r;t._zod??(t._zod={}),t._zod.def=n,(r=t._zod).onattach??(r.onattach=[])}),Jy={number:"number",bigint:"bigint",object:"date"},Wy=I("$ZodCheckLessThan",(t,n)=>{Xt.init(t,n);const r=Jy[typeof n.value];t._zod.onattach.push(i=>{const l=i._zod.bag,u=(n.inclusive?l.maximum:l.exclusiveMaximum)??Number.POSITIVE_INFINITY;n.value<u&&(n.inclusive?l.maximum=n.value:l.exclusiveMaximum=n.value)}),t._zod.check=i=>{(n.inclusive?i.value<=n.value:i.value<n.value)||i.issues.push({origin:r,code:"too_big",maximum:n.value,input:i.value,inclusive:n.inclusive,inst:t,continue:!n.abort})}}),e0=I("$ZodCheckGreaterThan",(t,n)=>{Xt.init(t,n);const r=Jy[typeof n.value];t._zod.onattach.push(i=>{const l=i._zod.bag,u=(n.inclusive?l.minimum:l.exclusiveMinimum)??Number.NEGATIVE_INFINITY;n.value>u&&(n.inclusive?l.minimum=n.value:l.exclusiveMinimum=n.value)}),t._zod.check=i=>{(n.inclusive?i.value>=n.value:i.value>n.value)||i.issues.push({origin:r,code:"too_small",minimum:n.value,input:i.value,inclusive:n.inclusive,inst:t,continue:!n.abort})}}),QT=I("$ZodCheckMultipleOf",(t,n)=>{Xt.init(t,n),t._zod.onattach.push(r=>{var i;(i=r._zod.bag).multipleOf??(i.multipleOf=n.value)}),t._zod.check=r=>{if(typeof r.value!=typeof n.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof r.value=="bigint"?r.value%n.value===BigInt(0):sT(r.value,n.value)===0)||r.issues.push({origin:typeof r.value,code:"not_multiple_of",divisor:n.value,input:r.value,inst:t,continue:!n.abort})}}),XT=I("$ZodCheckNumberFormat",(t,n)=>{Xt.init(t,n),n.format=n.format||"float64";const r=n.format?.includes("int"),i=r?"int":"number",[l,u]=cT[n.format];t._zod.onattach.push(d=>{const h=d._zod.bag;h.format=n.format,h.minimum=l,h.maximum=u,r&&(h.pattern=VT)}),t._zod.check=d=>{const h=d.value;if(r){if(!Number.isInteger(h)){d.issues.push({expected:i,format:n.format,code:"invalid_type",continue:!1,input:h,inst:t});return}if(!Number.isSafeInteger(h)){h>0?d.issues.push({input:h,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:i,continue:!n.abort}):d.issues.push({input:h,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:i,continue:!n.abort});return}}h<l&&d.issues.push({origin:"number",input:h,code:"too_small",minimum:l,inclusive:!0,inst:t,continue:!n.abort}),h>u&&d.issues.push({origin:"number",input:h,code:"too_big",maximum:u,inst:t})}}),JT=I("$ZodCheckMaxLength",(t,n)=>{var r;Xt.init(t,n),(r=t._zod.def).when??(r.when=i=>{const l=i.value;return!xf(l)&&l.length!==void 0}),t._zod.onattach.push(i=>{const l=i._zod.bag.maximum??Number.POSITIVE_INFINITY;n.maximum<l&&(i._zod.bag.maximum=n.maximum)}),t._zod.check=i=>{const l=i.value;if(l.length<=n.maximum)return;const d=Tf(l);i.issues.push({origin:d,code:"too_big",maximum:n.maximum,inclusive:!0,input:l,inst:t,continue:!n.abort})}}),WT=I("$ZodCheckMinLength",(t,n)=>{var r;Xt.init(t,n),(r=t._zod.def).when??(r.when=i=>{const l=i.value;return!xf(l)&&l.length!==void 0}),t._zod.onattach.push(i=>{const l=i._zod.bag.minimum??Number.NEGATIVE_INFINITY;n.minimum>l&&(i._zod.bag.minimum=n.minimum)}),t._zod.check=i=>{const l=i.value;if(l.length>=n.minimum)return;const d=Tf(l);i.issues.push({origin:d,code:"too_small",minimum:n.minimum,inclusive:!0,input:l,inst:t,continue:!n.abort})}}),ej=I("$ZodCheckLengthEquals",(t,n)=>{var r;Xt.init(t,n),(r=t._zod.def).when??(r.when=i=>{const l=i.value;return!xf(l)&&l.length!==void 0}),t._zod.onattach.push(i=>{const l=i._zod.bag;l.minimum=n.length,l.maximum=n.length,l.length=n.length}),t._zod.check=i=>{const l=i.value,u=l.length;if(u===n.length)return;const d=Tf(l),h=u>n.length;i.issues.push({origin:d,...h?{code:"too_big",maximum:n.length}:{code:"too_small",minimum:n.length},inclusive:!0,exact:!0,input:i.value,inst:t,continue:!n.abort})}}),ru=I("$ZodCheckStringFormat",(t,n)=>{var r,i;Xt.init(t,n),t._zod.onattach.push(l=>{const u=l._zod.bag;u.format=n.format,n.pattern&&(u.patterns??(u.patterns=new Set),u.patterns.add(n.pattern))}),n.pattern?(r=t._zod).check??(r.check=l=>{n.pattern.lastIndex=0,!n.pattern.test(l.value)&&l.issues.push({origin:"string",code:"invalid_format",format:n.format,input:l.value,...n.pattern?{pattern:n.pattern.toString()}:{},inst:t,continue:!n.abort})}):(i=t._zod).check??(i.check=()=>{})}),tj=I("$ZodCheckRegex",(t,n)=>{ru.init(t,n),t._zod.check=r=>{n.pattern.lastIndex=0,!n.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:"regex",input:r.value,pattern:n.pattern.toString(),inst:t,continue:!n.abort})}}),nj=I("$ZodCheckLowerCase",(t,n)=>{n.pattern??(n.pattern=KT),ru.init(t,n)}),aj=I("$ZodCheckUpperCase",(t,n)=>{n.pattern??(n.pattern=YT),ru.init(t,n)}),rj=I("$ZodCheckIncludes",(t,n)=>{Xt.init(t,n);const r=au(n.includes),i=new RegExp(typeof n.position=="number"?`^.{${n.position}}${r}`:r);n.pattern=i,t._zod.onattach.push(l=>{const u=l._zod.bag;u.patterns??(u.patterns=new Set),u.patterns.add(i)}),t._zod.check=l=>{l.value.includes(n.includes,n.position)||l.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:n.includes,input:l.value,inst:t,continue:!n.abort})}}),sj=I("$ZodCheckStartsWith",(t,n)=>{Xt.init(t,n);const r=new RegExp(`^${au(n.prefix)}.*`);n.pattern??(n.pattern=r),t._zod.onattach.push(i=>{const l=i._zod.bag;l.patterns??(l.patterns=new Set),l.patterns.add(r)}),t._zod.check=i=>{i.value.startsWith(n.prefix)||i.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:n.prefix,input:i.value,inst:t,continue:!n.abort})}}),ij=I("$ZodCheckEndsWith",(t,n)=>{Xt.init(t,n);const r=new RegExp(`.*${au(n.suffix)}$`);n.pattern??(n.pattern=r),t._zod.onattach.push(i=>{const l=i._zod.bag;l.patterns??(l.patterns=new Set),l.patterns.add(r)}),t._zod.check=i=>{i.value.endsWith(n.suffix)||i.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:n.suffix,input:i.value,inst:t,continue:!n.abort})}}),oj=I("$ZodCheckOverwrite",(t,n)=>{Xt.init(t,n),t._zod.check=r=>{r.value=n.tx(r.value)}});class lj{constructor(n=[]){this.content=[],this.indent=0,this&&(this.args=n)}indented(n){this.indent+=1,n(this),this.indent-=1}write(n){if(typeof n=="function"){n(this,{execution:"sync"}),n(this,{execution:"async"});return}const i=n.split(`
`).filter(d=>d),l=Math.min(...i.map(d=>d.length-d.trimStart().length)),u=i.map(d=>d.slice(l)).map(d=>" ".repeat(this.indent*2)+d);for(const d of u)this.content.push(d)}compile(){const n=Function,r=this?.args,l=[...(this?.content??[""]).map(u=>`  ${u}`)];return new n(...r,l.join(`
`))}}const uj={major:4,minor:0,patch:17},lt=I("$ZodType",(t,n)=>{var r;t??(t={}),t._zod.def=n,t._zod.bag=t._zod.bag||{},t._zod.version=uj;const i=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&i.unshift(t);for(const l of i)for(const u of l._zod.onattach)u(t);if(i.length===0)(r=t._zod).deferred??(r.deferred=[]),t._zod.deferred?.push(()=>{t._zod.run=t._zod.parse});else{const l=(u,d,h)=>{let m=Gi(u),p;for(const y of d){if(y._zod.def.when){if(!y._zod.def.when(u))continue}else if(m)continue;const _=u.issues.length,w=y._zod.check(u);if(w instanceof Promise&&h?.async===!1)throw new Ji;if(p||w instanceof Promise)p=(p??Promise.resolve()).then(async()=>{await w,u.issues.length!==_&&(m||(m=Gi(u,_)))});else{if(u.issues.length===_)continue;m||(m=Gi(u,_))}}return p?p.then(()=>u):u};t._zod.run=(u,d)=>{const h=t._zod.parse(u,d);if(h instanceof Promise){if(d.async===!1)throw new Ji;return h.then(m=>l(m,i,d))}return l(h,i,d)}}t["~standard"]={validate:l=>{try{const u=wT(t,l);return u.success?{value:u.data}:{issues:u.error?.issues}}catch{return ST(t,l).then(d=>d.success?{value:d.data}:{issues:d.error?.issues})}},vendor:"zod",version:1}}),jf=I("$ZodString",(t,n)=>{lt.init(t,n),t._zod.pattern=[...t?._zod.bag?.patterns??[]].pop()??PT(t._zod.bag),t._zod.parse=(r,i)=>{if(n.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:t}),r}}),ut=I("$ZodStringFormat",(t,n)=>{ru.init(t,n),jf.init(t,n)}),cj=I("$ZodGUID",(t,n)=>{n.pattern??(n.pattern=CT),ut.init(t,n)}),dj=I("$ZodUUID",(t,n)=>{if(n.version){const i={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[n.version];if(i===void 0)throw new Error(`Invalid UUID version: "${n.version}"`);n.pattern??(n.pattern=gv(i))}else n.pattern??(n.pattern=gv());ut.init(t,n)}),fj=I("$ZodEmail",(t,n)=>{n.pattern??(n.pattern=RT),ut.init(t,n)}),hj=I("$ZodURL",(t,n)=>{ut.init(t,n),t._zod.check=r=>{try{const i=r.value.trim(),l=new URL(i);n.hostname&&(n.hostname.lastIndex=0,n.hostname.test(l.hostname)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:qT.source,input:r.value,inst:t,continue:!n.abort})),n.protocol&&(n.protocol.lastIndex=0,n.protocol.test(l.protocol.endsWith(":")?l.protocol.slice(0,-1):l.protocol)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:n.protocol.source,input:r.value,inst:t,continue:!n.abort})),n.normalize?r.value=l.href:r.value=i;return}catch{r.issues.push({code:"invalid_format",format:"url",input:r.value,inst:t,continue:!n.abort})}}}),mj=I("$ZodEmoji",(t,n)=>{n.pattern??(n.pattern=DT()),ut.init(t,n)}),pj=I("$ZodNanoID",(t,n)=>{n.pattern??(n.pattern=OT),ut.init(t,n)}),gj=I("$ZodCUID",(t,n)=>{n.pattern??(n.pattern=xT),ut.init(t,n)}),vj=I("$ZodCUID2",(t,n)=>{n.pattern??(n.pattern=ET),ut.init(t,n)}),yj=I("$ZodULID",(t,n)=>{n.pattern??(n.pattern=TT),ut.init(t,n)}),bj=I("$ZodXID",(t,n)=>{n.pattern??(n.pattern=jT),ut.init(t,n)}),_j=I("$ZodKSUID",(t,n)=>{n.pattern??(n.pattern=kT),ut.init(t,n)}),wj=I("$ZodISODateTime",(t,n)=>{n.pattern??(n.pattern=ZT(n)),ut.init(t,n)}),Sj=I("$ZodISODate",(t,n)=>{n.pattern??(n.pattern=IT),ut.init(t,n)}),xj=I("$ZodISOTime",(t,n)=>{n.pattern??(n.pattern=HT(n)),ut.init(t,n)}),Ej=I("$ZodISODuration",(t,n)=>{n.pattern??(n.pattern=AT),ut.init(t,n)}),Tj=I("$ZodIPv4",(t,n)=>{n.pattern??(n.pattern=MT),ut.init(t,n),t._zod.onattach.push(r=>{const i=r._zod.bag;i.format="ipv4"})}),jj=I("$ZodIPv6",(t,n)=>{n.pattern??(n.pattern=zT),ut.init(t,n),t._zod.onattach.push(r=>{const i=r._zod.bag;i.format="ipv6"}),t._zod.check=r=>{try{new URL(`http://[${r.value}]`)}catch{r.issues.push({code:"invalid_format",format:"ipv6",input:r.value,inst:t,continue:!n.abort})}}}),kj=I("$ZodCIDRv4",(t,n)=>{n.pattern??(n.pattern=UT),ut.init(t,n)}),Oj=I("$ZodCIDRv6",(t,n)=>{n.pattern??(n.pattern=$T),ut.init(t,n),t._zod.check=r=>{const[i,l]=r.value.split("/");try{if(!l)throw new Error;const u=Number(l);if(`${u}`!==l)throw new Error;if(u<0||u>128)throw new Error;new URL(`http://[${i}]`)}catch{r.issues.push({code:"invalid_format",format:"cidrv6",input:r.value,inst:t,continue:!n.abort})}}});function t0(t){if(t==="")return!0;if(t.length%4!==0)return!1;try{return atob(t),!0}catch{return!1}}const Aj=I("$ZodBase64",(t,n)=>{n.pattern??(n.pattern=LT),ut.init(t,n),t._zod.onattach.push(r=>{r._zod.bag.contentEncoding="base64"}),t._zod.check=r=>{t0(r.value)||r.issues.push({code:"invalid_format",format:"base64",input:r.value,inst:t,continue:!n.abort})}});function Cj(t){if(!Yy.test(t))return!1;const n=t.replace(/[-_]/g,i=>i==="-"?"+":"/"),r=n.padEnd(Math.ceil(n.length/4)*4,"=");return t0(r)}const Rj=I("$ZodBase64URL",(t,n)=>{n.pattern??(n.pattern=Yy),ut.init(t,n),t._zod.onattach.push(r=>{r._zod.bag.contentEncoding="base64url"}),t._zod.check=r=>{Cj(r.value)||r.issues.push({code:"invalid_format",format:"base64url",input:r.value,inst:t,continue:!n.abort})}}),Nj=I("$ZodE164",(t,n)=>{n.pattern??(n.pattern=BT),ut.init(t,n)});function Dj(t,n=null){try{const r=t.split(".");if(r.length!==3)return!1;const[i]=r;if(!i)return!1;const l=JSON.parse(atob(i));return!("typ"in l&&l?.typ!=="JWT"||!l.alg||n&&(!("alg"in l)||l.alg!==n))}catch{return!1}}const Mj=I("$ZodJWT",(t,n)=>{ut.init(t,n),t._zod.check=r=>{Dj(r.value,n.alg)||r.issues.push({code:"invalid_format",format:"jwt",input:r.value,inst:t,continue:!n.abort})}}),n0=I("$ZodNumber",(t,n)=>{lt.init(t,n),t._zod.pattern=t._zod.bag.pattern??FT,t._zod.parse=(r,i)=>{if(n.coerce)try{r.value=Number(r.value)}catch{}const l=r.value;if(typeof l=="number"&&!Number.isNaN(l)&&Number.isFinite(l))return r;const u=typeof l=="number"?Number.isNaN(l)?"NaN":Number.isFinite(l)?void 0:"Infinity":void 0;return r.issues.push({expected:"number",code:"invalid_type",input:l,inst:t,...u?{received:u}:{}}),r}}),zj=I("$ZodNumber",(t,n)=>{XT.init(t,n),n0.init(t,n)}),Uj=I("$ZodBoolean",(t,n)=>{lt.init(t,n),t._zod.pattern=GT,t._zod.parse=(r,i)=>{if(n.coerce)try{r.value=!!r.value}catch{}const l=r.value;return typeof l=="boolean"||r.issues.push({expected:"boolean",code:"invalid_type",input:l,inst:t}),r}}),$j=I("$ZodAny",(t,n)=>{lt.init(t,n),t._zod.parse=r=>r}),Lj=I("$ZodUnknown",(t,n)=>{lt.init(t,n),t._zod.parse=r=>r}),qj=I("$ZodNever",(t,n)=>{lt.init(t,n),t._zod.parse=(r,i)=>(r.issues.push({expected:"never",code:"invalid_type",input:r.value,inst:t}),r)}),Bj=I("$ZodDate",(t,n)=>{lt.init(t,n),t._zod.parse=(r,i)=>{if(n.coerce)try{r.value=new Date(r.value)}catch{}const l=r.value,u=l instanceof Date;return u&&!Number.isNaN(l.getTime())||r.issues.push({expected:"date",code:"invalid_type",input:l,...u?{received:"Invalid Date"}:{},inst:t}),r}});function vv(t,n,r){t.issues.length&&n.issues.push(...xs(r,t.issues)),n.value[r]=t.value}const Ij=I("$ZodArray",(t,n)=>{lt.init(t,n),t._zod.parse=(r,i)=>{const l=r.value;if(!Array.isArray(l))return r.issues.push({expected:"array",code:"invalid_type",input:l,inst:t}),r;r.value=Array(l.length);const u=[];for(let d=0;d<l.length;d++){const h=l[d],m=n.element._zod.run({value:h,issues:[]},i);m instanceof Promise?u.push(m.then(p=>vv(p,r,d))):vv(m,r,d)}return u.length?Promise.all(u).then(()=>r):r}});function Ol(t,n,r,i){t.issues.length&&n.issues.push(...xs(r,t.issues)),t.value===void 0?r in i&&(n.value[r]=void 0):n.value[r]=t.value}const Hj=I("$ZodObject",(t,n)=>{lt.init(t,n);const r=Iy(()=>{const _=Object.keys(n.shape);for(const E of _)if(!n.shape[E]._zod.traits.has("$ZodType"))throw new Error(`Invalid element at key "${E}": expected a Zod schema`);const w=uT(n.shape);return{shape:n.shape,keys:_,keySet:new Set(_),numKeys:_.length,optionalKeys:new Set(w)}});at(t._zod,"propValues",()=>{const _=n.shape,w={};for(const E in _){const k=_[E]._zod;if(k.values){w[E]??(w[E]=new Set);for(const A of k.values)w[E].add(A)}}return w});const i=_=>{const w=new lj(["shape","payload","ctx"]),E=r.value,k=G=>{const z=pv(G);return`shape[${z}]._zod.run({ value: input[${z}], issues: [] }, ctx)`};w.write("const input = payload.value;");const A=Object.create(null);let N=0;for(const G of E.keys)A[G]=`key_${N++}`;w.write("const newResult = {}");for(const G of E.keys){const z=A[G],F=pv(G);w.write(`const ${z} = ${k(G)};`),w.write(`
        if (${z}.issues.length) {
          payload.issues = payload.issues.concat(${z}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${F}, ...iss.path] : [${F}]
          })));
        }
        
        if (${z}.value === undefined) {
          if (${F} in input) {
            newResult[${F}] = undefined;
          }
        } else {
          newResult[${F}] = ${z}.value;
        }
      `)}w.write("payload.value = newResult;"),w.write("return payload;");const L=w.compile();return(G,z)=>L(_,G,z)};let l;const u=ef,d=!By.jitless,m=d&&oT.value,p=n.catchall;let y;t._zod.parse=(_,w)=>{y??(y=r.value);const E=_.value;if(!u(E))return _.issues.push({expected:"object",code:"invalid_type",input:E,inst:t}),_;const k=[];if(d&&m&&w?.async===!1&&w.jitless!==!0)l||(l=i(n.shape)),_=l(_,w);else{_.value={};const z=y.shape;for(const F of y.keys){const X=z[F]._zod.run({value:E[F],issues:[]},w);X instanceof Promise?k.push(X.then(ae=>Ol(ae,_,F,E))):Ol(X,_,F,E)}}if(!p)return k.length?Promise.all(k).then(()=>_):_;const A=[],N=y.keySet,L=p._zod,G=L.def.type;for(const z of Object.keys(E)){if(N.has(z))continue;if(G==="never"){A.push(z);continue}const F=L.run({value:E[z],issues:[]},w);F instanceof Promise?k.push(F.then(B=>Ol(B,_,z,E))):Ol(F,_,z,E)}return A.length&&_.issues.push({code:"unrecognized_keys",keys:A,input:E,inst:t}),k.length?Promise.all(k).then(()=>_):_}});function yv(t,n,r,i){for(const u of t)if(u.issues.length===0)return n.value=u.value,n;const l=t.filter(u=>!Gi(u));return l.length===1?(n.value=l[0].value,l[0]):(n.issues.push({code:"invalid_union",input:n.value,inst:r,errors:t.map(u=>u.issues.map(d=>Za(d,i,Ha())))}),n)}const Zj=I("$ZodUnion",(t,n)=>{lt.init(t,n),at(t._zod,"optin",()=>n.options.some(l=>l._zod.optin==="optional")?"optional":void 0),at(t._zod,"optout",()=>n.options.some(l=>l._zod.optout==="optional")?"optional":void 0),at(t._zod,"values",()=>{if(n.options.every(l=>l._zod.values))return new Set(n.options.flatMap(l=>Array.from(l._zod.values)))}),at(t._zod,"pattern",()=>{if(n.options.every(l=>l._zod.pattern)){const l=n.options.map(u=>u._zod.pattern);return new RegExp(`^(${l.map(u=>Ef(u.source)).join("|")})$`)}});const r=n.options.length===1,i=n.options[0]._zod.run;t._zod.parse=(l,u)=>{if(r)return i(l,u);let d=!1;const h=[];for(const m of n.options){const p=m._zod.run({value:l.value,issues:[]},u);if(p instanceof Promise)h.push(p),d=!0;else{if(p.issues.length===0)return p;h.push(p)}}return d?Promise.all(h).then(m=>yv(m,l,t,u)):yv(h,l,t,u)}}),Pj=I("$ZodIntersection",(t,n)=>{lt.init(t,n),t._zod.parse=(r,i)=>{const l=r.value,u=n.left._zod.run({value:l,issues:[]},i),d=n.right._zod.run({value:l,issues:[]},i);return u instanceof Promise||d instanceof Promise?Promise.all([u,d]).then(([m,p])=>bv(r,m,p)):bv(r,u,d)}});function tf(t,n){if(t===n)return{valid:!0,data:t};if(t instanceof Date&&n instanceof Date&&+t==+n)return{valid:!0,data:t};if(Wi(t)&&Wi(n)){const r=Object.keys(n),i=Object.keys(t).filter(u=>r.indexOf(u)!==-1),l={...t,...n};for(const u of i){const d=tf(t[u],n[u]);if(!d.valid)return{valid:!1,mergeErrorPath:[u,...d.mergeErrorPath]};l[u]=d.data}return{valid:!0,data:l}}if(Array.isArray(t)&&Array.isArray(n)){if(t.length!==n.length)return{valid:!1,mergeErrorPath:[]};const r=[];for(let i=0;i<t.length;i++){const l=t[i],u=n[i],d=tf(l,u);if(!d.valid)return{valid:!1,mergeErrorPath:[i,...d.mergeErrorPath]};r.push(d.data)}return{valid:!0,data:r}}return{valid:!1,mergeErrorPath:[]}}function bv(t,n,r){if(n.issues.length&&t.issues.push(...n.issues),r.issues.length&&t.issues.push(...r.issues),Gi(t))return t;const i=tf(n.value,r.value);if(!i.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(i.mergeErrorPath)}`);return t.value=i.data,t}const Vj=I("$ZodRecord",(t,n)=>{lt.init(t,n),t._zod.parse=(r,i)=>{const l=r.value;if(!Wi(l))return r.issues.push({expected:"record",code:"invalid_type",input:l,inst:t}),r;const u=[];if(n.keyType._zod.values){const d=n.keyType._zod.values;r.value={};for(const m of d)if(typeof m=="string"||typeof m=="number"||typeof m=="symbol"){const p=n.valueType._zod.run({value:l[m],issues:[]},i);p instanceof Promise?u.push(p.then(y=>{y.issues.length&&r.issues.push(...xs(m,y.issues)),r.value[m]=y.value})):(p.issues.length&&r.issues.push(...xs(m,p.issues)),r.value[m]=p.value)}let h;for(const m in l)d.has(m)||(h=h??[],h.push(m));h&&h.length>0&&r.issues.push({code:"unrecognized_keys",input:l,inst:t,keys:h})}else{r.value={};for(const d of Reflect.ownKeys(l)){if(d==="__proto__")continue;const h=n.keyType._zod.run({value:d,issues:[]},i);if(h instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(h.issues.length){r.issues.push({code:"invalid_key",origin:"record",issues:h.issues.map(p=>Za(p,i,Ha())),input:d,path:[d],inst:t}),r.value[h.value]=h.value;continue}const m=n.valueType._zod.run({value:l[d],issues:[]},i);m instanceof Promise?u.push(m.then(p=>{p.issues.length&&r.issues.push(...xs(d,p.issues)),r.value[h.value]=p.value})):(m.issues.length&&r.issues.push(...xs(d,m.issues)),r.value[h.value]=m.value)}}return u.length?Promise.all(u).then(()=>r):r}}),Fj=I("$ZodEnum",(t,n)=>{lt.init(t,n);const r=rT(n.entries),i=new Set(r);t._zod.values=i,t._zod.pattern=new RegExp(`^(${r.filter(l=>lT.has(typeof l)).map(l=>typeof l=="string"?au(l):l.toString()).join("|")})$`),t._zod.parse=(l,u)=>{const d=l.value;return i.has(d)||l.issues.push({code:"invalid_value",values:r,input:d,inst:t}),l}}),Gj=I("$ZodTransform",(t,n)=>{lt.init(t,n),t._zod.parse=(r,i)=>{const l=n.transform(r.value,r);if(i.async)return(l instanceof Promise?l:Promise.resolve(l)).then(d=>(r.value=d,r));if(l instanceof Promise)throw new Ji;return r.value=l,r}});function _v(t,n){return t.issues.length&&n===void 0?{issues:[],value:void 0}:t}const Kj=I("$ZodOptional",(t,n)=>{lt.init(t,n),t._zod.optin="optional",t._zod.optout="optional",at(t._zod,"values",()=>n.innerType._zod.values?new Set([...n.innerType._zod.values,void 0]):void 0),at(t._zod,"pattern",()=>{const r=n.innerType._zod.pattern;return r?new RegExp(`^(${Ef(r.source)})?$`):void 0}),t._zod.parse=(r,i)=>{if(n.innerType._zod.optin==="optional"){const l=n.innerType._zod.run(r,i);return l instanceof Promise?l.then(u=>_v(u,r.value)):_v(l,r.value)}return r.value===void 0?r:n.innerType._zod.run(r,i)}}),Yj=I("$ZodNullable",(t,n)=>{lt.init(t,n),at(t._zod,"optin",()=>n.innerType._zod.optin),at(t._zod,"optout",()=>n.innerType._zod.optout),at(t._zod,"pattern",()=>{const r=n.innerType._zod.pattern;return r?new RegExp(`^(${Ef(r.source)}|null)$`):void 0}),at(t._zod,"values",()=>n.innerType._zod.values?new Set([...n.innerType._zod.values,null]):void 0),t._zod.parse=(r,i)=>r.value===null?r:n.innerType._zod.run(r,i)}),Qj=I("$ZodDefault",(t,n)=>{lt.init(t,n),t._zod.optin="optional",at(t._zod,"values",()=>n.innerType._zod.values),t._zod.parse=(r,i)=>{if(r.value===void 0)return r.value=n.defaultValue,r;const l=n.innerType._zod.run(r,i);return l instanceof Promise?l.then(u=>wv(u,n)):wv(l,n)}});function wv(t,n){return t.value===void 0&&(t.value=n.defaultValue),t}const Xj=I("$ZodPrefault",(t,n)=>{lt.init(t,n),t._zod.optin="optional",at(t._zod,"values",()=>n.innerType._zod.values),t._zod.parse=(r,i)=>(r.value===void 0&&(r.value=n.defaultValue),n.innerType._zod.run(r,i))}),Jj=I("$ZodNonOptional",(t,n)=>{lt.init(t,n),at(t._zod,"values",()=>{const r=n.innerType._zod.values;return r?new Set([...r].filter(i=>i!==void 0)):void 0}),t._zod.parse=(r,i)=>{const l=n.innerType._zod.run(r,i);return l instanceof Promise?l.then(u=>Sv(u,t)):Sv(l,t)}});function Sv(t,n){return!t.issues.length&&t.value===void 0&&t.issues.push({code:"invalid_type",expected:"nonoptional",input:t.value,inst:n}),t}const Wj=I("$ZodCatch",(t,n)=>{lt.init(t,n),at(t._zod,"optin",()=>n.innerType._zod.optin),at(t._zod,"optout",()=>n.innerType._zod.optout),at(t._zod,"values",()=>n.innerType._zod.values),t._zod.parse=(r,i)=>{const l=n.innerType._zod.run(r,i);return l instanceof Promise?l.then(u=>(r.value=u.value,u.issues.length&&(r.value=n.catchValue({...r,error:{issues:u.issues.map(d=>Za(d,i,Ha()))},input:r.value}),r.issues=[]),r)):(r.value=l.value,l.issues.length&&(r.value=n.catchValue({...r,error:{issues:l.issues.map(u=>Za(u,i,Ha()))},input:r.value}),r.issues=[]),r)}}),ek=I("$ZodPipe",(t,n)=>{lt.init(t,n),at(t._zod,"values",()=>n.in._zod.values),at(t._zod,"optin",()=>n.in._zod.optin),at(t._zod,"optout",()=>n.out._zod.optout),at(t._zod,"propValues",()=>n.in._zod.propValues),t._zod.parse=(r,i)=>{const l=n.in._zod.run(r,i);return l instanceof Promise?l.then(u=>xv(u,n,i)):xv(l,n,i)}});function xv(t,n,r){return t.issues.length?t:n.out._zod.run({value:t.value,issues:t.issues},r)}const tk=I("$ZodReadonly",(t,n)=>{lt.init(t,n),at(t._zod,"propValues",()=>n.innerType._zod.propValues),at(t._zod,"values",()=>n.innerType._zod.values),at(t._zod,"optin",()=>n.innerType._zod.optin),at(t._zod,"optout",()=>n.innerType._zod.optout),t._zod.parse=(r,i)=>{const l=n.innerType._zod.run(r,i);return l instanceof Promise?l.then(Ev):Ev(l)}});function Ev(t){return t.value=Object.freeze(t.value),t}const nk=I("$ZodCustom",(t,n)=>{Xt.init(t,n),lt.init(t,n),t._zod.parse=(r,i)=>r,t._zod.check=r=>{const i=r.value,l=n.fn(i);if(l instanceof Promise)return l.then(u=>Tv(u,r,i,t));Tv(l,r,i,t)}});function Tv(t,n,r,i){if(!t){const l={code:"custom",input:r,inst:i,path:[...i._zod.def.path??[]],continue:!i._zod.def.abort};i._zod.def.params&&(l.params=i._zod.def.params),n.issues.push(eo(l))}}class ak{constructor(){this._map=new Map,this._idmap=new Map}add(n,...r){const i=r[0];if(this._map.set(n,i),i&&typeof i=="object"&&"id"in i){if(this._idmap.has(i.id))throw new Error(`ID ${i.id} already exists in the registry`);this._idmap.set(i.id,n)}return this}clear(){return this._map=new Map,this._idmap=new Map,this}remove(n){const r=this._map.get(n);return r&&typeof r=="object"&&"id"in r&&this._idmap.delete(r.id),this._map.delete(n),this}get(n){const r=n._zod.parent;if(r){const i={...this.get(r)??{}};delete i.id;const l={...i,...this._map.get(n)};return Object.keys(l).length?l:void 0}return this._map.get(n)}has(n){return this._map.has(n)}}function rk(){return new ak}const Al=rk();function sk(t,n){return new t({type:"string",...ue(n)})}function ik(t,n){return new t({type:"string",format:"email",check:"string_format",abort:!1,...ue(n)})}function jv(t,n){return new t({type:"string",format:"guid",check:"string_format",abort:!1,...ue(n)})}function ok(t,n){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,...ue(n)})}function lk(t,n){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...ue(n)})}function uk(t,n){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...ue(n)})}function ck(t,n){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...ue(n)})}function dk(t,n){return new t({type:"string",format:"url",check:"string_format",abort:!1,...ue(n)})}function fk(t,n){return new t({type:"string",format:"emoji",check:"string_format",abort:!1,...ue(n)})}function hk(t,n){return new t({type:"string",format:"nanoid",check:"string_format",abort:!1,...ue(n)})}function mk(t,n){return new t({type:"string",format:"cuid",check:"string_format",abort:!1,...ue(n)})}function pk(t,n){return new t({type:"string",format:"cuid2",check:"string_format",abort:!1,...ue(n)})}function gk(t,n){return new t({type:"string",format:"ulid",check:"string_format",abort:!1,...ue(n)})}function vk(t,n){return new t({type:"string",format:"xid",check:"string_format",abort:!1,...ue(n)})}function yk(t,n){return new t({type:"string",format:"ksuid",check:"string_format",abort:!1,...ue(n)})}function bk(t,n){return new t({type:"string",format:"ipv4",check:"string_format",abort:!1,...ue(n)})}function _k(t,n){return new t({type:"string",format:"ipv6",check:"string_format",abort:!1,...ue(n)})}function wk(t,n){return new t({type:"string",format:"cidrv4",check:"string_format",abort:!1,...ue(n)})}function Sk(t,n){return new t({type:"string",format:"cidrv6",check:"string_format",abort:!1,...ue(n)})}function xk(t,n){return new t({type:"string",format:"base64",check:"string_format",abort:!1,...ue(n)})}function Ek(t,n){return new t({type:"string",format:"base64url",check:"string_format",abort:!1,...ue(n)})}function Tk(t,n){return new t({type:"string",format:"e164",check:"string_format",abort:!1,...ue(n)})}function jk(t,n){return new t({type:"string",format:"jwt",check:"string_format",abort:!1,...ue(n)})}function kk(t,n){return new t({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...ue(n)})}function Ok(t,n){return new t({type:"string",format:"date",check:"string_format",...ue(n)})}function Ak(t,n){return new t({type:"string",format:"time",check:"string_format",precision:null,...ue(n)})}function Ck(t,n){return new t({type:"string",format:"duration",check:"string_format",...ue(n)})}function Rk(t,n){return new t({type:"number",checks:[],...ue(n)})}function Nk(t,n){return new t({type:"number",check:"number_format",abort:!1,format:"safeint",...ue(n)})}function Dk(t,n){return new t({type:"boolean",...ue(n)})}function Mk(t){return new t({type:"any"})}function zk(t){return new t({type:"unknown"})}function Uk(t,n){return new t({type:"never",...ue(n)})}function $k(t,n){return new t({type:"date",...ue(n)})}function kv(t,n){return new Wy({check:"less_than",...ue(n),value:t,inclusive:!1})}function zl(t,n){return new Wy({check:"less_than",...ue(n),value:t,inclusive:!0})}function Ov(t,n){return new e0({check:"greater_than",...ue(n),value:t,inclusive:!1})}function Ul(t,n){return new e0({check:"greater_than",...ue(n),value:t,inclusive:!0})}function Av(t,n){return new QT({check:"multiple_of",...ue(n),value:t})}function a0(t,n){return new JT({check:"max_length",...ue(n),maximum:t})}function Zl(t,n){return new WT({check:"min_length",...ue(n),minimum:t})}function r0(t,n){return new ej({check:"length_equals",...ue(n),length:t})}function Lk(t,n){return new tj({check:"string_format",format:"regex",...ue(n),pattern:t})}function qk(t){return new nj({check:"string_format",format:"lowercase",...ue(t)})}function Bk(t){return new aj({check:"string_format",format:"uppercase",...ue(t)})}function Ik(t,n){return new rj({check:"string_format",format:"includes",...ue(n),includes:t})}function Hk(t,n){return new sj({check:"string_format",format:"starts_with",...ue(n),prefix:t})}function Zk(t,n){return new ij({check:"string_format",format:"ends_with",...ue(n),suffix:t})}function ro(t){return new oj({check:"overwrite",tx:t})}function Pk(t){return ro(n=>n.normalize(t))}function Vk(){return ro(t=>t.trim())}function Fk(){return ro(t=>t.toLowerCase())}function Gk(){return ro(t=>t.toUpperCase())}function Kk(t,n,r){return new t({type:"array",element:n,...ue(r)})}function Yk(t,n,r){return new t({type:"custom",check:"custom",fn:n,...ue(r)})}function Qk(t){const n=Xk(r=>(r.addIssue=i=>{if(typeof i=="string")r.issues.push(eo(i,r.value,n._zod.def));else{const l=i;l.fatal&&(l.continue=!1),l.code??(l.code="custom"),l.input??(l.input=r.value),l.inst??(l.inst=n),l.continue??(l.continue=!n._zod.def.abort),r.issues.push(eo(l))}},t(r.value,r)));return n}function Xk(t,n){const r=new Xt({check:"custom",...ue(n)});return r._zod.check=t,r}const Jk=I("ZodISODateTime",(t,n)=>{wj.init(t,n),ht.init(t,n)});function Wk(t){return kk(Jk,t)}const eO=I("ZodISODate",(t,n)=>{Sj.init(t,n),ht.init(t,n)});function tO(t){return Ok(eO,t)}const nO=I("ZodISOTime",(t,n)=>{xj.init(t,n),ht.init(t,n)});function aO(t){return Ak(nO,t)}const rO=I("ZodISODuration",(t,n)=>{Ej.init(t,n),ht.init(t,n)});function sO(t){return Ck(rO,t)}const s0=(t,n)=>{Vy.init(t,n),t.name="ZodError",Object.defineProperties(t,{format:{value:r=>yT(t,r)},flatten:{value:r=>vT(t,r)},addIssue:{value:r=>{t.issues.push(r),t.message=JSON.stringify(t.issues,Wd,2)}},addIssues:{value:r=>{t.issues.push(...r),t.message=JSON.stringify(t.issues,Wd,2)}},isEmpty:{get(){return t.issues.length===0}}})},i0=I("ZodError",s0),su=I("ZodError",s0,{Parent:Error}),iO=bT(su),oO=_T(su),lO=Gy(su),uO=Ky(su),ft=I("ZodType",(t,n)=>(lt.init(t,n),t.def=n,Object.defineProperty(t,"_def",{value:n}),t.check=(...r)=>t.clone({...n,checks:[...n.checks??[],...r.map(i=>typeof i=="function"?{_zod:{check:i,def:{check:"custom"},onattach:[]}}:i)]}),t.clone=(r,i)=>wr(t,r,i),t.brand=()=>t,t.register=((r,i)=>(r.add(t,i),t)),t.parse=(r,i)=>iO(t,r,i,{callee:t.parse}),t.safeParse=(r,i)=>lO(t,r,i),t.parseAsync=async(r,i)=>oO(t,r,i,{callee:t.parseAsync}),t.safeParseAsync=async(r,i)=>uO(t,r,i),t.spa=t.safeParseAsync,t.refine=(r,i)=>t.check(rA(r,i)),t.superRefine=r=>t.check(sA(r)),t.overwrite=r=>t.check(ro(r)),t.optional=()=>Dv(t),t.nullable=()=>Mv(t),t.nullish=()=>Dv(Mv(t)),t.nonoptional=r=>XO(t,r),t.array=()=>kf(t),t.or=r=>qO([t,r]),t.and=r=>IO(t,r),t.transform=r=>zv(t,VO(r)),t.default=r=>KO(t,r),t.prefault=r=>QO(t,r),t.catch=r=>WO(t,r),t.pipe=r=>zv(t,r),t.readonly=()=>nA(t),t.describe=r=>{const i=t.clone();return Al.add(i,{description:r}),i},Object.defineProperty(t,"description",{get(){return Al.get(t)?.description},configurable:!0}),t.meta=(...r)=>{if(r.length===0)return Al.get(t);const i=t.clone();return Al.add(i,r[0]),i},t.isOptional=()=>t.safeParse(void 0).success,t.isNullable=()=>t.safeParse(null).success,t)),o0=I("_ZodString",(t,n)=>{jf.init(t,n),ft.init(t,n);const r=t._zod.bag;t.format=r.format??null,t.minLength=r.minimum??null,t.maxLength=r.maximum??null,t.regex=(...i)=>t.check(Lk(...i)),t.includes=(...i)=>t.check(Ik(...i)),t.startsWith=(...i)=>t.check(Hk(...i)),t.endsWith=(...i)=>t.check(Zk(...i)),t.min=(...i)=>t.check(Zl(...i)),t.max=(...i)=>t.check(a0(...i)),t.length=(...i)=>t.check(r0(...i)),t.nonempty=(...i)=>t.check(Zl(1,...i)),t.lowercase=i=>t.check(qk(i)),t.uppercase=i=>t.check(Bk(i)),t.trim=()=>t.check(Vk()),t.normalize=(...i)=>t.check(Pk(...i)),t.toLowerCase=()=>t.check(Fk()),t.toUpperCase=()=>t.check(Gk())}),cO=I("ZodString",(t,n)=>{jf.init(t,n),o0.init(t,n),t.email=r=>t.check(ik(dO,r)),t.url=r=>t.check(dk(fO,r)),t.jwt=r=>t.check(jk(kO,r)),t.emoji=r=>t.check(fk(hO,r)),t.guid=r=>t.check(jv(Cv,r)),t.uuid=r=>t.check(ok(Cl,r)),t.uuidv4=r=>t.check(lk(Cl,r)),t.uuidv6=r=>t.check(uk(Cl,r)),t.uuidv7=r=>t.check(ck(Cl,r)),t.nanoid=r=>t.check(hk(mO,r)),t.guid=r=>t.check(jv(Cv,r)),t.cuid=r=>t.check(mk(pO,r)),t.cuid2=r=>t.check(pk(gO,r)),t.ulid=r=>t.check(gk(vO,r)),t.base64=r=>t.check(xk(EO,r)),t.base64url=r=>t.check(Ek(TO,r)),t.xid=r=>t.check(vk(yO,r)),t.ksuid=r=>t.check(yk(bO,r)),t.ipv4=r=>t.check(bk(_O,r)),t.ipv6=r=>t.check(_k(wO,r)),t.cidrv4=r=>t.check(wk(SO,r)),t.cidrv6=r=>t.check(Sk(xO,r)),t.e164=r=>t.check(Tk(jO,r)),t.datetime=r=>t.check(Wk(r)),t.date=r=>t.check(tO(r)),t.time=r=>t.check(aO(r)),t.duration=r=>t.check(sO(r))});function ca(t){return sk(cO,t)}const ht=I("ZodStringFormat",(t,n)=>{ut.init(t,n),o0.init(t,n)}),dO=I("ZodEmail",(t,n)=>{fj.init(t,n),ht.init(t,n)}),Cv=I("ZodGUID",(t,n)=>{cj.init(t,n),ht.init(t,n)}),Cl=I("ZodUUID",(t,n)=>{dj.init(t,n),ht.init(t,n)}),fO=I("ZodURL",(t,n)=>{hj.init(t,n),ht.init(t,n)}),hO=I("ZodEmoji",(t,n)=>{mj.init(t,n),ht.init(t,n)}),mO=I("ZodNanoID",(t,n)=>{pj.init(t,n),ht.init(t,n)}),pO=I("ZodCUID",(t,n)=>{gj.init(t,n),ht.init(t,n)}),gO=I("ZodCUID2",(t,n)=>{vj.init(t,n),ht.init(t,n)}),vO=I("ZodULID",(t,n)=>{yj.init(t,n),ht.init(t,n)}),yO=I("ZodXID",(t,n)=>{bj.init(t,n),ht.init(t,n)}),bO=I("ZodKSUID",(t,n)=>{_j.init(t,n),ht.init(t,n)}),_O=I("ZodIPv4",(t,n)=>{Tj.init(t,n),ht.init(t,n)}),wO=I("ZodIPv6",(t,n)=>{jj.init(t,n),ht.init(t,n)}),SO=I("ZodCIDRv4",(t,n)=>{kj.init(t,n),ht.init(t,n)}),xO=I("ZodCIDRv6",(t,n)=>{Oj.init(t,n),ht.init(t,n)}),EO=I("ZodBase64",(t,n)=>{Aj.init(t,n),ht.init(t,n)}),TO=I("ZodBase64URL",(t,n)=>{Rj.init(t,n),ht.init(t,n)}),jO=I("ZodE164",(t,n)=>{Nj.init(t,n),ht.init(t,n)}),kO=I("ZodJWT",(t,n)=>{Mj.init(t,n),ht.init(t,n)}),l0=I("ZodNumber",(t,n)=>{n0.init(t,n),ft.init(t,n),t.gt=(i,l)=>t.check(Ov(i,l)),t.gte=(i,l)=>t.check(Ul(i,l)),t.min=(i,l)=>t.check(Ul(i,l)),t.lt=(i,l)=>t.check(kv(i,l)),t.lte=(i,l)=>t.check(zl(i,l)),t.max=(i,l)=>t.check(zl(i,l)),t.int=i=>t.check(Rv(i)),t.safe=i=>t.check(Rv(i)),t.positive=i=>t.check(Ov(0,i)),t.nonnegative=i=>t.check(Ul(0,i)),t.negative=i=>t.check(kv(0,i)),t.nonpositive=i=>t.check(zl(0,i)),t.multipleOf=(i,l)=>t.check(Av(i,l)),t.step=(i,l)=>t.check(Av(i,l)),t.finite=()=>t;const r=t._zod.bag;t.minValue=Math.max(r.minimum??Number.NEGATIVE_INFINITY,r.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,t.maxValue=Math.min(r.maximum??Number.POSITIVE_INFINITY,r.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,t.isInt=(r.format??"").includes("int")||Number.isSafeInteger(r.multipleOf??.5),t.isFinite=!0,t.format=r.format??null});function Bn(t){return Rk(l0,t)}const OO=I("ZodNumberFormat",(t,n)=>{zj.init(t,n),l0.init(t,n)});function Rv(t){return Nk(OO,t)}const AO=I("ZodBoolean",(t,n)=>{Uj.init(t,n),ft.init(t,n)});function Md(t){return Dk(AO,t)}const CO=I("ZodAny",(t,n)=>{$j.init(t,n),ft.init(t,n)});function RO(){return Mk(CO)}const NO=I("ZodUnknown",(t,n)=>{Lj.init(t,n),ft.init(t,n)});function Nv(){return zk(NO)}const DO=I("ZodNever",(t,n)=>{qj.init(t,n),ft.init(t,n)});function MO(t){return Uk(DO,t)}const zO=I("ZodDate",(t,n)=>{Bj.init(t,n),ft.init(t,n),t.min=(i,l)=>t.check(Ul(i,l)),t.max=(i,l)=>t.check(zl(i,l));const r=t._zod.bag;t.minDate=r.minimum?new Date(r.minimum):null,t.maxDate=r.maximum?new Date(r.maximum):null});function gr(t){return $k(zO,t)}const UO=I("ZodArray",(t,n)=>{Ij.init(t,n),ft.init(t,n),t.element=n.element,t.min=(r,i)=>t.check(Zl(r,i)),t.nonempty=r=>t.check(Zl(1,r)),t.max=(r,i)=>t.check(a0(r,i)),t.length=(r,i)=>t.check(r0(r,i)),t.unwrap=()=>t.element});function kf(t,n){return Kk(UO,t,n)}const $O=I("ZodObject",(t,n)=>{Hj.init(t,n),ft.init(t,n),at(t,"shape",()=>n.shape),t.keyof=()=>ZO(Object.keys(t._zod.def.shape)),t.catchall=r=>t.clone({...t._zod.def,catchall:r}),t.passthrough=()=>t.clone({...t._zod.def,catchall:Nv()}),t.loose=()=>t.clone({...t._zod.def,catchall:Nv()}),t.strict=()=>t.clone({...t._zod.def,catchall:MO()}),t.strip=()=>t.clone({...t._zod.def,catchall:void 0}),t.extend=r=>hT(t,r),t.merge=r=>mT(t,r),t.pick=r=>dT(t,r),t.omit=r=>fT(t,r),t.partial=(...r)=>pT(c0,t,r[0]),t.required=(...r)=>gT(d0,t,r[0])});function vr(t,n){const r={type:"object",get shape(){return _r(this,"shape",t?iT(t):{}),this.shape},...ue(n)};return new $O(r)}const LO=I("ZodUnion",(t,n)=>{Zj.init(t,n),ft.init(t,n),t.options=n.options});function qO(t,n){return new LO({type:"union",options:t,...ue(n)})}const BO=I("ZodIntersection",(t,n)=>{Pj.init(t,n),ft.init(t,n)});function IO(t,n){return new BO({type:"intersection",left:t,right:n})}const HO=I("ZodRecord",(t,n)=>{Vj.init(t,n),ft.init(t,n),t.keyType=n.keyType,t.valueType=n.valueType});function u0(t,n,r){return new HO({type:"record",keyType:t,valueType:n,...ue(r)})}const Pl=I("ZodEnum",(t,n)=>{Fj.init(t,n),ft.init(t,n),t.enum=n.entries,t.options=Object.values(n.entries);const r=new Set(Object.keys(n.entries));t.extract=(i,l)=>{const u={};for(const d of i)if(r.has(d))u[d]=n.entries[d];else throw new Error(`Key ${d} not found in enum`);return new Pl({...n,checks:[],...ue(l),entries:u})},t.exclude=(i,l)=>{const u={...n.entries};for(const d of i)if(r.has(d))delete u[d];else throw new Error(`Key ${d} not found in enum`);return new Pl({...n,checks:[],...ue(l),entries:u})}});function ZO(t,n){const r=Array.isArray(t)?Object.fromEntries(t.map(i=>[i,i])):t;return new Pl({type:"enum",entries:r,...ue(n)})}function yr(t,n){return new Pl({type:"enum",entries:t,...ue(n)})}const PO=I("ZodTransform",(t,n)=>{Gj.init(t,n),ft.init(t,n),t._zod.parse=(r,i)=>{r.addIssue=u=>{if(typeof u=="string")r.issues.push(eo(u,r.value,n));else{const d=u;d.fatal&&(d.continue=!1),d.code??(d.code="custom"),d.input??(d.input=r.value),d.inst??(d.inst=t),r.issues.push(eo(d))}};const l=n.transform(r.value,r);return l instanceof Promise?l.then(u=>(r.value=u,r)):(r.value=l,r)}});function VO(t){return new PO({type:"transform",transform:t})}const c0=I("ZodOptional",(t,n)=>{Kj.init(t,n),ft.init(t,n),t.unwrap=()=>t._zod.def.innerType});function Dv(t){return new c0({type:"optional",innerType:t})}const FO=I("ZodNullable",(t,n)=>{Yj.init(t,n),ft.init(t,n),t.unwrap=()=>t._zod.def.innerType});function Mv(t){return new FO({type:"nullable",innerType:t})}const GO=I("ZodDefault",(t,n)=>{Qj.init(t,n),ft.init(t,n),t.unwrap=()=>t._zod.def.innerType,t.removeDefault=t.unwrap});function KO(t,n){return new GO({type:"default",innerType:t,get defaultValue(){return typeof n=="function"?n():Zy(n)}})}const YO=I("ZodPrefault",(t,n)=>{Xj.init(t,n),ft.init(t,n),t.unwrap=()=>t._zod.def.innerType});function QO(t,n){return new YO({type:"prefault",innerType:t,get defaultValue(){return typeof n=="function"?n():Zy(n)}})}const d0=I("ZodNonOptional",(t,n)=>{Jj.init(t,n),ft.init(t,n),t.unwrap=()=>t._zod.def.innerType});function XO(t,n){return new d0({type:"nonoptional",innerType:t,...ue(n)})}const JO=I("ZodCatch",(t,n)=>{Wj.init(t,n),ft.init(t,n),t.unwrap=()=>t._zod.def.innerType,t.removeCatch=t.unwrap});function WO(t,n){return new JO({type:"catch",innerType:t,catchValue:typeof n=="function"?n:()=>n})}const eA=I("ZodPipe",(t,n)=>{ek.init(t,n),ft.init(t,n),t.in=n.in,t.out=n.out});function zv(t,n){return new eA({type:"pipe",in:t,out:n})}const tA=I("ZodReadonly",(t,n)=>{tk.init(t,n),ft.init(t,n),t.unwrap=()=>t._zod.def.innerType});function nA(t){return new tA({type:"readonly",innerType:t})}const aA=I("ZodCustom",(t,n)=>{nk.init(t,n),ft.init(t,n)});function rA(t,n={}){return Yk(aA,t,n)}function sA(t){return Qk(t)}var Of=(t=>(t.EXPORTED="exported",t.SYNCED="synced",t.FAILED="failed",t.PENDING="pending",t))(Of||{}),Af=(t=>(t.SYNCED="synced",t.PENDING="pending",t.FAILED="failed",t.NOT_REQUIRED="not_required",t))(Af||{});const iA=u0(yr(js),Bn().int().min(0)),oA=u0(yr(js),Bn().min(0)),lA=vr({filename:ca().min(1),fileSize:Bn().int().min(0).optional(),checksum:ca().optional(),exportedBy:ca().min(1),syncedAt:gr().optional()}),uA=vr({canRedownload:Md(),canResend:Md(),canModify:Md()}),cA=vr({id:ca().uuid(),journalNumber:ca().regex(/^JNL-\d{8}-\d{3}$/,"Invalid journal number format"),exportDate:gr(),movements:vr({total:Bn().int().min(0),byType:iA}),financials:vr({totalValue:Bn().min(0),byType:oA}),status:yr(Of),syncStatus:yr(Af),metadata:lA,actions:uA,createdAt:gr(),updatedAt:gr().optional(),deletedAt:gr().optional()}),dA=vr({journalNumber:ca(),movements:kf(RO()),filename:ca(),exportedBy:ca(),totalValue:Bn().min(0).optional()});vr({dateFrom:gr().optional(),dateTo:gr().optional(),status:yr(Of).optional(),syncStatus:yr(Af).optional(),minValue:Bn().min(0).optional(),maxValue:Bn().min(0).optional(),movementTypes:kf(yr(js)).optional(),searchTerm:ca().optional(),limit:Bn().int().min(1).max(1e3).default(50),offset:Bn().int().min(0).default(0)});function fA(t){try{return cA.parse(t)}catch(n){if(n instanceof i0){const r=n.issues.map(i=>`${i.path.join(".")}: ${i.message}`).join(", ");throw new Error(`Export history validation failed: ${r}`)}throw n}}function hA(t){try{return dA.parse(t)}catch(n){if(n instanceof i0){const r=n.issues.map(i=>`${i.path.join(".")}: ${i.message}`).join(", ");throw new Error(`Export record validation failed: ${r}`)}throw n}}const zd={fromDatabaseRow(t){try{const n={id:t.id,journalNumber:t.journal_number,exportDate:new Date(t.export_date),movements:{total:t.movements_count||0,byType:t.movement_breakdown||{}},financials:{totalValue:parseFloat(t.total_value||"0"),byType:t.financial_breakdown||{}},status:t.export_status||"exported",syncStatus:t.sync_status||"pending",metadata:{filename:t.filename||"unknown.xlsx",fileSize:t.file_size,checksum:t.checksum,exportedBy:t.exported_by||"unknown",syncedAt:t.synced_at?new Date(t.synced_at):void 0},actions:{canRedownload:!0,canResend:t.export_status==="synced",canModify:!1},createdAt:new Date(t.created_at),updatedAt:t.updated_at?new Date(t.updated_at):void 0,deletedAt:t.deleted_at?new Date(t.deleted_at):void 0};return fA(n)}catch(n){return console.error("Failed to transform database row:",n),null}},calculateMovementBreakdown(t){const n={};return t.forEach(([r])=>{const i=r.type;n[i]=(n[i]||0)+1}),n},calculateFinancialBreakdown(t){const n={};return t.forEach(([r])=>{const i=r.type,l=Math.abs(r.value||0);n[i]=(n[i]||0)+l}),n},generateJournalNumber(){const t=new Date,n=t.toISOString().split("T")[0].replace(/-/g,""),r=String(t.getTime()).slice(-3);return`JNL-${n}-${r}`},calculateChecksum(t){let n=0;for(let r=0;r<t.length;r++){const i=t.charCodeAt(r);n=(n<<5)-n+i,n=n&n}return n.toString(36)}};class Es{static instance;constructor(){}static getInstance(){return Es.instance||(Es.instance=new Es),Es.instance}async exportJournal(n,r,i){return hv("JOURNAL_HISTORY_TRACKING",()=>this.exportWithTracking(n,r,i),()=>this.exportLegacy(n,r,i))}async exportLegacy(n,r,i){try{const l=`journal_${new Date().toISOString().split("T")[0]}.xlsx`;return console.log(" Using legacy export (no tracking)"),{success:!0,filename:l,data:n,trackingEnabled:!1}}catch(l){return console.error("Legacy export failed:",l),{success:!1,filename:"",data:[],trackingEnabled:!1,error:l instanceof Error?l.message:"Export failed"}}}async exportWithTracking(n,r,i){try{const l=zd.generateJournalNumber(),u=`journal_${l}.xlsx`;console.log(" Using enhanced export with tracking"),console.log(" Journal Number:",l);const d=zd.calculateMovementBreakdown(n),h=zd.calculateFinancialBreakdown(n),m=Object.values(h).reduce((_,w)=>_+w,0),y=hA({journalNumber:l,movements:n,filename:u,exportedBy:i,totalValue:m});return On("JOURNAL_HISTORY_TRACKING")&&(console.log(" Would save export history to database"),console.log(" Export record:",{journalNumber:y.journalNumber,filename:y.filename,totalMovements:y.movements.length,totalValue:y.totalValue})),{success:!0,filename:u,data:n,journalNumber:l,exportId:`temp-${Date.now()}`,trackingEnabled:!0,metadata:{movements:{total:n.length,byType:d},financials:{totalValue:m,byType:h}}}}catch(l){return console.error("Enhanced export failed, falling back to legacy:",l),this.exportLegacy(n,r,i)}}isEnhancedModeEnabled(){return On("JOURNAL_HISTORY_TRACKING")}getCapabilities(){return{tracking:On("JOURNAL_HISTORY_TRACKING"),historyUI:On("JOURNAL_HISTORY_UI"),analytics:On("JOURNAL_PREMIUM_ANALYTICS"),actions:On("JOURNAL_EXPORT_ACTIONS"),autoSync:On("JOURNAL_AUTO_SYNC")}}async getExportHistory(n){return hv("JOURNAL_HISTORY_UI",async()=>(console.log(" Would load export history from database"),[]),async()=>[])}validateSystemIntegrity(){try{const n=On("JOURNAL_HISTORY_TRACKING");return console.log(" System integrity check passed"),!0}catch(n){return console.error(" System integrity check failed:",n),!1}}}const mA=Es.getInstance(),pA=x.lazy(()=>Qt(()=>import("./Receiving-SpEBxufF.js"),__vite__mapDeps([0,1]))),gA=x.lazy(()=>Qt(()=>import("./WorkOrder-CWLmSbXa.js"),__vite__mapDeps([2,1,3]))),vA=x.lazy(()=>Qt(()=>import("./Movements-Cebdc8bj.js"),__vite__mapDeps([4,3]))),Vl=1440*60*1e3;function Mi(t,n,r){const i=new Date,l=new Date(i.getFullYear(),i.getMonth(),i.getDate()).getTime();if(t==="today")return[l,i.getTime()];if(t==="last7")return[i.getTime()-7*Vl,i.getTime()];if(t==="month")return[new Date(i.getFullYear(),i.getMonth(),1).getTime(),i.getTime()];if(t==="custom"){const d=n?new Date(n+"T00:00:00").getTime():i.getTime()-7*Vl,h=r?new Date(r+"T23:59:59").getTime():i.getTime();return[Math.min(d,h),Math.max(d,h)]}const u=Math.floor(i.getMonth()/3)*3;return[new Date(i.getFullYear(),u,1).getTime(),i.getTime()]}function yA(t,n,r=7){const i=[],l=Math.max(1,Math.floor((n-t)/r));for(let u=0;u<r;u++){const d=t+u*l,h=u===r-1?n:t+(u+1)*l;i.push([d,h])}return i}function bA({items:t,onChange:n,onRefresh:r}){const i={id:"",name:"",active:!0,description:"",sortOrder:null},[l,u]=x.useState(!1),[d,h]=x.useState(null),[m,p]=x.useState(i),[y,_]=x.useState(null),[w,E]=x.useState({}),[k,A]=x.useState(!1),[N,L]=x.useState(""),[G,z]=x.useState(""),[F,B]=x.useState(null),[X,ae]=x.useState(!1),[Re,De]=x.useState(null),[Be,ct]=x.useState(null),[st,re]=x.useState(null),be=V=>{const W={};return(V.name||"").trim()||(W.name="Name is required"),W};x.useEffect(()=>{E(be(m))},[m]);function ve(){p(i),h(null),u(!1)}async function U(){const V=(m.name||"").trim(),W=be({...m,name:V});if(E(W),!(!V||Object.keys(W).length>0))try{if(d===null)await bs.createCategory({name:V,description:m.description||void 0,sortOrder:m.sortOrder??void 0}),ye.success(`Category "${V}" created successfully!`);else{const ee=t[d];await bs.updateCategory(ee.id,{description:m.description,sortOrder:m.sortOrder}),ye.success("Category details updated successfully!")}if(typeof window<"u")try{localStorage.removeItem("inv_categories_cache_v1")}catch{}r&&await r(),ve()}catch(ee){console.error("Error saving category:",ee);let rt="Failed to save category";ee?.message?.includes("duplicate")||ee?.message?.includes("unique")?rt=`Category "${V}" already exists`:ee?.message&&(rt=ee.message),ye.error(rt)}}function Y(V){const W=t[V];W&&(A(!0),L(W.name),z(W.name),B(null),De(null))}async function ce(){const V=(N||"").trim(),W=(G||"").trim();if(De(null),B(null),!(!V||!W||V===W))try{const ee=await bs.renameCategoryAndRetagSkus(V,W,{dryRun:!0});if(!ee?.success){De(ee?.error||"Preview failed");return}B({skusUpdated:ee.skusUpdated})}catch(ee){De(ee?.message||"Preview failed")}}async function Ee(){const V=(N||"").trim(),W=(G||"").trim();if(!(!V||!W||V===W)){ae(!0),De(null);try{const ee=await bs.renameCategoryAndRetagSkus(V,W,{dryRun:!1});if(!ee?.success){De(ee?.error||"Rename failed"),ae(!1);return}if(typeof window<"u")try{localStorage.removeItem("inv_categories_cache_v1")}catch{}r&&await r(),ye.success(`Category renamed to "${W}" and ${ee.skusUpdated??0} SKU(s) retagged`),A(!1)}catch(ee){De(ee?.message||"Rename failed")}finally{ae(!1)}}}function T(V){p({...t[V]}),h(V),u(!0),E(be(t[V]))}function P(V){_(V)}function te(){_(null)}async function Q(V){const W=t[V];if(W)try{re(V);const ee=await Fi.countSKUsByCategory(W.name,{activeOnly:!0});if(console.info('[Categories] Deactivate guard  active SKUs in "%s": %d',W.name,ee),(ee||0)>0){const rt=`Cannot deactivate "${W.name}": category has ${ee} active SKU(s).`;ye.error(rt),ct({kind:"error",message:rt}),_(null),re(null);return}if(await bs.deleteCategory(W.id),typeof window<"u")try{localStorage.removeItem("inv_categories_cache_v1")}catch{}r&&await r(),d===V&&ve(),_(null),console.info("[Categories] Category deactivated: %s",W.name),ye.success(`Category "${W.name}" deactivated`),ct({kind:"success",message:`Category "${W.name}" deactivated.`}),re(null)}catch(ee){console.error("[Categories] Error deleting category:",ee);const rt=ee?.message||"Failed to delete category";ye.error(rt),ct({kind:"error",message:rt}),_(null),re(null)}}return g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("div",{className:"text-sm text-slate-600",children:"Centralized category master data"}),g.jsx(xe,{size:"sm",className:"rounded-xl",onClick:()=>{u(V=>{const W=!V;return W&&(p(i),E(be(i))),W})},children:l?"Close":"Add Category"})]}),Be&&g.jsx("div",{className:`text-sm mt-1 ${Be.kind==="error"?"text-red-600":Be.kind==="success"?"text-green-700":"text-slate-600"}`,"aria-live":"polite",children:Be.message}),l&&g.jsxs("div",{className:"rounded-2xl border border-dashed p-4 grid grid-cols-1 md:grid-cols-3 gap-3",children:[d!==null&&g.jsxs("div",{className:"md:col-span-3 text-xs text-slate-500",children:["Editing category: ",g.jsx("b",{children:t[d]?.name})]}),g.jsxs("div",{children:[g.jsx(Rt,{htmlFor:"cat-name",className:"mb-1.5 block",children:"Name *"}),g.jsx(Nt,{id:"cat-name",className:`w-full h-10 ${w.name?"border-red-500 focus:ring-red-500":""}`,value:m.name,onChange:V=>p({...m,name:V.target.value}),placeholder:"e.g., Adhesives","aria-invalid":!!w.name,"aria-describedby":(w.name?"cat-name-error ":"")+(d!==null?"cat-name-help":"")||void 0,disabled:d!==null,readOnly:d!==null}),d!==null&&g.jsxs("div",{id:"cat-name-help",className:"text-xs text-slate-500 mt-1",children:["To rename a category, use the ",g.jsx("b",{children:"Rename"})," action in the table below."]}),w.name&&g.jsx("div",{id:"cat-name-error",className:"text-sm text-red-600 mt-1",children:w.name})]}),g.jsxs("div",{children:[g.jsx(Rt,{htmlFor:"cat-sort",className:"mb-1.5 block",children:"Sort order"}),g.jsx(Nt,{id:"cat-sort",className:"w-full h-10",type:"number",value:m.sortOrder??"",onChange:V=>p({...m,sortOrder:V.target.value===""?null:Number(V.target.value)}),placeholder:"e.g., 10"})]}),g.jsxs("div",{className:"md:col-span-3",children:[g.jsx(Rt,{htmlFor:"cat-desc",className:"mb-1.5 block",children:"Description"}),g.jsx(Nt,{id:"cat-desc",className:"w-full h-10",value:m.description??"",onChange:V=>p({...m,description:V.target.value}),placeholder:"Optional"})]}),g.jsxs("div",{className:"md:col-span-3 flex gap-2 justify-end",children:[g.jsx(xe,{className:"rounded-xl",onClick:U,children:d===null?"Save":"Update"}),g.jsx(xe,{variant:"outline",className:"rounded-xl",onClick:ve,children:"Cancel"})]})]}),k&&g.jsxs("div",{className:"rounded-2xl border border-amber-300 bg-amber-50 p-4 space-y-3",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("div",{className:"text-sm text-slate-700 font-medium",children:"Rename category and retag SKUs (safe, transactional)"}),g.jsx(xe,{size:"sm",variant:"ghost",onClick:()=>A(!1),children:"Close"})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[g.jsxs("div",{children:[g.jsx(Rt,{className:"mb-1.5 block",children:"Current name"}),g.jsx(Nt,{value:N,readOnly:!0,className:"bg-slate-100"})]}),g.jsxs("div",{className:"md:col-span-2",children:[g.jsx(Rt,{className:"mb-1.5 block",children:"New name *"}),g.jsx(Nt,{value:G,onChange:V=>z(V.target.value),placeholder:"e.g., Adhesives"})]})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(xe,{size:"sm",variant:"outline",onClick:ce,disabled:!N||!G||N.trim()===G.trim(),children:"Preview impact"}),g.jsx(xe,{size:"sm",onClick:Ee,disabled:X||!N||!G||N.trim()===G.trim(),children:"Confirm rename"})]}),F&&g.jsxs("div",{className:"text-sm text-slate-600",children:["This operation will retag approximately ",g.jsx("b",{children:F.skusUpdated??0})," SKU(s)."]}),Re&&g.jsx("div",{className:"text-sm text-red-600",children:Re})]}),g.jsxs(Ql,{children:[g.jsx(Xl,{children:g.jsxs(Ia,{children:[g.jsx(Je,{children:"Name"}),g.jsx(Je,{children:"Active"}),g.jsx(Je,{children:"Sort"}),g.jsx(Je,{children:"Description"}),g.jsx(Je,{className:"text-right",children:"Actions"})]})}),g.jsx(Jl,{children:t.map((V,W)=>g.jsxs(Ia,{children:[g.jsx(We,{className:"font-medium",children:V.name}),g.jsx(We,{children:V.active?"Yes":"No"}),g.jsx(We,{children:V.sortOrder??"-"}),g.jsx(We,{children:V.description??"-"}),g.jsx(We,{className:"text-right",children:y===W?g.jsxs("div",{className:"flex justify-end gap-2",children:[g.jsx(xe,{size:"sm",variant:"destructive",onClick:()=>Q(W),disabled:st===W,children:st===W?"Processing...":"Confirm"}),g.jsx(xe,{size:"sm",variant:"outline",onClick:te,children:"Cancel"})]}):g.jsxs("div",{className:"flex justify-end gap-2",children:[g.jsx(xe,{size:"sm",variant:"outline",onClick:()=>Y(W),children:"Rename"}),g.jsx(xe,{size:"sm",variant:"outline",onClick:()=>T(W),children:"Edit"}),g.jsx(xe,{size:"sm",variant:"outline",className:"text-red-600",onClick:()=>P(W),children:t[W]?.active?"Deactivate":"Delete"})]})})]},V.id||String(W)))})]})]})}function _A(t,n,r){if(t==="today")return"hourly";if(t==="last7")return"daily";if(t==="month")return"weekly";if(t==="quarter")return"monthly";const i=(r-n)/(1e3*60*60*24);return i<=7?"daily":i<=90?"weekly":"monthly"}function wA(t,n){const r=[],i=new Date(t),l=new Date(n),u=new Date(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours()),d=new Date(l.getFullYear(),l.getMonth(),l.getDate(),l.getHours()+1);let h=u.getTime();for(;h<d.getTime();){const m=h+36e5;r.push([h,Math.min(m,n)]),h=m}return r.slice(-7)}function SA(t,n){const r=[],i=new Date(t),l=new Date(n),u=new Date(i.getFullYear(),i.getMonth(),i.getDate()),d=new Date(l.getFullYear(),l.getMonth(),l.getDate()+1);let h=u.getTime();for(;h<d.getTime();){const m=h+864e5;r.push([h,Math.min(m,n)]),h=m}return r.slice(-7)}function xA(t,n){const r=[],i=new Date(n);let l=new Date(i.getFullYear(),i.getMonth(),i.getDate());for(;l.getDay()!==0;)l.setDate(l.getDate()-1);const u=l.getTime()+10080*60*1e3;r.unshift([l.getTime(),Math.min(u,n)]);for(let d=1;d<7;d++){const h=l.getTime()-d*7*24*60*60*1e3,m=l.getTime()-(d-1)*7*24*60*60*1e3;h>=t&&r.unshift([Math.max(h,t),m])}return r}function EA(t,n){const r=[],i=new Date(n);let l=new Date(i.getFullYear(),i.getMonth(),1);const u=new Date(l.getFullYear(),l.getMonth()+1,1);r.unshift([l.getTime(),Math.min(u.getTime(),n)]);for(let d=1;d<7;d++){const h=new Date(l.getFullYear(),l.getMonth()-d,1),m=new Date(l.getFullYear(),l.getMonth()-d+1,1);h.getTime()>=t&&r.unshift([Math.max(h.getTime(),t),m.getTime()])}return r}function Uv(t,n,r){switch(_A(t,n,r)){case"hourly":return wA(n,r);case"daily":return SA(n,r);case"weekly":return xA(n,r);case"monthly":return EA(n,r);default:return yA(n,r,7)}}function TA({children:t,onClose:n,onToggleAdd:r,addOpen:i,onOpenCategories:l,manageCategoriesEnabled:u}){const d=qn.useRef(null);return x.useEffect(()=>{d.current?.focus()},[]),g.jsxs("div",{className:"fixed inset-0 z-50",role:"dialog","aria-modal":"true","aria-labelledby":"skus-title",children:[g.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:n}),g.jsx("div",{className:"absolute left-1/2 top-8 -translate-x-1/2 w-[min(100%,1100px)]",onClick:h=>h.stopPropagation(),children:g.jsxs("div",{ref:d,tabIndex:-1,className:"bg-white rounded-2xl shadow-2xl max-h-[85vh] flex flex-col",children:[g.jsxs("div",{className:"sticky top-0 z-10 bg-white rounded-t-2xl border-b px-4 py-3 flex items-center justify-between",children:[g.jsx("div",{className:"flex items-center gap-2",children:g.jsx(ws,{id:"skus-title",children:"SKUs"})}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(xe,{size:"sm",variant:"outline",onClick:r,children:i?"Close form":"Add SKU"}),u&&l&&g.jsx(xe,{size:"sm",variant:"outline",onClick:l,children:"Manage Categories"}),g.jsx(xe,{size:"sm",onClick:n,"aria-label":"Close",children:""})]})]}),g.jsx("div",{className:"px-4 py-3 overflow-y-auto",children:t}),g.jsx("div",{className:"sticky bottom-0 z-10 bg-white rounded-b-2xl border-t px-4 py-3",children:g.jsxs("div",{className:"flex items-center justify-end gap-2",children:[g.jsx(xe,{variant:"outline",onClick:n,children:"Cancel"}),g.jsx(xe,{onClick:n,children:"Update"})]})})]})})]})}const yn=t=>`$ ${t.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,$v=t=>t.toLocaleString("en-US"),jA=["Adhesives","Boxes","Cork/Rubber","Polyurethane Ester","Polyurethane Ether","Felt","Fibre Foam","Film and Foil"];function kA(t){if(!t||t.length===0)return null;const n=t.reduce((i,l)=>i+Math.max(0,l.remaining),0);return n<=0?null:t.reduce((i,l)=>i+Math.max(0,l.remaining)*l.cost,0)/n}function zi(t){return t instanceof Date?t:t.includes("T")?new Date(t):new Date(t.replace(" ","T"))}function OA(){const t={category:220,sku:140,description:260,unit:80,type:100,onHand:110,avgCost:130,assetValue:130,minimum:110,status:140},[n,r]=x.useState(()=>{const _=localStorage.getItem("inventory-column-widths");return _?{...t,...JSON.parse(_)}:t}),[i,l]=x.useState(!1),[u,d]=x.useState(null),h=x.useCallback((_,w)=>{w.preventDefault(),l(!0),d(_)},[]),m=x.useCallback(_=>{if(!i||!u)return;const w=document.querySelector(".resizable-table");if(!w)return;const E=w.getBoundingClientRect(),k=_.clientX-E.left;let A=k;const N=Object.keys(n),L=N.indexOf(u);if(L>0){const G=N.slice(0,L).reduce((z,F)=>z+n[F],0);A=k-G}A=Math.max(A,60),r(G=>({...G,[u]:A}))},[i,u,n]),p=x.useCallback(()=>{i&&(l(!1),d(null),localStorage.setItem("inventory-column-widths",JSON.stringify(n)))},[i,n]);x.useEffect(()=>(i&&(document.addEventListener("mousemove",m),document.addEventListener("mouseup",p),document.body.style.cursor="col-resize",document.body.style.userSelect="none"),()=>{document.removeEventListener("mousemove",m),document.removeEventListener("mouseup",p),document.body.style.cursor="",document.body.style.userSelect=""}),[i,m,p]);const y=x.useCallback(()=>{r(t),localStorage.removeItem("inventory-column-widths")},[]);return{columnWidths:n,handleMouseDown:h,resetWidths:y,isResizing:i}}function AA({className:t}){return g.jsx("svg",{className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})}function CA({className:t}){return g.jsx("svg",{className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})})}function RA({className:t}){return g.jsx("svg",{className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}function NA({className:t}){return g.jsxs("svg",{className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[g.jsx("path",{d:"M12 2l9 4-9 4-9-4 9-4z",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),g.jsx("path",{d:"M3 10l9 4 9-4",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),g.jsx("path",{d:"M3 16l9 4 9-4",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}function DA({items:t,onChange:n,openForm:r,onToggleForm:i,hideLocalHeader:l,onRefresh:u,categoryOptions:d,useDynamicCategories:h}){const m={id:"",description:"",type:"RAW",productCategory:"Cork/Rubber",unit:"unit",min:0,onHand:0},[p,y]=x.useState(!1),_=r??p,w=i??(()=>y(re=>!re)),[E,k]=x.useState(null),[A,N]=x.useState(m),[L,G]=x.useState(null),[z,F]=x.useState({}),B=x.useMemo(()=>h&&Array.isArray(d)&&d.length>0?d:jA,[h,d]),X=re=>{const be={};return re.id.trim()||(be.id="Code is required"),(re.min??0)<=0&&(be.min="Minimum must be greater than 0"),be};x.useEffect(()=>{F(X(A))},[A]);function ae(){N(m),k(null),r||w()}async function Re(){const re=(A.id||"").trim().toUpperCase();if(!re)return;const be=X({...A,id:re});if(F(be),!(Object.keys(be).length>0))try{if(E===null){const ve={id:re,description:A.description||"",type:A.type,productCategory:A.productCategory,unit:A.unit||"unit",active:!0,min:A.min||0};await Fi.createSKU(ve),u&&await u(),ye.success(`SKU "${re}" created successfully!`)}else{const ve=t[E],U={description:A.description||"",type:A.type,productCategory:A.productCategory,unit:A.unit||"unit",min:A.min||0};await Fi.updateSKU(ve.id,U),u&&await u(),ye.success(`SKU "${re}" updated successfully!`)}ae()}catch(ve){console.error("Error saving SKU:",ve);let U="Failed to save SKU";ve?.message?.includes("duplicate")?U=`SKU "${re}" already exists`:ve?.message&&(U=ve.message),ye.error(U)}}function De(re){N({...t[re]}),k(re),_||w(),F(X(t[re]))}function Be(re){const be=t[re];if((be.onHand??0)>0){ye.error(`Cannot delete SKU "${be.id}" because it has ${be.onHand} units in stock. Please reduce inventory to zero before deleting.`);return}G(re)}function ct(){G(null)}async function st(re){const be=t[re];if(be)try{await Fi.deleteSKU(be.id),u&&await u(),E===re&&ae(),G(null),ye.success(`SKU "${be.id}" deleted successfully!`)}catch(ve){console.error("Error deleting SKU:",ve);let U="Failed to delete SKU";ve?.message?.includes("foreign key")||ve?.message?.includes("referenced")?U=`Cannot delete SKU "${be.id}" - it has associated movements or inventory`:ve?.message&&(U=ve.message),ye.error(U),G(null)}}return g.jsxs("div",{className:"space-y-4",children:[!l&&g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("div",{className:"text-sm text-slate-600",children:"Centralized SKU master data"}),g.jsx(xe,{size:"sm",className:"rounded-xl",onClick:()=>w(),children:_?"Close":"Add SKU"})]}),_&&g.jsxs("div",{className:"rounded-2xl border border-dashed p-4 grid grid-cols-1 sm:grid-cols-12 gap-3",children:[E!==null&&g.jsxs("div",{className:"sm:col-span-12 text-xs text-slate-500",children:["Editing SKU: ",g.jsx("b",{children:t[E]?.id})]}),g.jsxs("div",{className:"sm:col-span-3",children:[g.jsx(Rt,{htmlFor:"sku-code",className:"mb-1.5 block",children:"Code *"}),g.jsx(Nt,{id:"sku-code",className:`w-full h-10 ${z.id?"border-red-500 focus:ring-red-500":""}`,value:A.id,onChange:re=>N({...A,id:re.target.value}),placeholder:"SKU-001","aria-invalid":!!z.id,"aria-describedby":z.id?"sku-code-error":void 0}),z.id&&g.jsx("div",{id:"sku-code-error",className:"text-sm text-red-600 mt-1",children:z.id})]}),g.jsxs("div",{className:"sm:col-span-5",children:[g.jsx(Rt,{className:"mb-1.5 block",children:"Description"}),g.jsx(Nt,{className:"w-full",value:A.description??"",onChange:re=>N({...A,description:re.target.value}),placeholder:"GAX-12"})]}),g.jsxs("div",{className:"sm:col-span-2",children:[g.jsx(Rt,{className:"mb-1.5 block",children:"Type"}),g.jsxs(qi,{value:A.type,onValueChange:re=>N({...A,type:re}),children:[g.jsx(Bi,{className:"h-10 w-full rounded-xl",children:g.jsx(Ii,{})}),g.jsxs(Hi,{children:[g.jsx(qt,{value:"RAW",children:"Raw"}),g.jsx(qt,{value:"SELLABLE",children:"Sellable"})]})]})]}),g.jsxs("div",{className:"sm:col-span-2",children:[g.jsx(Rt,{className:"mb-1.5 block",children:"Category"}),g.jsxs(qi,{value:A.productCategory,onValueChange:re=>N({...A,productCategory:re}),children:[g.jsx(Bi,{className:"h-10 w-full rounded-xl",children:g.jsx(Ii,{})}),g.jsx(Hi,{children:B.map(re=>g.jsx(qt,{value:re,children:re},re))})]})]}),g.jsxs("div",{className:"sm:col-span-2",children:[g.jsx(Rt,{className:"mb-1.5 block",children:"Unit"}),g.jsx(Nt,{className:"w-full",value:A.unit??"",onChange:re=>N({...A,unit:re.target.value}),placeholder:"unit"})]}),g.jsxs("div",{className:"sm:col-span-2",children:[g.jsx(Rt,{htmlFor:"sku-minimum",className:"mb-1.5 block",children:"Minimum *"}),g.jsx(Nt,{id:"sku-minimum",className:`w-full h-10 ${z.min?"border-red-500 focus:ring-red-500":""}`,type:"number",min:1,value:A.min??0,onChange:re=>N({...A,min:Math.max(0,parseInt(re.target.value||"0",10))}),placeholder:"0","aria-invalid":!!z.min,"aria-describedby":z.min?"sku-minimum-error":void 0}),z.min&&g.jsx("div",{id:"sku-minimum-error",className:"text-sm text-red-600 mt-1",children:z.min})]}),g.jsxs("div",{className:"sm:col-span-12 flex gap-2 justify-end",children:[g.jsx(xe,{className:"rounded-xl",onClick:Re,children:E===null?"Save":"Update"}),g.jsx(xe,{variant:"outline",className:"rounded-xl",onClick:ae,children:"Cancel"})]})]}),g.jsx("div",{className:"overflow-x-auto",children:g.jsxs(Ql,{className:"min-w-[900px]",children:[g.jsx(Xl,{children:g.jsxs(Ia,{children:[g.jsx(Je,{children:"Code"}),g.jsx(Je,{children:"Description"}),g.jsx(Je,{children:"Type"}),g.jsx(Je,{children:"Category"}),g.jsx(Je,{children:"Unit"}),g.jsx(Je,{children:"Minimum"}),g.jsx(Je,{className:"text-right",children:"Actions"})]})}),g.jsx(Jl,{children:t.map((re,be)=>{const ve=(re.onHand??0)>0;return g.jsxs(Ia,{children:[g.jsx(We,{className:"font-medium",children:re.id}),g.jsx(We,{children:re.description??"-"}),g.jsx(We,{children:re.type==="RAW"?"Raw":"Sellable"}),g.jsx(We,{children:re.productCategory}),g.jsx(We,{children:re.unit??"-"}),g.jsx(We,{children:re.min??0}),g.jsx(We,{className:"text-right",children:L===be?g.jsxs("div",{className:"flex justify-end gap-2",children:[g.jsx(xe,{size:"sm",variant:"destructive",onClick:()=>st(be),children:"Confirm"}),g.jsx(xe,{size:"sm",variant:"outline",onClick:ct,children:"Cancel"})]}):g.jsxs("div",{className:"flex justify-end gap-2",children:[g.jsx(xe,{size:"sm",variant:"outline",onClick:()=>De(be),children:"Edit"}),g.jsx(xe,{size:"sm",variant:"outline",className:ve?"text-gray-400 cursor-not-allowed":"text-red-600",onClick:()=>Be(be),disabled:ve,title:ve?`Cannot delete: SKU has ${re.onHand} units in stock`:"Delete SKU",children:"Delete"})]})})]},re.id)})})]})})]})}function MA({items:t,onChange:n,onRefresh:r}){const i={id:"",name:"",email:"",phone:"",address:"",bank:""},[l,u]=x.useState(!1),[d,h]=x.useState(null),[m,p]=x.useState(i),[y,_]=x.useState(null),[w,E]=x.useState({}),k=B=>{const X={};return(B.name||"").trim()||(X.name="Name is required"),X};x.useEffect(()=>{E(k(m))},[m]);function A(){p(i),h(null),u(!1)}async function N(){const B=(m.name||"").trim(),X=k({...m,name:B});if(E(X),!(!B||Object.keys(X).length>0))try{if(d===null){const ae={name:B,address:m.address?.trim()||void 0,email:m.email?.trim()||void 0,phone:m.phone?.trim()||void 0,bank:m.bank?.trim()||void 0};await Ml.createVendor(ae),ye.success(`Vendor "${B}" created successfully!`)}else{const ae=t[d],Re={name:B,address:m.address?.trim()||void 0,email:m.email?.trim()||void 0,phone:m.phone?.trim()||void 0,bank:m.bank?.trim()||void 0};await Ml.updateVendor(ae.id,Re),ye.success(`Vendor "${B}" updated successfully!`)}r&&await r(),A()}catch(ae){console.error("Error saving vendor:",ae);let Re="Failed to save vendor";ae?.message?.includes("duplicate")||ae?.message?.includes("unique")?Re=`Vendor "${B}" already exists`:ae?.message&&(Re=ae.message),ye.error(Re)}}function L(B){p({...t[B]}),h(B),u(!0),E(k(t[B]))}function G(B){_(B)}function z(){_(null)}async function F(B){const X=t[B];if(X)try{await Ml.deleteVendor(X.id),r&&await r(),d===B&&A(),_(null),ye.success(`Vendor "${X.name}" deleted successfully!`)}catch(ae){console.error("Error deleting vendor:",ae);let Re="Failed to delete vendor";ae?.message?.includes("foreign key")||ae?.message?.includes("referenced")?Re=`Cannot delete vendor "${X.name}" - it has associated transactions or data`:ae?.message&&(Re=ae.message),ye.error(Re),_(null)}}return g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("div",{className:"text-sm text-slate-600",children:"Centralized vendor master data"}),g.jsx(xe,{size:"sm",className:"rounded-xl",onClick:()=>{u(B=>{const X=!B;return X&&(p(i),E(k(i))),X})},children:l?"Close":"Add Vendor"})]}),l&&g.jsxs("div",{className:"rounded-2xl border border-dashed p-4 grid grid-cols-1 md:grid-cols-2 gap-3",children:[d!==null&&g.jsxs("div",{className:"md:col-span-2 text-xs text-slate-500",children:["Editing vendor: ",g.jsx("b",{children:t[d]?.name})]}),g.jsxs("div",{children:[g.jsx(Rt,{htmlFor:"vendor-name",className:"mb-1.5 block",children:"Name *"}),g.jsx(Nt,{id:"vendor-name",className:`w-full h-10 ${w.name?"border-red-500 focus:ring-red-500":""}`,value:m.name??"",onChange:B=>p({...m,name:B.target.value}),placeholder:"e.g., ABC Metals LLC","aria-invalid":!!w.name,"aria-describedby":w.name?"vendor-name-error":void 0}),w.name&&g.jsx("div",{id:"vendor-name-error",className:"text-sm text-red-600 mt-1",children:w.name})]}),g.jsxs("div",{children:[g.jsx(Rt,{htmlFor:"vendor-email",className:"mb-1.5 block",children:"Email"}),g.jsx(Nt,{id:"vendor-email",className:"w-full h-10",value:m.email??"",onChange:B=>p({...m,email:B.target.value}),placeholder:"ap@vendor.com"})]}),g.jsxs("div",{children:[g.jsx(Rt,{htmlFor:"vendor-phone",className:"mb-1.5 block",children:"Phone"}),g.jsx(Nt,{id:"vendor-phone",className:"w-full h-10",value:m.phone??"",onChange:B=>p({...m,phone:B.target.value}),placeholder:"+1 (555) 000-0000"})]}),g.jsxs("div",{className:"md:col-span-2",children:[g.jsx(Rt,{htmlFor:"vendor-address",className:"mb-1.5 block",children:"Address"}),g.jsx(Nt,{id:"vendor-address",className:"w-full h-10",value:m.address??"",onChange:B=>p({...m,address:B.target.value}),placeholder:"Street, City, State"})]}),g.jsxs("div",{className:"md:col-span-2",children:[g.jsx(Rt,{htmlFor:"vendor-bank",className:"mb-1.5 block",children:"Bank account"}),g.jsx(Nt,{id:"vendor-bank",className:"w-full h-10",value:m.bank??"",onChange:B=>p({...m,bank:B.target.value}),placeholder:"Bank  ****-1234"})]}),g.jsxs("div",{className:"md:col-span-2 flex gap-2 justify-end",children:[g.jsx(xe,{className:"rounded-xl",onClick:N,children:d===null?"Save":"Update"}),g.jsx(xe,{variant:"outline",className:"rounded-xl",onClick:A,children:"Cancel"})]})]}),g.jsxs(Ql,{children:[g.jsx(Xl,{children:g.jsxs(Ia,{children:[g.jsx(Je,{children:"Name"}),g.jsx(Je,{children:"Address"}),g.jsx(Je,{children:"Bank"}),g.jsx(Je,{children:"Email"}),g.jsx(Je,{children:"Phone"}),g.jsx(Je,{className:"text-right",children:"Actions"})]})}),g.jsx(Jl,{children:t.map((B,X)=>g.jsxs(Ia,{children:[g.jsx(We,{className:"font-medium",children:B.name}),g.jsx(We,{children:B.address??"-"}),g.jsx(We,{children:B.bank??"-"}),g.jsx(We,{children:B.email??"-"}),g.jsx(We,{children:B.phone??"-"}),g.jsx(We,{className:"text-right",children:y===X?g.jsxs("div",{className:"flex justify-end gap-2",children:[g.jsx(xe,{size:"sm",variant:"destructive",onClick:()=>F(X),children:"Confirm"}),g.jsx(xe,{size:"sm",variant:"outline",onClick:z,children:"Cancel"})]}):g.jsxs("div",{className:"flex justify-end gap-2",children:[g.jsx(xe,{size:"sm",variant:"outline",onClick:()=>L(X),children:"Edit"}),g.jsx(xe,{size:"sm",variant:"outline",className:"text-red-600",onClick:()=>G(X),children:"Delete"})]})})]},B.id||String(X)))})]})]})}function zA(){const{user:t,signOut:n}=bf(),{columnWidths:r,handleMouseDown:i,resetWidths:l}=OA(),[u,d]=x.useState("dashboard"),[h,m]=x.useState("last7"),[p,y]=x.useState(""),[_,w]=x.useState(""),[E,k]=x.useState([]),[A,N]=x.useState([]),L=x.useMemo(()=>(A||[]).map($=>$.name),[A]),[G,z]=x.useState([]),[F,B]=x.useState([]),[X,ae]=x.useState({}),[Re,De]=x.useState({}),[Be,ct]=x.useState([]),[st,re]=x.useState(!1),be=x.useCallback(()=>{if(u!=="movements"){console.log(" Skipping movements refresh - not on movements tab");return}wn.current&&clearTimeout(wn.current),wn.current=setTimeout(()=>{console.log(" Smart refresh: Loading movements"),(async()=>{try{re(!0);const[J,K]=Mi(h,p,_),{movements:ie}=await cv({dateFrom:new Date(J),dateTo:new Date(K),limit:1e3}),fe=(ie||[]).map(oe=>({movementId:Hl(String(oe.id)),datetime:oe.date instanceof Date?oe.date:new Date(oe.date),type:oe.type,skuOrName:oe.skuDescription||oe.productName||oe.skuId||"",skuId:oe.skuId||"",qty:oe.quantity,value:oe.totalCost||0,ref:oe.reference||""}));ct(fe),console.log(` Smart refresh completed: ${fe.length} movements loaded`)}catch(J){console.error("Smart refresh error:",J)}finally{re(!1)}})()},2e3)},[u,h,p,_]),ve=x.useCallback($=>{ct(J=>[$,...J]),Zn.current&&clearTimeout(Zn.current),Zn.current=setTimeout(()=>{console.log(" Consolidating movements after delayed period"),be()},5e3)},[be]),U=x.useCallback(async()=>{try{re(!0);const[$,J]=Mi(h,p,_),{movements:K}=await cv({dateFrom:new Date($),dateTo:new Date(J),limit:5e3}),ie=(K||[]).map(fe=>({movementId:Hl(String(fe.id)),datetime:fe.date instanceof Date?fe.date:new Date(fe.date),type:fe.type,skuOrName:fe.skuDescription,skuId:fe.skuId,qty:fe.quantity,value:fe.totalCost,ref:fe.reference||"",notes:fe.notes}));ct(ie),ye.success(`Refreshed ${ie.length} movements`)}catch($){ye.error("Failed to load movements"),console.error("loadMovements error",$)}finally{re(!1)}},[h,p,_]),Y=x.useCallback(async()=>{try{const $=await Fi.getInventorySummary(),J=$||[];B(J),z(J);const K={};for(const ie of $||[])typeof ie.currentAvgCost=="number"&&(K[ie.id]=ie.currentAvgCost);De(K)}catch($){console.error("loadInventorySummary error",$)}},[]),ce=x.useCallback(async()=>{try{const J=(await Ml.getAllVendors()||[]).map(K=>({id:K.id,name:K.name,address:K.address||void 0,email:K.email||void 0,phone:K.phone||void 0,bank:K.bank_info?.display||void 0}));k(J)}catch($){console.error("loadVendors error",$)}},[]),Ee=On("INVENTORY_CATEGORIES"),T=x.useCallback(async()=>{if(Ee)try{if(typeof window<"u"){const K=localStorage.getItem("inv_categories_cache_v1");if(K)try{const ie=JSON.parse(K);if(ie&&typeof ie.ts=="number"&&Array.isArray(ie.items)&&Date.now()-ie.ts<3e5){const oe=(ie.items||[]).map(he=>({id:String(he.id),name:String(he.name),active:!!he.active,description:he.description??void 0,sortOrder:typeof he.sortOrder=="number"?he.sortOrder:he.sortOrder??null}));N(oe);return}}catch{}}const J=(await bs.getCategories({active:!0})||[]).map(K=>({id:K.id,name:K.name,active:!!K.active,description:K.description??void 0,sortOrder:typeof K.sortOrder=="number"?K.sortOrder:K.sortOrder??null}));if(N(J),typeof window<"u")try{localStorage.setItem("inv_categories_cache_v1",JSON.stringify({ts:Date.now(),items:J}))}catch{}}catch($){console.error("loadCategories error",$)}},[Ee]),[P,te]=x.useState(!1),[Q,V]=x.useState(!1),[W,ee]=x.useState(!1),[rt,Ge]=x.useState(!1),[Hn,so]=x.useState(!1),[_n,Ms]=x.useState("default"),wn=x.useRef(null),Zn=x.useRef(null);x.useEffect(()=>{Q&&Ee&&T()},[Q,Ee,T]),x.useEffect(()=>()=>{wn.current&&clearTimeout(wn.current),Zn.current&&clearTimeout(Zn.current)},[]),x.useEffect(()=>{const $=J=>{J.key==="Escape"&&(P&&te(!1),Q&&V(!1))};return P||Q?(document.addEventListener("keydown",$),document.body.style.overflow="hidden"):document.body.style.overflow="unset",()=>{document.removeEventListener("keydown",$),document.body.style.overflow="unset"}},[P,Q]),x.useEffect(()=>{U(),Y(),ce(),gs.syncFromSupabase().catch($=>{console.warn("Initial sync from Supabase failed:",$)})},[U,Y,ce]),x.useEffect(()=>{u==="movements"&&be(),u==="dashboard"&&Y()},[u,be,Y]),x.useEffect(()=>{be()},[h,p,_,be]);const zs=$=>{const J=Re[$];return typeof J=="number"?J:kA(X[$])},Bt=x.useMemo(()=>{const[$,J]=Mi(h,p,_),K=Uv(h,$,J),ie=F.reduce(($e,Ze)=>{const Le=Math.max(0,Ze.onHand??0),Pe=zs(Ze.id)??0;return $e.qty+=Le,$e.value+=Le*Pe,$e},{qty:0,value:0}),fe=Be.map($e=>{const Ze=+zi($e.datetime),Le=Math.abs($e.value||0);let Pe=0;return $e.type==="RECEIVE"&&(Pe=Le),$e.type==="ISSUE"&&(Pe=-Le),{ts:Ze,delta:Pe}}).filter($e=>$e.delta!==0),oe=ie.value,he=K.map(($e,Ze)=>{if(Ze===K.length-1)return oe;let Le=0;for(let Pe=Ze+1;Pe<K.length;Pe++){const[wt,ha]=K[Pe],ma=fe.filter(Nn=>Nn.ts>=wt&&Nn.ts<ha).reduce((Nn,pa)=>Nn+pa.delta,0);Le+=ma}return oe-Le}),Ne=he.length>0?he[0]:oe,_e=K.map(([$e,Ze])=>Be.filter(Le=>Le.type==="PRODUCE").reduce((Le,Pe)=>{const wt=+zi(Pe.datetime);return wt>$e&&wt<=Ze?Le+(Pe.value||0):Le},0)),ke=_e.reduce(($e,Ze)=>$e+Ze,0),He=K.map(([$e,Ze])=>Be.filter(Le=>Le.type==="WASTE").reduce((Le,Pe)=>{const wt=+zi(Pe.datetime);return wt>$e&&wt<=Ze?Le+(Pe.value||0):Le},0)),ze=He.reduce(($e,Ze)=>$e+Ze,0),Sn=oe,Dt=Math.max(0,(Ne+Sn)/2),Pn=Dt>0?ke/Dt:0,Vn=K.map(($e,Ze)=>{const Le=he[Ze],Pe=Ze>0?he[Ze-1]:he[0],wt=Math.max(0,(Pe+Le)/2);return wt>0?_e[Ze]/wt:0}),Ga=Math.max(1,(J-$)/Vl),fa=K.map(([$e,Ze])=>Be.filter(Le=>Le.type==="ISSUE"||Le.type==="WASTE").reduce((Le,Pe)=>{const wt=+zi(Pe.datetime);return wt>$e&&wt<=Ze?Le+(Pe.value||0):Le},0)),de=fa.reduce(($e,Ze)=>$e+Ze,0)/Ga,yt=de>0?oe/de:1/0;let Ke=0;const Er=K.map(([,$e],Ze)=>{Ke+=fa[Ze];const Le=Math.max(($e-$)/Vl,1e-6),Pe=Ke/Le,wt=he[Ze];return Pe>0?wt/Pe:1/0}).map($e=>Number.isFinite($e)?$e:0);return{inv:ie,inventorySeries:he,turnoverVal:Pn,turnoverSeries:Vn,cogsTotal:ke,shrinkageTotal:ze,shrinkageSeries:He,doiVal:yt,doiSeries:Er,dailyCOGS:de,invStart:Ne,invEnd:Sn,avgInvPeriod:Dt,daysInPeriod:Ga,nowInvValue:oe}},[F,X,Be,h,p,_]),{inventoryValues:on,cogsValues:iu,periodLabels:Sr}=x.useMemo(()=>{const[$,J]=Mi(h,p,_),K=Uv(h,$,J),ie=Bt.inventorySeries,fe=K.map(([he,Ne])=>Be.filter(_e=>_e.type==="PRODUCE").reduce((_e,ke)=>{const He=+zi(ke.datetime);return He>he&&He<=Ne?_e+(ke.value||0):_e},0)),oe=K.map(([he,Ne])=>{const _e=new Date(he);return h==="today"||h==="last7days"?`${_e.getMonth()+1}/${_e.getDate()}`:h==="month"||h==="quarter"?`${_e.getMonth()+1}/${_e.getDate()}`:`${_e.getMonth()+1}/${_e.getDate()}`});return{inventoryValues:ie,cogsValues:fe,periodLabels:oe}},[Bt.inventorySeries,Be,h,p,_]),Us=async($=!1)=>{const J=$?F.filter(He=>(He.onHand||0)<(He.min||0)):F;if(J.length===0){ye.info($?"No red flags found":"No data to export");return}const K=J.map(He=>{const ze=He.onHand||0,Sn=He.min||0,Dt=zs(He.id),Pn=Dt?ze*Dt:0;return{"SKU Code":He.id,Description:He.description||"",Type:He.type==="RAW"?"Raw":"Sellable",Category:He.productCategory,Unit:He.unit||"","On Hand":ze,Minimum:Sn,Status:ze>=Sn?"OK":"Below minimum","Avg. Cost (FIFO)":Dt?Dt.toFixed(2):0,"Asset Value":Dt?Pn.toFixed(2):0}}),ie=await Qt(()=>import("./xlsx-DGuHH-KN.js"),[]),fe=ie.utils.book_new(),oe=ie.utils.json_to_sheet(K),he=[{wch:12},{wch:30},{wch:10},{wch:15},{wch:8},{wch:10},{wch:10},{wch:15},{wch:15},{wch:15}];oe["!cols"]=he;const Ne=$?"Red Flags Inventory":"Full Inventory";ie.utils.book_append_sheet(fe,oe,Ne);const _e=new Date().toISOString().split("T")[0],ke=$?`inventory-red-flags-${_e}.xlsx`:`inventory-full-${_e}.xlsx`;ie.writeFile(fe,ke),ye.success(`Exported ${J.length} record(s) to ${ke}`)},xr=async($,J)=>{if($.length===0){ye.info("No movements to export");return}const K=$.map(([ze,Sn])=>{const Dt=ze.datetime instanceof Date?ze.datetime:new Date(ze.datetime),Pn=ze.type===js.RECEIVE?(ze.qty>0,ze.qty):Math.abs(ze.qty||0),Vn=ze.type===js.RECEIVE?ze.value?ze.value.toFixed(2):0:ze.value?Math.abs(ze.value).toFixed(2):0;return{Date:Dt.toLocaleDateString("en-US"),Time:Dt.toLocaleTimeString("en-US"),Type:ze.type,"SKU/Product":ze.skuOrName||"-",Quantity:Pn,Value:Vn,Reference:ze.ref||"-"}}),ie=await Qt(()=>import("./xlsx-DGuHH-KN.js"),[]),fe=ie.utils.book_new(),oe=ie.utils.json_to_sheet(K),he=[{wch:12},{wch:10},{wch:10},{wch:25},{wch:12},{wch:12},{wch:20}];oe["!cols"]=he,ie.utils.book_append_sheet(fe,oe,"Movements Export");const _e=new Date().toISOString().split("T")[0],He=`movements-export${Object.values(J).some(ze=>ze)?"-filtered":""}-${_e}.xlsx`;ie.writeFile(fe,He),ye.success(`Exported ${$.length} movement record(s) to ${He}`)},ou=$=>{const J=$[0]||$;if(J.type==="RECEIVE"||J.ref&&J.ref.includes("WO-"))return"RAW";const ie=(J.skuOrName||"").toLowerCase(),fe=["fg-","finished","final","complete","assembled","gasket","seal","product","part"],oe=["raw","material","steel","rubber","metal","sheet","compound","polymer","chemical","ingredient"];return fe.some(he=>ie.includes(he))?"FINISHED":(oe.some(he=>ie.includes(he)),"RAW")},io=()=>gs.getExportedMovements(),lu=($,J)=>{gs.markMovementsAsExported($,J),gs.syncToSupabase().catch(K=>{console.warn("Background sync to Supabase failed:",K)})},uu=async()=>{await gs.clearAllHistory()},Fa=async()=>{try{const $=await gs.fullSync();$.success?ye.success(`Sync completed: ${$.uploaded} uploaded, ${$.downloaded} downloaded`):ye.error("Sync failed: "+$.errors.join(", "))}catch($){console.error("Manual sync failed:",$),ye.error("Sync failed: "+($ instanceof Error?$.message:"Unknown error"))}},It=async($,J)=>{try{const K=$.filter(([de])=>["RECEIVE","PRODUCE","WASTE","ADJUSTMENT"].includes(de.type));if(K.length===0){ye.info("No applicable movements for journal export (RECEIVE, COGS, WASTE, ADJUSTMENT only)");return}const ie=On("JOURNAL_HISTORY_TRACKING");console.log(" Journal export starting - Tracking enabled:",ie);const[fe,oe]=Mi(h,p,_),he=await mA.exportJournal(K,{from:new Date(fe),to:new Date(oe)},t?.email||"user");if(!he.success){ye.error(`Export failed: ${he.error}`);return}he.trackingEnabled&&he.journalNumber?(console.log(" Journal Number:",he.journalNumber),console.log(" Export ID:",he.exportId),console.log(" Metadata:",he.metadata),ye.success(`Journal exported successfully! Journal #${he.journalNumber}`)):ye.success("Journal exported successfully! (Legacy mode)");const Ne=he.journalNumber||`J-${Date.now()}`,_e=new Date().toLocaleDateString("en-US"),ke=[];K.forEach(([de])=>{const yt=ou(de),Ke=Math.abs(de.value||0),Jt=yt==="RAW"?"Inventory - Raw Materials":"Inventory - Finished Goods";switch(de.type){case"RECEIVE":ke.push({"Journal No.":Ne,"Journal Date":_e,"Account Name":Jt,Debits:Ke.toFixed(2),Credits:"",Reference:`${de.ref} - ${de.skuOrName}`,"Movement ID":de.movementId}),ke.push({"Journal No.":Ne,"Journal Date":_e,"Account Name":"Accounts Payable",Debits:"",Credits:Ke.toFixed(2),Reference:`${de.ref} - ${de.skuOrName}`,"Movement ID":de.movementId});break;case"PRODUCE":ke.push({"Journal No.":Ne,"Journal Date":_e,"Account Name":"Cost of Goods Sold (COGS)",Debits:Ke.toFixed(2),Credits:"",Reference:`${de.ref} - ${de.skuOrName}`,"Movement ID":de.movementId}),ke.push({"Journal No.":Ne,"Journal Date":_e,"Account Name":Jt,Debits:"",Credits:Ke.toFixed(2),Reference:`${de.ref} - ${de.skuOrName}`,"Movement ID":de.movementId});break;case"WASTE":ke.push({"Journal No.":Ne,"Journal Date":_e,"Account Name":"Shrinkage Expense",Debits:Ke.toFixed(2),Credits:"",Reference:`${de.ref} - ${de.skuOrName}`,"Movement ID":de.movementId}),ke.push({"Journal No.":Ne,"Journal Date":_e,"Account Name":Jt,Debits:"",Credits:Ke.toFixed(2),Reference:`${de.ref} - ${de.skuOrName}`,"Movement ID":de.movementId});break;case"ADJUSTMENT":(de.value||0)>0?(ke.push({"Journal No.":Ne,"Journal Date":_e,"Account Name":Jt,Debits:Ke.toFixed(2),Credits:"",Reference:`${de.ref} - ${de.skuOrName} (Inventory Adjustment +)`,"Movement ID":de.movementId}),ke.push({"Journal No.":Ne,"Journal Date":_e,"Account Name":"Accounts Payable",Debits:"",Credits:Ke.toFixed(2),Reference:`${de.ref} - ${de.skuOrName} (Inventory Adjustment +)`,"Movement ID":de.movementId})):(ke.push({"Journal No.":Ne,"Journal Date":_e,"Account Name":"Accounts Payable",Debits:Ke.toFixed(2),Credits:"",Reference:`${de.ref} - ${de.skuOrName} (Inventory Adjustment -)`,"Movement ID":de.movementId}),ke.push({"Journal No.":Ne,"Journal Date":_e,"Account Name":Jt,Debits:"",Credits:Ke.toFixed(2),Reference:`${de.ref} - ${de.skuOrName} (Inventory Adjustment -)`,"Movement ID":de.movementId}));break}});const He=await Qt(()=>import("./xlsx-DGuHH-KN.js"),[]),ze=He.utils.book_new(),Sn=He.utils.json_to_sheet(ke),Dt=[{wch:15},{wch:12},{wch:30},{wch:15},{wch:15},{wch:40},{wch:12}];Sn["!cols"]=Dt,He.utils.book_append_sheet(ze,Sn,"Journal Entries");const Vn=new Date().toISOString().split("T")[0],fa=`journal-entries${Object.values(J).some(de=>de)?"-filtered":""}-${Vn}.xlsx`;He.writeFile(ze,fa);const oo=K.map(([de])=>de.movementId);lu(oo,Ne),he.trackingEnabled&&he.journalNumber?ye.success(`Journal exported successfully! ${ke.length} entries (${K.length} movements)`,{description:`Journal #${he.journalNumber} - Enhanced tracking enabled`}):ye.success(`Exported ${ke.length} journal entries (${K.length} movements) to ${fa}`,{description:`Journal No: ${Ne}`})}catch(K){console.error("Export journal error:",K),ye.error(`Export failed: ${K instanceof Error?K.message:"Unknown error"}`)}},ln=x.useMemo(()=>F.map($=>({...$,categoryName:$.productCategory||"Uncategorized"})),[F]),Ht=x.useMemo(()=>_n==="default"?ln:[...ln].sort((J,K)=>{if(_n==="redFlags"){const ie=J.onHand??0,fe=J.min??0,oe=K.onHand??0,he=K.min??0,Ne=ie<fe,_e=oe<he;return Ne&&!_e?-1:!Ne&&_e?1:oe-ie}if(_n==="quantity")return(K.onHand??0)-(J.onHand??0);if(_n==="category"){const ie=J.categoryName.localeCompare(K.categoryName);return ie!==0?ie:(K.onHand??0)-(J.onHand??0)}return 0}),[ln,_n]),cu=({ok:$})=>g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:`inline-block h-2.5 w-2.5 rounded-full ${$?"bg-emerald-500":"bg-red-500"}`}),g.jsx("span",{className:`text-xs ${$?"text-emerald-700":"text-red-700"}`,children:$?"OK":"Below minimum"})]});return g.jsxs("div",{className:"min-h-screen w-full bg-white text-slate-900",children:[g.jsx("header",{className:"sticky top-0 z-30 bg-white/80 backdrop-blur border-b",children:g.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-3 flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("div",{className:"h-9 w-9 rounded-xl bg-slate-900 text-white grid place-items-center",children:"PG"}),g.jsxs("div",{children:[g.jsx("p",{className:"text-sm text-slate-500 leading-none",children:"Premier Gaskets"}),g.jsx("h1",{className:"text-base font-semibold",children:"Inventory System"})]})]}),g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"hidden md:flex items-center gap-2",children:g.jsx(US,{variant:"secondary",className:"rounded-full",children:"MVP"})}),g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"text-sm text-slate-600",children:t?.email}),g.jsx(xe,{variant:"outline",size:"sm",onClick:n,className:"rounded-xl",children:"Sign Out"})]})]})]})}),g.jsx("div",{className:"sticky top-[56px] z-20 bg-white/90 backdrop-blur border-b",children:g.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-2 flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center gap-2 text-slate-600 text-sm",children:[g.jsx("span",{className:"inline-flex h-5 w-5 items-center justify-center rounded-md bg-slate-900 text-white text-[10px]",children:"QM"}),g.jsx("span",{children:"Quick menu"})]}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx(xe,{size:"sm",className:"rounded-xl",onClick:()=>te(!0),children:"Open Vendors"}),g.jsx(xe,{size:"sm",variant:"outline",className:"rounded-xl",onClick:()=>V(!0),children:"Open SKUs"})]})]})}),g.jsx("main",{className:"max-w-6xl mx-auto px-4 py-6",children:g.jsxs($S,{value:u,onValueChange:d,children:[g.jsxs(LS,{className:"grid grid-cols-4 w-full rounded-2xl",children:[g.jsx(wl,{value:"dashboard",children:"Dashboard"}),g.jsxs(wl,{value:"receiving",className:"flex items-center justify-center gap-2",children:[g.jsx(AA,{className:"h-4 w-4"}),"Receiving"]}),g.jsxs(wl,{value:"workorder",className:"flex items-center justify-center gap-2",children:[g.jsx(CA,{className:"h-4 w-4"}),"Work Order"]}),g.jsxs(wl,{value:"movements",className:"flex items-center justify-center gap-2",children:[g.jsx(RA,{className:"h-4 w-4"}),"Movements"]})]}),g.jsxs(qS,{value:"dashboard",className:"mt-6 space-y-4",children:[g.jsxs(_s,{className:"rounded-2xl border-dashed",children:[g.jsx($i,{className:"py-4",children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx(ws,{className:"text-lg",children:"Dashboard"}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs(qi,{value:h,onValueChange:$=>m($),children:[g.jsx(Bi,{className:"h-8 w-[200px] rounded-xl",children:g.jsx(Ii,{placeholder:"Period"})}),g.jsxs(Hi,{children:[g.jsx(qt,{value:"today",children:"Today"}),g.jsx(qt,{value:"last7",children:"Last 7 days"}),g.jsx(qt,{value:"month",children:"Current month"}),g.jsx(qt,{value:"quarter",children:"Current quarter"}),g.jsx(qt,{value:"custom",children:"Custom range"})]})]}),h==="custom"&&g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(Nt,{type:"date",value:p,onChange:$=>y($.target.value),className:"h-8 rounded-xl"}),g.jsx("span",{className:"text-slate-500",children:"to"}),g.jsx(Nt,{type:"date",value:_,onChange:$=>w($.target.value),className:"h-8 rounded-xl"})]})]})]})}),g.jsx(Ss,{children:g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 max-w-4xl mx-auto",children:[g.jsx(Nd,{title:"Total Inventory Value",primary:yn(Bt.inv.value),secondary:"Asset value at current FIFO cost",series:on,chartType:"line",valueFormatter:yn,labels:Sr,infoContent:g.jsxs("div",{children:[g.jsx("p",{children:"Total asset value of inventory at current average cost (FIFO)."}),g.jsxs("ul",{className:"list-disc pl-4 mt-1 space-y-1",children:[g.jsxs("li",{children:[g.jsx("strong",{children:"Calculation"}),": (on-hand  avg. cost per SKU)."]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Cost Method"}),": FIFO (First In, First Out) layers."]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Quantity"}),": ",Bt.inv.qty.toLocaleString("en-US")," units total."]})]})]})}),g.jsx(Nd,{title:"Cost of Goods Sold (COGS)",primary:yn(Bt.cogsTotal),secondary:"Total cost of goods produced in period",series:iu,chartType:"bars",valueFormatter:yn,labels:Sr,infoContent:g.jsxs("div",{children:[g.jsx("p",{children:"Total cost of goods sold (produced) in the selected period."}),g.jsxs("ul",{className:"list-disc pl-4 mt-1 space-y-1",children:[g.jsxs("li",{children:[g.jsx("strong",{children:"COGS"}),": ",yn(Bt.cogsTotal)," from COGS movements"]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Inventory (start/end)"}),": ",yn(Bt.invStart),"  ",yn(Bt.invEnd)]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Average Inventory"}),": ",yn(Bt.avgInvPeriod)]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Turnover Ratio"}),": ",Number.isFinite(Bt.turnoverVal)?Bt.turnoverVal.toFixed(2):"","x"]})]})]})}),g.jsx(Nd,{title:"Shrinkage",primary:yn(Math.abs(Bt.shrinkageTotal)),secondary:"Total value of waste in period",series:Bt.shrinkageSeries.map($=>Math.abs($)),chartType:"bars",valueFormatter:yn,labels:Sr,infoContent:g.jsxs("div",{children:[g.jsx("p",{children:"Total value of inventory lost to waste, damage, or other forms of shrinkage in the selected period."}),g.jsxs("ul",{className:"list-disc pl-4 mt-1 space-y-1",children:[g.jsxs("li",{children:[g.jsx("strong",{children:"Calculation"}),": Sum of the value of all 'WASTE' type movements."]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Impact"}),": Directly reduces inventory value and profitability."]})]})]})})]})})]}),g.jsxs(_s,{className:"rounded-2xl border-dashed",children:[g.jsx($i,{className:"py-4",children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(NA,{className:"h-5 w-5 text-slate-500"}),g.jsx(ws,{className:"text-lg",children:"Inventory by SKU"})]})}),g.jsxs(Ss,{children:[g.jsxs("div",{className:"flex items-center justify-between gap-2 mb-3",children:[g.jsx("div",{className:"text-xs text-slate-500",children:"Traffic light: green = above minimum  red = below minimum"}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs(qi,{value:_n,onValueChange:$=>Ms($),children:[g.jsx(Bi,{className:"h-8 w-[200px] rounded-xl",children:g.jsx(Ii,{placeholder:"Sort by..."})}),g.jsxs(Hi,{children:[g.jsx(qt,{value:"default",children:"Default"}),g.jsx(qt,{value:"redFlags",children:" Red Flags First"}),g.jsx(qt,{value:"quantity",children:" By Quantity"}),g.jsx(qt,{value:"category",children:" By Category"})]})]}),g.jsx(xe,{variant:"outline",size:"sm",onClick:l,title:"Reset column widths to default",children:"Reset columns"}),g.jsx(xe,{variant:"outline",size:"sm",onClick:()=>Us(!1),children:"Export all (Excel)"}),g.jsx(xe,{size:"sm",onClick:()=>Us(!0),children:"Export red flags (Excel)"}),g.jsxs(qi,{onValueChange:$=>{if($==="ALL")return B(G);B(G.filter(J=>J.type===$))},children:[g.jsx(Bi,{className:"h-8 w-[200px] rounded-xl",children:g.jsx(Ii,{placeholder:"Filter by type"})}),g.jsxs(Hi,{children:[g.jsx(qt,{value:"ALL",children:"All"}),g.jsx(qt,{value:"RAW",children:"Raw"}),g.jsx(qt,{value:"SELLABLE",children:"Sellable"})]})]})]})]}),g.jsx("div",{className:"overflow-x-auto",children:g.jsxs(Ql,{className:"min-w-[1100px] table-fixed resizable-table",style:{width:Object.values(r).reduce(($,J)=>$+J,0)},children:[g.jsx(Xl,{children:g.jsxs(Ia,{children:[g.jsxs(Je,{className:"whitespace-nowrap relative",style:{width:r.category,minWidth:60},children:["Category",g.jsx("div",{className:"absolute top-0 right-0 w-1 h-full cursor-col-resize bg-transparent hover:bg-blue-300 opacity-0 hover:opacity-50",onMouseDown:$=>i("category",$)})]}),g.jsxs(Je,{className:"whitespace-nowrap relative",style:{width:r.sku,minWidth:60},children:["SKU",g.jsx("div",{className:"absolute top-0 right-0 w-1 h-full cursor-col-resize bg-transparent hover:bg-blue-300 opacity-0 hover:opacity-50",onMouseDown:$=>i("sku",$)})]}),g.jsxs(Je,{className:"whitespace-nowrap relative",style:{width:r.description,minWidth:60},children:["Description",g.jsx("div",{className:"absolute top-0 right-0 w-1 h-full cursor-col-resize bg-transparent hover:bg-blue-300 opacity-0 hover:opacity-50",onMouseDown:$=>i("description",$)})]}),g.jsxs(Je,{className:"whitespace-nowrap relative",style:{width:r.status,minWidth:60},children:["Status",g.jsx("div",{className:"absolute top-0 right-0 w-1 h-full cursor-col-resize bg-transparent hover:bg-blue-300 opacity-0 hover:opacity-50",onMouseDown:$=>i("status",$)})]}),g.jsxs(Je,{className:"whitespace-nowrap relative",style:{width:r.unit,minWidth:60},children:["U/M",g.jsx("div",{className:"absolute top-0 right-0 w-1 h-full cursor-col-resize bg-transparent hover:bg-blue-300 opacity-0 hover:opacity-50",onMouseDown:$=>i("unit",$)})]}),g.jsxs(Je,{className:"whitespace-nowrap relative",style:{width:r.type,minWidth:60},children:["Type",g.jsx("div",{className:"absolute top-0 right-0 w-1 h-full cursor-col-resize bg-transparent hover:bg-blue-300 opacity-0 hover:opacity-50",onMouseDown:$=>i("type",$)})]}),g.jsxs(Je,{className:"text-right whitespace-nowrap relative",style:{width:r.onHand,minWidth:60},children:["On hand",g.jsx("div",{className:"absolute top-0 right-0 w-1 h-full cursor-col-resize bg-transparent hover:bg-blue-300 opacity-0 hover:opacity-50",onMouseDown:$=>i("onHand",$)})]}),g.jsxs(Je,{className:"text-right whitespace-nowrap relative",style:{width:r.avgCost,minWidth:60},children:["Avg. cost (FIFO)",g.jsx("div",{className:"absolute top-0 right-0 w-1 h-full cursor-col-resize bg-transparent hover:bg-blue-300 opacity-0 hover:opacity-50",onMouseDown:$=>i("avgCost",$)})]}),g.jsxs(Je,{className:"text-right whitespace-nowrap relative",style:{width:r.assetValue,minWidth:60},children:["Asset value",g.jsx("div",{className:"absolute top-0 right-0 w-1 h-full cursor-col-resize bg-transparent hover:bg-blue-300 opacity-0 hover:opacity-50",onMouseDown:$=>i("assetValue",$)})]}),g.jsx(Je,{className:"text-right whitespace-nowrap",style:{width:r.minimum,minWidth:60},children:"Minimum"})]})}),g.jsx(Jl,{children:Ht.map(($,J)=>{const K=$.onHand??0,ie=$.min??0,fe=K>=ie,oe=zs($.id);return g.jsxs(Ia,{children:[g.jsx(We,{className:"font-medium",style:{width:r.category,minWidth:60},children:$.categoryName}),g.jsx(We,{className:"font-medium",style:{width:r.sku,minWidth:60},children:$.id}),g.jsx(We,{style:{width:r.description,minWidth:60},children:$.description??"-"}),g.jsx(We,{style:{width:r.status,minWidth:60},children:g.jsx(cu,{ok:fe})}),g.jsx(We,{style:{width:r.unit,minWidth:60},children:$.unit??"-"}),g.jsx(We,{style:{width:r.type,minWidth:60},children:$.type==="RAW"?"Raw":"Sellable"}),g.jsx(We,{className:"text-right tabular-nums",style:{width:r.onHand,minWidth:60},children:$v(K)}),g.jsx(We,{className:"text-right tabular-nums",style:{width:r.avgCost,minWidth:60},children:oe!=null?yn(oe):""}),g.jsx(We,{className:"text-right tabular-nums",style:{width:r.assetValue,minWidth:60},children:oe!=null?yn(K*oe):""}),g.jsx(We,{className:"text-right tabular-nums",style:{width:r.minimum,minWidth:60},children:$v(ie)})]},`${$.id}-${J}`)})})]})})]})]})]}),g.jsx("div",{className:`mt-6 ${u==="receiving"?"":"hidden"}`,children:g.jsx(x.Suspense,{fallback:g.jsx("div",{children:"Loading..."}),children:g.jsx(pA,{vendors:E,skus:F,layersBySku:X,movements:Be,onUpdateLayers:($,J)=>{ae(K=>({...K,[$]:J}))},onUpdateSKU:($,J)=>{B(K=>{const{productCategory:ie,...fe}=J||{};return K.map(oe=>oe.id===$?{...oe,...fe}:oe)})},onAddMovement:$=>{ve($)},onRefreshMovements:U})})}),g.jsx("div",{className:`mt-6 ${u==="workorder"?"":"hidden"}`,children:g.jsx(x.Suspense,{fallback:g.jsx("div",{children:"Loading..."}),children:g.jsx(gA,{skus:F,layersBySku:X,onUpdateLayers:($,J)=>{ae(K=>({...K,[$]:J}))},onUpdateSKU:($,J)=>{B(K=>{const{productCategory:ie,...fe}=J||{};return K.map(oe=>oe.id===$?{...oe,...fe}:oe)})},onAddMovement:$=>{ve($)},onRefreshInventory:()=>{Y(),be()}})})}),g.jsxs("div",{className:`mt-6 ${u==="movements"?"":"hidden"}`,children:[g.jsx("div",{className:"flex items-center justify-end mb-2",children:g.jsx(xe,{size:"sm",variant:"outline",onClick:()=>{wn.current&&clearTimeout(wn.current),U()},disabled:st,children:st?"Refreshing...":"Refresh"})}),g.jsx(vA,{movements:Be,onExportExcel:xr,onExportJournal:It,getExportedMovements:io,clearExportHistory:uu,syncToCloud:Fa,onRefreshMovements:U,onDeleteMovement:async $=>{console.log(" onDeleteMovement called with:",$),console.log(" deleteBackendMovement function:",typeof dv);try{console.log(" Starting backend deletion process for movementId:",$);const J=String($),K=Number(J);if(console.log(" Extracted ID - String:",J,"Number:",K),Number.isNaN(K)){console.error(" Invalid Movement ID:",J),ye.error(`Invalid Movement ID: ${J}`);return}let ie;try{ie=(await nu.getMovementDeletionInfo(K))?.skuId,console.log(" Deletion info fetched. Affected SKU:",ie)}catch(Ne){console.warn(" Could not fetch movement deletion info before delete; will still proceed.",Ne)}console.log(" About to call backend deleteMovement with ID:",K);const fe=await dv(K,{reason:"User deletion via UI",deletedBy:"user"});if(console.log(" Backend deletion result:",fe),console.log(" Result type:",typeof fe),console.log(" Result keys:",Object.keys(fe||{})),ct(Ne=>{const _e=Ne.filter(ke=>ke.movementId!==$);return console.log(" Movement removed from frontend state. Before:",Ne.length,"After:",_e.length),_e}),await Y(),be(),ie)try{const _e=(await eT(ie)||[]).map(ke=>({id:String(ke.id),date:ke.date instanceof Date?ke.date.toISOString().slice(0,10):String(ke.date),remaining:ke.remaining,cost:ke.cost}));ae(ke=>({...ke,[ie]:_e})),console.log(" Refreshed FIFO layers for SKU:",ie,"Count:",_e.length)}catch(Ne){console.warn(" Failed to refresh FIFO layers for SKU",ie,Ne)}const oe=fe?.restoredLayers?.length||0,he=fe?.related_movements_deleted||0;console.log(" Restored layers count:",oe),console.log(" Related movements deleted:",he),ye.success(`Movement deleted successfully! ${oe} layers restored, ${he} related movements deleted.`)}catch(J){console.error(" Error deleting movement:",J),console.error(" Error type:",typeof J),console.error(" Error message:",J?.message),console.error(" Error details:",J?.details),console.error(" Error code:",J?.code);let K="An unknown error occurred";J?.message?K=J.message:J?.details?K=J.details:typeof J=="string"&&(K=J),ye.error(`Failed to delete movement: ${K}`),console.log(" Frontend state NOT updated due to backend error")}}})]})]})}),P&&g.jsxs("div",{className:"fixed inset-0 z-50",role:"dialog","aria-modal":"true","aria-labelledby":"vendors-title",children:[g.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:()=>te(!1)}),g.jsx("div",{className:"absolute left-1/2 top-12 -translate-x-1/2 w-[min(100%,900px)]",children:g.jsxs(_s,{className:"rounded-2xl shadow-2xl bg-white",children:[g.jsxs($i,{className:"py-4 flex flex-row items-center justify-between",children:[g.jsx(ws,{id:"vendors-title",children:"Vendors"}),g.jsx(xe,{size:"sm",onClick:()=>te(!1),children:"Close"})]}),g.jsx(Ss,{className:"max-h-[70vh] overflow-auto",children:g.jsx(MA,{items:E,onChange:k,onRefresh:ce})})]})})]}),Q&&g.jsx(TA,{onClose:()=>{V(!1),ee(!1)},onToggleAdd:()=>ee($=>!$),addOpen:W,manageCategoriesEnabled:Ee,onOpenCategories:Ee?()=>{Ge(!0),T()}:void 0,children:g.jsx(DA,{items:F,onChange:B,openForm:W,onToggleForm:()=>ee($=>!$),hideLocalHeader:!0,onRefresh:Y,categoryOptions:Ee?L:void 0,useDynamicCategories:Ee})}),Ee&&rt&&g.jsxs("div",{className:"fixed inset-0 z-50",role:"dialog","aria-modal":"true","aria-labelledby":"categories-title",children:[g.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:()=>Ge(!1)}),g.jsx("div",{className:"absolute left-1/2 top-12 -translate-x-1/2 w-[min(100%,900px)]",children:g.jsxs(_s,{className:"rounded-2xl shadow-2xl bg-white",children:[g.jsxs($i,{className:"py-4 flex flex-row items-center justify-between",children:[g.jsx(ws,{id:"categories-title",children:"Categories"}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(xe,{size:"sm",variant:"outline",onClick:()=>T(),children:"Refresh"}),g.jsx(xe,{size:"sm",onClick:()=>Ge(!1),children:"Close"})]})]}),g.jsx(Ss,{className:"max-h-[70vh] overflow-auto",children:g.jsx(bA,{items:A,onChange:N,onRefresh:T})})]})})]})]})}function UA(){const{user:t,signIn:n,loading:r}=bf(),[i,l]=x.useState(""),[u,d]=x.useState(""),[h,m]=x.useState(""),[p,y]=x.useState(!1);if(t&&!r)return g.jsx(ql,{to:"/app",replace:!0});const _=async w=>{if(w.preventDefault(),!i||!u){m("Please fill in all fields");return}y(!0),m("");const E=await n(i,u);E.error&&m(E.error),y(!1)};return r?g.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",children:g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),g.jsx("p",{className:"text-slate-600",children:"Loading..."})]})}):g.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 p-4",children:g.jsxs(_s,{className:"w-full max-w-md",children:[g.jsxs($i,{className:"text-center",children:[g.jsx("div",{className:"mb-4",children:g.jsx("div",{className:"w-16 h-16 bg-blue-600 rounded-xl mx-auto flex items-center justify-center mb-4",children:g.jsx("div",{className:"text-white font-bold text-2xl",children:"PG"})})}),g.jsx(ws,{className:"text-2xl font-bold",children:"PGaskets Inventory"}),g.jsx("p",{className:"text-slate-600 mt-2",children:"Sign in to access the system"})]}),g.jsxs(Ss,{children:[g.jsxs("form",{onSubmit:_,className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx(Rt,{htmlFor:"email",children:"Email"}),g.jsx(Nt,{id:"email",type:"email",value:i,onChange:w=>l(w.target.value),placeholder:"admin@pgaskets.com",className:"mt-1",disabled:p})]}),g.jsxs("div",{children:[g.jsx(Rt,{htmlFor:"password",children:"Password"}),g.jsx(Nt,{id:"password",type:"password",value:u,onChange:w=>d(w.target.value),placeholder:"Enter your password",className:"mt-1",disabled:p})]}),h&&g.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md text-sm",children:h}),g.jsx(xe,{type:"submit",className:"w-full",disabled:p,children:p?g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Signing in..."]}):"Sign In"})]}),g.jsxs("div",{className:"mt-6 text-center text-sm text-slate-500",children:[g.jsx("p",{children:"Demo credentials:"}),g.jsx("p",{children:"Email: admin@pgaskets.com"}),g.jsx("p",{children:"Password: pgaskets123"})]})]})]})})}function $A({children:t}){const{user:n,loading:r}=bf();return r?g.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",children:g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),g.jsx("p",{className:"text-slate-600",children:"Loading application..."})]})}):n?g.jsx(g.Fragment,{children:t}):g.jsx(ql,{to:"/login",replace:!0})}function LA(){return g.jsx(XE,{children:g.jsx(mS,{children:g.jsxs(Vw,{children:[g.jsx(Ui,{path:"/",element:g.jsx(ql,{to:"/app",replace:!0})}),g.jsx(Ui,{path:"/login",element:g.jsx(UA,{})}),g.jsx(Ui,{path:"/app",element:g.jsx($A,{children:g.jsx(zA,{})})}),g.jsx(Ui,{path:"*",element:g.jsx(ql,{to:"/app",replace:!0})})]})})})}const f0=document.getElementById("root");if(!f0)throw new Error("Missing #root element");const qA=new W_;C_.createRoot(f0).render(g.jsxs(tw,{client:qA,children:[g.jsx(LA,{}),g.jsx(DS,{})]}));export{xe as B,_s as C,Nt as I,Rt as L,js as M,qn as R,qi as S,Ql as T,ZO as _,BA as a,Bi as b,Ii as c,Hi as d,qt as e,$i as f,eT as g,ws as h,Ss as i,g as j,US as k,Xl as l,nu as m,Ia as n,Je as o,FA as p,Jl as q,x as r,We as s,GA as t,vr as u,kf as v,Bn as w,ca as x,ne as y};
