const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Receiving-BDQnAALQ.js","assets/schemas-DUT4RVfo.js","assets/WorkOrder-ffczMLKq.js","assets/workOrderEvents-Be-RnPcv.js","assets/Movements-C7otRo2Y.js"])))=>i.map(i=>d[i]);
(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function r(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(l){if(l.ep)return;l.ep=!0;const u=r(l);fetch(l.href,u)}})();function Mv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function y_(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var n=t.default;if(typeof n=="function"){var r=function i(){var l=!1;try{l=this instanceof i}catch{}return l?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};r.prototype=n.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var l=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(r,i,l.get?l:{enumerable:!0,get:function(){return t[i]}})}),r}var dd={exports:{}},xi={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cg;function b_(){if(cg)return xi;cg=1;var t=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function r(i,l,u){var d=null;if(u!==void 0&&(d=""+u),l.key!==void 0&&(d=""+l.key),"key"in l){u={};for(var h in l)h!=="key"&&(u[h]=l[h])}else u=l;return l=u.ref,{$$typeof:t,type:i,key:d,ref:l!==void 0?l:null,props:u}}return xi.Fragment=n,xi.jsx=r,xi.jsxs=r,xi}var dg;function __(){return dg||(dg=1,dd.exports=b_()),dd.exports}var v=__(),fd={exports:{}},Ei={},hd={exports:{}},md={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fg;function w_(){return fg||(fg=1,(function(t){function n(L,Y){var le=L.length;L.push(Y);e:for(;0<le;){var Ue=le-1>>>1,E=L[Ue];if(0<l(E,Y))L[Ue]=Y,L[le]=E,le=Ue;else break e}}function r(L){return L.length===0?null:L[0]}function i(L){if(L.length===0)return null;var Y=L[0],le=L.pop();if(le!==Y){L[0]=le;e:for(var Ue=0,E=L.length,P=E>>>1;Ue<P;){var ee=2*(Ue+1)-1,J=L[ee],se=ee+1,Ce=L[se];if(0>l(J,le))se<E&&0>l(Ce,J)?(L[Ue]=Ce,L[se]=le,Ue=se):(L[Ue]=J,L[ee]=le,Ue=ee);else if(se<E&&0>l(Ce,le))L[Ue]=Ce,L[se]=le,Ue=se;else break e}}return Y}function l(L,Y){var le=L.sortIndex-Y.sortIndex;return le!==0?le:L.id-Y.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;t.unstable_now=function(){return u.now()}}else{var d=Date,h=d.now();t.unstable_now=function(){return d.now()-h}}var m=[],p=[],y=1,_=null,w=3,x=!1,j=!1,z=!1,M=!1,N=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function V(L){for(var Y=r(p);Y!==null;){if(Y.callback===null)i(p);else if(Y.startTime<=L)i(p),Y.sortIndex=Y.expirationTime,n(m,Y);else break;Y=r(p)}}function Z(L){if(z=!1,V(L),!j)if(r(m)!==null)j=!0,X||(X=!0,_e());else{var Y=r(p);Y!==null&&gt(Z,Y.startTime-L)}}var X=!1,W=-1,Oe=5,Ye=-1;function te(){return M?!0:!(t.unstable_now()-Ye<Oe)}function ge(){if(M=!1,X){var L=t.unstable_now();Ye=L;var Y=!0;try{e:{j=!1,z&&(z=!1,G(W),W=-1),x=!0;var le=w;try{t:{for(V(L),_=r(m);_!==null&&!(_.expirationTime>L&&te());){var Ue=_.callback;if(typeof Ue=="function"){_.callback=null,w=_.priorityLevel;var E=Ue(_.expirationTime<=L);if(L=t.unstable_now(),typeof E=="function"){_.callback=E,V(L),Y=!0;break t}_===r(m)&&i(m),V(L)}else i(m);_=r(m)}if(_!==null)Y=!0;else{var P=r(p);P!==null&&gt(Z,P.startTime-L),Y=!1}}break e}finally{_=null,w=le,x=!1}Y=void 0}}finally{Y?_e():X=!1}}}var _e;if(typeof U=="function")_e=function(){U(ge)};else if(typeof MessageChannel<"u"){var rt=new MessageChannel,Ut=rt.port2;rt.port1.onmessage=ge,_e=function(){Ut.postMessage(null)}}else _e=function(){N(ge,0)};function gt(L,Y){W=N(function(){L(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Oe=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_next=function(L){switch(w){case 1:case 2:case 3:var Y=3;break;default:Y=w}var le=w;w=Y;try{return L()}finally{w=le}},t.unstable_requestPaint=function(){M=!0},t.unstable_runWithPriority=function(L,Y){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var le=w;w=L;try{return Y()}finally{w=le}},t.unstable_scheduleCallback=function(L,Y,le){var Ue=t.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?Ue+le:Ue):le=Ue,L){case 1:var E=-1;break;case 2:E=250;break;case 5:E=1073741823;break;case 4:E=1e4;break;default:E=5e3}return E=le+E,L={id:y++,callback:Y,priorityLevel:L,startTime:le,expirationTime:E,sortIndex:-1},le>Ue?(L.sortIndex=le,n(p,L),r(m)===null&&L===r(p)&&(z?(G(W),W=-1):z=!0,gt(Z,le-Ue))):(L.sortIndex=E,n(m,L),j||x||(j=!0,X||(X=!0,_e()))),L},t.unstable_shouldYield=te,t.unstable_wrapCallback=function(L){var Y=w;return function(){var le=w;w=Y;try{return L.apply(this,arguments)}finally{w=le}}}})(md)),md}var hg;function S_(){return hg||(hg=1,hd.exports=w_()),hd.exports}var pd={exports:{}},ye={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mg;function x_(){if(mg)return ye;mg=1;var t=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.iterator;function w(E){return E===null||typeof E!="object"?null:(E=_&&E[_]||E["@@iterator"],typeof E=="function"?E:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,z={};function M(E,P,ee){this.props=E,this.context=P,this.refs=z,this.updater=ee||x}M.prototype.isReactComponent={},M.prototype.setState=function(E,P){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,P,"setState")},M.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function N(){}N.prototype=M.prototype;function G(E,P,ee){this.props=E,this.context=P,this.refs=z,this.updater=ee||x}var U=G.prototype=new N;U.constructor=G,j(U,M.prototype),U.isPureReactComponent=!0;var V=Array.isArray,Z={H:null,A:null,T:null,S:null,V:null},X=Object.prototype.hasOwnProperty;function W(E,P,ee,J,se,Ce){return ee=Ce.ref,{$$typeof:t,type:E,key:P,ref:ee!==void 0?ee:null,props:Ce}}function Oe(E,P){return W(E.type,P,void 0,void 0,void 0,E.props)}function Ye(E){return typeof E=="object"&&E!==null&&E.$$typeof===t}function te(E){var P={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(ee){return P[ee]})}var ge=/\/+/g;function _e(E,P){return typeof E=="object"&&E!==null&&E.key!=null?te(""+E.key):P.toString(36)}function rt(){}function Ut(E){switch(E.status){case"fulfilled":return E.value;case"rejected":throw E.reason;default:switch(typeof E.status=="string"?E.then(rt,rt):(E.status="pending",E.then(function(P){E.status==="pending"&&(E.status="fulfilled",E.value=P)},function(P){E.status==="pending"&&(E.status="rejected",E.reason=P)})),E.status){case"fulfilled":return E.value;case"rejected":throw E.reason}}throw E}function gt(E,P,ee,J,se){var Ce=typeof E;(Ce==="undefined"||Ce==="boolean")&&(E=null);var ue=!1;if(E===null)ue=!0;else switch(Ce){case"bigint":case"string":case"number":ue=!0;break;case"object":switch(E.$$typeof){case t:case n:ue=!0;break;case y:return ue=E._init,gt(ue(E._payload),P,ee,J,se)}}if(ue)return se=se(E),ue=J===""?"."+_e(E,0):J,V(se)?(ee="",ue!=null&&(ee=ue.replace(ge,"$&/")+"/"),gt(se,P,ee,"",function(ct){return ct})):se!=null&&(Ye(se)&&(se=Oe(se,ee+(se.key==null||E&&E.key===se.key?"":(""+se.key).replace(ge,"$&/")+"/")+ue)),P.push(se)),1;ue=0;var bt=J===""?".":J+":";if(V(E))for(var Ze=0;Ze<E.length;Ze++)J=E[Ze],Ce=bt+_e(J,Ze),ue+=gt(J,P,ee,Ce,se);else if(Ze=w(E),typeof Ze=="function")for(E=Ze.call(E),Ze=0;!(J=E.next()).done;)J=J.value,Ce=bt+_e(J,Ze++),ue+=gt(J,P,ee,Ce,se);else if(Ce==="object"){if(typeof E.then=="function")return gt(Ut(E),P,ee,J,se);throw P=String(E),Error("Objects are not valid as a React child (found: "+(P==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":P)+"). If you meant to render a collection of children, use an array instead.")}return ue}function L(E,P,ee){if(E==null)return E;var J=[],se=0;return gt(E,J,"","",function(Ce){return P.call(ee,Ce,se++)}),J}function Y(E){if(E._status===-1){var P=E._result;P=P(),P.then(function(ee){(E._status===0||E._status===-1)&&(E._status=1,E._result=ee)},function(ee){(E._status===0||E._status===-1)&&(E._status=2,E._result=ee)}),E._status===-1&&(E._status=0,E._result=P)}if(E._status===1)return E._result.default;throw E._result}var le=typeof reportError=="function"?reportError:function(E){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var P=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof E=="object"&&E!==null&&typeof E.message=="string"?String(E.message):String(E),error:E});if(!window.dispatchEvent(P))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",E);return}console.error(E)};function Ue(){}return ye.Children={map:L,forEach:function(E,P,ee){L(E,function(){P.apply(this,arguments)},ee)},count:function(E){var P=0;return L(E,function(){P++}),P},toArray:function(E){return L(E,function(P){return P})||[]},only:function(E){if(!Ye(E))throw Error("React.Children.only expected to receive a single React element child.");return E}},ye.Component=M,ye.Fragment=r,ye.Profiler=l,ye.PureComponent=G,ye.StrictMode=i,ye.Suspense=m,ye.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Z,ye.__COMPILER_RUNTIME={__proto__:null,c:function(E){return Z.H.useMemoCache(E)}},ye.cache=function(E){return function(){return E.apply(null,arguments)}},ye.cloneElement=function(E,P,ee){if(E==null)throw Error("The argument must be a React element, but you passed "+E+".");var J=j({},E.props),se=E.key,Ce=void 0;if(P!=null)for(ue in P.ref!==void 0&&(Ce=void 0),P.key!==void 0&&(se=""+P.key),P)!X.call(P,ue)||ue==="key"||ue==="__self"||ue==="__source"||ue==="ref"&&P.ref===void 0||(J[ue]=P[ue]);var ue=arguments.length-2;if(ue===1)J.children=ee;else if(1<ue){for(var bt=Array(ue),Ze=0;Ze<ue;Ze++)bt[Ze]=arguments[Ze+2];J.children=bt}return W(E.type,se,void 0,void 0,Ce,J)},ye.createContext=function(E){return E={$$typeof:d,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null},E.Provider=E,E.Consumer={$$typeof:u,_context:E},E},ye.createElement=function(E,P,ee){var J,se={},Ce=null;if(P!=null)for(J in P.key!==void 0&&(Ce=""+P.key),P)X.call(P,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(se[J]=P[J]);var ue=arguments.length-2;if(ue===1)se.children=ee;else if(1<ue){for(var bt=Array(ue),Ze=0;Ze<ue;Ze++)bt[Ze]=arguments[Ze+2];se.children=bt}if(E&&E.defaultProps)for(J in ue=E.defaultProps,ue)se[J]===void 0&&(se[J]=ue[J]);return W(E,Ce,void 0,void 0,null,se)},ye.createRef=function(){return{current:null}},ye.forwardRef=function(E){return{$$typeof:h,render:E}},ye.isValidElement=Ye,ye.lazy=function(E){return{$$typeof:y,_payload:{_status:-1,_result:E},_init:Y}},ye.memo=function(E,P){return{$$typeof:p,type:E,compare:P===void 0?null:P}},ye.startTransition=function(E){var P=Z.T,ee={};Z.T=ee;try{var J=E(),se=Z.S;se!==null&&se(ee,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(Ue,le)}catch(Ce){le(Ce)}finally{Z.T=P}},ye.unstable_useCacheRefresh=function(){return Z.H.useCacheRefresh()},ye.use=function(E){return Z.H.use(E)},ye.useActionState=function(E,P,ee){return Z.H.useActionState(E,P,ee)},ye.useCallback=function(E,P){return Z.H.useCallback(E,P)},ye.useContext=function(E){return Z.H.useContext(E)},ye.useDebugValue=function(){},ye.useDeferredValue=function(E,P){return Z.H.useDeferredValue(E,P)},ye.useEffect=function(E,P,ee){var J=Z.H;if(typeof ee=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return J.useEffect(E,P)},ye.useId=function(){return Z.H.useId()},ye.useImperativeHandle=function(E,P,ee){return Z.H.useImperativeHandle(E,P,ee)},ye.useInsertionEffect=function(E,P){return Z.H.useInsertionEffect(E,P)},ye.useLayoutEffect=function(E,P){return Z.H.useLayoutEffect(E,P)},ye.useMemo=function(E,P){return Z.H.useMemo(E,P)},ye.useOptimistic=function(E,P){return Z.H.useOptimistic(E,P)},ye.useReducer=function(E,P,ee){return Z.H.useReducer(E,P,ee)},ye.useRef=function(E){return Z.H.useRef(E)},ye.useState=function(E){return Z.H.useState(E)},ye.useSyncExternalStore=function(E,P,ee){return Z.H.useSyncExternalStore(E,P,ee)},ye.useTransition=function(){return Z.H.useTransition()},ye.version="19.1.1",ye}var pg;function Qd(){return pg||(pg=1,pd.exports=x_()),pd.exports}var gd={exports:{}},Mt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gg;function E_(){if(gg)return Mt;gg=1;var t=Qd();function n(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var i={d:{f:r,r:function(){throw Error(n(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(m,p,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:_==null?null:""+_,children:m,containerInfo:p,implementation:y}}var d=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Mt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Mt.createPortal=function(m,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(n(299));return u(m,p,null,y)},Mt.flushSync=function(m){var p=d.T,y=i.p;try{if(d.T=null,i.p=2,m)return m()}finally{d.T=p,i.p=y,i.d.f()}},Mt.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(m,p))},Mt.prefetchDNS=function(m){typeof m=="string"&&i.d.D(m)},Mt.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var y=p.as,_=h(y,p.crossOrigin),w=typeof p.integrity=="string"?p.integrity:void 0,x=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?i.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:w,fetchPriority:x}):y==="script"&&i.d.X(m,{crossOrigin:_,integrity:w,fetchPriority:x,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Mt.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=h(p.as,p.crossOrigin);i.d.M(m,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(m)},Mt.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,_=h(y,p.crossOrigin);i.d.L(m,y,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Mt.preloadModule=function(m,p){if(typeof m=="string")if(p){var y=h(p.as,p.crossOrigin);i.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(m)},Mt.requestFormReset=function(m){i.d.r(m)},Mt.unstable_batchedUpdates=function(m,p){return m(p)},Mt.useFormState=function(m,p,y){return d.H.useFormState(m,p,y)},Mt.useFormStatus=function(){return d.H.useHostTransitionStatus()},Mt.version="19.1.1",Mt}var vg;function zv(){if(vg)return gd.exports;vg=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(n){console.error(n)}}return t(),gd.exports=E_(),gd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yg;function T_(){if(yg)return Ei;yg=1;var t=S_(),n=Qd(),r=zv();function i(e){var a="https://react.dev/errors/"+e;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)a+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var a=e,s=e;if(e.alternate)for(;a.return;)a=a.return;else{e=a;do a=e,(a.flags&4098)!==0&&(s=a.return),e=a.return;while(e)}return a.tag===3?s:null}function d(e){if(e.tag===13){var a=e.memoizedState;if(a===null&&(e=e.alternate,e!==null&&(a=e.memoizedState)),a!==null)return a.dehydrated}return null}function h(e){if(u(e)!==e)throw Error(i(188))}function m(e){var a=e.alternate;if(!a){if(a=u(e),a===null)throw Error(i(188));return a!==e?null:e}for(var s=e,o=a;;){var c=s.return;if(c===null)break;var f=c.alternate;if(f===null){if(o=c.return,o!==null){s=o;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===s)return h(c),e;if(f===o)return h(c),a;f=f.sibling}throw Error(i(188))}if(s.return!==o.return)s=c,o=f;else{for(var g=!1,b=c.child;b;){if(b===s){g=!0,s=c,o=f;break}if(b===o){g=!0,o=c,s=f;break}b=b.sibling}if(!g){for(b=f.child;b;){if(b===s){g=!0,s=f,o=c;break}if(b===o){g=!0,o=f,s=c;break}b=b.sibling}if(!g)throw Error(i(189))}}if(s.alternate!==o)throw Error(i(190))}if(s.tag!==3)throw Error(i(188));return s.stateNode.current===s?e:a}function p(e){var a=e.tag;if(a===5||a===26||a===27||a===6)return e;for(e=e.child;e!==null;){if(a=p(e),a!==null)return a;e=e.sibling}return null}var y=Object.assign,_=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),G=Symbol.for("react.consumer"),U=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),Z=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),W=Symbol.for("react.memo"),Oe=Symbol.for("react.lazy"),Ye=Symbol.for("react.activity"),te=Symbol.for("react.memo_cache_sentinel"),ge=Symbol.iterator;function _e(e){return e===null||typeof e!="object"?null:(e=ge&&e[ge]||e["@@iterator"],typeof e=="function"?e:null)}var rt=Symbol.for("react.client.reference");function Ut(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===rt?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case j:return"Fragment";case M:return"Profiler";case z:return"StrictMode";case Z:return"Suspense";case X:return"SuspenseList";case Ye:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case x:return"Portal";case U:return(e.displayName||"Context")+".Provider";case G:return(e._context.displayName||"Context")+".Consumer";case V:var a=e.render;return e=e.displayName,e||(e=a.displayName||a.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case W:return a=e.displayName||null,a!==null?a:Ut(e.type)||"Memo";case Oe:a=e._payload,e=e._init;try{return Ut(e(a))}catch{}}return null}var gt=Array.isArray,L=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},Ue=[],E=-1;function P(e){return{current:e}}function ee(e){0>E||(e.current=Ue[E],Ue[E]=null,E--)}function J(e,a){E++,Ue[E]=e.current,e.current=a}var se=P(null),Ce=P(null),ue=P(null),bt=P(null);function Ze(e,a){switch(J(ue,a),J(Ce,e),J(se,null),a.nodeType){case 9:case 11:e=(e=a.documentElement)&&(e=e.namespaceURI)?Lp(e):0;break;default:if(e=a.tagName,a=a.namespaceURI)a=Lp(a),e=qp(a,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ee(se),J(se,e)}function ct(){ee(se),ee(Ce),ee(ue)}function Es(e){e.memoizedState!==null&&J(bt,e);var a=se.current,s=qp(a,e.type);a!==s&&(J(Ce,e),J(se,s))}function fr(e){Ce.current===e&&(ee(se),ee(Ce)),bt.current===e&&(ee(bt),yi._currentValue=le)}var za=Object.prototype.hasOwnProperty,hr=t.unstable_scheduleCallback,Ts=t.unstable_cancelCallback,Wl=t.unstable_shouldYield,eu=t.unstable_requestPaint,an=t.unstable_now,tu=t.unstable_getCurrentPriorityLevel,Wi=t.unstable_ImmediatePriority,eo=t.unstable_UserBlockingPriority,na=t.unstable_NormalPriority,nu=t.unstable_LowPriority,to=t.unstable_IdlePriority,$=t.log,K=t.unstable_setDisableYieldValue,F=null,re=null;function ce(e){if(typeof $=="function"&&K(e),re&&typeof re.setStrictMode=="function")try{re.setStrictMode(F,e)}catch{}}var Q=Math.clz32?Math.clz32:pe,we=Math.log,Ne=Math.LN2;function pe(e){return e>>>=0,e===0?32:31-(we(e)/Ne|0)|0}var Le=256,Pe=4194304;function Re(e){var a=e&42;if(a!==0)return a;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ft(e,a,s){var o=e.pendingLanes;if(o===0)return 0;var c=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var b=o&134217727;return b!==0?(o=b&~f,o!==0?c=Re(o):(g&=b,g!==0?c=Re(g):s||(s=b&~e,s!==0&&(c=Re(s))))):(b=o&~f,b!==0?c=Re(b):g!==0?c=Re(g):s||(s=o&~e,s!==0&&(c=Re(s)))),c===0?0:a!==0&&a!==c&&(a&f)===0&&(f=c&-c,s=a&-a,f>=s||f===32&&(s&4194048)!==0)?a:c}function _t(e,a){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&a)===0}function Mn(e,a){switch(e){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ua(){var e=Le;return Le<<=1,(Le&4194048)===0&&(Le=256),e}function aa(){var e=Pe;return Pe<<=1,(Pe&62914560)===0&&(Pe=4194304),e}function ra(e){for(var a=[],s=0;31>s;s++)a.push(e);return a}function me(e,a){e.pendingLanes|=a,a!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function $a(e,a,s,o,c,f){var g=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var b=e.entanglements,S=e.expirationTimes,R=e.hiddenUpdates;for(s=g&~s;0<s;){var q=31-Q(s),H=1<<q;b[q]=0,S[q]=-1;var C=R[q];if(C!==null)for(R[q]=null,q=0;q<C.length;q++){var D=C[q];D!==null&&(D.lane&=-536870913)}s&=~H}o!==0&&$t(e,o,0),f!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~a))}function $t(e,a,s){e.pendingLanes|=a,e.suspendedLanes&=~a;var o=31-Q(a);e.entangledLanes|=a,e.entanglements[o]=e.entanglements[o]|1073741824|s&4194090}function gn(e,a){var s=e.entangledLanes|=a;for(e=e.entanglements;s;){var o=31-Q(s),c=1<<o;c&a|e[o]&a&&(e[o]|=a),s&=~c}}function ks(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function js(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Me(){var e=Y.p;return e!==0?e:(e=window.event,e===void 0?32:rg(e.type))}function Be(e,a){var s=Y.p;try{return Y.p=e,a()}finally{Y.p=s}}var Ee=Math.random().toString(36).slice(2),be="__reactFiber$"+Ee,qe="__reactProps$"+Ee,sa="__reactContainer$"+Ee,As="__reactEvents$"+Ee,mr="__reactListeners$"+Ee,au="__reactHandles$"+Ee,kf="__reactResources$"+Ee,Os="__reactMarker$"+Ee;function ru(e){delete e[be],delete e[qe],delete e[As],delete e[mr],delete e[au]}function pr(e){var a=e[be];if(a)return a;for(var s=e.parentNode;s;){if(a=s[sa]||s[be]){if(s=a.alternate,a.child!==null||s!==null&&s.child!==null)for(e=Zp(e);e!==null;){if(s=e[be])return s;e=Zp(e)}return a}e=s,s=e.parentNode}return null}function gr(e){if(e=e[be]||e[sa]){var a=e.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return e}return null}function Rs(e){var a=e.tag;if(a===5||a===26||a===27||a===6)return e.stateNode;throw Error(i(33))}function vr(e){var a=e[kf];return a||(a=e[kf]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Tt(e){e[Os]=!0}var jf=new Set,Af={};function La(e,a){yr(e,a),yr(e+"Capture",a)}function yr(e,a){for(Af[e]=a,e=0;e<a.length;e++)jf.add(a[e])}var c0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Of={},Rf={};function d0(e){return za.call(Rf,e)?!0:za.call(Of,e)?!1:c0.test(e)?Rf[e]=!0:(Of[e]=!0,!1)}function no(e,a,s){if(d0(a))if(s===null)e.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(a);return;case"boolean":var o=a.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(a);return}}e.setAttribute(a,""+s)}}function ao(e,a,s){if(s===null)e.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttribute(a,""+s)}}function zn(e,a,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(a,s,""+o)}}var su,Cf;function br(e){if(su===void 0)try{throw Error()}catch(s){var a=s.stack.trim().match(/\n( *(at )?)/);su=a&&a[1]||"",Cf=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+su+e+Cf}var iu=!1;function ou(e,a){if(!e||iu)return"";iu=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(a){var H=function(){throw Error()};if(Object.defineProperty(H.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(H,[])}catch(D){var C=D}Reflect.construct(e,[],H)}else{try{H.call()}catch(D){C=D}e.call(H.prototype)}}else{try{throw Error()}catch(D){C=D}(H=e())&&typeof H.catch=="function"&&H.catch(function(){})}}catch(D){if(D&&C&&typeof D.stack=="string")return[D.stack,C.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],b=f[1];if(g&&b){var S=g.split(`
`),R=b.split(`
`);for(c=o=0;o<S.length&&!S[o].includes("DetermineComponentFrameRoot");)o++;for(;c<R.length&&!R[c].includes("DetermineComponentFrameRoot");)c++;if(o===S.length||c===R.length)for(o=S.length-1,c=R.length-1;1<=o&&0<=c&&S[o]!==R[c];)c--;for(;1<=o&&0<=c;o--,c--)if(S[o]!==R[c]){if(o!==1||c!==1)do if(o--,c--,0>c||S[o]!==R[c]){var q=`
`+S[o].replace(" at new "," at ");return e.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",e.displayName)),q}while(1<=o&&0<=c);break}}}finally{iu=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?br(s):""}function f0(e){switch(e.tag){case 26:case 27:case 5:return br(e.type);case 16:return br("Lazy");case 13:return br("Suspense");case 19:return br("SuspenseList");case 0:case 15:return ou(e.type,!1);case 11:return ou(e.type.render,!1);case 1:return ou(e.type,!0);case 31:return br("Activity");default:return""}}function Df(e){try{var a="";do a+=f0(e),e=e.return;while(e);return a}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function rn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Nf(e){var a=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function h0(e){var a=Nf(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,a),o=""+e[a];if(!e.hasOwnProperty(a)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var c=s.get,f=s.set;return Object.defineProperty(e,a,{configurable:!0,get:function(){return c.call(this)},set:function(g){o=""+g,f.call(this,g)}}),Object.defineProperty(e,a,{enumerable:s.enumerable}),{getValue:function(){return o},setValue:function(g){o=""+g},stopTracking:function(){e._valueTracker=null,delete e[a]}}}}function ro(e){e._valueTracker||(e._valueTracker=h0(e))}function Mf(e){if(!e)return!1;var a=e._valueTracker;if(!a)return!0;var s=a.getValue(),o="";return e&&(o=Nf(e)?e.checked?"true":"false":e.value),e=o,e!==s?(a.setValue(e),!0):!1}function so(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var m0=/[\n"\\]/g;function sn(e){return e.replace(m0,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function lu(e,a,s,o,c,f,g,b){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),a!=null?g==="number"?(a===0&&e.value===""||e.value!=a)&&(e.value=""+rn(a)):e.value!==""+rn(a)&&(e.value=""+rn(a)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),a!=null?uu(e,g,rn(a)):s!=null?uu(e,g,rn(s)):o!=null&&e.removeAttribute("value"),c==null&&f!=null&&(e.defaultChecked=!!f),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.name=""+rn(b):e.removeAttribute("name")}function zf(e,a,s,o,c,f,g,b){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),a!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||a!=null))return;s=s!=null?""+rn(s):"",a=a!=null?""+rn(a):s,b||a===e.value||(e.value=a),e.defaultValue=a}o=o??c,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=b?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g)}function uu(e,a,s){a==="number"&&so(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function _r(e,a,s,o){if(e=e.options,a){a={};for(var c=0;c<s.length;c++)a["$"+s[c]]=!0;for(s=0;s<e.length;s++)c=a.hasOwnProperty("$"+e[s].value),e[s].selected!==c&&(e[s].selected=c),c&&o&&(e[s].defaultSelected=!0)}else{for(s=""+rn(s),a=null,c=0;c<e.length;c++){if(e[c].value===s){e[c].selected=!0,o&&(e[c].defaultSelected=!0);return}a!==null||e[c].disabled||(a=e[c])}a!==null&&(a.selected=!0)}}function Uf(e,a,s){if(a!=null&&(a=""+rn(a),a!==e.value&&(e.value=a),s==null)){e.defaultValue!==a&&(e.defaultValue=a);return}e.defaultValue=s!=null?""+rn(s):""}function $f(e,a,s,o){if(a==null){if(o!=null){if(s!=null)throw Error(i(92));if(gt(o)){if(1<o.length)throw Error(i(93));o=o[0]}s=o}s==null&&(s=""),a=s}s=rn(a),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o)}function wr(e,a){if(a){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=a;return}}e.textContent=a}var p0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Lf(e,a,s){var o=a.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="":o?e.setProperty(a,s):typeof s!="number"||s===0||p0.has(a)?a==="float"?e.cssFloat=s:e[a]=(""+s).trim():e[a]=s+"px"}function qf(e,a,s){if(a!=null&&typeof a!="object")throw Error(i(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||a!=null&&a.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var c in a)o=a[c],a.hasOwnProperty(c)&&s[c]!==o&&Lf(e,c,o)}else for(var f in a)a.hasOwnProperty(f)&&Lf(e,f,a[f])}function cu(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var g0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),v0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function io(e){return v0.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var du=null;function fu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Sr=null,xr=null;function Bf(e){var a=gr(e);if(a&&(e=a.stateNode)){var s=e[qe]||null;e:switch(e=a.stateNode,a.type){case"input":if(lu(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),a=s.name,s.type==="radio"&&a!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+sn(""+a)+'"][type="radio"]'),a=0;a<s.length;a++){var o=s[a];if(o!==e&&o.form===e.form){var c=o[qe]||null;if(!c)throw Error(i(90));lu(o,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(a=0;a<s.length;a++)o=s[a],o.form===e.form&&Mf(o)}break e;case"textarea":Uf(e,s.value,s.defaultValue);break e;case"select":a=s.value,a!=null&&_r(e,!!s.multiple,a,!1)}}}var hu=!1;function If(e,a,s){if(hu)return e(a,s);hu=!0;try{var o=e(a);return o}finally{if(hu=!1,(Sr!==null||xr!==null)&&(Go(),Sr&&(a=Sr,e=xr,xr=Sr=null,Bf(a),e)))for(a=0;a<e.length;a++)Bf(e[a])}}function Cs(e,a){var s=e.stateNode;if(s===null)return null;var o=s[qe]||null;if(o===null)return null;s=o[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(i(231,a,typeof s));return s}var Un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mu=!1;if(Un)try{var Ds={};Object.defineProperty(Ds,"passive",{get:function(){mu=!0}}),window.addEventListener("test",Ds,Ds),window.removeEventListener("test",Ds,Ds)}catch{mu=!1}var ia=null,pu=null,oo=null;function Hf(){if(oo)return oo;var e,a=pu,s=a.length,o,c="value"in ia?ia.value:ia.textContent,f=c.length;for(e=0;e<s&&a[e]===c[e];e++);var g=s-e;for(o=1;o<=g&&a[s-o]===c[f-o];o++);return oo=c.slice(e,1<o?1-o:void 0)}function lo(e){var a=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&a===13&&(e=13)):e=a,e===10&&(e=13),32<=e||e===13?e:0}function uo(){return!0}function Zf(){return!1}function It(e){function a(s,o,c,f,g){this._reactName=s,this._targetInst=c,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var b in e)e.hasOwnProperty(b)&&(s=e[b],this[b]=s?s(f):f[b]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?uo:Zf,this.isPropagationStopped=Zf,this}return y(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=uo)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=uo)},persist:function(){},isPersistent:uo}),a}var qa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},co=It(qa),Ns=y({},qa,{view:0,detail:0}),y0=It(Ns),gu,vu,Ms,fo=y({},Ns,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ms&&(Ms&&e.type==="mousemove"?(gu=e.screenX-Ms.screenX,vu=e.screenY-Ms.screenY):vu=gu=0,Ms=e),gu)},movementY:function(e){return"movementY"in e?e.movementY:vu}}),Pf=It(fo),b0=y({},fo,{dataTransfer:0}),_0=It(b0),w0=y({},Ns,{relatedTarget:0}),yu=It(w0),S0=y({},qa,{animationName:0,elapsedTime:0,pseudoElement:0}),x0=It(S0),E0=y({},qa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),T0=It(E0),k0=y({},qa,{data:0}),Vf=It(k0),j0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},A0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},O0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function R0(e){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(e):(e=O0[e])?!!a[e]:!1}function bu(){return R0}var C0=y({},Ns,{key:function(e){if(e.key){var a=j0[e.key]||e.key;if(a!=="Unidentified")return a}return e.type==="keypress"?(e=lo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?A0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bu,charCode:function(e){return e.type==="keypress"?lo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?lo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),D0=It(C0),N0=y({},fo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gf=It(N0),M0=y({},Ns,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bu}),z0=It(M0),U0=y({},qa,{propertyName:0,elapsedTime:0,pseudoElement:0}),$0=It(U0),L0=y({},fo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),q0=It(L0),B0=y({},qa,{newState:0,oldState:0}),I0=It(B0),H0=[9,13,27,32],_u=Un&&"CompositionEvent"in window,zs=null;Un&&"documentMode"in document&&(zs=document.documentMode);var Z0=Un&&"TextEvent"in window&&!zs,Ff=Un&&(!_u||zs&&8<zs&&11>=zs),Yf=" ",Kf=!1;function Qf(e,a){switch(e){case"keyup":return H0.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Er=!1;function P0(e,a){switch(e){case"compositionend":return Xf(a);case"keypress":return a.which!==32?null:(Kf=!0,Yf);case"textInput":return e=a.data,e===Yf&&Kf?null:e;default:return null}}function V0(e,a){if(Er)return e==="compositionend"||!_u&&Qf(e,a)?(e=Hf(),oo=pu=ia=null,Er=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Ff&&a.locale!=="ko"?null:a.data;default:return null}}var G0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jf(e){var a=e&&e.nodeName&&e.nodeName.toLowerCase();return a==="input"?!!G0[e.type]:a==="textarea"}function Wf(e,a,s,o){Sr?xr?xr.push(o):xr=[o]:Sr=o,a=Jo(a,"onChange"),0<a.length&&(s=new co("onChange","change",null,s,o),e.push({event:s,listeners:a}))}var Us=null,$s=null;function F0(e){Np(e,0)}function ho(e){var a=Rs(e);if(Mf(a))return e}function eh(e,a){if(e==="change")return a}var th=!1;if(Un){var wu;if(Un){var Su="oninput"in document;if(!Su){var nh=document.createElement("div");nh.setAttribute("oninput","return;"),Su=typeof nh.oninput=="function"}wu=Su}else wu=!1;th=wu&&(!document.documentMode||9<document.documentMode)}function ah(){Us&&(Us.detachEvent("onpropertychange",rh),$s=Us=null)}function rh(e){if(e.propertyName==="value"&&ho($s)){var a=[];Wf(a,$s,e,fu(e)),If(F0,a)}}function Y0(e,a,s){e==="focusin"?(ah(),Us=a,$s=s,Us.attachEvent("onpropertychange",rh)):e==="focusout"&&ah()}function K0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ho($s)}function Q0(e,a){if(e==="click")return ho(a)}function X0(e,a){if(e==="input"||e==="change")return ho(a)}function J0(e,a){return e===a&&(e!==0||1/e===1/a)||e!==e&&a!==a}var Yt=typeof Object.is=="function"?Object.is:J0;function Ls(e,a){if(Yt(e,a))return!0;if(typeof e!="object"||e===null||typeof a!="object"||a===null)return!1;var s=Object.keys(e),o=Object.keys(a);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var c=s[o];if(!za.call(a,c)||!Yt(e[c],a[c]))return!1}return!0}function sh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ih(e,a){var s=sh(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=a&&o>=a)return{node:s,offset:a-e};e=o}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=sh(s)}}function oh(e,a){return e&&a?e===a?!0:e&&e.nodeType===3?!1:a&&a.nodeType===3?oh(e,a.parentNode):"contains"in e?e.contains(a):e.compareDocumentPosition?!!(e.compareDocumentPosition(a)&16):!1:!1}function lh(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var a=so(e.document);a instanceof e.HTMLIFrameElement;){try{var s=typeof a.contentWindow.location.href=="string"}catch{s=!1}if(s)e=a.contentWindow;else break;a=so(e.document)}return a}function xu(e){var a=e&&e.nodeName&&e.nodeName.toLowerCase();return a&&(a==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||a==="textarea"||e.contentEditable==="true")}var W0=Un&&"documentMode"in document&&11>=document.documentMode,Tr=null,Eu=null,qs=null,Tu=!1;function uh(e,a,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Tu||Tr==null||Tr!==so(o)||(o=Tr,"selectionStart"in o&&xu(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),qs&&Ls(qs,o)||(qs=o,o=Jo(Eu,"onSelect"),0<o.length&&(a=new co("onSelect","select",null,a,s),e.push({event:a,listeners:o}),a.target=Tr)))}function Ba(e,a){var s={};return s[e.toLowerCase()]=a.toLowerCase(),s["Webkit"+e]="webkit"+a,s["Moz"+e]="moz"+a,s}var kr={animationend:Ba("Animation","AnimationEnd"),animationiteration:Ba("Animation","AnimationIteration"),animationstart:Ba("Animation","AnimationStart"),transitionrun:Ba("Transition","TransitionRun"),transitionstart:Ba("Transition","TransitionStart"),transitioncancel:Ba("Transition","TransitionCancel"),transitionend:Ba("Transition","TransitionEnd")},ku={},ch={};Un&&(ch=document.createElement("div").style,"AnimationEvent"in window||(delete kr.animationend.animation,delete kr.animationiteration.animation,delete kr.animationstart.animation),"TransitionEvent"in window||delete kr.transitionend.transition);function Ia(e){if(ku[e])return ku[e];if(!kr[e])return e;var a=kr[e],s;for(s in a)if(a.hasOwnProperty(s)&&s in ch)return ku[e]=a[s];return e}var dh=Ia("animationend"),fh=Ia("animationiteration"),hh=Ia("animationstart"),eb=Ia("transitionrun"),tb=Ia("transitionstart"),nb=Ia("transitioncancel"),mh=Ia("transitionend"),ph=new Map,ju="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ju.push("scrollEnd");function vn(e,a){ph.set(e,a),La(a,[e])}var gh=new WeakMap;function on(e,a){if(typeof e=="object"&&e!==null){var s=gh.get(e);return s!==void 0?s:(a={value:e,source:a,stack:Df(a)},gh.set(e,a),a)}return{value:e,source:a,stack:Df(a)}}var ln=[],jr=0,Au=0;function mo(){for(var e=jr,a=Au=jr=0;a<e;){var s=ln[a];ln[a++]=null;var o=ln[a];ln[a++]=null;var c=ln[a];ln[a++]=null;var f=ln[a];if(ln[a++]=null,o!==null&&c!==null){var g=o.pending;g===null?c.next=c:(c.next=g.next,g.next=c),o.pending=c}f!==0&&vh(s,c,f)}}function po(e,a,s,o){ln[jr++]=e,ln[jr++]=a,ln[jr++]=s,ln[jr++]=o,Au|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Ou(e,a,s,o){return po(e,a,s,o),go(e)}function Ar(e,a){return po(e,null,null,a),go(e)}function vh(e,a,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var c=!1,f=e.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(c=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,c&&a!==null&&(c=31-Q(s),e=f.hiddenUpdates,o=e[c],o===null?e[c]=[a]:o.push(a),a.lane=s|536870912),f):null}function go(e){if(50<ci)throw ci=0,zc=null,Error(i(185));for(var a=e.return;a!==null;)e=a,a=e.return;return e.tag===3?e.stateNode:null}var Or={};function ab(e,a,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kt(e,a,s,o){return new ab(e,a,s,o)}function Ru(e){return e=e.prototype,!(!e||!e.isReactComponent)}function $n(e,a){var s=e.alternate;return s===null?(s=Kt(e.tag,a,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=a,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,a=e.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function yh(e,a){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=a,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,a=s.dependencies,e.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),e}function vo(e,a,s,o,c,f){var g=0;if(o=e,typeof e=="function")Ru(e)&&(g=1);else if(typeof e=="string")g=s_(e,s,se.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Ye:return e=Kt(31,s,a,c),e.elementType=Ye,e.lanes=f,e;case j:return Ha(s.children,c,f,a);case z:g=8,c|=24;break;case M:return e=Kt(12,s,a,c|2),e.elementType=M,e.lanes=f,e;case Z:return e=Kt(13,s,a,c),e.elementType=Z,e.lanes=f,e;case X:return e=Kt(19,s,a,c),e.elementType=X,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case N:case U:g=10;break e;case G:g=9;break e;case V:g=11;break e;case W:g=14;break e;case Oe:g=16,o=null;break e}g=29,s=Error(i(130,e===null?"null":typeof e,"")),o=null}return a=Kt(g,s,a,c),a.elementType=e,a.type=o,a.lanes=f,a}function Ha(e,a,s,o){return e=Kt(7,e,o,a),e.lanes=s,e}function Cu(e,a,s){return e=Kt(6,e,null,a),e.lanes=s,e}function Du(e,a,s){return a=Kt(4,e.children!==null?e.children:[],e.key,a),a.lanes=s,a.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},a}var Rr=[],Cr=0,yo=null,bo=0,un=[],cn=0,Za=null,Ln=1,qn="";function Pa(e,a){Rr[Cr++]=bo,Rr[Cr++]=yo,yo=e,bo=a}function bh(e,a,s){un[cn++]=Ln,un[cn++]=qn,un[cn++]=Za,Za=e;var o=Ln;e=qn;var c=32-Q(o)-1;o&=~(1<<c),s+=1;var f=32-Q(a)+c;if(30<f){var g=c-c%5;f=(o&(1<<g)-1).toString(32),o>>=g,c-=g,Ln=1<<32-Q(a)+c|s<<c|o,qn=f+e}else Ln=1<<f|s<<c|o,qn=e}function Nu(e){e.return!==null&&(Pa(e,1),bh(e,1,0))}function Mu(e){for(;e===yo;)yo=Rr[--Cr],Rr[Cr]=null,bo=Rr[--Cr],Rr[Cr]=null;for(;e===Za;)Za=un[--cn],un[cn]=null,qn=un[--cn],un[cn]=null,Ln=un[--cn],un[cn]=null}var Lt=null,dt=null,$e=!1,Va=null,Tn=!1,zu=Error(i(519));function Ga(e){var a=Error(i(418,""));throw Hs(on(a,e)),zu}function _h(e){var a=e.stateNode,s=e.type,o=e.memoizedProps;switch(a[be]=e,a[qe]=o,s){case"dialog":ke("cancel",a),ke("close",a);break;case"iframe":case"object":case"embed":ke("load",a);break;case"video":case"audio":for(s=0;s<fi.length;s++)ke(fi[s],a);break;case"source":ke("error",a);break;case"img":case"image":case"link":ke("error",a),ke("load",a);break;case"details":ke("toggle",a);break;case"input":ke("invalid",a),zf(a,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),ro(a);break;case"select":ke("invalid",a);break;case"textarea":ke("invalid",a),$f(a,o.value,o.defaultValue,o.children),ro(a)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||a.textContent===""+s||o.suppressHydrationWarning===!0||$p(a.textContent,s)?(o.popover!=null&&(ke("beforetoggle",a),ke("toggle",a)),o.onScroll!=null&&ke("scroll",a),o.onScrollEnd!=null&&ke("scrollend",a),o.onClick!=null&&(a.onclick=Wo),a=!0):a=!1,a||Ga(e)}function wh(e){for(Lt=e.return;Lt;)switch(Lt.tag){case 5:case 13:Tn=!1;return;case 27:case 3:Tn=!0;return;default:Lt=Lt.return}}function Bs(e){if(e!==Lt)return!1;if(!$e)return wh(e),$e=!0,!1;var a=e.tag,s;if((s=a!==3&&a!==27)&&((s=a===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||Xc(e.type,e.memoizedProps)),s=!s),s&&dt&&Ga(e),wh(e),a===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));e:{for(e=e.nextSibling,a=0;e;){if(e.nodeType===8)if(s=e.data,s==="/$"){if(a===0){dt=bn(e.nextSibling);break e}a--}else s!=="$"&&s!=="$!"&&s!=="$?"||a++;e=e.nextSibling}dt=null}}else a===27?(a=dt,Sa(e.type)?(e=td,td=null,dt=e):dt=a):dt=Lt?bn(e.stateNode.nextSibling):null;return!0}function Is(){dt=Lt=null,$e=!1}function Sh(){var e=Va;return e!==null&&(Pt===null?Pt=e:Pt.push.apply(Pt,e),Va=null),e}function Hs(e){Va===null?Va=[e]:Va.push(e)}var Uu=P(null),Fa=null,Bn=null;function oa(e,a,s){J(Uu,a._currentValue),a._currentValue=s}function In(e){e._currentValue=Uu.current,ee(Uu)}function $u(e,a,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&a)!==a?(e.childLanes|=a,o!==null&&(o.childLanes|=a)):o!==null&&(o.childLanes&a)!==a&&(o.childLanes|=a),e===s)break;e=e.return}}function Lu(e,a,s,o){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var f=c.dependencies;if(f!==null){var g=c.child;f=f.firstContext;e:for(;f!==null;){var b=f;f=c;for(var S=0;S<a.length;S++)if(b.context===a[S]){f.lanes|=s,b=f.alternate,b!==null&&(b.lanes|=s),$u(f.return,s,e),o||(g=null);break e}f=b.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(i(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),$u(g,s,e),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===e){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function Zs(e,a,s,o){e=null;for(var c=a,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(i(387));if(g=g.memoizedProps,g!==null){var b=c.type;Yt(c.pendingProps.value,g.value)||(e!==null?e.push(b):e=[b])}}else if(c===bt.current){if(g=c.alternate,g===null)throw Error(i(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(yi):e=[yi])}c=c.return}e!==null&&Lu(a,e,s,o),a.flags|=262144}function _o(e){for(e=e.firstContext;e!==null;){if(!Yt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ya(e){Fa=e,Bn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Nt(e){return xh(Fa,e)}function wo(e,a){return Fa===null&&Ya(e),xh(e,a)}function xh(e,a){var s=a._currentValue;if(a={context:a,memoizedValue:s,next:null},Bn===null){if(e===null)throw Error(i(308));Bn=a,e.dependencies={lanes:0,firstContext:a},e.flags|=524288}else Bn=Bn.next=a;return s}var rb=typeof AbortController<"u"?AbortController:function(){var e=[],a=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){a.aborted=!0,e.forEach(function(s){return s()})}},sb=t.unstable_scheduleCallback,ib=t.unstable_NormalPriority,wt={$$typeof:U,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qu(){return{controller:new rb,data:new Map,refCount:0}}function Ps(e){e.refCount--,e.refCount===0&&sb(ib,function(){e.controller.abort()})}var Vs=null,Bu=0,Dr=0,Nr=null;function ob(e,a){if(Vs===null){var s=Vs=[];Bu=0,Dr=Hc(),Nr={status:"pending",value:void 0,then:function(o){s.push(o)}}}return Bu++,a.then(Eh,Eh),a}function Eh(){if(--Bu===0&&Vs!==null){Nr!==null&&(Nr.status="fulfilled");var e=Vs;Vs=null,Dr=0,Nr=null;for(var a=0;a<e.length;a++)(0,e[a])()}}function lb(e,a){var s=[],o={status:"pending",value:null,reason:null,then:function(c){s.push(c)}};return e.then(function(){o.status="fulfilled",o.value=a;for(var c=0;c<s.length;c++)(0,s[c])(a)},function(c){for(o.status="rejected",o.reason=c,c=0;c<s.length;c++)(0,s[c])(void 0)}),o}var Th=L.S;L.S=function(e,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&ob(e,a),Th!==null&&Th(e,a)};var Ka=P(null);function Iu(){var e=Ka.current;return e!==null?e:Xe.pooledCache}function So(e,a){a===null?J(Ka,Ka.current):J(Ka,a.pool)}function kh(){var e=Iu();return e===null?null:{parent:wt._currentValue,pool:e}}var Gs=Error(i(460)),jh=Error(i(474)),xo=Error(i(542)),Hu={then:function(){}};function Ah(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Eo(){}function Oh(e,a,s){switch(s=e[s],s===void 0?e.push(a):s!==a&&(a.then(Eo,Eo),a=s),a.status){case"fulfilled":return a.value;case"rejected":throw e=a.reason,Ch(e),e;default:if(typeof a.status=="string")a.then(Eo,Eo);else{if(e=Xe,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=a,e.status="pending",e.then(function(o){if(a.status==="pending"){var c=a;c.status="fulfilled",c.value=o}},function(o){if(a.status==="pending"){var c=a;c.status="rejected",c.reason=o}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw e=a.reason,Ch(e),e}throw Fs=a,Gs}}var Fs=null;function Rh(){if(Fs===null)throw Error(i(459));var e=Fs;return Fs=null,e}function Ch(e){if(e===Gs||e===xo)throw Error(i(483))}var la=!1;function Zu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Pu(e,a){e=e.updateQueue,a.updateQueue===e&&(a.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ua(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ca(e,a,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Ie&2)!==0){var c=o.pending;return c===null?a.next=a:(a.next=c.next,c.next=a),o.pending=a,a=go(e),vh(e,null,s),a}return po(e,o,a,s),go(e)}function Ys(e,a,s){if(a=a.updateQueue,a!==null&&(a=a.shared,(s&4194048)!==0)){var o=a.lanes;o&=e.pendingLanes,s|=o,a.lanes=s,gn(e,s)}}function Vu(e,a){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var c=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?c=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?c=f=a:f=f.next=a}else c=f=a;s={baseState:o.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=a:e.next=a,s.lastBaseUpdate=a}var Gu=!1;function Ks(){if(Gu){var e=Nr;if(e!==null)throw e}}function Qs(e,a,s,o){Gu=!1;var c=e.updateQueue;la=!1;var f=c.firstBaseUpdate,g=c.lastBaseUpdate,b=c.shared.pending;if(b!==null){c.shared.pending=null;var S=b,R=S.next;S.next=null,g===null?f=R:g.next=R,g=S;var q=e.alternate;q!==null&&(q=q.updateQueue,b=q.lastBaseUpdate,b!==g&&(b===null?q.firstBaseUpdate=R:b.next=R,q.lastBaseUpdate=S))}if(f!==null){var H=c.baseState;g=0,q=R=S=null,b=f;do{var C=b.lane&-536870913,D=C!==b.lane;if(D?(De&C)===C:(o&C)===C){C!==0&&C===Dr&&(Gu=!0),q!==null&&(q=q.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var he=e,de=b;C=a;var Fe=s;switch(de.tag){case 1:if(he=de.payload,typeof he=="function"){H=he.call(Fe,H,C);break e}H=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=de.payload,C=typeof he=="function"?he.call(Fe,H,C):he,C==null)break e;H=y({},H,C);break e;case 2:la=!0}}C=b.callback,C!==null&&(e.flags|=64,D&&(e.flags|=8192),D=c.callbacks,D===null?c.callbacks=[C]:D.push(C))}else D={lane:C,tag:b.tag,payload:b.payload,callback:b.callback,next:null},q===null?(R=q=D,S=H):q=q.next=D,g|=C;if(b=b.next,b===null){if(b=c.shared.pending,b===null)break;D=b,b=D.next,D.next=null,c.lastBaseUpdate=D,c.shared.pending=null}}while(!0);q===null&&(S=H),c.baseState=S,c.firstBaseUpdate=R,c.lastBaseUpdate=q,f===null&&(c.shared.lanes=0),ya|=g,e.lanes=g,e.memoizedState=H}}function Dh(e,a){if(typeof e!="function")throw Error(i(191,e));e.call(a)}function Nh(e,a){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Dh(s[e],a)}var Mr=P(null),To=P(0);function Mh(e,a){e=Yn,J(To,e),J(Mr,a),Yn=e|a.baseLanes}function Fu(){J(To,Yn),J(Mr,Mr.current)}function Yu(){Yn=To.current,ee(Mr),ee(To)}var da=0,Se=null,Ve=null,vt=null,ko=!1,zr=!1,Qa=!1,jo=0,Xs=0,Ur=null,ub=0;function mt(){throw Error(i(321))}function Ku(e,a){if(a===null)return!1;for(var s=0;s<a.length&&s<e.length;s++)if(!Yt(e[s],a[s]))return!1;return!0}function Qu(e,a,s,o,c,f){return da=f,Se=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,L.H=e===null||e.memoizedState===null?vm:ym,Qa=!1,f=s(o,c),Qa=!1,zr&&(f=Uh(a,s,o,c)),zh(e),f}function zh(e){L.H=No;var a=Ve!==null&&Ve.next!==null;if(da=0,vt=Ve=Se=null,ko=!1,Xs=0,Ur=null,a)throw Error(i(300));e===null||kt||(e=e.dependencies,e!==null&&_o(e)&&(kt=!0))}function Uh(e,a,s,o){Se=e;var c=0;do{if(zr&&(Ur=null),Xs=0,zr=!1,25<=c)throw Error(i(301));if(c+=1,vt=Ve=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}L.H=gb,f=a(s,o)}while(zr);return f}function cb(){var e=L.H,a=e.useState()[0];return a=typeof a.then=="function"?Js(a):a,e=e.useState()[0],(Ve!==null?Ve.memoizedState:null)!==e&&(Se.flags|=1024),a}function Xu(){var e=jo!==0;return jo=0,e}function Ju(e,a,s){a.updateQueue=e.updateQueue,a.flags&=-2053,e.lanes&=~s}function Wu(e){if(ko){for(e=e.memoizedState;e!==null;){var a=e.queue;a!==null&&(a.pending=null),e=e.next}ko=!1}da=0,vt=Ve=Se=null,zr=!1,Xs=jo=0,Ur=null}function Ht(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?Se.memoizedState=vt=e:vt=vt.next=e,vt}function yt(){if(Ve===null){var e=Se.alternate;e=e!==null?e.memoizedState:null}else e=Ve.next;var a=vt===null?Se.memoizedState:vt.next;if(a!==null)vt=a,Ve=e;else{if(e===null)throw Se.alternate===null?Error(i(467)):Error(i(310));Ve=e,e={memoizedState:Ve.memoizedState,baseState:Ve.baseState,baseQueue:Ve.baseQueue,queue:Ve.queue,next:null},vt===null?Se.memoizedState=vt=e:vt=vt.next=e}return vt}function ec(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Js(e){var a=Xs;return Xs+=1,Ur===null&&(Ur=[]),e=Oh(Ur,e,a),a=Se,(vt===null?a.memoizedState:vt.next)===null&&(a=a.alternate,L.H=a===null||a.memoizedState===null?vm:ym),e}function Ao(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Js(e);if(e.$$typeof===U)return Nt(e)}throw Error(i(438,String(e)))}function tc(e){var a=null,s=Se.updateQueue;if(s!==null&&(a=s.memoCache),a==null){var o=Se.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(a={data:o.data.map(function(c){return c.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),s===null&&(s=ec(),Se.updateQueue=s),s.memoCache=a,s=a.data[a.index],s===void 0)for(s=a.data[a.index]=Array(e),o=0;o<e;o++)s[o]=te;return a.index++,s}function Hn(e,a){return typeof a=="function"?a(e):a}function Oo(e){var a=yt();return nc(a,Ve,e)}function nc(e,a,s){var o=e.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=s;var c=e.baseQueue,f=o.pending;if(f!==null){if(c!==null){var g=c.next;c.next=f.next,f.next=g}a.baseQueue=c=f,o.pending=null}if(f=e.baseState,c===null)e.memoizedState=f;else{a=c.next;var b=g=null,S=null,R=a,q=!1;do{var H=R.lane&-536870913;if(H!==R.lane?(De&H)===H:(da&H)===H){var C=R.revertLane;if(C===0)S!==null&&(S=S.next={lane:0,revertLane:0,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null}),H===Dr&&(q=!0);else if((da&C)===C){R=R.next,C===Dr&&(q=!0);continue}else H={lane:0,revertLane:R.revertLane,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},S===null?(b=S=H,g=f):S=S.next=H,Se.lanes|=C,ya|=C;H=R.action,Qa&&s(f,H),f=R.hasEagerState?R.eagerState:s(f,H)}else C={lane:H,revertLane:R.revertLane,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},S===null?(b=S=C,g=f):S=S.next=C,Se.lanes|=H,ya|=H;R=R.next}while(R!==null&&R!==a);if(S===null?g=f:S.next=b,!Yt(f,e.memoizedState)&&(kt=!0,q&&(s=Nr,s!==null)))throw s;e.memoizedState=f,e.baseState=g,e.baseQueue=S,o.lastRenderedState=f}return c===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function ac(e){var a=yt(),s=a.queue;if(s===null)throw Error(i(311));s.lastRenderedReducer=e;var o=s.dispatch,c=s.pending,f=a.memoizedState;if(c!==null){s.pending=null;var g=c=c.next;do f=e(f,g.action),g=g.next;while(g!==c);Yt(f,a.memoizedState)||(kt=!0),a.memoizedState=f,a.baseQueue===null&&(a.baseState=f),s.lastRenderedState=f}return[f,o]}function $h(e,a,s){var o=Se,c=yt(),f=$e;if(f){if(s===void 0)throw Error(i(407));s=s()}else s=a();var g=!Yt((Ve||c).memoizedState,s);g&&(c.memoizedState=s,kt=!0),c=c.queue;var b=Bh.bind(null,o,c,e);if(Ws(2048,8,b,[e]),c.getSnapshot!==a||g||vt!==null&&vt.memoizedState.tag&1){if(o.flags|=2048,$r(9,Ro(),qh.bind(null,o,c,s,a),null),Xe===null)throw Error(i(349));f||(da&124)!==0||Lh(o,a,s)}return s}function Lh(e,a,s){e.flags|=16384,e={getSnapshot:a,value:s},a=Se.updateQueue,a===null?(a=ec(),Se.updateQueue=a,a.stores=[e]):(s=a.stores,s===null?a.stores=[e]:s.push(e))}function qh(e,a,s,o){a.value=s,a.getSnapshot=o,Ih(a)&&Hh(e)}function Bh(e,a,s){return s(function(){Ih(a)&&Hh(e)})}function Ih(e){var a=e.getSnapshot;e=e.value;try{var s=a();return!Yt(e,s)}catch{return!0}}function Hh(e){var a=Ar(e,2);a!==null&&en(a,e,2)}function rc(e){var a=Ht();if(typeof e=="function"){var s=e;if(e=s(),Qa){ce(!0);try{s()}finally{ce(!1)}}}return a.memoizedState=a.baseState=e,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hn,lastRenderedState:e},a}function Zh(e,a,s,o){return e.baseState=s,nc(e,Ve,typeof o=="function"?o:Hn)}function db(e,a,s,o,c){if(Do(e))throw Error(i(485));if(e=a.action,e!==null){var f={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};L.T!==null?s(!0):f.isTransition=!1,o(f),s=a.pending,s===null?(f.next=a.pending=f,Ph(a,f)):(f.next=s.next,a.pending=s.next=f)}}function Ph(e,a){var s=a.action,o=a.payload,c=e.state;if(a.isTransition){var f=L.T,g={};L.T=g;try{var b=s(c,o),S=L.S;S!==null&&S(g,b),Vh(e,a,b)}catch(R){sc(e,a,R)}finally{L.T=f}}else try{f=s(c,o),Vh(e,a,f)}catch(R){sc(e,a,R)}}function Vh(e,a,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){Gh(e,a,o)},function(o){return sc(e,a,o)}):Gh(e,a,s)}function Gh(e,a,s){a.status="fulfilled",a.value=s,Fh(a),e.state=s,a=e.pending,a!==null&&(s=a.next,s===a?e.pending=null:(s=s.next,a.next=s,Ph(e,s)))}function sc(e,a,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do a.status="rejected",a.reason=s,Fh(a),a=a.next;while(a!==o)}e.action=null}function Fh(e){e=e.listeners;for(var a=0;a<e.length;a++)(0,e[a])()}function Yh(e,a){return a}function Kh(e,a){if($e){var s=Xe.formState;if(s!==null){e:{var o=Se;if($e){if(dt){t:{for(var c=dt,f=Tn;c.nodeType!==8;){if(!f){c=null;break t}if(c=bn(c.nextSibling),c===null){c=null;break t}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){dt=bn(c.nextSibling),o=c.data==="F!";break e}}Ga(o)}o=!1}o&&(a=s[0])}}return s=Ht(),s.memoizedState=s.baseState=a,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yh,lastRenderedState:a},s.queue=o,s=mm.bind(null,Se,o),o.dispatch=s,o=rc(!1),f=cc.bind(null,Se,!1,o.queue),o=Ht(),c={state:a,dispatch:null,action:e,pending:null},o.queue=c,s=db.bind(null,Se,c,f,s),c.dispatch=s,o.memoizedState=e,[a,s,!1]}function Qh(e){var a=yt();return Xh(a,Ve,e)}function Xh(e,a,s){if(a=nc(e,a,Yh)[0],e=Oo(Hn)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var o=Js(a)}catch(g){throw g===Gs?xo:g}else o=a;a=yt();var c=a.queue,f=c.dispatch;return s!==a.memoizedState&&(Se.flags|=2048,$r(9,Ro(),fb.bind(null,c,s),null)),[o,f,e]}function fb(e,a){e.action=a}function Jh(e){var a=yt(),s=Ve;if(s!==null)return Xh(a,s,e);yt(),a=a.memoizedState,s=yt();var o=s.queue.dispatch;return s.memoizedState=e,[a,o,!1]}function $r(e,a,s,o){return e={tag:e,create:s,deps:o,inst:a,next:null},a=Se.updateQueue,a===null&&(a=ec(),Se.updateQueue=a),s=a.lastEffect,s===null?a.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,a.lastEffect=e),e}function Ro(){return{destroy:void 0,resource:void 0}}function Wh(){return yt().memoizedState}function Co(e,a,s,o){var c=Ht();o=o===void 0?null:o,Se.flags|=e,c.memoizedState=$r(1|a,Ro(),s,o)}function Ws(e,a,s,o){var c=yt();o=o===void 0?null:o;var f=c.memoizedState.inst;Ve!==null&&o!==null&&Ku(o,Ve.memoizedState.deps)?c.memoizedState=$r(a,f,s,o):(Se.flags|=e,c.memoizedState=$r(1|a,f,s,o))}function em(e,a){Co(8390656,8,e,a)}function tm(e,a){Ws(2048,8,e,a)}function nm(e,a){return Ws(4,2,e,a)}function am(e,a){return Ws(4,4,e,a)}function rm(e,a){if(typeof a=="function"){e=e();var s=a(e);return function(){typeof s=="function"?s():a(null)}}if(a!=null)return e=e(),a.current=e,function(){a.current=null}}function sm(e,a,s){s=s!=null?s.concat([e]):null,Ws(4,4,rm.bind(null,a,e),s)}function ic(){}function im(e,a){var s=yt();a=a===void 0?null:a;var o=s.memoizedState;return a!==null&&Ku(a,o[1])?o[0]:(s.memoizedState=[e,a],e)}function om(e,a){var s=yt();a=a===void 0?null:a;var o=s.memoizedState;if(a!==null&&Ku(a,o[1]))return o[0];if(o=e(),Qa){ce(!0);try{e()}finally{ce(!1)}}return s.memoizedState=[o,a],o}function oc(e,a,s){return s===void 0||(da&1073741824)!==0?e.memoizedState=a:(e.memoizedState=s,e=cp(),Se.lanes|=e,ya|=e,s)}function lm(e,a,s,o){return Yt(s,a)?s:Mr.current!==null?(e=oc(e,s,o),Yt(e,a)||(kt=!0),e):(da&42)===0?(kt=!0,e.memoizedState=s):(e=cp(),Se.lanes|=e,ya|=e,a)}function um(e,a,s,o,c){var f=Y.p;Y.p=f!==0&&8>f?f:8;var g=L.T,b={};L.T=b,cc(e,!1,a,s);try{var S=c(),R=L.S;if(R!==null&&R(b,S),S!==null&&typeof S=="object"&&typeof S.then=="function"){var q=lb(S,o);ei(e,a,q,Wt(e))}else ei(e,a,o,Wt(e))}catch(H){ei(e,a,{then:function(){},status:"rejected",reason:H},Wt())}finally{Y.p=f,L.T=g}}function hb(){}function lc(e,a,s,o){if(e.tag!==5)throw Error(i(476));var c=cm(e).queue;um(e,c,a,le,s===null?hb:function(){return dm(e),s(o)})}function cm(e){var a=e.memoizedState;if(a!==null)return a;a={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hn,lastRenderedState:le},next:null};var s={};return a.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hn,lastRenderedState:s},next:null},e.memoizedState=a,e=e.alternate,e!==null&&(e.memoizedState=a),a}function dm(e){var a=cm(e).next.queue;ei(e,a,{},Wt())}function uc(){return Nt(yi)}function fm(){return yt().memoizedState}function hm(){return yt().memoizedState}function mb(e){for(var a=e.return;a!==null;){switch(a.tag){case 24:case 3:var s=Wt();e=ua(s);var o=ca(a,e,s);o!==null&&(en(o,a,s),Ys(o,a,s)),a={cache:qu()},e.payload=a;return}a=a.return}}function pb(e,a,s){var o=Wt();s={lane:o,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},Do(e)?pm(a,s):(s=Ou(e,a,s,o),s!==null&&(en(s,e,o),gm(s,a,o)))}function mm(e,a,s){var o=Wt();ei(e,a,s,o)}function ei(e,a,s,o){var c={lane:o,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(Do(e))pm(a,c);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=a.lastRenderedReducer,f!==null))try{var g=a.lastRenderedState,b=f(g,s);if(c.hasEagerState=!0,c.eagerState=b,Yt(b,g))return po(e,a,c,0),Xe===null&&mo(),!1}catch{}finally{}if(s=Ou(e,a,c,o),s!==null)return en(s,e,o),gm(s,a,o),!0}return!1}function cc(e,a,s,o){if(o={lane:2,revertLane:Hc(),action:o,hasEagerState:!1,eagerState:null,next:null},Do(e)){if(a)throw Error(i(479))}else a=Ou(e,s,o,2),a!==null&&en(a,e,2)}function Do(e){var a=e.alternate;return e===Se||a!==null&&a===Se}function pm(e,a){zr=ko=!0;var s=e.pending;s===null?a.next=a:(a.next=s.next,s.next=a),e.pending=a}function gm(e,a,s){if((s&4194048)!==0){var o=a.lanes;o&=e.pendingLanes,s|=o,a.lanes=s,gn(e,s)}}var No={readContext:Nt,use:Ao,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useLayoutEffect:mt,useInsertionEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useSyncExternalStore:mt,useId:mt,useHostTransitionStatus:mt,useFormState:mt,useActionState:mt,useOptimistic:mt,useMemoCache:mt,useCacheRefresh:mt},vm={readContext:Nt,use:Ao,useCallback:function(e,a){return Ht().memoizedState=[e,a===void 0?null:a],e},useContext:Nt,useEffect:em,useImperativeHandle:function(e,a,s){s=s!=null?s.concat([e]):null,Co(4194308,4,rm.bind(null,a,e),s)},useLayoutEffect:function(e,a){return Co(4194308,4,e,a)},useInsertionEffect:function(e,a){Co(4,2,e,a)},useMemo:function(e,a){var s=Ht();a=a===void 0?null:a;var o=e();if(Qa){ce(!0);try{e()}finally{ce(!1)}}return s.memoizedState=[o,a],o},useReducer:function(e,a,s){var o=Ht();if(s!==void 0){var c=s(a);if(Qa){ce(!0);try{s(a)}finally{ce(!1)}}}else c=a;return o.memoizedState=o.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},o.queue=e,e=e.dispatch=pb.bind(null,Se,e),[o.memoizedState,e]},useRef:function(e){var a=Ht();return e={current:e},a.memoizedState=e},useState:function(e){e=rc(e);var a=e.queue,s=mm.bind(null,Se,a);return a.dispatch=s,[e.memoizedState,s]},useDebugValue:ic,useDeferredValue:function(e,a){var s=Ht();return oc(s,e,a)},useTransition:function(){var e=rc(!1);return e=um.bind(null,Se,e.queue,!0,!1),Ht().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,a,s){var o=Se,c=Ht();if($e){if(s===void 0)throw Error(i(407));s=s()}else{if(s=a(),Xe===null)throw Error(i(349));(De&124)!==0||Lh(o,a,s)}c.memoizedState=s;var f={value:s,getSnapshot:a};return c.queue=f,em(Bh.bind(null,o,f,e),[e]),o.flags|=2048,$r(9,Ro(),qh.bind(null,o,f,s,a),null),s},useId:function(){var e=Ht(),a=Xe.identifierPrefix;if($e){var s=qn,o=Ln;s=(o&~(1<<32-Q(o)-1)).toString(32)+s,a=""+a+"R"+s,s=jo++,0<s&&(a+="H"+s.toString(32)),a+=""}else s=ub++,a=""+a+"r"+s.toString(32)+"";return e.memoizedState=a},useHostTransitionStatus:uc,useFormState:Kh,useActionState:Kh,useOptimistic:function(e){var a=Ht();a.memoizedState=a.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=s,a=cc.bind(null,Se,!0,s),s.dispatch=a,[e,a]},useMemoCache:tc,useCacheRefresh:function(){return Ht().memoizedState=mb.bind(null,Se)}},ym={readContext:Nt,use:Ao,useCallback:im,useContext:Nt,useEffect:tm,useImperativeHandle:sm,useInsertionEffect:nm,useLayoutEffect:am,useMemo:om,useReducer:Oo,useRef:Wh,useState:function(){return Oo(Hn)},useDebugValue:ic,useDeferredValue:function(e,a){var s=yt();return lm(s,Ve.memoizedState,e,a)},useTransition:function(){var e=Oo(Hn)[0],a=yt().memoizedState;return[typeof e=="boolean"?e:Js(e),a]},useSyncExternalStore:$h,useId:fm,useHostTransitionStatus:uc,useFormState:Qh,useActionState:Qh,useOptimistic:function(e,a){var s=yt();return Zh(s,Ve,e,a)},useMemoCache:tc,useCacheRefresh:hm},gb={readContext:Nt,use:Ao,useCallback:im,useContext:Nt,useEffect:tm,useImperativeHandle:sm,useInsertionEffect:nm,useLayoutEffect:am,useMemo:om,useReducer:ac,useRef:Wh,useState:function(){return ac(Hn)},useDebugValue:ic,useDeferredValue:function(e,a){var s=yt();return Ve===null?oc(s,e,a):lm(s,Ve.memoizedState,e,a)},useTransition:function(){var e=ac(Hn)[0],a=yt().memoizedState;return[typeof e=="boolean"?e:Js(e),a]},useSyncExternalStore:$h,useId:fm,useHostTransitionStatus:uc,useFormState:Jh,useActionState:Jh,useOptimistic:function(e,a){var s=yt();return Ve!==null?Zh(s,Ve,e,a):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:tc,useCacheRefresh:hm},Lr=null,ti=0;function Mo(e){var a=ti;return ti+=1,Lr===null&&(Lr=[]),Oh(Lr,e,a)}function ni(e,a){a=a.props.ref,e.ref=a!==void 0?a:null}function zo(e,a){throw a.$$typeof===_?Error(i(525)):(e=Object.prototype.toString.call(a),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":e)))}function bm(e){var a=e._init;return a(e._payload)}function _m(e){function a(A,T){if(e){var O=A.deletions;O===null?(A.deletions=[T],A.flags|=16):O.push(T)}}function s(A,T){if(!e)return null;for(;T!==null;)a(A,T),T=T.sibling;return null}function o(A){for(var T=new Map;A!==null;)A.key!==null?T.set(A.key,A):T.set(A.index,A),A=A.sibling;return T}function c(A,T){return A=$n(A,T),A.index=0,A.sibling=null,A}function f(A,T,O){return A.index=O,e?(O=A.alternate,O!==null?(O=O.index,O<T?(A.flags|=67108866,T):O):(A.flags|=67108866,T)):(A.flags|=1048576,T)}function g(A){return e&&A.alternate===null&&(A.flags|=67108866),A}function b(A,T,O,I){return T===null||T.tag!==6?(T=Cu(O,A.mode,I),T.return=A,T):(T=c(T,O),T.return=A,T)}function S(A,T,O,I){var ae=O.type;return ae===j?q(A,T,O.props.children,I,O.key):T!==null&&(T.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===Oe&&bm(ae)===T.type)?(T=c(T,O.props),ni(T,O),T.return=A,T):(T=vo(O.type,O.key,O.props,null,A.mode,I),ni(T,O),T.return=A,T)}function R(A,T,O,I){return T===null||T.tag!==4||T.stateNode.containerInfo!==O.containerInfo||T.stateNode.implementation!==O.implementation?(T=Du(O,A.mode,I),T.return=A,T):(T=c(T,O.children||[]),T.return=A,T)}function q(A,T,O,I,ae){return T===null||T.tag!==7?(T=Ha(O,A.mode,I,ae),T.return=A,T):(T=c(T,O),T.return=A,T)}function H(A,T,O){if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return T=Cu(""+T,A.mode,O),T.return=A,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case w:return O=vo(T.type,T.key,T.props,null,A.mode,O),ni(O,T),O.return=A,O;case x:return T=Du(T,A.mode,O),T.return=A,T;case Oe:var I=T._init;return T=I(T._payload),H(A,T,O)}if(gt(T)||_e(T))return T=Ha(T,A.mode,O,null),T.return=A,T;if(typeof T.then=="function")return H(A,Mo(T),O);if(T.$$typeof===U)return H(A,wo(A,T),O);zo(A,T)}return null}function C(A,T,O,I){var ae=T!==null?T.key:null;if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return ae!==null?null:b(A,T,""+O,I);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case w:return O.key===ae?S(A,T,O,I):null;case x:return O.key===ae?R(A,T,O,I):null;case Oe:return ae=O._init,O=ae(O._payload),C(A,T,O,I)}if(gt(O)||_e(O))return ae!==null?null:q(A,T,O,I,null);if(typeof O.then=="function")return C(A,T,Mo(O),I);if(O.$$typeof===U)return C(A,T,wo(A,O),I);zo(A,O)}return null}function D(A,T,O,I,ae){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return A=A.get(O)||null,b(T,A,""+I,ae);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case w:return A=A.get(I.key===null?O:I.key)||null,S(T,A,I,ae);case x:return A=A.get(I.key===null?O:I.key)||null,R(T,A,I,ae);case Oe:var xe=I._init;return I=xe(I._payload),D(A,T,O,I,ae)}if(gt(I)||_e(I))return A=A.get(O)||null,q(T,A,I,ae,null);if(typeof I.then=="function")return D(A,T,O,Mo(I),ae);if(I.$$typeof===U)return D(A,T,O,wo(T,I),ae);zo(T,I)}return null}function he(A,T,O,I){for(var ae=null,xe=null,ie=T,fe=T=0,At=null;ie!==null&&fe<O.length;fe++){ie.index>fe?(At=ie,ie=null):At=ie.sibling;var ze=C(A,ie,O[fe],I);if(ze===null){ie===null&&(ie=At);break}e&&ie&&ze.alternate===null&&a(A,ie),T=f(ze,T,fe),xe===null?ae=ze:xe.sibling=ze,xe=ze,ie=At}if(fe===O.length)return s(A,ie),$e&&Pa(A,fe),ae;if(ie===null){for(;fe<O.length;fe++)ie=H(A,O[fe],I),ie!==null&&(T=f(ie,T,fe),xe===null?ae=ie:xe.sibling=ie,xe=ie);return $e&&Pa(A,fe),ae}for(ie=o(ie);fe<O.length;fe++)At=D(ie,A,fe,O[fe],I),At!==null&&(e&&At.alternate!==null&&ie.delete(At.key===null?fe:At.key),T=f(At,T,fe),xe===null?ae=At:xe.sibling=At,xe=At);return e&&ie.forEach(function(ja){return a(A,ja)}),$e&&Pa(A,fe),ae}function de(A,T,O,I){if(O==null)throw Error(i(151));for(var ae=null,xe=null,ie=T,fe=T=0,At=null,ze=O.next();ie!==null&&!ze.done;fe++,ze=O.next()){ie.index>fe?(At=ie,ie=null):At=ie.sibling;var ja=C(A,ie,ze.value,I);if(ja===null){ie===null&&(ie=At);break}e&&ie&&ja.alternate===null&&a(A,ie),T=f(ja,T,fe),xe===null?ae=ja:xe.sibling=ja,xe=ja,ie=At}if(ze.done)return s(A,ie),$e&&Pa(A,fe),ae;if(ie===null){for(;!ze.done;fe++,ze=O.next())ze=H(A,ze.value,I),ze!==null&&(T=f(ze,T,fe),xe===null?ae=ze:xe.sibling=ze,xe=ze);return $e&&Pa(A,fe),ae}for(ie=o(ie);!ze.done;fe++,ze=O.next())ze=D(ie,A,fe,ze.value,I),ze!==null&&(e&&ze.alternate!==null&&ie.delete(ze.key===null?fe:ze.key),T=f(ze,T,fe),xe===null?ae=ze:xe.sibling=ze,xe=ze);return e&&ie.forEach(function(v_){return a(A,v_)}),$e&&Pa(A,fe),ae}function Fe(A,T,O,I){if(typeof O=="object"&&O!==null&&O.type===j&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case w:e:{for(var ae=O.key;T!==null;){if(T.key===ae){if(ae=O.type,ae===j){if(T.tag===7){s(A,T.sibling),I=c(T,O.props.children),I.return=A,A=I;break e}}else if(T.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===Oe&&bm(ae)===T.type){s(A,T.sibling),I=c(T,O.props),ni(I,O),I.return=A,A=I;break e}s(A,T);break}else a(A,T);T=T.sibling}O.type===j?(I=Ha(O.props.children,A.mode,I,O.key),I.return=A,A=I):(I=vo(O.type,O.key,O.props,null,A.mode,I),ni(I,O),I.return=A,A=I)}return g(A);case x:e:{for(ae=O.key;T!==null;){if(T.key===ae)if(T.tag===4&&T.stateNode.containerInfo===O.containerInfo&&T.stateNode.implementation===O.implementation){s(A,T.sibling),I=c(T,O.children||[]),I.return=A,A=I;break e}else{s(A,T);break}else a(A,T);T=T.sibling}I=Du(O,A.mode,I),I.return=A,A=I}return g(A);case Oe:return ae=O._init,O=ae(O._payload),Fe(A,T,O,I)}if(gt(O))return he(A,T,O,I);if(_e(O)){if(ae=_e(O),typeof ae!="function")throw Error(i(150));return O=ae.call(O),de(A,T,O,I)}if(typeof O.then=="function")return Fe(A,T,Mo(O),I);if(O.$$typeof===U)return Fe(A,T,wo(A,O),I);zo(A,O)}return typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint"?(O=""+O,T!==null&&T.tag===6?(s(A,T.sibling),I=c(T,O),I.return=A,A=I):(s(A,T),I=Cu(O,A.mode,I),I.return=A,A=I),g(A)):s(A,T)}return function(A,T,O,I){try{ti=0;var ae=Fe(A,T,O,I);return Lr=null,ae}catch(ie){if(ie===Gs||ie===xo)throw ie;var xe=Kt(29,ie,null,A.mode);return xe.lanes=I,xe.return=A,xe}finally{}}}var qr=_m(!0),wm=_m(!1),dn=P(null),kn=null;function fa(e){var a=e.alternate;J(St,St.current&1),J(dn,e),kn===null&&(a===null||Mr.current!==null||a.memoizedState!==null)&&(kn=e)}function Sm(e){if(e.tag===22){if(J(St,St.current),J(dn,e),kn===null){var a=e.alternate;a!==null&&a.memoizedState!==null&&(kn=e)}}else ha()}function ha(){J(St,St.current),J(dn,dn.current)}function Zn(e){ee(dn),kn===e&&(kn=null),ee(St)}var St=P(0);function Uo(e){for(var a=e;a!==null;){if(a.tag===13){var s=a.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||ed(s)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break;for(;a.sibling===null;){if(a.return===null||a.return===e)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function dc(e,a,s,o){a=e.memoizedState,s=s(o,a),s=s==null?a:y({},a,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var fc={enqueueSetState:function(e,a,s){e=e._reactInternals;var o=Wt(),c=ua(o);c.payload=a,s!=null&&(c.callback=s),a=ca(e,c,o),a!==null&&(en(a,e,o),Ys(a,e,o))},enqueueReplaceState:function(e,a,s){e=e._reactInternals;var o=Wt(),c=ua(o);c.tag=1,c.payload=a,s!=null&&(c.callback=s),a=ca(e,c,o),a!==null&&(en(a,e,o),Ys(a,e,o))},enqueueForceUpdate:function(e,a){e=e._reactInternals;var s=Wt(),o=ua(s);o.tag=2,a!=null&&(o.callback=a),a=ca(e,o,s),a!==null&&(en(a,e,s),Ys(a,e,s))}};function xm(e,a,s,o,c,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):a.prototype&&a.prototype.isPureReactComponent?!Ls(s,o)||!Ls(c,f):!0}function Em(e,a,s,o){e=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(s,o),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(s,o),a.state!==e&&fc.enqueueReplaceState(a,a.state,null)}function Xa(e,a){var s=a;if("ref"in a){s={};for(var o in a)o!=="ref"&&(s[o]=a[o])}if(e=e.defaultProps){s===a&&(s=y({},s));for(var c in e)s[c]===void 0&&(s[c]=e[c])}return s}var $o=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Tm(e){$o(e)}function km(e){console.error(e)}function jm(e){$o(e)}function Lo(e,a){try{var s=e.onUncaughtError;s(a.value,{componentStack:a.stack})}catch(o){setTimeout(function(){throw o})}}function Am(e,a,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function hc(e,a,s){return s=ua(s),s.tag=3,s.payload={element:null},s.callback=function(){Lo(e,a)},s}function Om(e){return e=ua(e),e.tag=3,e}function Rm(e,a,s,o){var c=s.type.getDerivedStateFromError;if(typeof c=="function"){var f=o.value;e.payload=function(){return c(f)},e.callback=function(){Am(a,s,o)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Am(a,s,o),typeof c!="function"&&(ba===null?ba=new Set([this]):ba.add(this));var b=o.stack;this.componentDidCatch(o.value,{componentStack:b!==null?b:""})})}function vb(e,a,s,o,c){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(a=s.alternate,a!==null&&Zs(a,s,c,!0),s=dn.current,s!==null){switch(s.tag){case 13:return kn===null?$c():s.alternate===null&&ft===0&&(ft=3),s.flags&=-257,s.flags|=65536,s.lanes=c,o===Hu?s.flags|=16384:(a=s.updateQueue,a===null?s.updateQueue=new Set([o]):a.add(o),qc(e,o,c)),!1;case 22:return s.flags|=65536,o===Hu?s.flags|=16384:(a=s.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=a):(s=a.retryQueue,s===null?a.retryQueue=new Set([o]):s.add(o)),qc(e,o,c)),!1}throw Error(i(435,s.tag))}return qc(e,o,c),$c(),!1}if($e)return a=dn.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=c,o!==zu&&(e=Error(i(422),{cause:o}),Hs(on(e,s)))):(o!==zu&&(a=Error(i(423),{cause:o}),Hs(on(a,s))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,o=on(o,s),c=hc(e.stateNode,o,c),Vu(e,c),ft!==4&&(ft=2)),!1;var f=Error(i(520),{cause:o});if(f=on(f,s),ui===null?ui=[f]:ui.push(f),ft!==4&&(ft=2),a===null)return!0;o=on(o,s),s=a;do{switch(s.tag){case 3:return s.flags|=65536,e=c&-c,s.lanes|=e,e=hc(s.stateNode,o,e),Vu(s,e),!1;case 1:if(a=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ba===null||!ba.has(f))))return s.flags|=65536,c&=-c,s.lanes|=c,c=Om(c),Rm(c,e,s,o),Vu(s,c),!1}s=s.return}while(s!==null);return!1}var Cm=Error(i(461)),kt=!1;function Rt(e,a,s,o){a.child=e===null?wm(a,null,s,o):qr(a,e.child,s,o)}function Dm(e,a,s,o,c){s=s.render;var f=a.ref;if("ref"in o){var g={};for(var b in o)b!=="ref"&&(g[b]=o[b])}else g=o;return Ya(a),o=Qu(e,a,s,g,f,c),b=Xu(),e!==null&&!kt?(Ju(e,a,c),Pn(e,a,c)):($e&&b&&Nu(a),a.flags|=1,Rt(e,a,o,c),a.child)}function Nm(e,a,s,o,c){if(e===null){var f=s.type;return typeof f=="function"&&!Ru(f)&&f.defaultProps===void 0&&s.compare===null?(a.tag=15,a.type=f,Mm(e,a,f,o,c)):(e=vo(s.type,null,o,a,a.mode,c),e.ref=a.ref,e.return=a,a.child=e)}if(f=e.child,!wc(e,c)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:Ls,s(g,o)&&e.ref===a.ref)return Pn(e,a,c)}return a.flags|=1,e=$n(f,o),e.ref=a.ref,e.return=a,a.child=e}function Mm(e,a,s,o,c){if(e!==null){var f=e.memoizedProps;if(Ls(f,o)&&e.ref===a.ref)if(kt=!1,a.pendingProps=o=f,wc(e,c))(e.flags&131072)!==0&&(kt=!0);else return a.lanes=e.lanes,Pn(e,a,c)}return mc(e,a,s,o,c)}function zm(e,a,s){var o=a.pendingProps,c=o.children,f=e!==null?e.memoizedState:null;if(o.mode==="hidden"){if((a.flags&128)!==0){if(o=f!==null?f.baseLanes|s:s,e!==null){for(c=a.child=e.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;a.childLanes=f&~o}else a.childLanes=0,a.child=null;return Um(e,a,o,s)}if((s&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},e!==null&&So(a,f!==null?f.cachePool:null),f!==null?Mh(a,f):Fu(),Sm(a);else return a.lanes=a.childLanes=536870912,Um(e,a,f!==null?f.baseLanes|s:s,s)}else f!==null?(So(a,f.cachePool),Mh(a,f),ha(),a.memoizedState=null):(e!==null&&So(a,null),Fu(),ha());return Rt(e,a,c,s),a.child}function Um(e,a,s,o){var c=Iu();return c=c===null?null:{parent:wt._currentValue,pool:c},a.memoizedState={baseLanes:s,cachePool:c},e!==null&&So(a,null),Fu(),Sm(a),e!==null&&Zs(e,a,o,!0),null}function qo(e,a){var s=a.ref;if(s===null)e!==null&&e.ref!==null&&(a.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(i(284));(e===null||e.ref!==s)&&(a.flags|=4194816)}}function mc(e,a,s,o,c){return Ya(a),s=Qu(e,a,s,o,void 0,c),o=Xu(),e!==null&&!kt?(Ju(e,a,c),Pn(e,a,c)):($e&&o&&Nu(a),a.flags|=1,Rt(e,a,s,c),a.child)}function $m(e,a,s,o,c,f){return Ya(a),a.updateQueue=null,s=Uh(a,o,s,c),zh(e),o=Xu(),e!==null&&!kt?(Ju(e,a,f),Pn(e,a,f)):($e&&o&&Nu(a),a.flags|=1,Rt(e,a,s,f),a.child)}function Lm(e,a,s,o,c){if(Ya(a),a.stateNode===null){var f=Or,g=s.contextType;typeof g=="object"&&g!==null&&(f=Nt(g)),f=new s(o,f),a.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=fc,a.stateNode=f,f._reactInternals=a,f=a.stateNode,f.props=o,f.state=a.memoizedState,f.refs={},Zu(a),g=s.contextType,f.context=typeof g=="object"&&g!==null?Nt(g):Or,f.state=a.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(dc(a,s,g,o),f.state=a.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&fc.enqueueReplaceState(f,f.state,null),Qs(a,o,f,c),Ks(),f.state=a.memoizedState),typeof f.componentDidMount=="function"&&(a.flags|=4194308),o=!0}else if(e===null){f=a.stateNode;var b=a.memoizedProps,S=Xa(s,b);f.props=S;var R=f.context,q=s.contextType;g=Or,typeof q=="object"&&q!==null&&(g=Nt(q));var H=s.getDerivedStateFromProps;q=typeof H=="function"||typeof f.getSnapshotBeforeUpdate=="function",b=a.pendingProps!==b,q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(b||R!==g)&&Em(a,f,o,g),la=!1;var C=a.memoizedState;f.state=C,Qs(a,o,f,c),Ks(),R=a.memoizedState,b||C!==R||la?(typeof H=="function"&&(dc(a,s,H,o),R=a.memoizedState),(S=la||xm(a,s,S,o,C,R,g))?(q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(a.flags|=4194308)):(typeof f.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=o,a.memoizedState=R),f.props=o,f.state=R,f.context=g,o=S):(typeof f.componentDidMount=="function"&&(a.flags|=4194308),o=!1)}else{f=a.stateNode,Pu(e,a),g=a.memoizedProps,q=Xa(s,g),f.props=q,H=a.pendingProps,C=f.context,R=s.contextType,S=Or,typeof R=="object"&&R!==null&&(S=Nt(R)),b=s.getDerivedStateFromProps,(R=typeof b=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==H||C!==S)&&Em(a,f,o,S),la=!1,C=a.memoizedState,f.state=C,Qs(a,o,f,c),Ks();var D=a.memoizedState;g!==H||C!==D||la||e!==null&&e.dependencies!==null&&_o(e.dependencies)?(typeof b=="function"&&(dc(a,s,b,o),D=a.memoizedState),(q=la||xm(a,s,q,o,C,D,S)||e!==null&&e.dependencies!==null&&_o(e.dependencies))?(R||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,D,S),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,D,S)),typeof f.componentDidUpdate=="function"&&(a.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&C===e.memoizedState||(a.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&C===e.memoizedState||(a.flags|=1024),a.memoizedProps=o,a.memoizedState=D),f.props=o,f.state=D,f.context=S,o=q):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&C===e.memoizedState||(a.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&C===e.memoizedState||(a.flags|=1024),o=!1)}return f=o,qo(e,a),o=(a.flags&128)!==0,f||o?(f=a.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),a.flags|=1,e!==null&&o?(a.child=qr(a,e.child,null,c),a.child=qr(a,null,s,c)):Rt(e,a,s,c),a.memoizedState=f.state,e=a.child):e=Pn(e,a,c),e}function qm(e,a,s,o){return Is(),a.flags|=256,Rt(e,a,s,o),a.child}var pc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function gc(e){return{baseLanes:e,cachePool:kh()}}function vc(e,a,s){return e=e!==null?e.childLanes&~s:0,a&&(e|=fn),e}function Bm(e,a,s){var o=a.pendingProps,c=!1,f=(a.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(St.current&2)!==0),g&&(c=!0,a.flags&=-129),g=(a.flags&32)!==0,a.flags&=-33,e===null){if($e){if(c?fa(a):ha(),$e){var b=dt,S;if(S=b){e:{for(S=b,b=Tn;S.nodeType!==8;){if(!b){b=null;break e}if(S=bn(S.nextSibling),S===null){b=null;break e}}b=S}b!==null?(a.memoizedState={dehydrated:b,treeContext:Za!==null?{id:Ln,overflow:qn}:null,retryLane:536870912,hydrationErrors:null},S=Kt(18,null,null,0),S.stateNode=b,S.return=a,a.child=S,Lt=a,dt=null,S=!0):S=!1}S||Ga(a)}if(b=a.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return ed(b)?a.lanes=32:a.lanes=536870912,null;Zn(a)}return b=o.children,o=o.fallback,c?(ha(),c=a.mode,b=Bo({mode:"hidden",children:b},c),o=Ha(o,c,s,null),b.return=a,o.return=a,b.sibling=o,a.child=b,c=a.child,c.memoizedState=gc(s),c.childLanes=vc(e,g,s),a.memoizedState=pc,o):(fa(a),yc(a,b))}if(S=e.memoizedState,S!==null&&(b=S.dehydrated,b!==null)){if(f)a.flags&256?(fa(a),a.flags&=-257,a=bc(e,a,s)):a.memoizedState!==null?(ha(),a.child=e.child,a.flags|=128,a=null):(ha(),c=o.fallback,b=a.mode,o=Bo({mode:"visible",children:o.children},b),c=Ha(c,b,s,null),c.flags|=2,o.return=a,c.return=a,o.sibling=c,a.child=o,qr(a,e.child,null,s),o=a.child,o.memoizedState=gc(s),o.childLanes=vc(e,g,s),a.memoizedState=pc,a=c);else if(fa(a),ed(b)){if(g=b.nextSibling&&b.nextSibling.dataset,g)var R=g.dgst;g=R,o=Error(i(419)),o.stack="",o.digest=g,Hs({value:o,source:null,stack:null}),a=bc(e,a,s)}else if(kt||Zs(e,a,s,!1),g=(s&e.childLanes)!==0,kt||g){if(g=Xe,g!==null&&(o=s&-s,o=(o&42)!==0?1:ks(o),o=(o&(g.suspendedLanes|s))!==0?0:o,o!==0&&o!==S.retryLane))throw S.retryLane=o,Ar(e,o),en(g,e,o),Cm;b.data==="$?"||$c(),a=bc(e,a,s)}else b.data==="$?"?(a.flags|=192,a.child=e.child,a=null):(e=S.treeContext,dt=bn(b.nextSibling),Lt=a,$e=!0,Va=null,Tn=!1,e!==null&&(un[cn++]=Ln,un[cn++]=qn,un[cn++]=Za,Ln=e.id,qn=e.overflow,Za=a),a=yc(a,o.children),a.flags|=4096);return a}return c?(ha(),c=o.fallback,b=a.mode,S=e.child,R=S.sibling,o=$n(S,{mode:"hidden",children:o.children}),o.subtreeFlags=S.subtreeFlags&65011712,R!==null?c=$n(R,c):(c=Ha(c,b,s,null),c.flags|=2),c.return=a,o.return=a,o.sibling=c,a.child=o,o=c,c=a.child,b=e.child.memoizedState,b===null?b=gc(s):(S=b.cachePool,S!==null?(R=wt._currentValue,S=S.parent!==R?{parent:R,pool:R}:S):S=kh(),b={baseLanes:b.baseLanes|s,cachePool:S}),c.memoizedState=b,c.childLanes=vc(e,g,s),a.memoizedState=pc,o):(fa(a),s=e.child,e=s.sibling,s=$n(s,{mode:"visible",children:o.children}),s.return=a,s.sibling=null,e!==null&&(g=a.deletions,g===null?(a.deletions=[e],a.flags|=16):g.push(e)),a.child=s,a.memoizedState=null,s)}function yc(e,a){return a=Bo({mode:"visible",children:a},e.mode),a.return=e,e.child=a}function Bo(e,a){return e=Kt(22,e,null,a),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function bc(e,a,s){return qr(a,e.child,null,s),e=yc(a,a.pendingProps.children),e.flags|=2,a.memoizedState=null,e}function Im(e,a,s){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a),$u(e.return,a,s)}function _c(e,a,s,o,c){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:c}:(f.isBackwards=a,f.rendering=null,f.renderingStartTime=0,f.last=o,f.tail=s,f.tailMode=c)}function Hm(e,a,s){var o=a.pendingProps,c=o.revealOrder,f=o.tail;if(Rt(e,a,o.children,s),o=St.current,(o&2)!==0)o=o&1|2,a.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=a.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Im(e,s,a);else if(e.tag===19)Im(e,s,a);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===a)break e;for(;e.sibling===null;){if(e.return===null||e.return===a)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(J(St,o),c){case"forwards":for(s=a.child,c=null;s!==null;)e=s.alternate,e!==null&&Uo(e)===null&&(c=s),s=s.sibling;s=c,s===null?(c=a.child,a.child=null):(c=s.sibling,s.sibling=null),_c(a,!1,c,s,f);break;case"backwards":for(s=null,c=a.child,a.child=null;c!==null;){if(e=c.alternate,e!==null&&Uo(e)===null){a.child=c;break}e=c.sibling,c.sibling=s,s=c,c=e}_c(a,!0,s,null,f);break;case"together":_c(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Pn(e,a,s){if(e!==null&&(a.dependencies=e.dependencies),ya|=a.lanes,(s&a.childLanes)===0)if(e!==null){if(Zs(e,a,s,!1),(s&a.childLanes)===0)return null}else return null;if(e!==null&&a.child!==e.child)throw Error(i(153));if(a.child!==null){for(e=a.child,s=$n(e,e.pendingProps),a.child=s,s.return=a;e.sibling!==null;)e=e.sibling,s=s.sibling=$n(e,e.pendingProps),s.return=a;s.sibling=null}return a.child}function wc(e,a){return(e.lanes&a)!==0?!0:(e=e.dependencies,!!(e!==null&&_o(e)))}function yb(e,a,s){switch(a.tag){case 3:Ze(a,a.stateNode.containerInfo),oa(a,wt,e.memoizedState.cache),Is();break;case 27:case 5:Es(a);break;case 4:Ze(a,a.stateNode.containerInfo);break;case 10:oa(a,a.type,a.memoizedProps.value);break;case 13:var o=a.memoizedState;if(o!==null)return o.dehydrated!==null?(fa(a),a.flags|=128,null):(s&a.child.childLanes)!==0?Bm(e,a,s):(fa(a),e=Pn(e,a,s),e!==null?e.sibling:null);fa(a);break;case 19:var c=(e.flags&128)!==0;if(o=(s&a.childLanes)!==0,o||(Zs(e,a,s,!1),o=(s&a.childLanes)!==0),c){if(o)return Hm(e,a,s);a.flags|=128}if(c=a.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),J(St,St.current),o)break;return null;case 22:case 23:return a.lanes=0,zm(e,a,s);case 24:oa(a,wt,e.memoizedState.cache)}return Pn(e,a,s)}function Zm(e,a,s){if(e!==null)if(e.memoizedProps!==a.pendingProps)kt=!0;else{if(!wc(e,s)&&(a.flags&128)===0)return kt=!1,yb(e,a,s);kt=(e.flags&131072)!==0}else kt=!1,$e&&(a.flags&1048576)!==0&&bh(a,bo,a.index);switch(a.lanes=0,a.tag){case 16:e:{e=a.pendingProps;var o=a.elementType,c=o._init;if(o=c(o._payload),a.type=o,typeof o=="function")Ru(o)?(e=Xa(o,e),a.tag=1,a=Lm(null,a,o,e,s)):(a.tag=0,a=mc(null,a,o,e,s));else{if(o!=null){if(c=o.$$typeof,c===V){a.tag=11,a=Dm(null,a,o,e,s);break e}else if(c===W){a.tag=14,a=Nm(null,a,o,e,s);break e}}throw a=Ut(o)||o,Error(i(306,a,""))}}return a;case 0:return mc(e,a,a.type,a.pendingProps,s);case 1:return o=a.type,c=Xa(o,a.pendingProps),Lm(e,a,o,c,s);case 3:e:{if(Ze(a,a.stateNode.containerInfo),e===null)throw Error(i(387));o=a.pendingProps;var f=a.memoizedState;c=f.element,Pu(e,a),Qs(a,o,null,s);var g=a.memoizedState;if(o=g.cache,oa(a,wt,o),o!==f.cache&&Lu(a,[wt],s,!0),Ks(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},a.updateQueue.baseState=f,a.memoizedState=f,a.flags&256){a=qm(e,a,o,s);break e}else if(o!==c){c=on(Error(i(424)),a),Hs(c),a=qm(e,a,o,s);break e}else{switch(e=a.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(dt=bn(e.firstChild),Lt=a,$e=!0,Va=null,Tn=!0,s=wm(a,null,o,s),a.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Is(),o===c){a=Pn(e,a,s);break e}Rt(e,a,o,s)}a=a.child}return a;case 26:return qo(e,a),e===null?(s=Fp(a.type,null,a.pendingProps,null))?a.memoizedState=s:$e||(s=a.type,e=a.pendingProps,o=el(ue.current).createElement(s),o[be]=a,o[qe]=e,Dt(o,s,e),Tt(o),a.stateNode=o):a.memoizedState=Fp(a.type,e.memoizedProps,a.pendingProps,e.memoizedState),null;case 27:return Es(a),e===null&&$e&&(o=a.stateNode=Pp(a.type,a.pendingProps,ue.current),Lt=a,Tn=!0,c=dt,Sa(a.type)?(td=c,dt=bn(o.firstChild)):dt=c),Rt(e,a,a.pendingProps.children,s),qo(e,a),e===null&&(a.flags|=4194304),a.child;case 5:return e===null&&$e&&((c=o=dt)&&(o=Gb(o,a.type,a.pendingProps,Tn),o!==null?(a.stateNode=o,Lt=a,dt=bn(o.firstChild),Tn=!1,c=!0):c=!1),c||Ga(a)),Es(a),c=a.type,f=a.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,Xc(c,f)?o=null:g!==null&&Xc(c,g)&&(a.flags|=32),a.memoizedState!==null&&(c=Qu(e,a,cb,null,null,s),yi._currentValue=c),qo(e,a),Rt(e,a,o,s),a.child;case 6:return e===null&&$e&&((e=s=dt)&&(s=Fb(s,a.pendingProps,Tn),s!==null?(a.stateNode=s,Lt=a,dt=null,e=!0):e=!1),e||Ga(a)),null;case 13:return Bm(e,a,s);case 4:return Ze(a,a.stateNode.containerInfo),o=a.pendingProps,e===null?a.child=qr(a,null,o,s):Rt(e,a,o,s),a.child;case 11:return Dm(e,a,a.type,a.pendingProps,s);case 7:return Rt(e,a,a.pendingProps,s),a.child;case 8:return Rt(e,a,a.pendingProps.children,s),a.child;case 12:return Rt(e,a,a.pendingProps.children,s),a.child;case 10:return o=a.pendingProps,oa(a,a.type,o.value),Rt(e,a,o.children,s),a.child;case 9:return c=a.type._context,o=a.pendingProps.children,Ya(a),c=Nt(c),o=o(c),a.flags|=1,Rt(e,a,o,s),a.child;case 14:return Nm(e,a,a.type,a.pendingProps,s);case 15:return Mm(e,a,a.type,a.pendingProps,s);case 19:return Hm(e,a,s);case 31:return o=a.pendingProps,s=a.mode,o={mode:o.mode,children:o.children},e===null?(s=Bo(o,s),s.ref=a.ref,a.child=s,s.return=a,a=s):(s=$n(e.child,o),s.ref=a.ref,a.child=s,s.return=a,a=s),a;case 22:return zm(e,a,s);case 24:return Ya(a),o=Nt(wt),e===null?(c=Iu(),c===null&&(c=Xe,f=qu(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=s),c=f),a.memoizedState={parent:o,cache:c},Zu(a),oa(a,wt,c)):((e.lanes&s)!==0&&(Pu(e,a),Qs(a,null,null,s),Ks()),c=e.memoizedState,f=a.memoizedState,c.parent!==o?(c={parent:o,cache:o},a.memoizedState=c,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=c),oa(a,wt,o)):(o=f.cache,oa(a,wt,o),o!==c.cache&&Lu(a,[wt],s,!0))),Rt(e,a,a.pendingProps.children,s),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function Vn(e){e.flags|=4}function Pm(e,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Jp(a)){if(a=dn.current,a!==null&&((De&4194048)===De?kn!==null:(De&62914560)!==De&&(De&536870912)===0||a!==kn))throw Fs=Hu,jh;e.flags|=8192}}function Io(e,a){a!==null&&(e.flags|=4),e.flags&16384&&(a=e.tag!==22?aa():536870912,e.lanes|=a,Zr|=a)}function ai(e,a){if(!$e)switch(e.tailMode){case"hidden":a=e.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?a||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function st(e){var a=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(a)for(var c=e.child;c!==null;)s|=c.lanes|c.childLanes,o|=c.subtreeFlags&65011712,o|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)s|=c.lanes|c.childLanes,o|=c.subtreeFlags,o|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=o,e.childLanes=s,a}function bb(e,a,s){var o=a.pendingProps;switch(Mu(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(a),null;case 1:return st(a),null;case 3:return s=a.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),a.memoizedState.cache!==o&&(a.flags|=2048),In(wt),ct(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Bs(a)?Vn(a):e===null||e.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Sh())),st(a),null;case 26:return s=a.memoizedState,e===null?(Vn(a),s!==null?(st(a),Pm(a,s)):(st(a),a.flags&=-16777217)):s?s!==e.memoizedState?(Vn(a),st(a),Pm(a,s)):(st(a),a.flags&=-16777217):(e.memoizedProps!==o&&Vn(a),st(a),a.flags&=-16777217),null;case 27:fr(a),s=ue.current;var c=a.type;if(e!==null&&a.stateNode!=null)e.memoizedProps!==o&&Vn(a);else{if(!o){if(a.stateNode===null)throw Error(i(166));return st(a),null}e=se.current,Bs(a)?_h(a):(e=Pp(c,o,s),a.stateNode=e,Vn(a))}return st(a),null;case 5:if(fr(a),s=a.type,e!==null&&a.stateNode!=null)e.memoizedProps!==o&&Vn(a);else{if(!o){if(a.stateNode===null)throw Error(i(166));return st(a),null}if(e=se.current,Bs(a))_h(a);else{switch(c=el(ue.current),e){case 1:e=c.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:e=c.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":e=c.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":e=c.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":e=c.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?c.createElement("select",{is:o.is}):c.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?c.createElement(s,{is:o.is}):c.createElement(s)}}e[be]=a,e[qe]=o;e:for(c=a.child;c!==null;){if(c.tag===5||c.tag===6)e.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break e;for(;c.sibling===null;){if(c.return===null||c.return===a)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}a.stateNode=e;e:switch(Dt(e,s,o),s){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Vn(a)}}return st(a),a.flags&=-16777217,null;case 6:if(e&&a.stateNode!=null)e.memoizedProps!==o&&Vn(a);else{if(typeof o!="string"&&a.stateNode===null)throw Error(i(166));if(e=ue.current,Bs(a)){if(e=a.stateNode,s=a.memoizedProps,o=null,c=Lt,c!==null)switch(c.tag){case 27:case 5:o=c.memoizedProps}e[be]=a,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||$p(e.nodeValue,s)),e||Ga(a)}else e=el(e).createTextNode(o),e[be]=a,a.stateNode=e}return st(a),null;case 13:if(o=a.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=Bs(a),o!==null&&o.dehydrated!==null){if(e===null){if(!c)throw Error(i(318));if(c=a.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(i(317));c[be]=a}else Is(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;st(a),c=!1}else c=Sh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return a.flags&256?(Zn(a),a):(Zn(a),null)}if(Zn(a),(a.flags&128)!==0)return a.lanes=s,a;if(s=o!==null,e=e!==null&&e.memoizedState!==null,s){o=a.child,c=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(c=o.alternate.memoizedState.cachePool.pool);var f=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==c&&(o.flags|=2048)}return s!==e&&s&&(a.child.flags|=8192),Io(a,a.updateQueue),st(a),null;case 4:return ct(),e===null&&Gc(a.stateNode.containerInfo),st(a),null;case 10:return In(a.type),st(a),null;case 19:if(ee(St),c=a.memoizedState,c===null)return st(a),null;if(o=(a.flags&128)!==0,f=c.rendering,f===null)if(o)ai(c,!1);else{if(ft!==0||e!==null&&(e.flags&128)!==0)for(e=a.child;e!==null;){if(f=Uo(e),f!==null){for(a.flags|=128,ai(c,!1),e=f.updateQueue,a.updateQueue=e,Io(a,e),a.subtreeFlags=0,e=s,s=a.child;s!==null;)yh(s,e),s=s.sibling;return J(St,St.current&1|2),a.child}e=e.sibling}c.tail!==null&&an()>Po&&(a.flags|=128,o=!0,ai(c,!1),a.lanes=4194304)}else{if(!o)if(e=Uo(f),e!==null){if(a.flags|=128,o=!0,e=e.updateQueue,a.updateQueue=e,Io(a,e),ai(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!$e)return st(a),null}else 2*an()-c.renderingStartTime>Po&&s!==536870912&&(a.flags|=128,o=!0,ai(c,!1),a.lanes=4194304);c.isBackwards?(f.sibling=a.child,a.child=f):(e=c.last,e!==null?e.sibling=f:a.child=f,c.last=f)}return c.tail!==null?(a=c.tail,c.rendering=a,c.tail=a.sibling,c.renderingStartTime=an(),a.sibling=null,e=St.current,J(St,o?e&1|2:e&1),a):(st(a),null);case 22:case 23:return Zn(a),Yu(),o=a.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(a.flags|=8192):o&&(a.flags|=8192),o?(s&536870912)!==0&&(a.flags&128)===0&&(st(a),a.subtreeFlags&6&&(a.flags|=8192)):st(a),s=a.updateQueue,s!==null&&Io(a,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(o=a.memoizedState.cachePool.pool),o!==s&&(a.flags|=2048),e!==null&&ee(Ka),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),a.memoizedState.cache!==s&&(a.flags|=2048),In(wt),st(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function _b(e,a){switch(Mu(a),a.tag){case 1:return e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 3:return In(wt),ct(),e=a.flags,(e&65536)!==0&&(e&128)===0?(a.flags=e&-65537|128,a):null;case 26:case 27:case 5:return fr(a),null;case 13:if(Zn(a),e=a.memoizedState,e!==null&&e.dehydrated!==null){if(a.alternate===null)throw Error(i(340));Is()}return e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 19:return ee(St),null;case 4:return ct(),null;case 10:return In(a.type),null;case 22:case 23:return Zn(a),Yu(),e!==null&&ee(Ka),e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 24:return In(wt),null;case 25:return null;default:return null}}function Vm(e,a){switch(Mu(a),a.tag){case 3:In(wt),ct();break;case 26:case 27:case 5:fr(a);break;case 4:ct();break;case 13:Zn(a);break;case 19:ee(St);break;case 10:In(a.type);break;case 22:case 23:Zn(a),Yu(),e!==null&&ee(Ka);break;case 24:In(wt)}}function ri(e,a){try{var s=a.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var c=o.next;s=c;do{if((s.tag&e)===e){o=void 0;var f=s.create,g=s.inst;o=f(),g.destroy=o}s=s.next}while(s!==c)}}catch(b){Ke(a,a.return,b)}}function ma(e,a,s){try{var o=a.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var f=c.next;o=f;do{if((o.tag&e)===e){var g=o.inst,b=g.destroy;if(b!==void 0){g.destroy=void 0,c=a;var S=s,R=b;try{R()}catch(q){Ke(c,S,q)}}}o=o.next}while(o!==f)}}catch(q){Ke(a,a.return,q)}}function Gm(e){var a=e.updateQueue;if(a!==null){var s=e.stateNode;try{Nh(a,s)}catch(o){Ke(e,e.return,o)}}}function Fm(e,a,s){s.props=Xa(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){Ke(e,a,o)}}function si(e,a){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(c){Ke(e,a,c)}}function jn(e,a){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(c){Ke(e,a,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(c){Ke(e,a,c)}else s.current=null}function Ym(e){var a=e.type,s=e.memoizedProps,o=e.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break e;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(c){Ke(e,e.return,c)}}function Sc(e,a,s){try{var o=e.stateNode;Ib(o,e.type,s,a),o[qe]=a}catch(c){Ke(e,e.return,c)}}function Km(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Sa(e.type)||e.tag===4}function xc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Km(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Sa(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ec(e,a,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,a?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,a):(a=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,a.appendChild(e),s=s._reactRootContainer,s!=null||a.onclick!==null||(a.onclick=Wo));else if(o!==4&&(o===27&&Sa(e.type)&&(s=e.stateNode,a=null),e=e.child,e!==null))for(Ec(e,a,s),e=e.sibling;e!==null;)Ec(e,a,s),e=e.sibling}function Ho(e,a,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,a?s.insertBefore(e,a):s.appendChild(e);else if(o!==4&&(o===27&&Sa(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Ho(e,a,s),e=e.sibling;e!==null;)Ho(e,a,s),e=e.sibling}function Qm(e){var a=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,c=a.attributes;c.length;)a.removeAttributeNode(c[0]);Dt(a,o,s),a[be]=e,a[qe]=s}catch(f){Ke(e,e.return,f)}}var Gn=!1,pt=!1,Tc=!1,Xm=typeof WeakSet=="function"?WeakSet:Set,jt=null;function wb(e,a){if(e=e.containerInfo,Kc=il,e=lh(e),xu(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var c=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break e}var g=0,b=-1,S=-1,R=0,q=0,H=e,C=null;t:for(;;){for(var D;H!==s||c!==0&&H.nodeType!==3||(b=g+c),H!==f||o!==0&&H.nodeType!==3||(S=g+o),H.nodeType===3&&(g+=H.nodeValue.length),(D=H.firstChild)!==null;)C=H,H=D;for(;;){if(H===e)break t;if(C===s&&++R===c&&(b=g),C===f&&++q===o&&(S=g),(D=H.nextSibling)!==null)break;H=C,C=H.parentNode}H=D}s=b===-1||S===-1?null:{start:b,end:S}}else s=null}s=s||{start:0,end:0}}else s=null;for(Qc={focusedElem:e,selectionRange:s},il=!1,jt=a;jt!==null;)if(a=jt,e=a.child,(a.subtreeFlags&1024)!==0&&e!==null)e.return=a,jt=e;else for(;jt!==null;){switch(a=jt,f=a.alternate,e=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=a,c=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var he=Xa(s.type,c,s.elementType===s.type);e=o.getSnapshotBeforeUpdate(he,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(de){Ke(s,s.return,de)}}break;case 3:if((e&1024)!==0){if(e=a.stateNode.containerInfo,s=e.nodeType,s===9)Wc(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Wc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(i(163))}if(e=a.sibling,e!==null){e.return=a.return,jt=e;break}jt=a.return}}function Jm(e,a,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:pa(e,s),o&4&&ri(5,s);break;case 1:if(pa(e,s),o&4)if(e=s.stateNode,a===null)try{e.componentDidMount()}catch(g){Ke(s,s.return,g)}else{var c=Xa(s.type,a.memoizedProps);a=a.memoizedState;try{e.componentDidUpdate(c,a,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Ke(s,s.return,g)}}o&64&&Gm(s),o&512&&si(s,s.return);break;case 3:if(pa(e,s),o&64&&(e=s.updateQueue,e!==null)){if(a=null,s.child!==null)switch(s.child.tag){case 27:case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}try{Nh(e,a)}catch(g){Ke(s,s.return,g)}}break;case 27:a===null&&o&4&&Qm(s);case 26:case 5:pa(e,s),a===null&&o&4&&Ym(s),o&512&&si(s,s.return);break;case 12:pa(e,s);break;case 13:pa(e,s),o&4&&tp(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=Rb.bind(null,s),Yb(e,s))));break;case 22:if(o=s.memoizedState!==null||Gn,!o){a=a!==null&&a.memoizedState!==null||pt,c=Gn;var f=pt;Gn=o,(pt=a)&&!f?ga(e,s,(s.subtreeFlags&8772)!==0):pa(e,s),Gn=c,pt=f}break;case 30:break;default:pa(e,s)}}function Wm(e){var a=e.alternate;a!==null&&(e.alternate=null,Wm(a)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(a=e.stateNode,a!==null&&ru(a)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var et=null,Zt=!1;function Fn(e,a,s){for(s=s.child;s!==null;)ep(e,a,s),s=s.sibling}function ep(e,a,s){if(re&&typeof re.onCommitFiberUnmount=="function")try{re.onCommitFiberUnmount(F,s)}catch{}switch(s.tag){case 26:pt||jn(s,a),Fn(e,a,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:pt||jn(s,a);var o=et,c=Zt;Sa(s.type)&&(et=s.stateNode,Zt=!1),Fn(e,a,s),mi(s.stateNode),et=o,Zt=c;break;case 5:pt||jn(s,a);case 6:if(o=et,c=Zt,et=null,Fn(e,a,s),et=o,Zt=c,et!==null)if(Zt)try{(et.nodeType===9?et.body:et.nodeName==="HTML"?et.ownerDocument.body:et).removeChild(s.stateNode)}catch(f){Ke(s,a,f)}else try{et.removeChild(s.stateNode)}catch(f){Ke(s,a,f)}break;case 18:et!==null&&(Zt?(e=et,Hp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Si(e)):Hp(et,s.stateNode));break;case 4:o=et,c=Zt,et=s.stateNode.containerInfo,Zt=!0,Fn(e,a,s),et=o,Zt=c;break;case 0:case 11:case 14:case 15:pt||ma(2,s,a),pt||ma(4,s,a),Fn(e,a,s);break;case 1:pt||(jn(s,a),o=s.stateNode,typeof o.componentWillUnmount=="function"&&Fm(s,a,o)),Fn(e,a,s);break;case 21:Fn(e,a,s);break;case 22:pt=(o=pt)||s.memoizedState!==null,Fn(e,a,s),pt=o;break;default:Fn(e,a,s)}}function tp(e,a){if(a.memoizedState===null&&(e=a.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Si(e)}catch(s){Ke(a,a.return,s)}}function Sb(e){switch(e.tag){case 13:case 19:var a=e.stateNode;return a===null&&(a=e.stateNode=new Xm),a;case 22:return e=e.stateNode,a=e._retryCache,a===null&&(a=e._retryCache=new Xm),a;default:throw Error(i(435,e.tag))}}function kc(e,a){var s=Sb(e);a.forEach(function(o){var c=Cb.bind(null,e,o);s.has(o)||(s.add(o),o.then(c,c))})}function Qt(e,a){var s=a.deletions;if(s!==null)for(var o=0;o<s.length;o++){var c=s[o],f=e,g=a,b=g;e:for(;b!==null;){switch(b.tag){case 27:if(Sa(b.type)){et=b.stateNode,Zt=!1;break e}break;case 5:et=b.stateNode,Zt=!1;break e;case 3:case 4:et=b.stateNode.containerInfo,Zt=!0;break e}b=b.return}if(et===null)throw Error(i(160));ep(f,g,c),et=null,Zt=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)np(a,e),a=a.sibling}var yn=null;function np(e,a){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Qt(a,e),Xt(e),o&4&&(ma(3,e,e.return),ri(3,e),ma(5,e,e.return));break;case 1:Qt(a,e),Xt(e),o&512&&(pt||s===null||jn(s,s.return)),o&64&&Gn&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var c=yn;if(Qt(a,e),Xt(e),o&512&&(pt||s===null||jn(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){e:{o=e.type,s=e.memoizedProps,c=c.ownerDocument||c;t:switch(o){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Os]||f[be]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(o),c.head.insertBefore(f,c.querySelector("head > title"))),Dt(f,o,s),f[be]=e,Tt(f),o=f;break e;case"link":var g=Qp("link","href",c).get(o+(s.href||""));if(g){for(var b=0;b<g.length;b++)if(f=g[b],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(b,1);break t}}f=c.createElement(o),Dt(f,o,s),c.head.appendChild(f);break;case"meta":if(g=Qp("meta","content",c).get(o+(s.content||""))){for(b=0;b<g.length;b++)if(f=g[b],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(b,1);break t}}f=c.createElement(o),Dt(f,o,s),c.head.appendChild(f);break;default:throw Error(i(468,o))}f[be]=e,Tt(f),o=f}e.stateNode=o}else Xp(c,e.type,e.stateNode);else e.stateNode=Kp(c,o,e.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?Xp(c,e.type,e.stateNode):Kp(c,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Sc(e,e.memoizedProps,s.memoizedProps)}break;case 27:Qt(a,e),Xt(e),o&512&&(pt||s===null||jn(s,s.return)),s!==null&&o&4&&Sc(e,e.memoizedProps,s.memoizedProps);break;case 5:if(Qt(a,e),Xt(e),o&512&&(pt||s===null||jn(s,s.return)),e.flags&32){c=e.stateNode;try{wr(c,"")}catch(D){Ke(e,e.return,D)}}o&4&&e.stateNode!=null&&(c=e.memoizedProps,Sc(e,c,s!==null?s.memoizedProps:c)),o&1024&&(Tc=!0);break;case 6:if(Qt(a,e),Xt(e),o&4){if(e.stateNode===null)throw Error(i(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(D){Ke(e,e.return,D)}}break;case 3:if(al=null,c=yn,yn=tl(a.containerInfo),Qt(a,e),yn=c,Xt(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{Si(a.containerInfo)}catch(D){Ke(e,e.return,D)}Tc&&(Tc=!1,ap(e));break;case 4:o=yn,yn=tl(e.stateNode.containerInfo),Qt(a,e),Xt(e),yn=o;break;case 12:Qt(a,e),Xt(e);break;case 13:Qt(a,e),Xt(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Dc=an()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,kc(e,o)));break;case 22:c=e.memoizedState!==null;var S=s!==null&&s.memoizedState!==null,R=Gn,q=pt;if(Gn=R||c,pt=q||S,Qt(a,e),pt=q,Gn=R,Xt(e),o&8192)e:for(a=e.stateNode,a._visibility=c?a._visibility&-2:a._visibility|1,c&&(s===null||S||Gn||pt||Ja(e)),s=null,a=e;;){if(a.tag===5||a.tag===26){if(s===null){S=s=a;try{if(f=S.stateNode,c)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{b=S.stateNode;var H=S.memoizedProps.style,C=H!=null&&H.hasOwnProperty("display")?H.display:null;b.style.display=C==null||typeof C=="boolean"?"":(""+C).trim()}}catch(D){Ke(S,S.return,D)}}}else if(a.tag===6){if(s===null){S=a;try{S.stateNode.nodeValue=c?"":S.memoizedProps}catch(D){Ke(S,S.return,D)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===e)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break e;for(;a.sibling===null;){if(a.return===null||a.return===e)break e;s===a&&(s=null),a=a.return}s===a&&(s=null),a.sibling.return=a.return,a=a.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,kc(e,s))));break;case 19:Qt(a,e),Xt(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,kc(e,o)));break;case 30:break;case 21:break;default:Qt(a,e),Xt(e)}}function Xt(e){var a=e.flags;if(a&2){try{for(var s,o=e.return;o!==null;){if(Km(o)){s=o;break}o=o.return}if(s==null)throw Error(i(160));switch(s.tag){case 27:var c=s.stateNode,f=xc(e);Ho(e,f,c);break;case 5:var g=s.stateNode;s.flags&32&&(wr(g,""),s.flags&=-33);var b=xc(e);Ho(e,b,g);break;case 3:case 4:var S=s.stateNode.containerInfo,R=xc(e);Ec(e,R,S);break;default:throw Error(i(161))}}catch(q){Ke(e,e.return,q)}e.flags&=-3}a&4096&&(e.flags&=-4097)}function ap(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var a=e;ap(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),e=e.sibling}}function pa(e,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Jm(e,a.alternate,a),a=a.sibling}function Ja(e){for(e=e.child;e!==null;){var a=e;switch(a.tag){case 0:case 11:case 14:case 15:ma(4,a,a.return),Ja(a);break;case 1:jn(a,a.return);var s=a.stateNode;typeof s.componentWillUnmount=="function"&&Fm(a,a.return,s),Ja(a);break;case 27:mi(a.stateNode);case 26:case 5:jn(a,a.return),Ja(a);break;case 22:a.memoizedState===null&&Ja(a);break;case 30:Ja(a);break;default:Ja(a)}e=e.sibling}}function ga(e,a,s){for(s=s&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var o=a.alternate,c=e,f=a,g=f.flags;switch(f.tag){case 0:case 11:case 15:ga(c,f,s),ri(4,f);break;case 1:if(ga(c,f,s),o=f,c=o.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(R){Ke(o,o.return,R)}if(o=f,c=o.updateQueue,c!==null){var b=o.stateNode;try{var S=c.shared.hiddenCallbacks;if(S!==null)for(c.shared.hiddenCallbacks=null,c=0;c<S.length;c++)Dh(S[c],b)}catch(R){Ke(o,o.return,R)}}s&&g&64&&Gm(f),si(f,f.return);break;case 27:Qm(f);case 26:case 5:ga(c,f,s),s&&o===null&&g&4&&Ym(f),si(f,f.return);break;case 12:ga(c,f,s);break;case 13:ga(c,f,s),s&&g&4&&tp(c,f);break;case 22:f.memoizedState===null&&ga(c,f,s),si(f,f.return);break;case 30:break;default:ga(c,f,s)}a=a.sibling}}function jc(e,a){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(e=a.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Ps(s))}function Ac(e,a){e=null,a.alternate!==null&&(e=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==e&&(a.refCount++,e!=null&&Ps(e))}function An(e,a,s,o){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)rp(e,a,s,o),a=a.sibling}function rp(e,a,s,o){var c=a.flags;switch(a.tag){case 0:case 11:case 15:An(e,a,s,o),c&2048&&ri(9,a);break;case 1:An(e,a,s,o);break;case 3:An(e,a,s,o),c&2048&&(e=null,a.alternate!==null&&(e=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==e&&(a.refCount++,e!=null&&Ps(e)));break;case 12:if(c&2048){An(e,a,s,o),e=a.stateNode;try{var f=a.memoizedProps,g=f.id,b=f.onPostCommit;typeof b=="function"&&b(g,a.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(S){Ke(a,a.return,S)}}else An(e,a,s,o);break;case 13:An(e,a,s,o);break;case 23:break;case 22:f=a.stateNode,g=a.alternate,a.memoizedState!==null?f._visibility&2?An(e,a,s,o):ii(e,a):f._visibility&2?An(e,a,s,o):(f._visibility|=2,Br(e,a,s,o,(a.subtreeFlags&10256)!==0)),c&2048&&jc(g,a);break;case 24:An(e,a,s,o),c&2048&&Ac(a.alternate,a);break;default:An(e,a,s,o)}}function Br(e,a,s,o,c){for(c=c&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var f=e,g=a,b=s,S=o,R=g.flags;switch(g.tag){case 0:case 11:case 15:Br(f,g,b,S,c),ri(8,g);break;case 23:break;case 22:var q=g.stateNode;g.memoizedState!==null?q._visibility&2?Br(f,g,b,S,c):ii(f,g):(q._visibility|=2,Br(f,g,b,S,c)),c&&R&2048&&jc(g.alternate,g);break;case 24:Br(f,g,b,S,c),c&&R&2048&&Ac(g.alternate,g);break;default:Br(f,g,b,S,c)}a=a.sibling}}function ii(e,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var s=e,o=a,c=o.flags;switch(o.tag){case 22:ii(s,o),c&2048&&jc(o.alternate,o);break;case 24:ii(s,o),c&2048&&Ac(o.alternate,o);break;default:ii(s,o)}a=a.sibling}}var oi=8192;function Ir(e){if(e.subtreeFlags&oi)for(e=e.child;e!==null;)sp(e),e=e.sibling}function sp(e){switch(e.tag){case 26:Ir(e),e.flags&oi&&e.memoizedState!==null&&o_(yn,e.memoizedState,e.memoizedProps);break;case 5:Ir(e);break;case 3:case 4:var a=yn;yn=tl(e.stateNode.containerInfo),Ir(e),yn=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=oi,oi=16777216,Ir(e),oi=a):Ir(e));break;default:Ir(e)}}function ip(e){var a=e.alternate;if(a!==null&&(e=a.child,e!==null)){a.child=null;do a=e.sibling,e.sibling=null,e=a;while(e!==null)}}function li(e){var a=e.deletions;if((e.flags&16)!==0){if(a!==null)for(var s=0;s<a.length;s++){var o=a[s];jt=o,lp(o,e)}ip(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)op(e),e=e.sibling}function op(e){switch(e.tag){case 0:case 11:case 15:li(e),e.flags&2048&&ma(9,e,e.return);break;case 3:li(e);break;case 12:li(e);break;case 22:var a=e.stateNode;e.memoizedState!==null&&a._visibility&2&&(e.return===null||e.return.tag!==13)?(a._visibility&=-3,Zo(e)):li(e);break;default:li(e)}}function Zo(e){var a=e.deletions;if((e.flags&16)!==0){if(a!==null)for(var s=0;s<a.length;s++){var o=a[s];jt=o,lp(o,e)}ip(e)}for(e=e.child;e!==null;){switch(a=e,a.tag){case 0:case 11:case 15:ma(8,a,a.return),Zo(a);break;case 22:s=a.stateNode,s._visibility&2&&(s._visibility&=-3,Zo(a));break;default:Zo(a)}e=e.sibling}}function lp(e,a){for(;jt!==null;){var s=jt;switch(s.tag){case 0:case 11:case 15:ma(8,s,a);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Ps(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,jt=o;else e:for(s=e;jt!==null;){o=jt;var c=o.sibling,f=o.return;if(Wm(o),o===s){jt=null;break e}if(c!==null){c.return=f,jt=c;break e}jt=f}}}var xb={getCacheForType:function(e){var a=Nt(wt),s=a.data.get(e);return s===void 0&&(s=e(),a.data.set(e,s)),s}},Eb=typeof WeakMap=="function"?WeakMap:Map,Ie=0,Xe=null,Te=null,De=0,He=0,Jt=null,va=!1,Hr=!1,Oc=!1,Yn=0,ft=0,ya=0,Wa=0,Rc=0,fn=0,Zr=0,ui=null,Pt=null,Cc=!1,Dc=0,Po=1/0,Vo=null,ba=null,Ct=0,_a=null,Pr=null,Vr=0,Nc=0,Mc=null,up=null,ci=0,zc=null;function Wt(){if((Ie&2)!==0&&De!==0)return De&-De;if(L.T!==null){var e=Dr;return e!==0?e:Hc()}return Me()}function cp(){fn===0&&(fn=(De&536870912)===0||$e?Ua():536870912);var e=dn.current;return e!==null&&(e.flags|=32),fn}function en(e,a,s){(e===Xe&&(He===2||He===9)||e.cancelPendingCommit!==null)&&(Gr(e,0),wa(e,De,fn,!1)),me(e,s),((Ie&2)===0||e!==Xe)&&(e===Xe&&((Ie&2)===0&&(Wa|=s),ft===4&&wa(e,De,fn,!1)),On(e))}function dp(e,a,s){if((Ie&6)!==0)throw Error(i(327));var o=!s&&(a&124)===0&&(a&e.expiredLanes)===0||_t(e,a),c=o?jb(e,a):Lc(e,a,!0),f=o;do{if(c===0){Hr&&!o&&wa(e,a,0,!1);break}else{if(s=e.current.alternate,f&&!Tb(s)){c=Lc(e,a,!1),f=!1;continue}if(c===2){if(f=a,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){a=g;e:{var b=e;c=ui;var S=b.current.memoizedState.isDehydrated;if(S&&(Gr(b,g).flags|=256),g=Lc(b,g,!1),g!==2){if(Oc&&!S){b.errorRecoveryDisabledLanes|=f,Wa|=f,c=4;break e}f=Pt,Pt=c,f!==null&&(Pt===null?Pt=f:Pt.push.apply(Pt,f))}c=g}if(f=!1,c!==2)continue}}if(c===1){Gr(e,0),wa(e,a,0,!0);break}e:{switch(o=e,f=c,f){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:wa(o,a,fn,!va);break e;case 2:Pt=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(c=Dc+300-an(),10<c)){if(wa(o,a,fn,!va),Ft(o,0,!0)!==0)break e;o.timeoutHandle=Bp(fp.bind(null,o,s,Pt,Vo,Cc,a,fn,Wa,Zr,va,f,2,-0,0),c);break e}fp(o,s,Pt,Vo,Cc,a,fn,Wa,Zr,va,f,0,-0,0)}}break}while(!0);On(e)}function fp(e,a,s,o,c,f,g,b,S,R,q,H,C,D){if(e.timeoutHandle=-1,H=a.subtreeFlags,(H&8192||(H&16785408)===16785408)&&(vi={stylesheets:null,count:0,unsuspend:i_},sp(a),H=l_(),H!==null)){e.cancelPendingCommit=H(bp.bind(null,e,a,f,s,o,c,g,b,S,q,1,C,D)),wa(e,f,g,!R);return}bp(e,a,f,s,o,c,g,b,S)}function Tb(e){for(var a=e;;){var s=a.tag;if((s===0||s===11||s===15)&&a.flags&16384&&(s=a.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var c=s[o],f=c.getSnapshot;c=c.value;try{if(!Yt(f(),c))return!1}catch{return!1}}if(s=a.child,a.subtreeFlags&16384&&s!==null)s.return=a,a=s;else{if(a===e)break;for(;a.sibling===null;){if(a.return===null||a.return===e)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function wa(e,a,s,o){a&=~Rc,a&=~Wa,e.suspendedLanes|=a,e.pingedLanes&=~a,o&&(e.warmLanes|=a),o=e.expirationTimes;for(var c=a;0<c;){var f=31-Q(c),g=1<<f;o[f]=-1,c&=~g}s!==0&&$t(e,s,a)}function Go(){return(Ie&6)===0?(di(0),!1):!0}function Uc(){if(Te!==null){if(He===0)var e=Te.return;else e=Te,Bn=Fa=null,Wu(e),Lr=null,ti=0,e=Te;for(;e!==null;)Vm(e.alternate,e),e=e.return;Te=null}}function Gr(e,a){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,Zb(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Uc(),Xe=e,Te=s=$n(e.current,null),De=a,He=0,Jt=null,va=!1,Hr=_t(e,a),Oc=!1,Zr=fn=Rc=Wa=ya=ft=0,Pt=ui=null,Cc=!1,(a&8)!==0&&(a|=a&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=a;0<o;){var c=31-Q(o),f=1<<c;a|=e[c],o&=~f}return Yn=a,mo(),s}function hp(e,a){Se=null,L.H=No,a===Gs||a===xo?(a=Rh(),He=3):a===jh?(a=Rh(),He=4):He=a===Cm?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Jt=a,Te===null&&(ft=1,Lo(e,on(a,e.current)))}function mp(){var e=L.H;return L.H=No,e===null?No:e}function pp(){var e=L.A;return L.A=xb,e}function $c(){ft=4,va||(De&4194048)!==De&&dn.current!==null||(Hr=!0),(ya&134217727)===0&&(Wa&134217727)===0||Xe===null||wa(Xe,De,fn,!1)}function Lc(e,a,s){var o=Ie;Ie|=2;var c=mp(),f=pp();(Xe!==e||De!==a)&&(Vo=null,Gr(e,a)),a=!1;var g=ft;e:do try{if(He!==0&&Te!==null){var b=Te,S=Jt;switch(He){case 8:Uc(),g=6;break e;case 3:case 2:case 9:case 6:dn.current===null&&(a=!0);var R=He;if(He=0,Jt=null,Fr(e,b,S,R),s&&Hr){g=0;break e}break;default:R=He,He=0,Jt=null,Fr(e,b,S,R)}}kb(),g=ft;break}catch(q){hp(e,q)}while(!0);return a&&e.shellSuspendCounter++,Bn=Fa=null,Ie=o,L.H=c,L.A=f,Te===null&&(Xe=null,De=0,mo()),g}function kb(){for(;Te!==null;)gp(Te)}function jb(e,a){var s=Ie;Ie|=2;var o=mp(),c=pp();Xe!==e||De!==a?(Vo=null,Po=an()+500,Gr(e,a)):Hr=_t(e,a);e:do try{if(He!==0&&Te!==null){a=Te;var f=Jt;t:switch(He){case 1:He=0,Jt=null,Fr(e,a,f,1);break;case 2:case 9:if(Ah(f)){He=0,Jt=null,vp(a);break}a=function(){He!==2&&He!==9||Xe!==e||(He=7),On(e)},f.then(a,a);break e;case 3:He=7;break e;case 4:He=5;break e;case 7:Ah(f)?(He=0,Jt=null,vp(a)):(He=0,Jt=null,Fr(e,a,f,7));break;case 5:var g=null;switch(Te.tag){case 26:g=Te.memoizedState;case 5:case 27:var b=Te;if(!g||Jp(g)){He=0,Jt=null;var S=b.sibling;if(S!==null)Te=S;else{var R=b.return;R!==null?(Te=R,Fo(R)):Te=null}break t}}He=0,Jt=null,Fr(e,a,f,5);break;case 6:He=0,Jt=null,Fr(e,a,f,6);break;case 8:Uc(),ft=6;break e;default:throw Error(i(462))}}Ab();break}catch(q){hp(e,q)}while(!0);return Bn=Fa=null,L.H=o,L.A=c,Ie=s,Te!==null?0:(Xe=null,De=0,mo(),ft)}function Ab(){for(;Te!==null&&!Wl();)gp(Te)}function gp(e){var a=Zm(e.alternate,e,Yn);e.memoizedProps=e.pendingProps,a===null?Fo(e):Te=a}function vp(e){var a=e,s=a.alternate;switch(a.tag){case 15:case 0:a=$m(s,a,a.pendingProps,a.type,void 0,De);break;case 11:a=$m(s,a,a.pendingProps,a.type.render,a.ref,De);break;case 5:Wu(a);default:Vm(s,a),a=Te=yh(a,Yn),a=Zm(s,a,Yn)}e.memoizedProps=e.pendingProps,a===null?Fo(e):Te=a}function Fr(e,a,s,o){Bn=Fa=null,Wu(a),Lr=null,ti=0;var c=a.return;try{if(vb(e,c,a,s,De)){ft=1,Lo(e,on(s,e.current)),Te=null;return}}catch(f){if(c!==null)throw Te=c,f;ft=1,Lo(e,on(s,e.current)),Te=null;return}a.flags&32768?($e||o===1?e=!0:Hr||(De&536870912)!==0?e=!1:(va=e=!0,(o===2||o===9||o===3||o===6)&&(o=dn.current,o!==null&&o.tag===13&&(o.flags|=16384))),yp(a,e)):Fo(a)}function Fo(e){var a=e;do{if((a.flags&32768)!==0){yp(a,va);return}e=a.return;var s=bb(a.alternate,a,Yn);if(s!==null){Te=s;return}if(a=a.sibling,a!==null){Te=a;return}Te=a=e}while(a!==null);ft===0&&(ft=5)}function yp(e,a){do{var s=_b(e.alternate,e);if(s!==null){s.flags&=32767,Te=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!a&&(e=e.sibling,e!==null)){Te=e;return}Te=e=s}while(e!==null);ft=6,Te=null}function bp(e,a,s,o,c,f,g,b,S){e.cancelPendingCommit=null;do Yo();while(Ct!==0);if((Ie&6)!==0)throw Error(i(327));if(a!==null){if(a===e.current)throw Error(i(177));if(f=a.lanes|a.childLanes,f|=Au,$a(e,s,f,g,b,S),e===Xe&&(Te=Xe=null,De=0),Pr=a,_a=e,Vr=s,Nc=f,Mc=c,up=o,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Db(na,function(){return Ep(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||o){o=L.T,L.T=null,c=Y.p,Y.p=2,g=Ie,Ie|=4;try{wb(e,a,s)}finally{Ie=g,Y.p=c,L.T=o}}Ct=1,_p(),wp(),Sp()}}function _p(){if(Ct===1){Ct=0;var e=_a,a=Pr,s=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||s){s=L.T,L.T=null;var o=Y.p;Y.p=2;var c=Ie;Ie|=4;try{np(a,e);var f=Qc,g=lh(e.containerInfo),b=f.focusedElem,S=f.selectionRange;if(g!==b&&b&&b.ownerDocument&&oh(b.ownerDocument.documentElement,b)){if(S!==null&&xu(b)){var R=S.start,q=S.end;if(q===void 0&&(q=R),"selectionStart"in b)b.selectionStart=R,b.selectionEnd=Math.min(q,b.value.length);else{var H=b.ownerDocument||document,C=H&&H.defaultView||window;if(C.getSelection){var D=C.getSelection(),he=b.textContent.length,de=Math.min(S.start,he),Fe=S.end===void 0?de:Math.min(S.end,he);!D.extend&&de>Fe&&(g=Fe,Fe=de,de=g);var A=ih(b,de),T=ih(b,Fe);if(A&&T&&(D.rangeCount!==1||D.anchorNode!==A.node||D.anchorOffset!==A.offset||D.focusNode!==T.node||D.focusOffset!==T.offset)){var O=H.createRange();O.setStart(A.node,A.offset),D.removeAllRanges(),de>Fe?(D.addRange(O),D.extend(T.node,T.offset)):(O.setEnd(T.node,T.offset),D.addRange(O))}}}}for(H=[],D=b;D=D.parentNode;)D.nodeType===1&&H.push({element:D,left:D.scrollLeft,top:D.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<H.length;b++){var I=H[b];I.element.scrollLeft=I.left,I.element.scrollTop=I.top}}il=!!Kc,Qc=Kc=null}finally{Ie=c,Y.p=o,L.T=s}}e.current=a,Ct=2}}function wp(){if(Ct===2){Ct=0;var e=_a,a=Pr,s=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||s){s=L.T,L.T=null;var o=Y.p;Y.p=2;var c=Ie;Ie|=4;try{Jm(e,a.alternate,a)}finally{Ie=c,Y.p=o,L.T=s}}Ct=3}}function Sp(){if(Ct===4||Ct===3){Ct=0,eu();var e=_a,a=Pr,s=Vr,o=up;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Ct=5:(Ct=0,Pr=_a=null,xp(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(ba=null),js(s),a=a.stateNode,re&&typeof re.onCommitFiberRoot=="function")try{re.onCommitFiberRoot(F,a,void 0,(a.current.flags&128)===128)}catch{}if(o!==null){a=L.T,c=Y.p,Y.p=2,L.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var b=o[g];f(b.value,{componentStack:b.stack})}}finally{L.T=a,Y.p=c}}(Vr&3)!==0&&Yo(),On(e),c=e.pendingLanes,(s&4194090)!==0&&(c&42)!==0?e===zc?ci++:(ci=0,zc=e):ci=0,di(0)}}function xp(e,a){(e.pooledCacheLanes&=a)===0&&(a=e.pooledCache,a!=null&&(e.pooledCache=null,Ps(a)))}function Yo(e){return _p(),wp(),Sp(),Ep()}function Ep(){if(Ct!==5)return!1;var e=_a,a=Nc;Nc=0;var s=js(Vr),o=L.T,c=Y.p;try{Y.p=32>s?32:s,L.T=null,s=Mc,Mc=null;var f=_a,g=Vr;if(Ct=0,Pr=_a=null,Vr=0,(Ie&6)!==0)throw Error(i(331));var b=Ie;if(Ie|=4,op(f.current),rp(f,f.current,g,s),Ie=b,di(0,!1),re&&typeof re.onPostCommitFiberRoot=="function")try{re.onPostCommitFiberRoot(F,f)}catch{}return!0}finally{Y.p=c,L.T=o,xp(e,a)}}function Tp(e,a,s){a=on(s,a),a=hc(e.stateNode,a,2),e=ca(e,a,2),e!==null&&(me(e,2),On(e))}function Ke(e,a,s){if(e.tag===3)Tp(e,e,s);else for(;a!==null;){if(a.tag===3){Tp(a,e,s);break}else if(a.tag===1){var o=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(ba===null||!ba.has(o))){e=on(s,e),s=Om(2),o=ca(a,s,2),o!==null&&(Rm(s,o,a,e),me(o,2),On(o));break}}a=a.return}}function qc(e,a,s){var o=e.pingCache;if(o===null){o=e.pingCache=new Eb;var c=new Set;o.set(a,c)}else c=o.get(a),c===void 0&&(c=new Set,o.set(a,c));c.has(s)||(Oc=!0,c.add(s),e=Ob.bind(null,e,a,s),a.then(e,e))}function Ob(e,a,s){var o=e.pingCache;o!==null&&o.delete(a),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,Xe===e&&(De&s)===s&&(ft===4||ft===3&&(De&62914560)===De&&300>an()-Dc?(Ie&2)===0&&Gr(e,0):Rc|=s,Zr===De&&(Zr=0)),On(e)}function kp(e,a){a===0&&(a=aa()),e=Ar(e,a),e!==null&&(me(e,a),On(e))}function Rb(e){var a=e.memoizedState,s=0;a!==null&&(s=a.retryLane),kp(e,s)}function Cb(e,a){var s=0;switch(e.tag){case 13:var o=e.stateNode,c=e.memoizedState;c!==null&&(s=c.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(i(314))}o!==null&&o.delete(a),kp(e,s)}function Db(e,a){return hr(e,a)}var Ko=null,Yr=null,Bc=!1,Qo=!1,Ic=!1,er=0;function On(e){e!==Yr&&e.next===null&&(Yr===null?Ko=Yr=e:Yr=Yr.next=e),Qo=!0,Bc||(Bc=!0,Mb())}function di(e,a){if(!Ic&&Qo){Ic=!0;do for(var s=!1,o=Ko;o!==null;){if(e!==0){var c=o.pendingLanes;if(c===0)var f=0;else{var g=o.suspendedLanes,b=o.pingedLanes;f=(1<<31-Q(42|e)+1)-1,f&=c&~(g&~b),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Rp(o,f))}else f=De,f=Ft(o,o===Xe?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||_t(o,f)||(s=!0,Rp(o,f));o=o.next}while(s);Ic=!1}}function Nb(){jp()}function jp(){Qo=Bc=!1;var e=0;er!==0&&(Hb()&&(e=er),er=0);for(var a=an(),s=null,o=Ko;o!==null;){var c=o.next,f=Ap(o,a);f===0?(o.next=null,s===null?Ko=c:s.next=c,c===null&&(Yr=s)):(s=o,(e!==0||(f&3)!==0)&&(Qo=!0)),o=c}di(e)}function Ap(e,a){for(var s=e.suspendedLanes,o=e.pingedLanes,c=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-Q(f),b=1<<g,S=c[g];S===-1?((b&s)===0||(b&o)!==0)&&(c[g]=Mn(b,a)):S<=a&&(e.expiredLanes|=b),f&=~b}if(a=Xe,s=De,s=Ft(e,e===a?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===a&&(He===2||He===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Ts(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||_t(e,s)){if(a=s&-s,a===e.callbackPriority)return a;switch(o!==null&&Ts(o),js(s)){case 2:case 8:s=eo;break;case 32:s=na;break;case 268435456:s=to;break;default:s=na}return o=Op.bind(null,e),s=hr(s,o),e.callbackPriority=a,e.callbackNode=s,a}return o!==null&&o!==null&&Ts(o),e.callbackPriority=2,e.callbackNode=null,2}function Op(e,a){if(Ct!==0&&Ct!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(Yo()&&e.callbackNode!==s)return null;var o=De;return o=Ft(e,e===Xe?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(dp(e,o,a),Ap(e,an()),e.callbackNode!=null&&e.callbackNode===s?Op.bind(null,e):null)}function Rp(e,a){if(Yo())return null;dp(e,a,!0)}function Mb(){Pb(function(){(Ie&6)!==0?hr(Wi,Nb):jp()})}function Hc(){return er===0&&(er=Ua()),er}function Cp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:io(""+e)}function Dp(e,a){var s=a.ownerDocument.createElement("input");return s.name=a.name,s.value=a.value,e.id&&s.setAttribute("form",e.id),a.parentNode.insertBefore(s,a),e=new FormData(e),s.parentNode.removeChild(s),e}function zb(e,a,s,o,c){if(a==="submit"&&s&&s.stateNode===c){var f=Cp((c[qe]||null).action),g=o.submitter;g&&(a=(a=g[qe]||null)?Cp(a.formAction):g.getAttribute("formAction"),a!==null&&(f=a,g=null));var b=new co("action","action",null,o,c);e.push({event:b,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(er!==0){var S=g?Dp(c,g):new FormData(c);lc(s,{pending:!0,data:S,method:c.method,action:f},null,S)}}else typeof f=="function"&&(b.preventDefault(),S=g?Dp(c,g):new FormData(c),lc(s,{pending:!0,data:S,method:c.method,action:f},f,S))},currentTarget:c}]})}}for(var Zc=0;Zc<ju.length;Zc++){var Pc=ju[Zc],Ub=Pc.toLowerCase(),$b=Pc[0].toUpperCase()+Pc.slice(1);vn(Ub,"on"+$b)}vn(dh,"onAnimationEnd"),vn(fh,"onAnimationIteration"),vn(hh,"onAnimationStart"),vn("dblclick","onDoubleClick"),vn("focusin","onFocus"),vn("focusout","onBlur"),vn(eb,"onTransitionRun"),vn(tb,"onTransitionStart"),vn(nb,"onTransitionCancel"),vn(mh,"onTransitionEnd"),yr("onMouseEnter",["mouseout","mouseover"]),yr("onMouseLeave",["mouseout","mouseover"]),yr("onPointerEnter",["pointerout","pointerover"]),yr("onPointerLeave",["pointerout","pointerover"]),La("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),La("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),La("onBeforeInput",["compositionend","keypress","textInput","paste"]),La("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),La("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),La("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(fi));function Np(e,a){a=(a&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],c=o.event;o=o.listeners;e:{var f=void 0;if(a)for(var g=o.length-1;0<=g;g--){var b=o[g],S=b.instance,R=b.currentTarget;if(b=b.listener,S!==f&&c.isPropagationStopped())break e;f=b,c.currentTarget=R;try{f(c)}catch(q){$o(q)}c.currentTarget=null,f=S}else for(g=0;g<o.length;g++){if(b=o[g],S=b.instance,R=b.currentTarget,b=b.listener,S!==f&&c.isPropagationStopped())break e;f=b,c.currentTarget=R;try{f(c)}catch(q){$o(q)}c.currentTarget=null,f=S}}}}function ke(e,a){var s=a[As];s===void 0&&(s=a[As]=new Set);var o=e+"__bubble";s.has(o)||(Mp(a,e,2,!1),s.add(o))}function Vc(e,a,s){var o=0;a&&(o|=4),Mp(s,e,o,a)}var Xo="_reactListening"+Math.random().toString(36).slice(2);function Gc(e){if(!e[Xo]){e[Xo]=!0,jf.forEach(function(s){s!=="selectionchange"&&(Lb.has(s)||Vc(s,!1,e),Vc(s,!0,e))});var a=e.nodeType===9?e:e.ownerDocument;a===null||a[Xo]||(a[Xo]=!0,Vc("selectionchange",!1,a))}}function Mp(e,a,s,o){switch(rg(a)){case 2:var c=d_;break;case 8:c=f_;break;default:c=id}s=c.bind(null,a,s,e),c=void 0,!mu||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(c=!0),o?c!==void 0?e.addEventListener(a,s,{capture:!0,passive:c}):e.addEventListener(a,s,!0):c!==void 0?e.addEventListener(a,s,{passive:c}):e.addEventListener(a,s,!1)}function Fc(e,a,s,o,c){var f=o;if((a&1)===0&&(a&2)===0&&o!==null)e:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var b=o.stateNode.containerInfo;if(b===c)break;if(g===4)for(g=o.return;g!==null;){var S=g.tag;if((S===3||S===4)&&g.stateNode.containerInfo===c)return;g=g.return}for(;b!==null;){if(g=pr(b),g===null)return;if(S=g.tag,S===5||S===6||S===26||S===27){o=f=g;continue e}b=b.parentNode}}o=o.return}If(function(){var R=f,q=fu(s),H=[];e:{var C=ph.get(e);if(C!==void 0){var D=co,he=e;switch(e){case"keypress":if(lo(s)===0)break e;case"keydown":case"keyup":D=D0;break;case"focusin":he="focus",D=yu;break;case"focusout":he="blur",D=yu;break;case"beforeblur":case"afterblur":D=yu;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":D=Pf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":D=_0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":D=z0;break;case dh:case fh:case hh:D=x0;break;case mh:D=$0;break;case"scroll":case"scrollend":D=y0;break;case"wheel":D=q0;break;case"copy":case"cut":case"paste":D=T0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":D=Gf;break;case"toggle":case"beforetoggle":D=I0}var de=(a&4)!==0,Fe=!de&&(e==="scroll"||e==="scrollend"),A=de?C!==null?C+"Capture":null:C;de=[];for(var T=R,O;T!==null;){var I=T;if(O=I.stateNode,I=I.tag,I!==5&&I!==26&&I!==27||O===null||A===null||(I=Cs(T,A),I!=null&&de.push(hi(T,I,O))),Fe)break;T=T.return}0<de.length&&(C=new D(C,he,null,s,q),H.push({event:C,listeners:de}))}}if((a&7)===0){e:{if(C=e==="mouseover"||e==="pointerover",D=e==="mouseout"||e==="pointerout",C&&s!==du&&(he=s.relatedTarget||s.fromElement)&&(pr(he)||he[sa]))break e;if((D||C)&&(C=q.window===q?q:(C=q.ownerDocument)?C.defaultView||C.parentWindow:window,D?(he=s.relatedTarget||s.toElement,D=R,he=he?pr(he):null,he!==null&&(Fe=u(he),de=he.tag,he!==Fe||de!==5&&de!==27&&de!==6)&&(he=null)):(D=null,he=R),D!==he)){if(de=Pf,I="onMouseLeave",A="onMouseEnter",T="mouse",(e==="pointerout"||e==="pointerover")&&(de=Gf,I="onPointerLeave",A="onPointerEnter",T="pointer"),Fe=D==null?C:Rs(D),O=he==null?C:Rs(he),C=new de(I,T+"leave",D,s,q),C.target=Fe,C.relatedTarget=O,I=null,pr(q)===R&&(de=new de(A,T+"enter",he,s,q),de.target=O,de.relatedTarget=Fe,I=de),Fe=I,D&&he)t:{for(de=D,A=he,T=0,O=de;O;O=Kr(O))T++;for(O=0,I=A;I;I=Kr(I))O++;for(;0<T-O;)de=Kr(de),T--;for(;0<O-T;)A=Kr(A),O--;for(;T--;){if(de===A||A!==null&&de===A.alternate)break t;de=Kr(de),A=Kr(A)}de=null}else de=null;D!==null&&zp(H,C,D,de,!1),he!==null&&Fe!==null&&zp(H,Fe,he,de,!0)}}e:{if(C=R?Rs(R):window,D=C.nodeName&&C.nodeName.toLowerCase(),D==="select"||D==="input"&&C.type==="file")var ae=eh;else if(Jf(C))if(th)ae=X0;else{ae=K0;var xe=Y0}else D=C.nodeName,!D||D.toLowerCase()!=="input"||C.type!=="checkbox"&&C.type!=="radio"?R&&cu(R.elementType)&&(ae=eh):ae=Q0;if(ae&&(ae=ae(e,R))){Wf(H,ae,s,q);break e}xe&&xe(e,C,R),e==="focusout"&&R&&C.type==="number"&&R.memoizedProps.value!=null&&uu(C,"number",C.value)}switch(xe=R?Rs(R):window,e){case"focusin":(Jf(xe)||xe.contentEditable==="true")&&(Tr=xe,Eu=R,qs=null);break;case"focusout":qs=Eu=Tr=null;break;case"mousedown":Tu=!0;break;case"contextmenu":case"mouseup":case"dragend":Tu=!1,uh(H,s,q);break;case"selectionchange":if(W0)break;case"keydown":case"keyup":uh(H,s,q)}var ie;if(_u)e:{switch(e){case"compositionstart":var fe="onCompositionStart";break e;case"compositionend":fe="onCompositionEnd";break e;case"compositionupdate":fe="onCompositionUpdate";break e}fe=void 0}else Er?Qf(e,s)&&(fe="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(fe="onCompositionStart");fe&&(Ff&&s.locale!=="ko"&&(Er||fe!=="onCompositionStart"?fe==="onCompositionEnd"&&Er&&(ie=Hf()):(ia=q,pu="value"in ia?ia.value:ia.textContent,Er=!0)),xe=Jo(R,fe),0<xe.length&&(fe=new Vf(fe,e,null,s,q),H.push({event:fe,listeners:xe}),ie?fe.data=ie:(ie=Xf(s),ie!==null&&(fe.data=ie)))),(ie=Z0?P0(e,s):V0(e,s))&&(fe=Jo(R,"onBeforeInput"),0<fe.length&&(xe=new Vf("onBeforeInput","beforeinput",null,s,q),H.push({event:xe,listeners:fe}),xe.data=ie)),zb(H,e,R,s,q)}Np(H,a)})}function hi(e,a,s){return{instance:e,listener:a,currentTarget:s}}function Jo(e,a){for(var s=a+"Capture",o=[];e!==null;){var c=e,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Cs(e,s),c!=null&&o.unshift(hi(e,c,f)),c=Cs(e,a),c!=null&&o.push(hi(e,c,f))),e.tag===3)return o;e=e.return}return[]}function Kr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function zp(e,a,s,o,c){for(var f=a._reactName,g=[];s!==null&&s!==o;){var b=s,S=b.alternate,R=b.stateNode;if(b=b.tag,S!==null&&S===o)break;b!==5&&b!==26&&b!==27||R===null||(S=R,c?(R=Cs(s,f),R!=null&&g.unshift(hi(s,R,S))):c||(R=Cs(s,f),R!=null&&g.push(hi(s,R,S)))),s=s.return}g.length!==0&&e.push({event:a,listeners:g})}var qb=/\r\n?/g,Bb=/\u0000|\uFFFD/g;function Up(e){return(typeof e=="string"?e:""+e).replace(qb,`
`).replace(Bb,"")}function $p(e,a){return a=Up(a),Up(e)===a}function Wo(){}function Ge(e,a,s,o,c,f){switch(s){case"children":typeof o=="string"?a==="body"||a==="textarea"&&o===""||wr(e,o):(typeof o=="number"||typeof o=="bigint")&&a!=="body"&&wr(e,""+o);break;case"className":ao(e,"class",o);break;case"tabIndex":ao(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":ao(e,s,o);break;case"style":qf(e,o,f);break;case"data":if(a!=="object"){ao(e,"data",o);break}case"src":case"href":if(o===""&&(a!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=io(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(a!=="input"&&Ge(e,a,"name",c.name,c,null),Ge(e,a,"formEncType",c.formEncType,c,null),Ge(e,a,"formMethod",c.formMethod,c,null),Ge(e,a,"formTarget",c.formTarget,c,null)):(Ge(e,a,"encType",c.encType,c,null),Ge(e,a,"method",c.method,c,null),Ge(e,a,"target",c.target,c,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=io(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=Wo);break;case"onScroll":o!=null&&ke("scroll",e);break;case"onScrollEnd":o!=null&&ke("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(i(61));if(s=o.__html,s!=null){if(c.children!=null)throw Error(i(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=io(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":ke("beforetoggle",e),ke("toggle",e),no(e,"popover",o);break;case"xlinkActuate":zn(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":zn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":zn(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":zn(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":zn(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":zn(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":zn(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":zn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":zn(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":no(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=g0.get(s)||s,no(e,s,o))}}function Yc(e,a,s,o,c,f){switch(s){case"style":qf(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(i(61));if(s=o.__html,s!=null){if(c.children!=null)throw Error(i(60));e.innerHTML=s}}break;case"children":typeof o=="string"?wr(e,o):(typeof o=="number"||typeof o=="bigint")&&wr(e,""+o);break;case"onScroll":o!=null&&ke("scroll",e);break;case"onScrollEnd":o!=null&&ke("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Wo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Af.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(c=s.endsWith("Capture"),a=s.slice(2,c?s.length-7:void 0),f=e[qe]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(a,f,c),typeof o=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(a,o,c);break e}s in e?e[s]=o:o===!0?e.setAttribute(s,""):no(e,s,o)}}}function Dt(e,a,s){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",e),ke("load",e);var o=!1,c=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Ge(e,a,f,g,s,null)}}c&&Ge(e,a,"srcSet",s.srcSet,s,null),o&&Ge(e,a,"src",s.src,s,null);return;case"input":ke("invalid",e);var b=f=g=c=null,S=null,R=null;for(o in s)if(s.hasOwnProperty(o)){var q=s[o];if(q!=null)switch(o){case"name":c=q;break;case"type":g=q;break;case"checked":S=q;break;case"defaultChecked":R=q;break;case"value":f=q;break;case"defaultValue":b=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(i(137,a));break;default:Ge(e,a,o,q,s,null)}}zf(e,f,b,S,R,g,c,!1),ro(e);return;case"select":ke("invalid",e),o=g=f=null;for(c in s)if(s.hasOwnProperty(c)&&(b=s[c],b!=null))switch(c){case"value":f=b;break;case"defaultValue":g=b;break;case"multiple":o=b;default:Ge(e,a,c,b,s,null)}a=f,s=g,e.multiple=!!o,a!=null?_r(e,!!o,a,!1):s!=null&&_r(e,!!o,s,!0);return;case"textarea":ke("invalid",e),f=c=o=null;for(g in s)if(s.hasOwnProperty(g)&&(b=s[g],b!=null))switch(g){case"value":o=b;break;case"defaultValue":c=b;break;case"children":f=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(i(91));break;default:Ge(e,a,g,b,s,null)}$f(e,o,c,f),ro(e);return;case"option":for(S in s)if(s.hasOwnProperty(S)&&(o=s[S],o!=null))switch(S){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Ge(e,a,S,o,s,null)}return;case"dialog":ke("beforetoggle",e),ke("toggle",e),ke("cancel",e),ke("close",e);break;case"iframe":case"object":ke("load",e);break;case"video":case"audio":for(o=0;o<fi.length;o++)ke(fi[o],e);break;case"image":ke("error",e),ke("load",e);break;case"details":ke("toggle",e);break;case"embed":case"source":case"link":ke("error",e),ke("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(R in s)if(s.hasOwnProperty(R)&&(o=s[R],o!=null))switch(R){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Ge(e,a,R,o,s,null)}return;default:if(cu(a)){for(q in s)s.hasOwnProperty(q)&&(o=s[q],o!==void 0&&Yc(e,a,q,o,s,void 0));return}}for(b in s)s.hasOwnProperty(b)&&(o=s[b],o!=null&&Ge(e,a,b,o,s,null))}function Ib(e,a,s,o){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,g=null,b=null,S=null,R=null,q=null;for(D in s){var H=s[D];if(s.hasOwnProperty(D)&&H!=null)switch(D){case"checked":break;case"value":break;case"defaultValue":S=H;default:o.hasOwnProperty(D)||Ge(e,a,D,null,o,H)}}for(var C in o){var D=o[C];if(H=s[C],o.hasOwnProperty(C)&&(D!=null||H!=null))switch(C){case"type":f=D;break;case"name":c=D;break;case"checked":R=D;break;case"defaultChecked":q=D;break;case"value":g=D;break;case"defaultValue":b=D;break;case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(i(137,a));break;default:D!==H&&Ge(e,a,C,D,o,H)}}lu(e,g,b,S,R,q,f,c);return;case"select":D=g=b=C=null;for(f in s)if(S=s[f],s.hasOwnProperty(f)&&S!=null)switch(f){case"value":break;case"multiple":D=S;default:o.hasOwnProperty(f)||Ge(e,a,f,null,o,S)}for(c in o)if(f=o[c],S=s[c],o.hasOwnProperty(c)&&(f!=null||S!=null))switch(c){case"value":C=f;break;case"defaultValue":b=f;break;case"multiple":g=f;default:f!==S&&Ge(e,a,c,f,o,S)}a=b,s=g,o=D,C!=null?_r(e,!!s,C,!1):!!o!=!!s&&(a!=null?_r(e,!!s,a,!0):_r(e,!!s,s?[]:"",!1));return;case"textarea":D=C=null;for(b in s)if(c=s[b],s.hasOwnProperty(b)&&c!=null&&!o.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Ge(e,a,b,null,o,c)}for(g in o)if(c=o[g],f=s[g],o.hasOwnProperty(g)&&(c!=null||f!=null))switch(g){case"value":C=c;break;case"defaultValue":D=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(i(91));break;default:c!==f&&Ge(e,a,g,c,o,f)}Uf(e,C,D);return;case"option":for(var he in s)if(C=s[he],s.hasOwnProperty(he)&&C!=null&&!o.hasOwnProperty(he))switch(he){case"selected":e.selected=!1;break;default:Ge(e,a,he,null,o,C)}for(S in o)if(C=o[S],D=s[S],o.hasOwnProperty(S)&&C!==D&&(C!=null||D!=null))switch(S){case"selected":e.selected=C&&typeof C!="function"&&typeof C!="symbol";break;default:Ge(e,a,S,C,o,D)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var de in s)C=s[de],s.hasOwnProperty(de)&&C!=null&&!o.hasOwnProperty(de)&&Ge(e,a,de,null,o,C);for(R in o)if(C=o[R],D=s[R],o.hasOwnProperty(R)&&C!==D&&(C!=null||D!=null))switch(R){case"children":case"dangerouslySetInnerHTML":if(C!=null)throw Error(i(137,a));break;default:Ge(e,a,R,C,o,D)}return;default:if(cu(a)){for(var Fe in s)C=s[Fe],s.hasOwnProperty(Fe)&&C!==void 0&&!o.hasOwnProperty(Fe)&&Yc(e,a,Fe,void 0,o,C);for(q in o)C=o[q],D=s[q],!o.hasOwnProperty(q)||C===D||C===void 0&&D===void 0||Yc(e,a,q,C,o,D);return}}for(var A in s)C=s[A],s.hasOwnProperty(A)&&C!=null&&!o.hasOwnProperty(A)&&Ge(e,a,A,null,o,C);for(H in o)C=o[H],D=s[H],!o.hasOwnProperty(H)||C===D||C==null&&D==null||Ge(e,a,H,C,o,D)}var Kc=null,Qc=null;function el(e){return e.nodeType===9?e:e.ownerDocument}function Lp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function qp(e,a){if(e===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&a==="foreignObject"?0:e}function Xc(e,a){return e==="textarea"||e==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Jc=null;function Hb(){var e=window.event;return e&&e.type==="popstate"?e===Jc?!1:(Jc=e,!0):(Jc=null,!1)}var Bp=typeof setTimeout=="function"?setTimeout:void 0,Zb=typeof clearTimeout=="function"?clearTimeout:void 0,Ip=typeof Promise=="function"?Promise:void 0,Pb=typeof queueMicrotask=="function"?queueMicrotask:typeof Ip<"u"?function(e){return Ip.resolve(null).then(e).catch(Vb)}:Bp;function Vb(e){setTimeout(function(){throw e})}function Sa(e){return e==="head"}function Hp(e,a){var s=a,o=0,c=0;do{var f=s.nextSibling;if(e.removeChild(s),f&&f.nodeType===8)if(s=f.data,s==="/$"){if(0<o&&8>o){s=o;var g=e.ownerDocument;if(s&1&&mi(g.documentElement),s&2&&mi(g.body),s&4)for(s=g.head,mi(s),g=s.firstChild;g;){var b=g.nextSibling,S=g.nodeName;g[Os]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&g.rel.toLowerCase()==="stylesheet"||s.removeChild(g),g=b}}if(c===0){e.removeChild(f),Si(a);return}c--}else s==="$"||s==="$?"||s==="$!"?c++:o=s.charCodeAt(0)-48;else o=0;s=f}while(s);Si(a)}function Wc(e){var a=e.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var s=a;switch(a=a.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Wc(s),ru(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function Gb(e,a,s,o){for(;e.nodeType===1;){var c=s;if(e.nodeName.toLowerCase()!==a.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[Os])switch(a){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(a==="input"&&e.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=bn(e.nextSibling),e===null)break}return null}function Fb(e,a,s){if(a==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=bn(e.nextSibling),e===null))return null;return e}function ed(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function Yb(e,a){var s=e.ownerDocument;if(e.data!=="$?"||s.readyState==="complete")a();else{var o=function(){a(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function bn(e){for(;e!=null;e=e.nextSibling){var a=e.nodeType;if(a===1||a===3)break;if(a===8){if(a=e.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return e}var td=null;function Zp(e){e=e.previousSibling;for(var a=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(a===0)return e;a--}else s==="/$"&&a++}e=e.previousSibling}return null}function Pp(e,a,s){switch(a=el(s),e){case"html":if(e=a.documentElement,!e)throw Error(i(452));return e;case"head":if(e=a.head,!e)throw Error(i(453));return e;case"body":if(e=a.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function mi(e){for(var a=e.attributes;a.length;)e.removeAttributeNode(a[0]);ru(e)}var hn=new Map,Vp=new Set;function tl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Kn=Y.d;Y.d={f:Kb,r:Qb,D:Xb,C:Jb,L:Wb,m:e_,X:n_,S:t_,M:a_};function Kb(){var e=Kn.f(),a=Go();return e||a}function Qb(e){var a=gr(e);a!==null&&a.tag===5&&a.type==="form"?dm(a):Kn.r(e)}var Qr=typeof document>"u"?null:document;function Gp(e,a,s){var o=Qr;if(o&&typeof a=="string"&&a){var c=sn(a);c='link[rel="'+e+'"][href="'+c+'"]',typeof s=="string"&&(c+='[crossorigin="'+s+'"]'),Vp.has(c)||(Vp.add(c),e={rel:e,crossOrigin:s,href:a},o.querySelector(c)===null&&(a=o.createElement("link"),Dt(a,"link",e),Tt(a),o.head.appendChild(a)))}}function Xb(e){Kn.D(e),Gp("dns-prefetch",e,null)}function Jb(e,a){Kn.C(e,a),Gp("preconnect",e,a)}function Wb(e,a,s){Kn.L(e,a,s);var o=Qr;if(o&&e&&a){var c='link[rel="preload"][as="'+sn(a)+'"]';a==="image"&&s&&s.imageSrcSet?(c+='[imagesrcset="'+sn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(c+='[imagesizes="'+sn(s.imageSizes)+'"]')):c+='[href="'+sn(e)+'"]';var f=c;switch(a){case"style":f=Xr(e);break;case"script":f=Jr(e)}hn.has(f)||(e=y({rel:"preload",href:a==="image"&&s&&s.imageSrcSet?void 0:e,as:a},s),hn.set(f,e),o.querySelector(c)!==null||a==="style"&&o.querySelector(pi(f))||a==="script"&&o.querySelector(gi(f))||(a=o.createElement("link"),Dt(a,"link",e),Tt(a),o.head.appendChild(a)))}}function e_(e,a){Kn.m(e,a);var s=Qr;if(s&&e){var o=a&&typeof a.as=="string"?a.as:"script",c='link[rel="modulepreload"][as="'+sn(o)+'"][href="'+sn(e)+'"]',f=c;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Jr(e)}if(!hn.has(f)&&(e=y({rel:"modulepreload",href:e},a),hn.set(f,e),s.querySelector(c)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(gi(f)))return}o=s.createElement("link"),Dt(o,"link",e),Tt(o),s.head.appendChild(o)}}}function t_(e,a,s){Kn.S(e,a,s);var o=Qr;if(o&&e){var c=vr(o).hoistableStyles,f=Xr(e);a=a||"default";var g=c.get(f);if(!g){var b={loading:0,preload:null};if(g=o.querySelector(pi(f)))b.loading=5;else{e=y({rel:"stylesheet",href:e,"data-precedence":a},s),(s=hn.get(f))&&nd(e,s);var S=g=o.createElement("link");Tt(S),Dt(S,"link",e),S._p=new Promise(function(R,q){S.onload=R,S.onerror=q}),S.addEventListener("load",function(){b.loading|=1}),S.addEventListener("error",function(){b.loading|=2}),b.loading|=4,nl(g,a,o)}g={type:"stylesheet",instance:g,count:1,state:b},c.set(f,g)}}}function n_(e,a){Kn.X(e,a);var s=Qr;if(s&&e){var o=vr(s).hoistableScripts,c=Jr(e),f=o.get(c);f||(f=s.querySelector(gi(c)),f||(e=y({src:e,async:!0},a),(a=hn.get(c))&&ad(e,a),f=s.createElement("script"),Tt(f),Dt(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(c,f))}}function a_(e,a){Kn.M(e,a);var s=Qr;if(s&&e){var o=vr(s).hoistableScripts,c=Jr(e),f=o.get(c);f||(f=s.querySelector(gi(c)),f||(e=y({src:e,async:!0,type:"module"},a),(a=hn.get(c))&&ad(e,a),f=s.createElement("script"),Tt(f),Dt(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(c,f))}}function Fp(e,a,s,o){var c=(c=ue.current)?tl(c):null;if(!c)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(a=Xr(s.href),s=vr(c).hoistableStyles,o=s.get(a),o||(o={type:"style",instance:null,count:0,state:null},s.set(a,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Xr(s.href);var f=vr(c).hoistableStyles,g=f.get(e);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=c.querySelector(pi(e)))&&!f._p&&(g.instance=f,g.state.loading=5),hn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},hn.set(e,s),f||r_(c,e,s,g.state))),a&&o===null)throw Error(i(528,""));return g}if(a&&o!==null)throw Error(i(529,""));return null;case"script":return a=s.async,s=s.src,typeof s=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Jr(s),s=vr(c).hoistableScripts,o=s.get(a),o||(o={type:"script",instance:null,count:0,state:null},s.set(a,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function Xr(e){return'href="'+sn(e)+'"'}function pi(e){return'link[rel="stylesheet"]['+e+"]"}function Yp(e){return y({},e,{"data-precedence":e.precedence,precedence:null})}function r_(e,a,s,o){e.querySelector('link[rel="preload"][as="style"]['+a+"]")?o.loading=1:(a=e.createElement("link"),o.preload=a,a.addEventListener("load",function(){return o.loading|=1}),a.addEventListener("error",function(){return o.loading|=2}),Dt(a,"link",s),Tt(a),e.head.appendChild(a))}function Jr(e){return'[src="'+sn(e)+'"]'}function gi(e){return"script[async]"+e}function Kp(e,a,s){if(a.count++,a.instance===null)switch(a.type){case"style":var o=e.querySelector('style[data-href~="'+sn(s.href)+'"]');if(o)return a.instance=o,Tt(o),o;var c=y({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Tt(o),Dt(o,"style",c),nl(o,s.precedence,e),a.instance=o;case"stylesheet":c=Xr(s.href);var f=e.querySelector(pi(c));if(f)return a.state.loading|=4,a.instance=f,Tt(f),f;o=Yp(s),(c=hn.get(c))&&nd(o,c),f=(e.ownerDocument||e).createElement("link"),Tt(f);var g=f;return g._p=new Promise(function(b,S){g.onload=b,g.onerror=S}),Dt(f,"link",o),a.state.loading|=4,nl(f,s.precedence,e),a.instance=f;case"script":return f=Jr(s.src),(c=e.querySelector(gi(f)))?(a.instance=c,Tt(c),c):(o=s,(c=hn.get(f))&&(o=y({},s),ad(o,c)),e=e.ownerDocument||e,c=e.createElement("script"),Tt(c),Dt(c,"link",o),e.head.appendChild(c),a.instance=c);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(o=a.instance,a.state.loading|=4,nl(o,s.precedence,e));return a.instance}function nl(e,a,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=o.length?o[o.length-1]:null,f=c,g=0;g<o.length;g++){var b=o[g];if(b.dataset.precedence===a)f=b;else if(f!==c)break}f?f.parentNode.insertBefore(e,f.nextSibling):(a=s.nodeType===9?s.head:s,a.insertBefore(e,a.firstChild))}function nd(e,a){e.crossOrigin==null&&(e.crossOrigin=a.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=a.referrerPolicy),e.title==null&&(e.title=a.title)}function ad(e,a){e.crossOrigin==null&&(e.crossOrigin=a.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=a.referrerPolicy),e.integrity==null&&(e.integrity=a.integrity)}var al=null;function Qp(e,a,s){if(al===null){var o=new Map,c=al=new Map;c.set(s,o)}else c=al,o=c.get(s),o||(o=new Map,c.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),c=0;c<s.length;c++){var f=s[c];if(!(f[Os]||f[be]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(a)||"";g=e+g;var b=o.get(g);b?b.push(f):o.set(g,[f])}}return o}function Xp(e,a,s){e=e.ownerDocument||e,e.head.insertBefore(s,a==="title"?e.querySelector("head > title"):null)}function s_(e,a,s){if(s===1||a.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return e=a.disabled,typeof a.precedence=="string"&&e==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Jp(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var vi=null;function i_(){}function o_(e,a,s){if(vi===null)throw Error(i(475));var o=vi;if(a.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var c=Xr(s.href),f=e.querySelector(pi(c));if(f){e=f._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=rl.bind(o),e.then(o,o)),a.state.loading|=4,a.instance=f,Tt(f);return}f=e.ownerDocument||e,s=Yp(s),(c=hn.get(c))&&nd(s,c),f=f.createElement("link"),Tt(f);var g=f;g._p=new Promise(function(b,S){g.onload=b,g.onerror=S}),Dt(f,"link",s),a.instance=f}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(a,e),(e=a.state.preload)&&(a.state.loading&3)===0&&(o.count++,a=rl.bind(o),e.addEventListener("load",a),e.addEventListener("error",a))}}function l_(){if(vi===null)throw Error(i(475));var e=vi;return e.stylesheets&&e.count===0&&rd(e,e.stylesheets),0<e.count?function(a){var s=setTimeout(function(){if(e.stylesheets&&rd(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(s)}}:null}function rl(){if(this.count--,this.count===0){if(this.stylesheets)rd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var sl=null;function rd(e,a){e.stylesheets=null,e.unsuspend!==null&&(e.count++,sl=new Map,a.forEach(u_,e),sl=null,rl.call(e))}function u_(e,a){if(!(a.state.loading&4)){var s=sl.get(e);if(s)var o=s.get(null);else{s=new Map,sl.set(e,s);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var g=c[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),o=g)}o&&s.set(null,o)}c=a.instance,g=c.getAttribute("data-precedence"),f=s.get(g)||o,f===o&&s.set(null,c),s.set(g,c),this.count++,o=rl.bind(this),c.addEventListener("load",o),c.addEventListener("error",o),f?f.parentNode.insertBefore(c,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),a.state.loading|=4}}var yi={$$typeof:U,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function c_(e,a,s,o,c,f,g,b){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ra(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ra(0),this.hiddenUpdates=ra(null),this.identifierPrefix=o,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function Wp(e,a,s,o,c,f,g,b,S,R,q,H){return e=new c_(e,a,s,g,b,S,R,H),a=1,f===!0&&(a|=24),f=Kt(3,null,null,a),e.current=f,f.stateNode=e,a=qu(),a.refCount++,e.pooledCache=a,a.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:a},Zu(f),e}function eg(e){return e?(e=Or,e):Or}function tg(e,a,s,o,c,f){c=eg(c),o.context===null?o.context=c:o.pendingContext=c,o=ua(a),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=ca(e,o,a),s!==null&&(en(s,e,a),Ys(s,e,a))}function ng(e,a){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<a?s:a}}function sd(e,a){ng(e,a),(e=e.alternate)&&ng(e,a)}function ag(e){if(e.tag===13){var a=Ar(e,67108864);a!==null&&en(a,e,67108864),sd(e,67108864)}}var il=!0;function d_(e,a,s,o){var c=L.T;L.T=null;var f=Y.p;try{Y.p=2,id(e,a,s,o)}finally{Y.p=f,L.T=c}}function f_(e,a,s,o){var c=L.T;L.T=null;var f=Y.p;try{Y.p=8,id(e,a,s,o)}finally{Y.p=f,L.T=c}}function id(e,a,s,o){if(il){var c=od(o);if(c===null)Fc(e,a,o,ol,s),sg(e,o);else if(m_(c,e,a,s,o))o.stopPropagation();else if(sg(e,o),a&4&&-1<h_.indexOf(e)){for(;c!==null;){var f=gr(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=Re(f.pendingLanes);if(g!==0){var b=f;for(b.pendingLanes|=2,b.entangledLanes|=2;g;){var S=1<<31-Q(g);b.entanglements[1]|=S,g&=~S}On(f),(Ie&6)===0&&(Po=an()+500,di(0))}}break;case 13:b=Ar(f,2),b!==null&&en(b,f,2),Go(),sd(f,2)}if(f=od(o),f===null&&Fc(e,a,o,ol,s),f===c)break;c=f}c!==null&&o.stopPropagation()}else Fc(e,a,o,null,s)}}function od(e){return e=fu(e),ld(e)}var ol=null;function ld(e){if(ol=null,e=pr(e),e!==null){var a=u(e);if(a===null)e=null;else{var s=a.tag;if(s===13){if(e=d(a),e!==null)return e;e=null}else if(s===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;e=null}else a!==e&&(e=null)}}return ol=e,null}function rg(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(tu()){case Wi:return 2;case eo:return 8;case na:case nu:return 32;case to:return 268435456;default:return 32}default:return 32}}var ud=!1,xa=null,Ea=null,Ta=null,bi=new Map,_i=new Map,ka=[],h_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function sg(e,a){switch(e){case"focusin":case"focusout":xa=null;break;case"dragenter":case"dragleave":Ea=null;break;case"mouseover":case"mouseout":Ta=null;break;case"pointerover":case"pointerout":bi.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":_i.delete(a.pointerId)}}function wi(e,a,s,o,c,f){return e===null||e.nativeEvent!==f?(e={blockedOn:a,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[c]},a!==null&&(a=gr(a),a!==null&&ag(a)),e):(e.eventSystemFlags|=o,a=e.targetContainers,c!==null&&a.indexOf(c)===-1&&a.push(c),e)}function m_(e,a,s,o,c){switch(a){case"focusin":return xa=wi(xa,e,a,s,o,c),!0;case"dragenter":return Ea=wi(Ea,e,a,s,o,c),!0;case"mouseover":return Ta=wi(Ta,e,a,s,o,c),!0;case"pointerover":var f=c.pointerId;return bi.set(f,wi(bi.get(f)||null,e,a,s,o,c)),!0;case"gotpointercapture":return f=c.pointerId,_i.set(f,wi(_i.get(f)||null,e,a,s,o,c)),!0}return!1}function ig(e){var a=pr(e.target);if(a!==null){var s=u(a);if(s!==null){if(a=s.tag,a===13){if(a=d(s),a!==null){e.blockedOn=a,Be(e.priority,function(){if(s.tag===13){var o=Wt();o=ks(o);var c=Ar(s,o);c!==null&&en(c,s,o),sd(s,o)}});return}}else if(a===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ll(e){if(e.blockedOn!==null)return!1;for(var a=e.targetContainers;0<a.length;){var s=od(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);du=o,s.target.dispatchEvent(o),du=null}else return a=gr(s),a!==null&&ag(a),e.blockedOn=s,!1;a.shift()}return!0}function og(e,a,s){ll(e)&&s.delete(a)}function p_(){ud=!1,xa!==null&&ll(xa)&&(xa=null),Ea!==null&&ll(Ea)&&(Ea=null),Ta!==null&&ll(Ta)&&(Ta=null),bi.forEach(og),_i.forEach(og)}function ul(e,a){e.blockedOn===a&&(e.blockedOn=null,ud||(ud=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,p_)))}var cl=null;function lg(e){cl!==e&&(cl=e,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){cl===e&&(cl=null);for(var a=0;a<e.length;a+=3){var s=e[a],o=e[a+1],c=e[a+2];if(typeof o!="function"){if(ld(o||s)===null)continue;break}var f=gr(s);f!==null&&(e.splice(a,3),a-=3,lc(f,{pending:!0,data:c,method:s.method,action:o},o,c))}}))}function Si(e){function a(S){return ul(S,e)}xa!==null&&ul(xa,e),Ea!==null&&ul(Ea,e),Ta!==null&&ul(Ta,e),bi.forEach(a),_i.forEach(a);for(var s=0;s<ka.length;s++){var o=ka[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<ka.length&&(s=ka[0],s.blockedOn===null);)ig(s),s.blockedOn===null&&ka.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var c=s[o],f=s[o+1],g=c[qe]||null;if(typeof f=="function")g||lg(s);else if(g){var b=null;if(f&&f.hasAttribute("formAction")){if(c=f,g=f[qe]||null)b=g.formAction;else if(ld(c)!==null)continue}else b=g.action;typeof b=="function"?s[o+1]=b:(s.splice(o,3),o-=3),lg(s)}}}function cd(e){this._internalRoot=e}dl.prototype.render=cd.prototype.render=function(e){var a=this._internalRoot;if(a===null)throw Error(i(409));var s=a.current,o=Wt();tg(s,o,e,a,null,null)},dl.prototype.unmount=cd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var a=e.containerInfo;tg(e.current,2,null,e,null,null),Go(),a[sa]=null}};function dl(e){this._internalRoot=e}dl.prototype.unstable_scheduleHydration=function(e){if(e){var a=Me();e={blockedOn:null,target:e,priority:a};for(var s=0;s<ka.length&&a!==0&&a<ka[s].priority;s++);ka.splice(s,0,e),s===0&&ig(e)}};var ug=n.version;if(ug!=="19.1.1")throw Error(i(527,ug,"19.1.1"));Y.findDOMNode=function(e){var a=e._reactInternals;if(a===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=m(a),e=e!==null?p(e):null,e=e===null?null:e.stateNode,e};var g_={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fl.isDisabled&&fl.supportsFiber)try{F=fl.inject(g_),re=fl}catch{}}return Ei.createRoot=function(e,a){if(!l(e))throw Error(i(299));var s=!1,o="",c=Tm,f=km,g=jm,b=null;return a!=null&&(a.unstable_strictMode===!0&&(s=!0),a.identifierPrefix!==void 0&&(o=a.identifierPrefix),a.onUncaughtError!==void 0&&(c=a.onUncaughtError),a.onCaughtError!==void 0&&(f=a.onCaughtError),a.onRecoverableError!==void 0&&(g=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(b=a.unstable_transitionCallbacks)),a=Wp(e,1,!1,null,null,s,o,c,f,g,b,null),e[sa]=a.current,Gc(e),new cd(a)},Ei.hydrateRoot=function(e,a,s){if(!l(e))throw Error(i(299));var o=!1,c="",f=Tm,g=km,b=jm,S=null,R=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(S=s.unstable_transitionCallbacks),s.formState!==void 0&&(R=s.formState)),a=Wp(e,1,!0,a,s??null,o,c,f,g,b,S,R),a.context=eg(null),s=a.current,o=Wt(),o=ks(o),c=ua(o),c.callback=null,ca(s,c,o),s=o,a.current.lanes=s,me(a,s),On(a),e[sa]=a.current,Gc(e),new dl(a)},Ei.version="19.1.1",Ei}var bg;function k_(){if(bg)return fd.exports;bg=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(n){console.error(n)}}return t(),fd.exports=T_(),fd.exports}var j_=k_(),Zl=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Pl=typeof window>"u"||"Deno"in globalThis;function wn(){}function A_(t,n){return typeof t=="function"?t(n):t}function O_(t){return typeof t=="number"&&t>=0&&t!==1/0}function R_(t,n){return Math.max(t+(n||0)-Date.now(),0)}function Rd(t,n){return typeof t=="function"?t(n):t}function C_(t,n){return typeof t=="function"?t(n):t}function _g(t,n){const{type:r="all",exact:i,fetchStatus:l,predicate:u,queryKey:d,stale:h}=t;if(d){if(i){if(n.queryHash!==Xd(d,n.options))return!1}else if(!Zi(n.queryKey,d))return!1}if(r!=="all"){const m=n.isActive();if(r==="active"&&!m||r==="inactive"&&m)return!1}return!(typeof h=="boolean"&&n.isStale()!==h||l&&l!==n.state.fetchStatus||u&&!u(n))}function wg(t,n){const{exact:r,status:i,predicate:l,mutationKey:u}=t;if(u){if(!n.options.mutationKey)return!1;if(r){if(Hi(n.options.mutationKey)!==Hi(u))return!1}else if(!Zi(n.options.mutationKey,u))return!1}return!(i&&n.state.status!==i||l&&!l(n))}function Xd(t,n){return(n?.queryKeyHashFn||Hi)(t)}function Hi(t){return JSON.stringify(t,(n,r)=>Cd(r)?Object.keys(r).sort().reduce((i,l)=>(i[l]=r[l],i),{}):r)}function Zi(t,n){return t===n?!0:typeof t!=typeof n?!1:t&&n&&typeof t=="object"&&typeof n=="object"?Object.keys(n).every(r=>Zi(t[r],n[r])):!1}function Uv(t,n){if(t===n)return t;const r=Sg(t)&&Sg(n);if(r||Cd(t)&&Cd(n)){const i=r?t:Object.keys(t),l=i.length,u=r?n:Object.keys(n),d=u.length,h=r?[]:{},m=new Set(i);let p=0;for(let y=0;y<d;y++){const _=r?y:u[y];(!r&&m.has(_)||r)&&t[_]===void 0&&n[_]===void 0?(h[_]=void 0,p++):(h[_]=Uv(t[_],n[_]),h[_]===t[_]&&t[_]!==void 0&&p++)}return l===d&&p===l?t:h}return n}function Sg(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Cd(t){if(!xg(t))return!1;const n=t.constructor;if(n===void 0)return!0;const r=n.prototype;return!(!xg(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function xg(t){return Object.prototype.toString.call(t)==="[object Object]"}function D_(t){return new Promise(n=>{setTimeout(n,t)})}function N_(t,n,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,n):r.structuralSharing!==!1?Uv(t,n):n}function M_(t,n,r=0){const i=[...t,n];return r&&i.length>r?i.slice(1):i}function z_(t,n,r=0){const i=[n,...t];return r&&i.length>r?i.slice(0,-1):i}var Jd=Symbol();function $v(t,n){return!t.queryFn&&n?.initialPromise?()=>n.initialPromise:!t.queryFn||t.queryFn===Jd?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var U_=class extends Zl{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!Pl&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},Lv=new U_,$_=class extends Zl{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!Pl&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(r=>{r(t)}))}isOnline(){return this.#e}},Nl=new $_;function L_(){let t,n;const r=new Promise((l,u)=>{t=l,n=u});r.status="pending",r.catch(()=>{});function i(l){Object.assign(r,l),delete r.resolve,delete r.reject}return r.resolve=l=>{i({status:"fulfilled",value:l}),t(l)},r.reject=l=>{i({status:"rejected",reason:l}),n(l)},r}function q_(t){return Math.min(1e3*2**t,3e4)}function qv(t){return(t??"online")==="online"?Nl.isOnline():!0}var Bv=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function Iv(t){let n=!1,r=0,i;const l=L_(),u=()=>l.status!=="pending",d=z=>{u()||(w(new Bv(z)),t.abort?.())},h=()=>{n=!0},m=()=>{n=!1},p=()=>Lv.isFocused()&&(t.networkMode==="always"||Nl.isOnline())&&t.canRun(),y=()=>qv(t.networkMode)&&t.canRun(),_=z=>{u()||(i?.(),l.resolve(z))},w=z=>{u()||(i?.(),l.reject(z))},x=()=>new Promise(z=>{i=M=>{(u()||p())&&z(M)},t.onPause?.()}).then(()=>{i=void 0,u()||t.onContinue?.()}),j=()=>{if(u())return;let z;const M=r===0?t.initialPromise:void 0;try{z=M??t.fn()}catch(N){z=Promise.reject(N)}Promise.resolve(z).then(_).catch(N=>{if(u())return;const G=t.retry??(Pl?0:3),U=t.retryDelay??q_,V=typeof U=="function"?U(r,N):U,Z=G===!0||typeof G=="number"&&r<G||typeof G=="function"&&G(r,N);if(n||!Z){w(N);return}r++,t.onFail?.(r,N),D_(V).then(()=>p()?void 0:x()).then(()=>{n?w(N):j()})})};return{promise:l,status:()=>l.status,cancel:d,continue:()=>(i?.(),l),cancelRetry:h,continueRetry:m,canStart:y,start:()=>(y()?j():x().then(j),l)}}var B_=t=>setTimeout(t,0);function I_(){let t=[],n=0,r=h=>{h()},i=h=>{h()},l=B_;const u=h=>{n?t.push(h):l(()=>{r(h)})},d=()=>{const h=t;t=[],h.length&&l(()=>{i(()=>{h.forEach(m=>{r(m)})})})};return{batch:h=>{let m;n++;try{m=h()}finally{n--,n||d()}return m},batchCalls:h=>(...m)=>{u(()=>{h(...m)})},schedule:u,setNotifyFunction:h=>{r=h},setBatchNotifyFunction:h=>{i=h},setScheduler:h=>{l=h}}}var Bt=I_(),Hv=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),O_(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Pl?1/0:300*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},H_=class extends Hv{#e;#t;#n;#r;#a;#i;#o;constructor(t){super(),this.#o=!1,this.#i=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#r=t.client,this.#n=this.#r.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=P_(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#a?.promise}setOptions(t){this.options={...this.#i,...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(t,n){const r=N_(this.state.data,t,this.options);return this.#s({data:r,type:"success",dataUpdatedAt:n?.updatedAt,manual:n?.manual}),r}setState(t,n){this.#s({type:"setState",state:t,setStateOptions:n})}cancel(t){const n=this.#a?.promise;return this.#a?.cancel(t),n?n.then(wn).catch(wn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>C_(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Jd||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Rd(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!R_(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(n=>n.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#a?.continue()}onOnline(){this.observers.find(n=>n.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#a?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(this.#a&&(this.#o?this.#a.cancel({revert:!0}):this.#a.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}async fetch(t,n){if(this.state.fetchStatus!=="idle"&&this.#a?.status()!=="rejected"){if(this.state.data!==void 0&&n?.cancelRefetch)this.cancel({silent:!0});else if(this.#a)return this.#a.continueRetry(),this.#a.promise}if(t&&this.setOptions(t),!this.options.queryFn){const h=this.observers.find(m=>m.options.queryFn);h&&this.setOptions(h.options)}const r=new AbortController,i=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(this.#o=!0,r.signal)})},l=()=>{const h=$v(this.options,n),p=(()=>{const y={client:this.#r,queryKey:this.queryKey,meta:this.meta};return i(y),y})();return this.#o=!1,this.options.persister?this.options.persister(h,p,this):h(p)},d=(()=>{const h={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:this.#r,state:this.state,fetchFn:l};return i(h),h})();this.options.behavior?.onFetch(d,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==d.fetchOptions?.meta)&&this.#s({type:"fetch",meta:d.fetchOptions?.meta}),this.#a=Iv({initialPromise:n?.initialPromise,fn:d.fetchFn,abort:r.abort.bind(r),onFail:(h,m)=>{this.#s({type:"failed",failureCount:h,error:m})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:d.options.retry,retryDelay:d.options.retryDelay,networkMode:d.options.networkMode,canRun:()=>!0});try{const h=await this.#a.start();if(h===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(h),this.#n.config.onSuccess?.(h,this),this.#n.config.onSettled?.(h,this.state.error,this),h}catch(h){if(h instanceof Bv){if(h.silent)return this.#a.promise;if(h.revert)return this.setState({...this.#t,fetchStatus:"idle"}),this.state.data}throw this.#s({type:"error",error:h}),this.#n.config.onError?.(h,this),this.#n.config.onSettled?.(this.state.data,h,this),h}finally{this.scheduleGc()}}#s(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Z_(r.data,this.options),fetchMeta:t.meta??null};case"success":const i={...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=t.manual?i:void 0,i;case"error":const l=t.error;return{...r,error:l,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:l,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),Bt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:t})})}};function Z_(t,n){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:qv(n.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function P_(t){const n=typeof t.initialData=="function"?t.initialData():t.initialData,r=n!==void 0,i=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:n,dataUpdateCount:0,dataUpdatedAt:r?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var V_=class extends Zl{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,n,r){const i=n.queryKey,l=n.queryHash??Xd(i,n);let u=this.get(l);return u||(u=new H_({client:t,queryKey:i,queryHash:l,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(i)}),this.add(u)),u}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=this.#e.get(t.queryHash);n&&(t.destroy(),n===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Bt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>_g(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>_g(t,r)):n}notify(t){Bt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Bt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Bt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},G_=class extends Hv{#e;#t;#n;constructor(t){super(),this.mutationId=t.mutationId,this.#t=t.mutationCache,this.#e=[],this.state=t.state||F_(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#e.includes(t)||(this.#e.push(t),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#e=this.#e.filter(n=>n!==t),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(t){const n=()=>{this.#r({type:"continue"})};this.#n=Iv({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(l,u)=>{this.#r({type:"failed",failureCount:l,error:u})},onPause:()=>{this.#r({type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const r=this.state.status==="pending",i=!this.#n.canStart();try{if(r)n();else{this.#r({type:"pending",variables:t,isPaused:i}),await this.#t.config.onMutate?.(t,this);const u=await this.options.onMutate?.(t);u!==this.state.context&&this.#r({type:"pending",context:u,variables:t,isPaused:i})}const l=await this.#n.start();return await this.#t.config.onSuccess?.(l,t,this.state.context,this),await this.options.onSuccess?.(l,t,this.state.context),await this.#t.config.onSettled?.(l,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(l,null,t,this.state.context),this.#r({type:"success",data:l}),l}catch(l){try{throw await this.#t.config.onError?.(l,t,this.state.context,this),await this.options.onError?.(l,t,this.state.context),await this.#t.config.onSettled?.(void 0,l,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,l,t,this.state.context),l}finally{this.#r({type:"error",error:l})}}finally{this.#t.runNext(this)}}#r(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Bt.batch(()=>{this.#e.forEach(r=>{r.onMutationUpdate(t)}),this.#t.notify({mutation:this,type:"updated",action:t})})}};function F_(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Y_=class extends Zl{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(t,n,r){const i=new G_({mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(n),state:r});return this.add(i),i}add(t){this.#e.add(t);const n=hl(t);if(typeof n=="string"){const r=this.#t.get(n);r?r.push(t):this.#t.set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const n=hl(t);if(typeof n=="string"){const r=this.#t.get(n);if(r)if(r.length>1){const i=r.indexOf(t);i!==-1&&r.splice(i,1)}else r[0]===t&&this.#t.delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=hl(t);if(typeof n=="string"){const i=this.#t.get(n)?.find(l=>l.state.status==="pending");return!i||i===t}else return!0}runNext(t){const n=hl(t);return typeof n=="string"?this.#t.get(n)?.find(i=>i!==t&&i.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Bt.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const n={exact:!0,...t};return this.getAll().find(r=>wg(n,r))}findAll(t={}){return this.getAll().filter(n=>wg(t,n))}notify(t){Bt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Bt.batch(()=>Promise.all(t.map(n=>n.continue().catch(wn))))}};function hl(t){return t.options.scope?.id}function Eg(t){return{onFetch:(n,r)=>{const i=n.options,l=n.fetchOptions?.meta?.fetchMore?.direction,u=n.state.data?.pages||[],d=n.state.data?.pageParams||[];let h={pages:[],pageParams:[]},m=0;const p=async()=>{let y=!1;const _=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(n.signal.aborted?y=!0:n.signal.addEventListener("abort",()=>{y=!0}),n.signal)})},w=$v(n.options,n.fetchOptions),x=async(j,z,M)=>{if(y)return Promise.reject();if(z==null&&j.pages.length)return Promise.resolve(j);const G=(()=>{const X={client:n.client,queryKey:n.queryKey,pageParam:z,direction:M?"backward":"forward",meta:n.options.meta};return _(X),X})(),U=await w(G),{maxPages:V}=n.options,Z=M?z_:M_;return{pages:Z(j.pages,U,V),pageParams:Z(j.pageParams,z,V)}};if(l&&u.length){const j=l==="backward",z=j?K_:Tg,M={pages:u,pageParams:d},N=z(i,M);h=await x(M,N,j)}else{const j=t??u.length;do{const z=m===0?d[0]??i.initialPageParam:Tg(i,h);if(m>0&&z==null)break;h=await x(h,z),m++}while(m<j)}return h};n.options.persister?n.fetchFn=()=>n.options.persister?.(p,{client:n.client,queryKey:n.queryKey,meta:n.options.meta,signal:n.signal},r):n.fetchFn=p}}}function Tg(t,{pages:n,pageParams:r}){const i=n.length-1;return n.length>0?t.getNextPageParam(n[i],n,r[i],r):void 0}function K_(t,{pages:n,pageParams:r}){return n.length>0?t.getPreviousPageParam?.(n[0],n,r[0],r):void 0}var Q_=class{#e;#t;#n;#r;#a;#i;#o;#s;constructor(t={}){this.#e=t.queryCache||new V_,this.#t=t.mutationCache||new Y_,this.#n=t.defaultOptions||{},this.#r=new Map,this.#a=new Map,this.#i=0}mount(){this.#i++,this.#i===1&&(this.#o=Lv.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#s=Nl.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#i--,this.#i===0&&(this.#o?.(),this.#o=void 0,this.#s?.(),this.#s=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const n=this.defaultQueryOptions({queryKey:t});return this.#e.get(n.queryHash)?.state.data}ensureQueryData(t){const n=this.defaultQueryOptions(t),r=this.#e.build(this,n),i=r.state.data;return i===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(Rd(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(i))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:n,state:r})=>{const i=r.data;return[n,i]})}setQueryData(t,n,r){const i=this.defaultQueryOptions({queryKey:t}),u=this.#e.get(i.queryHash)?.state.data,d=A_(n,u);if(d!==void 0)return this.#e.build(this,i).setData(d,{...r,manual:!0})}setQueriesData(t,n,r){return Bt.batch(()=>this.#e.findAll(t).map(({queryKey:i})=>[i,this.setQueryData(i,n,r)]))}getQueryState(t){const n=this.defaultQueryOptions({queryKey:t});return this.#e.get(n.queryHash)?.state}removeQueries(t){const n=this.#e;Bt.batch(()=>{n.findAll(t).forEach(r=>{n.remove(r)})})}resetQueries(t,n){const r=this.#e;return Bt.batch(()=>(r.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...t},n)))}cancelQueries(t,n={}){const r={revert:!0,...n},i=Bt.batch(()=>this.#e.findAll(t).map(l=>l.cancel(r)));return Promise.all(i).then(wn).catch(wn)}invalidateQueries(t,n={}){return Bt.batch(()=>(this.#e.findAll(t).forEach(r=>{r.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},n)))}refetchQueries(t,n={}){const r={...n,cancelRefetch:n.cancelRefetch??!0},i=Bt.batch(()=>this.#e.findAll(t).filter(l=>!l.isDisabled()&&!l.isStatic()).map(l=>{let u=l.fetch(void 0,r);return r.throwOnError||(u=u.catch(wn)),l.state.fetchStatus==="paused"?Promise.resolve():u}));return Promise.all(i).then(wn)}fetchQuery(t){const n=this.defaultQueryOptions(t);n.retry===void 0&&(n.retry=!1);const r=this.#e.build(this,n);return r.isStaleByTime(Rd(n.staleTime,r))?r.fetch(n):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(wn).catch(wn)}fetchInfiniteQuery(t){return t.behavior=Eg(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(wn).catch(wn)}ensureInfiniteQueryData(t){return t.behavior=Eg(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Nl.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,n){this.#r.set(Hi(t),{queryKey:t,defaultOptions:n})}getQueryDefaults(t){const n=[...this.#r.values()],r={};return n.forEach(i=>{Zi(t,i.queryKey)&&Object.assign(r,i.defaultOptions)}),r}setMutationDefaults(t,n){this.#a.set(Hi(t),{mutationKey:t,defaultOptions:n})}getMutationDefaults(t){const n=[...this.#a.values()],r={};return n.forEach(i=>{Zi(t,i.mutationKey)&&Object.assign(r,i.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const n={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return n.queryHash||(n.queryHash=Xd(n.queryKey,n)),n.refetchOnReconnect===void 0&&(n.refetchOnReconnect=n.networkMode!=="always"),n.throwOnError===void 0&&(n.throwOnError=!!n.suspense),!n.networkMode&&n.persister&&(n.networkMode="offlineFirst"),n.queryFn===Jd&&(n.enabled=!1),n}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},k=Qd();const Jn=Mv(k);var X_=k.createContext(void 0),J_=({client:t,children:n})=>(k.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),v.jsx(X_.Provider,{value:t,children:n}));/**
 * react-router v7.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var kg="popstate";function W_(t={}){function n(i,l){let{pathname:u,search:d,hash:h}=i.location;return Dd("",{pathname:u,search:d,hash:h},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function r(i,l){return typeof l=="string"?l:Pi(l)}return tw(n,r,null,t)}function tt(t,n){if(t===!1||t===null||typeof t>"u")throw new Error(n)}function xn(t,n){if(!t){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function ew(){return Math.random().toString(36).substring(2,10)}function jg(t,n){return{usr:t.state,key:t.key,idx:n}}function Dd(t,n,r=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof n=="string"?ys(n):n,state:r,key:n&&n.key||i||ew()}}function Pi({pathname:t="/",search:n="",hash:r=""}){return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function ys(t){let n={};if(t){let r=t.indexOf("#");r>=0&&(n.hash=t.substring(r),t=t.substring(0,r));let i=t.indexOf("?");i>=0&&(n.search=t.substring(i),t=t.substring(0,i)),t&&(n.pathname=t)}return n}function tw(t,n,r,i={}){let{window:l=document.defaultView,v5Compat:u=!1}=i,d=l.history,h="POP",m=null,p=y();p==null&&(p=0,d.replaceState({...d.state,idx:p},""));function y(){return(d.state||{idx:null}).idx}function _(){h="POP";let M=y(),N=M==null?null:M-p;p=M,m&&m({action:h,location:z.location,delta:N})}function w(M,N){h="PUSH";let G=Dd(z.location,M,N);p=y()+1;let U=jg(G,p),V=z.createHref(G);try{d.pushState(U,"",V)}catch(Z){if(Z instanceof DOMException&&Z.name==="DataCloneError")throw Z;l.location.assign(V)}u&&m&&m({action:h,location:z.location,delta:1})}function x(M,N){h="REPLACE";let G=Dd(z.location,M,N);p=y();let U=jg(G,p),V=z.createHref(G);d.replaceState(U,"",V),u&&m&&m({action:h,location:z.location,delta:0})}function j(M){return nw(M)}let z={get action(){return h},get location(){return t(l,d)},listen(M){if(m)throw new Error("A history only accepts one active listener");return l.addEventListener(kg,_),m=M,()=>{l.removeEventListener(kg,_),m=null}},createHref(M){return n(l,M)},createURL:j,encodeLocation(M){let N=j(M);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:w,replace:x,go(M){return d.go(M)}};return z}function nw(t,n=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),tt(r,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:Pi(t);return i=i.replace(/ $/,"%20"),!n&&i.startsWith("//")&&(i=r+i),new URL(i,r)}function Zv(t,n,r="/"){return aw(t,n,r,!1)}function aw(t,n,r,i){let l=typeof n=="string"?ys(n):n,u=ta(l.pathname||"/",r);if(u==null)return null;let d=Pv(t);rw(d);let h=null;for(let m=0;h==null&&m<d.length;++m){let p=pw(u);h=hw(d[m],p,i)}return h}function Pv(t,n=[],r=[],i="",l=!1){let u=(d,h,m=l,p)=>{let y={relativePath:p===void 0?d.path||"":p,caseSensitive:d.caseSensitive===!0,childrenIndex:h,route:d};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(i)&&m)return;tt(y.relativePath.startsWith(i),`Absolute route path "${y.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(i.length)}let _=Wn([i,y.relativePath]),w=r.concat(y);d.children&&d.children.length>0&&(tt(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),Pv(d.children,n,w,_,m)),!(d.path==null&&!d.index)&&n.push({path:_,score:dw(_,d.index),routesMeta:w})};return t.forEach((d,h)=>{if(d.path===""||!d.path?.includes("?"))u(d,h);else for(let m of Vv(d.path))u(d,h,!0,m)}),n}function Vv(t){let n=t.split("/");if(n.length===0)return[];let[r,...i]=n,l=r.endsWith("?"),u=r.replace(/\?$/,"");if(i.length===0)return l?[u,""]:[u];let d=Vv(i.join("/")),h=[];return h.push(...d.map(m=>m===""?u:[u,m].join("/"))),l&&h.push(...d),h.map(m=>t.startsWith("/")&&m===""?"/":m)}function rw(t){t.sort((n,r)=>n.score!==r.score?r.score-n.score:fw(n.routesMeta.map(i=>i.childrenIndex),r.routesMeta.map(i=>i.childrenIndex)))}var sw=/^:[\w-]+$/,iw=3,ow=2,lw=1,uw=10,cw=-2,Ag=t=>t==="*";function dw(t,n){let r=t.split("/"),i=r.length;return r.some(Ag)&&(i+=cw),n&&(i+=ow),r.filter(l=>!Ag(l)).reduce((l,u)=>l+(sw.test(u)?iw:u===""?lw:uw),i)}function fw(t,n){return t.length===n.length&&t.slice(0,-1).every((i,l)=>i===n[l])?t[t.length-1]-n[n.length-1]:0}function hw(t,n,r=!1){let{routesMeta:i}=t,l={},u="/",d=[];for(let h=0;h<i.length;++h){let m=i[h],p=h===i.length-1,y=u==="/"?n:n.slice(u.length)||"/",_=Ml({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},y),w=m.route;if(!_&&p&&r&&!i[i.length-1].route.index&&(_=Ml({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!_)return null;Object.assign(l,_.params),d.push({params:l,pathname:Wn([u,_.pathname]),pathnameBase:bw(Wn([u,_.pathnameBase])),route:w}),_.pathnameBase!=="/"&&(u=Wn([u,_.pathnameBase]))}return d}function Ml(t,n){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,i]=mw(t.path,t.caseSensitive,t.end),l=n.match(r);if(!l)return null;let u=l[0],d=u.replace(/(.)\/+$/,"$1"),h=l.slice(1);return{params:i.reduce((p,{paramName:y,isOptional:_},w)=>{if(y==="*"){let j=h[w]||"";d=u.slice(0,u.length-j.length).replace(/(.)\/+$/,"$1")}const x=h[w];return _&&!x?p[y]=void 0:p[y]=(x||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:d,pattern:t}}function mw(t,n=!1,r=!0){xn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],l="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,h,m)=>(i.push({paramName:h,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),l+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?l+="\\/*$":t!==""&&t!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,n?void 0:"i"),i]}function pw(t){try{return t.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return xn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${n}).`),t}}function ta(t,n){if(n==="/")return t;if(!t.toLowerCase().startsWith(n.toLowerCase()))return null;let r=n.endsWith("/")?n.length-1:n.length,i=t.charAt(r);return i&&i!=="/"?null:t.slice(r)||"/"}function gw(t,n="/"){let{pathname:r,search:i="",hash:l=""}=typeof t=="string"?ys(t):t;return{pathname:r?r.startsWith("/")?r:vw(r,n):n,search:_w(i),hash:ww(l)}}function vw(t,n){let r=n.replace(/\/+$/,"").split("/");return t.split("/").forEach(l=>{l===".."?r.length>1&&r.pop():l!=="."&&r.push(l)}),r.length>1?r.join("/"):"/"}function vd(t,n,r,i){return`Cannot include a '${t}' character in a manually specified \`to.${n}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function yw(t){return t.filter((n,r)=>r===0||n.route.path&&n.route.path.length>0)}function Wd(t){let n=yw(t);return n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase)}function ef(t,n,r,i=!1){let l;typeof t=="string"?l=ys(t):(l={...t},tt(!l.pathname||!l.pathname.includes("?"),vd("?","pathname","search",l)),tt(!l.pathname||!l.pathname.includes("#"),vd("#","pathname","hash",l)),tt(!l.search||!l.search.includes("#"),vd("#","search","hash",l)));let u=t===""||l.pathname==="",d=u?"/":l.pathname,h;if(d==null)h=r;else{let _=n.length-1;if(!i&&d.startsWith("..")){let w=d.split("/");for(;w[0]==="..";)w.shift(),_-=1;l.pathname=w.join("/")}h=_>=0?n[_]:"/"}let m=gw(l,h),p=d&&d!=="/"&&d.endsWith("/"),y=(u||d===".")&&r.endsWith("/");return!m.pathname.endsWith("/")&&(p||y)&&(m.pathname+="/"),m}var Wn=t=>t.join("/").replace(/\/\/+/g,"/"),bw=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),_w=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,ww=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Sw(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var Gv=["POST","PUT","PATCH","DELETE"];new Set(Gv);var xw=["GET",...Gv];new Set(xw);var bs=k.createContext(null);bs.displayName="DataRouter";var Vl=k.createContext(null);Vl.displayName="DataRouterState";k.createContext(!1);var Fv=k.createContext({isTransitioning:!1});Fv.displayName="ViewTransition";var Ew=k.createContext(new Map);Ew.displayName="Fetchers";var Tw=k.createContext(null);Tw.displayName="Await";var En=k.createContext(null);En.displayName="Navigation";var Ki=k.createContext(null);Ki.displayName="Location";var Nn=k.createContext({outlet:null,matches:[],isDataRoute:!1});Nn.displayName="Route";var tf=k.createContext(null);tf.displayName="RouteError";function kw(t,{relative:n}={}){tt(_s(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:i}=k.useContext(En),{hash:l,pathname:u,search:d}=Qi(t,{relative:n}),h=u;return r!=="/"&&(h=u==="/"?r:Wn([r,u])),i.createHref({pathname:h,search:d,hash:l})}function _s(){return k.useContext(Ki)!=null}function Na(){return tt(_s(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(Ki).location}var Yv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Kv(t){k.useContext(En).static||k.useLayoutEffect(t)}function Qv(){let{isDataRoute:t}=k.useContext(Nn);return t?qw():jw()}function jw(){tt(_s(),"useNavigate() may be used only in the context of a <Router> component.");let t=k.useContext(bs),{basename:n,navigator:r}=k.useContext(En),{matches:i}=k.useContext(Nn),{pathname:l}=Na(),u=JSON.stringify(Wd(i)),d=k.useRef(!1);return Kv(()=>{d.current=!0}),k.useCallback((m,p={})=>{if(xn(d.current,Yv),!d.current)return;if(typeof m=="number"){r.go(m);return}let y=ef(m,JSON.parse(u),l,p.relative==="path");t==null&&n!=="/"&&(y.pathname=y.pathname==="/"?n:Wn([n,y.pathname])),(p.replace?r.replace:r.push)(y,p.state,p)},[n,r,u,l,t])}k.createContext(null);function Qi(t,{relative:n}={}){let{matches:r}=k.useContext(Nn),{pathname:i}=Na(),l=JSON.stringify(Wd(r));return k.useMemo(()=>ef(t,JSON.parse(l),i,n==="path"),[t,l,i,n])}function Aw(t,n){return Xv(t,n)}function Xv(t,n,r,i){tt(_s(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=k.useContext(En),{matches:u}=k.useContext(Nn),d=u[u.length-1],h=d?d.params:{},m=d?d.pathname:"/",p=d?d.pathnameBase:"/",y=d&&d.route;{let N=y&&y.path||"";Jv(m,!y||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let _=Na(),w;if(n){let N=typeof n=="string"?ys(n):n;tt(p==="/"||N.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${N.pathname}" was given in the \`location\` prop.`),w=N}else w=_;let x=w.pathname||"/",j=x;if(p!=="/"){let N=p.replace(/^\//,"").split("/");j="/"+x.replace(/^\//,"").split("/").slice(N.length).join("/")}let z=Zv(t,{pathname:j});xn(y||z!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),xn(z==null||z[z.length-1].route.element!==void 0||z[z.length-1].route.Component!==void 0||z[z.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let M=Nw(z&&z.map(N=>Object.assign({},N,{params:Object.assign({},h,N.params),pathname:Wn([p,l.encodeLocation?l.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?p:Wn([p,l.encodeLocation?l.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),u,r,i);return n&&M?k.createElement(Ki.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},M):M}function Ow(){let t=Lw(),n=Sw(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:i},u={padding:"2px 4px",backgroundColor:i},d=null;return console.error("Error handled by React Router default ErrorBoundary:",t),d=k.createElement(k.Fragment,null,k.createElement("p",null," Hey developer "),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:u},"ErrorBoundary")," or"," ",k.createElement("code",{style:u},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},n),r?k.createElement("pre",{style:l},r):null,d)}var Rw=k.createElement(Ow,null),Cw=class extends k.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?k.createElement(Nn.Provider,{value:this.props.routeContext},k.createElement(tf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Dw({routeContext:t,match:n,children:r}){let i=k.useContext(bs);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),k.createElement(Nn.Provider,{value:t},r)}function Nw(t,n=[],r=null,i=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(n.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let l=t,u=r?.errors;if(u!=null){let m=l.findIndex(p=>p.route.id&&u?.[p.route.id]!==void 0);tt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,m+1))}let d=!1,h=-1;if(r)for(let m=0;m<l.length;m++){let p=l[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=m),p.route.id){let{loaderData:y,errors:_}=r,w=p.route.loader&&!y.hasOwnProperty(p.route.id)&&(!_||_[p.route.id]===void 0);if(p.route.lazy||w){d=!0,h>=0?l=l.slice(0,h+1):l=[l[0]];break}}}return l.reduceRight((m,p,y)=>{let _,w=!1,x=null,j=null;r&&(_=u&&p.route.id?u[p.route.id]:void 0,x=p.route.errorElement||Rw,d&&(h<0&&y===0?(Jv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,j=null):h===y&&(w=!0,j=p.route.hydrateFallbackElement||null)));let z=n.concat(l.slice(0,y+1)),M=()=>{let N;return _?N=x:w?N=j:p.route.Component?N=k.createElement(p.route.Component,null):p.route.element?N=p.route.element:N=m,k.createElement(Dw,{match:p,routeContext:{outlet:m,matches:z,isDataRoute:r!=null},children:N})};return r&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?k.createElement(Cw,{location:r.location,revalidation:r.revalidation,component:x,error:_,children:M(),routeContext:{outlet:null,matches:z,isDataRoute:!0}}):M()},null)}function nf(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Mw(t){let n=k.useContext(bs);return tt(n,nf(t)),n}function zw(t){let n=k.useContext(Vl);return tt(n,nf(t)),n}function Uw(t){let n=k.useContext(Nn);return tt(n,nf(t)),n}function af(t){let n=Uw(t),r=n.matches[n.matches.length-1];return tt(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function $w(){return af("useRouteId")}function Lw(){let t=k.useContext(tf),n=zw("useRouteError"),r=af("useRouteError");return t!==void 0?t:n.errors?.[r]}function qw(){let{router:t}=Mw("useNavigate"),n=af("useNavigate"),r=k.useRef(!1);return Kv(()=>{r.current=!0}),k.useCallback(async(l,u={})=>{xn(r.current,Yv),r.current&&(typeof l=="number"?t.navigate(l):await t.navigate(l,{fromRouteId:n,...u}))},[t,n])}var Og={};function Jv(t,n,r){!n&&!Og[t]&&(Og[t]=!0,xn(!1,r))}k.memo(Bw);function Bw({routes:t,future:n,state:r}){return Xv(t,void 0,r,n)}function zl({to:t,replace:n,state:r,relative:i}){tt(_s(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=k.useContext(En);xn(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=k.useContext(Nn),{pathname:d}=Na(),h=Qv(),m=ef(t,Wd(u),d,i==="path"),p=JSON.stringify(m);return k.useEffect(()=>{h(JSON.parse(p),{replace:n,state:r,relative:i})},[h,p,i,n,r]),null}function Oi(t){tt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Iw({basename:t="/",children:n=null,location:r,navigationType:i="POP",navigator:l,static:u=!1}){tt(!_s(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=t.replace(/^\/*/,"/"),h=k.useMemo(()=>({basename:d,navigator:l,static:u,future:{}}),[d,l,u]);typeof r=="string"&&(r=ys(r));let{pathname:m="/",search:p="",hash:y="",state:_=null,key:w="default"}=r,x=k.useMemo(()=>{let j=ta(m,d);return j==null?null:{location:{pathname:j,search:p,hash:y,state:_,key:w},navigationType:i}},[d,m,p,y,_,w,i]);return xn(x!=null,`<Router basename="${d}"> is not able to match the URL "${m}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:k.createElement(En.Provider,{value:h},k.createElement(Ki.Provider,{children:n,value:x}))}function Hw({children:t,location:n}){return Aw(Nd(t),n)}function Nd(t,n=[]){let r=[];return k.Children.forEach(t,(i,l)=>{if(!k.isValidElement(i))return;let u=[...n,l];if(i.type===k.Fragment){r.push.apply(r,Nd(i.props.children,u));return}tt(i.type===Oi,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),tt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let d={id:i.props.id||u.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(d.children=Nd(i.props.children,u)),r.push(d)}),r}var kl="get",jl="application/x-www-form-urlencoded";function Gl(t){return t!=null&&typeof t.tagName=="string"}function Zw(t){return Gl(t)&&t.tagName.toLowerCase()==="button"}function Pw(t){return Gl(t)&&t.tagName.toLowerCase()==="form"}function Vw(t){return Gl(t)&&t.tagName.toLowerCase()==="input"}function Gw(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Fw(t,n){return t.button===0&&(!n||n==="_self")&&!Gw(t)}var ml=null;function Yw(){if(ml===null)try{new FormData(document.createElement("form"),0),ml=!1}catch{ml=!0}return ml}var Kw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function yd(t){return t!=null&&!Kw.has(t)?(xn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${jl}"`),null):t}function Qw(t,n){let r,i,l,u,d;if(Pw(t)){let h=t.getAttribute("action");i=h?ta(h,n):null,r=t.getAttribute("method")||kl,l=yd(t.getAttribute("enctype"))||jl,u=new FormData(t)}else if(Zw(t)||Vw(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=t.getAttribute("formaction")||h.getAttribute("action");if(i=m?ta(m,n):null,r=t.getAttribute("formmethod")||h.getAttribute("method")||kl,l=yd(t.getAttribute("formenctype"))||yd(h.getAttribute("enctype"))||jl,u=new FormData(h,t),!Yw()){let{name:p,type:y,value:_}=t;if(y==="image"){let w=p?`${p}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else p&&u.append(p,_)}}else{if(Gl(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=kl,i=null,l=jl,d=t}return u&&l==="text/plain"&&(d=u,u=void 0),{action:i,method:r.toLowerCase(),encType:l,formData:u,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function rf(t,n){if(t===!1||t===null||typeof t>"u")throw new Error(n)}function Xw(t,n,r){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return i.pathname==="/"?i.pathname=`_root.${r}`:n&&ta(i.pathname,n)==="/"?i.pathname=`${n.replace(/\/$/,"")}/_root.${r}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${r}`,i}async function Jw(t,n){if(t.id in n)return n[t.id];try{let r=await import(t.module);return n[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Ww(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function eS(t,n,r){let i=await Promise.all(t.map(async l=>{let u=n.routes[l.route.id];if(u){let d=await Jw(u,r);return d.links?d.links():[]}return[]}));return rS(i.flat(1).filter(Ww).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function Rg(t,n,r,i,l,u){let d=(m,p)=>r[p]?m.route.id!==r[p].route.id:!0,h=(m,p)=>r[p].pathname!==m.pathname||r[p].route.path?.endsWith("*")&&r[p].params["*"]!==m.params["*"];return u==="assets"?n.filter((m,p)=>d(m,p)||h(m,p)):u==="data"?n.filter((m,p)=>{let y=i.routes[m.route.id];if(!y||!y.hasLoader)return!1;if(d(m,p)||h(m,p))return!0;if(m.route.shouldRevalidate){let _=m.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function tS(t,n,{includeHydrateFallback:r}={}){return nS(t.map(i=>{let l=n.routes[i.route.id];if(!l)return[];let u=[l.module];return l.clientActionModule&&(u=u.concat(l.clientActionModule)),l.clientLoaderModule&&(u=u.concat(l.clientLoaderModule)),r&&l.hydrateFallbackModule&&(u=u.concat(l.hydrateFallbackModule)),l.imports&&(u=u.concat(l.imports)),u}).flat(1))}function nS(t){return[...new Set(t)]}function aS(t){let n={},r=Object.keys(t).sort();for(let i of r)n[i]=t[i];return n}function rS(t,n){let r=new Set;return new Set(n),t.reduce((i,l)=>{let u=JSON.stringify(aS(l));return r.has(u)||(r.add(u),i.push({key:u,link:l})),i},[])}function Wv(){let t=k.useContext(bs);return rf(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function sS(){let t=k.useContext(Vl);return rf(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var sf=k.createContext(void 0);sf.displayName="FrameworkContext";function ey(){let t=k.useContext(sf);return rf(t,"You must render this element inside a <HydratedRouter> element"),t}function iS(t,n){let r=k.useContext(sf),[i,l]=k.useState(!1),[u,d]=k.useState(!1),{onFocus:h,onBlur:m,onMouseEnter:p,onMouseLeave:y,onTouchStart:_}=n,w=k.useRef(null);k.useEffect(()=>{if(t==="render"&&d(!0),t==="viewport"){let z=N=>{N.forEach(G=>{d(G.isIntersecting)})},M=new IntersectionObserver(z,{threshold:.5});return w.current&&M.observe(w.current),()=>{M.disconnect()}}},[t]),k.useEffect(()=>{if(i){let z=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(z)}}},[i]);let x=()=>{l(!0)},j=()=>{l(!1),d(!1)};return r?t!=="intent"?[u,w,{}]:[u,w,{onFocus:Ti(h,x),onBlur:Ti(m,j),onMouseEnter:Ti(p,x),onMouseLeave:Ti(y,j),onTouchStart:Ti(_,x)}]:[!1,w,{}]}function Ti(t,n){return r=>{t&&t(r),r.defaultPrevented||n(r)}}function oS({page:t,...n}){let{router:r}=Wv(),i=k.useMemo(()=>Zv(r.routes,t,r.basename),[r.routes,t,r.basename]);return i?k.createElement(uS,{page:t,matches:i,...n}):null}function lS(t){let{manifest:n,routeModules:r}=ey(),[i,l]=k.useState([]);return k.useEffect(()=>{let u=!1;return eS(t,n,r).then(d=>{u||l(d)}),()=>{u=!0}},[t,n,r]),i}function uS({page:t,matches:n,...r}){let i=Na(),{manifest:l,routeModules:u}=ey(),{basename:d}=Wv(),{loaderData:h,matches:m}=sS(),p=k.useMemo(()=>Rg(t,n,m,l,i,"data"),[t,n,m,l,i]),y=k.useMemo(()=>Rg(t,n,m,l,i,"assets"),[t,n,m,l,i]),_=k.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let j=new Set,z=!1;if(n.forEach(N=>{let G=l.routes[N.route.id];!G||!G.hasLoader||(!p.some(U=>U.route.id===N.route.id)&&N.route.id in h&&u[N.route.id]?.shouldRevalidate||G.hasClientLoader?z=!0:j.add(N.route.id))}),j.size===0)return[];let M=Xw(t,d,"data");return z&&j.size>0&&M.searchParams.set("_routes",n.filter(N=>j.has(N.route.id)).map(N=>N.route.id).join(",")),[M.pathname+M.search]},[d,h,i,l,p,n,t,u]),w=k.useMemo(()=>tS(y,l),[y,l]),x=lS(y);return k.createElement(k.Fragment,null,_.map(j=>k.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...r})),w.map(j=>k.createElement("link",{key:j,rel:"modulepreload",href:j,...r})),x.map(({key:j,link:z})=>k.createElement("link",{key:j,nonce:r.nonce,...z})))}function cS(...t){return n=>{t.forEach(r=>{typeof r=="function"?r(n):r!=null&&(r.current=n)})}}var ty=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ty&&(window.__reactRouterVersion="7.8.1")}catch{}function dS({basename:t,children:n,window:r}){let i=k.useRef();i.current==null&&(i.current=W_({window:r,v5Compat:!0}));let l=i.current,[u,d]=k.useState({action:l.action,location:l.location}),h=k.useCallback(m=>{k.startTransition(()=>d(m))},[d]);return k.useLayoutEffect(()=>l.listen(h),[l,h]),k.createElement(Iw,{basename:t,children:n,location:u.location,navigationType:u.action,navigator:l})}var ny=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ay=k.forwardRef(function({onClick:n,discover:r="render",prefetch:i="none",relative:l,reloadDocument:u,replace:d,state:h,target:m,to:p,preventScrollReset:y,viewTransition:_,...w},x){let{basename:j}=k.useContext(En),z=typeof p=="string"&&ny.test(p),M,N=!1;if(typeof p=="string"&&z&&(M=p,ty))try{let Ye=new URL(window.location.href),te=p.startsWith("//")?new URL(Ye.protocol+p):new URL(p),ge=ta(te.pathname,j);te.origin===Ye.origin&&ge!=null?p=ge+te.search+te.hash:N=!0}catch{xn(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let G=kw(p,{relative:l}),[U,V,Z]=iS(i,w),X=pS(p,{replace:d,state:h,target:m,preventScrollReset:y,relative:l,viewTransition:_});function W(Ye){n&&n(Ye),Ye.defaultPrevented||X(Ye)}let Oe=k.createElement("a",{...w,...Z,href:M||G,onClick:N||u?n:W,ref:cS(x,V),target:m,"data-discover":!z&&r==="render"?"true":void 0});return U&&!z?k.createElement(k.Fragment,null,Oe,k.createElement(oS,{page:G})):Oe});ay.displayName="Link";var fS=k.forwardRef(function({"aria-current":n="page",caseSensitive:r=!1,className:i="",end:l=!1,style:u,to:d,viewTransition:h,children:m,...p},y){let _=Qi(d,{relative:p.relative}),w=Na(),x=k.useContext(Vl),{navigator:j,basename:z}=k.useContext(En),M=x!=null&&_S(_)&&h===!0,N=j.encodeLocation?j.encodeLocation(_).pathname:_.pathname,G=w.pathname,U=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;r||(G=G.toLowerCase(),U=U?U.toLowerCase():null,N=N.toLowerCase()),U&&z&&(U=ta(U,z)||U);const V=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let Z=G===N||!l&&G.startsWith(N)&&G.charAt(V)==="/",X=U!=null&&(U===N||!l&&U.startsWith(N)&&U.charAt(N.length)==="/"),W={isActive:Z,isPending:X,isTransitioning:M},Oe=Z?n:void 0,Ye;typeof i=="function"?Ye=i(W):Ye=[i,Z?"active":null,X?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let te=typeof u=="function"?u(W):u;return k.createElement(ay,{...p,"aria-current":Oe,className:Ye,ref:y,style:te,to:d,viewTransition:h},typeof m=="function"?m(W):m)});fS.displayName="NavLink";var hS=k.forwardRef(({discover:t="render",fetcherKey:n,navigate:r,reloadDocument:i,replace:l,state:u,method:d=kl,action:h,onSubmit:m,relative:p,preventScrollReset:y,viewTransition:_,...w},x)=>{let j=yS(),z=bS(h,{relative:p}),M=d.toLowerCase()==="get"?"get":"post",N=typeof h=="string"&&ny.test(h),G=U=>{if(m&&m(U),U.defaultPrevented)return;U.preventDefault();let V=U.nativeEvent.submitter,Z=V?.getAttribute("formmethod")||d;j(V||U.currentTarget,{fetcherKey:n,method:Z,navigate:r,replace:l,state:u,relative:p,preventScrollReset:y,viewTransition:_})};return k.createElement("form",{ref:x,method:M,action:z,onSubmit:i?m:G,...w,"data-discover":!N&&t==="render"?"true":void 0})});hS.displayName="Form";function mS(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ry(t){let n=k.useContext(bs);return tt(n,mS(t)),n}function pS(t,{target:n,replace:r,state:i,preventScrollReset:l,relative:u,viewTransition:d}={}){let h=Qv(),m=Na(),p=Qi(t,{relative:u});return k.useCallback(y=>{if(Fw(y,n)){y.preventDefault();let _=r!==void 0?r:Pi(m)===Pi(p);h(t,{replace:_,state:i,preventScrollReset:l,relative:u,viewTransition:d})}},[m,h,p,r,i,n,t,l,u,d])}var gS=0,vS=()=>`__${String(++gS)}__`;function yS(){let{router:t}=ry("useSubmit"),{basename:n}=k.useContext(En),r=$w();return k.useCallback(async(i,l={})=>{let{action:u,method:d,encType:h,formData:m,body:p}=Qw(i,n);if(l.navigate===!1){let y=l.fetcherKey||vS();await t.fetch(y,r,l.action||u,{preventScrollReset:l.preventScrollReset,formData:m,body:p,formMethod:l.method||d,formEncType:l.encType||h,flushSync:l.flushSync})}else await t.navigate(l.action||u,{preventScrollReset:l.preventScrollReset,formData:m,body:p,formMethod:l.method||d,formEncType:l.encType||h,replace:l.replace,state:l.state,fromRouteId:r,flushSync:l.flushSync,viewTransition:l.viewTransition})},[t,n,r])}function bS(t,{relative:n}={}){let{basename:r}=k.useContext(En),i=k.useContext(Nn);tt(i,"useFormAction must be used inside a RouteContext");let[l]=i.matches.slice(-1),u={...Qi(t||".",{relative:n})},d=Na();if(t==null){u.search=d.search;let h=new URLSearchParams(u.search),m=h.getAll("index");if(m.some(y=>y==="")){h.delete("index"),m.filter(_=>_).forEach(_=>h.append("index",_));let y=h.toString();u.search=y?`?${y}`:""}}return(!t||t===".")&&l.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(u.pathname=u.pathname==="/"?r:Wn([r,u.pathname])),Pi(u)}function _S(t,{relative:n}={}){let r=k.useContext(Fv);tt(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=ry("useViewTransitionState"),l=Qi(t,{relative:n});if(!r.isTransitioning)return!1;let u=ta(r.currentLocation.pathname,i)||r.currentLocation.pathname,d=ta(r.nextLocation.pathname,i)||r.nextLocation.pathname;return Ml(l.pathname,d)!=null||Ml(l.pathname,u)!=null}var EO=zv(),Cg={},wS="@vercel/analytics",SS="1.5.0",xS=()=>{window.va||(window.va=function(...n){(window.vaq=window.vaq||[]).push(n)})};function sy(){return typeof window<"u"}function iy(){try{const t="production"}catch{}return"production"}function ES(t="auto"){if(t==="auto"){window.vam=iy();return}window.vam=t}function TS(){return(sy()?window.vam:iy())||"production"}function Md(){return TS()==="development"}function kS(t){return t.scriptSrc?t.scriptSrc:Md()?"https://va.vercel-scripts.com/v1/script.debug.js":t.basePath?`${t.basePath}/insights/script.js`:"/_vercel/insights/script.js"}function jS(t={debug:!0}){var n;if(!sy())return;ES(t.mode),xS(),t.beforeSend&&((n=window.va)==null||n.call(window,"beforeSend",t.beforeSend));const r=kS(t);if(document.head.querySelector(`script[src*="${r}"]`))return;const i=document.createElement("script");i.src=r,i.defer=!0,i.dataset.sdkn=wS+(t.framework?`/${t.framework}`:""),i.dataset.sdkv=SS,t.disableAutoTrack&&(i.dataset.disableAutoTrack="1"),t.endpoint?i.dataset.endpoint=t.endpoint:t.basePath&&(i.dataset.endpoint=`${t.basePath}/insights`),t.dsn&&(i.dataset.dsn=t.dsn),i.onerror=()=>{const l=Md()?"Please check if any ad blockers are enabled and try again.":"Be sure to enable Web Analytics for your project and deploy again. See https://vercel.com/docs/analytics/quickstart for more information.";console.log(`[Vercel Web Analytics] Failed to load script from ${r}. ${l}`)},Md()&&t.debug===!1&&(i.dataset.debug="false"),document.head.appendChild(i)}function AS({route:t,path:n}){var r;(r=window.va)==null||r.call(window,"pageview",{route:t,path:n})}function OS(){if(!(typeof process>"u"||typeof Cg>"u"))return Cg.REACT_APP_VERCEL_OBSERVABILITY_BASEPATH}function RS(t){return k.useEffect(()=>{var n;t.beforeSend&&((n=window.va)==null||n.call(window,"beforeSend",t.beforeSend))},[t.beforeSend]),k.useEffect(()=>{jS({framework:t.framework||"react",basePath:t.basePath??OS(),...t.route!==void 0&&{disableAutoTrack:!0},...t})},[]),k.useEffect(()=>{t.route&&t.path&&AS({route:t.route,path:t.path})},[t.route,t.path]),null}const CS="modulepreload",DS=function(t){return"/"+t},Dg={},Vt=function(n,r,i){let l=Promise.resolve();if(r&&r.length>0){let m=function(p){return Promise.all(p.map(y=>Promise.resolve(y).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),h=d?.nonce||d?.getAttribute("nonce");l=m(r.map(p=>{if(p=DS(p),p in Dg)return;Dg[p]=!0;const y=p.endsWith(".css"),_=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${_}`))return;const w=document.createElement("link");if(w.rel=y?"stylesheet":CS,y||(w.as="script"),w.crossOrigin="",w.href=p,h&&w.setAttribute("nonce",h),document.head.appendChild(w),y)return new Promise((x,j)=>{w.addEventListener("load",x),w.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${p}`)))})}))}function u(d){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=d,window.dispatchEvent(h),!h.defaultPrevented)throw d}return l.then(d=>{for(const h of d||[])h.status==="rejected"&&u(h.reason);return n().catch(u)})};function Ci({className:t="",...n}){return v.jsx("div",{className:`rounded-xl border ${t}`,...n})}function Al({className:t="",...n}){return v.jsx("div",{className:`p-4 border-b ${t}`,...n})}function Di({className:t="",...n}){return v.jsx("div",{className:`text-base font-semibold ${t}`,...n})}function Ni({className:t="",...n}){return v.jsx("div",{className:`p-4 ${t}`,...n})}const nn=Jn.forwardRef(function({className:n="",...r},i){return v.jsx("input",{ref:i,className:`h-10 px-3 rounded-xl border border-slate-300 focus:outline-none focus:ring-2 focus:ring-slate-400 ${n}`,...r})}),tn=({className:t="",...n})=>v.jsx("label",{className:`text-sm font-medium text-slate-700 ${t}`,...n}),Qe=({variant:t="default",size:n="md",className:r="",...i})=>{const l="inline-flex items-center justify-center font-medium rounded-xl",u={sm:"h-8 px-3 text-sm",md:"h-10 px-4",lg:"h-12 px-5 text-lg"},d={default:"bg-slate-900 text-white hover:bg-slate-800",outline:"border border-slate-300 hover:bg-slate-50",destructive:"bg-red-600 text-white hover:bg-red-700",secondary:"bg-slate-100 text-slate-800"};return v.jsx("button",{className:`${l} ${u[n]} ${d[t]} ${r}`,...i})},oy=k.createContext({});function Mi({value:t,onValueChange:n,children:r}){const i=[],l=u=>{Jn.Children.forEach(u,d=>{if(!Jn.isValidElement(d))return;const h=d,m=h.props??{};h.type?.__isSelectItem?i.push({value:String(m.value),label:m.children}):m?.children&&l(m.children)})};return l(r),v.jsx(oy.Provider,{value:{value:t,onValueChange:n},children:v.jsx("div",{className:"inline-flex items-center gap-2",children:v.jsxs("select",{className:"h-10 px-3 rounded-xl border border-slate-300 bg-white",value:t,onChange:u=>n?.(u.target.value),children:[!t&&v.jsx("option",{value:"",hidden:!0}),i.map((u,d)=>v.jsx("option",{value:u.value,children:u.label},d))]})})})}const zi=({className:t="",...n})=>v.jsx("div",{className:t,...n}),Ui=({placeholder:t})=>{const{value:n}=k.useContext(oy);return v.jsx("span",{className:"text-slate-500",children:n??t??""})},$i=({className:t="",...n})=>v.jsx("div",{className:t,...n}),zt=({value:t,className:n="",...r})=>v.jsx("div",{"data-value":t,className:n,...r});zt.__isSelectItem=!0;const NS=({variant:t="default",className:n="",...r})=>{const i={default:"bg-slate-900 text-white",secondary:"bg-slate-100 text-slate-800"};return v.jsx("span",{className:`inline-flex items-center px-2 py-0.5 text-xs rounded-full ${i[t]} ${n}`,...r})},of=({className:t="",...n})=>v.jsx("table",{className:`w-full text-sm ${t}`,...n}),lf=({className:t="",...n})=>v.jsx("thead",{className:t,...n}),uf=({className:t="",...n})=>v.jsx("tbody",{className:t,...n}),ms=({className:t="",...n})=>v.jsx("tr",{className:`border-b last:border-0 ${t}`,...n}),it=({className:t="",...n})=>v.jsx("th",{className:`text-left text-slate-500 font-medium py-2 px-3 ${t}`,...n}),ot=({className:t="",...n})=>v.jsx("td",{className:`py-2 px-3 ${t}`,...n}),cf=k.createContext(null);function MS({value:t,onValueChange:n,children:r}){const[i,l]=k.useState(t??""),u=t??i,d=h=>n?n(h):l(h);return v.jsx(cf.Provider,{value:{value:u,setValue:d},children:v.jsx("div",{children:r})})}const zS=({className:t="",...n})=>v.jsx("div",{className:`inline-grid gap-2 ${t}`,...n}),pl=({value:t,className:n="",...r})=>{const i=k.useContext(cf),l=i.value===t;return v.jsx("button",{className:`h-9 px-3 rounded-xl border ${l?"bg-slate-900 text-white":"bg-white"} ${n}`,onClick:()=>i.setValue(t),...r})},US=({value:t,className:n="",...r})=>k.useContext(cf).value!==t?null:v.jsx("div",{className:n,...r});function $S(t){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}Array(12).fill(0);let zd=1;class LS{constructor(){this.subscribe=n=>(this.subscribers.push(n),()=>{const r=this.subscribers.indexOf(n);this.subscribers.splice(r,1)}),this.publish=n=>{this.subscribers.forEach(r=>r(n))},this.addToast=n=>{this.publish(n),this.toasts=[...this.toasts,n]},this.create=n=>{var r;const{message:i,...l}=n,u=typeof n?.id=="number"||((r=n.id)==null?void 0:r.length)>0?n.id:zd++,d=this.toasts.find(m=>m.id===u),h=n.dismissible===void 0?!0:n.dismissible;return this.dismissedToasts.has(u)&&this.dismissedToasts.delete(u),d?this.toasts=this.toasts.map(m=>m.id===u?(this.publish({...m,...n,id:u,title:i}),{...m,...n,id:u,dismissible:h,title:i}):m):this.addToast({title:i,...l,dismissible:h,id:u}),u},this.dismiss=n=>(n?(this.dismissedToasts.add(n),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:n,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(i=>i({id:r.id,dismiss:!0}))}),n),this.message=(n,r)=>this.create({...r,message:n}),this.error=(n,r)=>this.create({...r,message:n,type:"error"}),this.success=(n,r)=>this.create({...r,type:"success",message:n}),this.info=(n,r)=>this.create({...r,type:"info",message:n}),this.warning=(n,r)=>this.create({...r,type:"warning",message:n}),this.loading=(n,r)=>this.create({...r,type:"loading",message:n}),this.promise=(n,r)=>{if(!r)return;let i;r.loading!==void 0&&(i=this.create({...r,promise:n,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const l=Promise.resolve(n instanceof Function?n():n);let u=i!==void 0,d;const h=l.then(async p=>{if(d=["resolve",p],Jn.isValidElement(p))u=!1,this.create({id:i,type:"default",message:p});else if(BS(p)&&!p.ok){u=!1;const _=typeof r.error=="function"?await r.error(`HTTP error! status: ${p.status}`):r.error,w=typeof r.description=="function"?await r.description(`HTTP error! status: ${p.status}`):r.description,j=typeof _=="object"&&!Jn.isValidElement(_)?_:{message:_};this.create({id:i,type:"error",description:w,...j})}else if(p instanceof Error){u=!1;const _=typeof r.error=="function"?await r.error(p):r.error,w=typeof r.description=="function"?await r.description(p):r.description,j=typeof _=="object"&&!Jn.isValidElement(_)?_:{message:_};this.create({id:i,type:"error",description:w,...j})}else if(r.success!==void 0){u=!1;const _=typeof r.success=="function"?await r.success(p):r.success,w=typeof r.description=="function"?await r.description(p):r.description,j=typeof _=="object"&&!Jn.isValidElement(_)?_:{message:_};this.create({id:i,type:"success",description:w,...j})}}).catch(async p=>{if(d=["reject",p],r.error!==void 0){u=!1;const y=typeof r.error=="function"?await r.error(p):r.error,_=typeof r.description=="function"?await r.description(p):r.description,x=typeof y=="object"&&!Jn.isValidElement(y)?y:{message:y};this.create({id:i,type:"error",description:_,...x})}}).finally(()=>{u&&(this.dismiss(i),i=void 0),r.finally==null||r.finally.call(r)}),m=()=>new Promise((p,y)=>h.then(()=>d[0]==="reject"?y(d[1]):p(d[1])).catch(y));return typeof i!="string"&&typeof i!="number"?{unwrap:m}:Object.assign(i,{unwrap:m})},this.custom=(n,r)=>{const i=r?.id||zd++;return this.create({jsx:n(i),id:i,...r}),i},this.getActiveToasts=()=>this.toasts.filter(n=>!this.dismissedToasts.has(n.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const pn=new LS,qS=(t,n)=>{const r=n?.id||zd++;return pn.addToast({title:t,...n,id:r}),r},BS=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",IS=qS,HS=()=>pn.toasts,ZS=()=>pn.getActiveToasts(),Ae=Object.assign(IS,{success:pn.success,info:pn.info,warning:pn.warning,error:pn.error,custom:pn.custom,message:pn.message,promise:pn.promise,dismiss:pn.dismiss,loading:pn.loading},{getHistory:HS,getToasts:ZS});$S("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");const PS=t=>{let n;return t?n=t:typeof fetch>"u"?n=(...r)=>Vt(async()=>{const{default:i}=await Promise.resolve().then(()=>ws);return{default:i}},[]).then(({default:i})=>i(...r)):n=fetch,(...r)=>n(...r)};class df extends Error{constructor(n,r="FunctionsError",i){super(n),this.name=r,this.context=i}}class VS extends df{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class Ng extends df{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class Mg extends df{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var Ud;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Ud||(Ud={}));var GS=function(t,n,r,i){function l(u){return u instanceof r?u:new r(function(d){d(u)})}return new(r||(r=Promise))(function(u,d){function h(y){try{p(i.next(y))}catch(_){d(_)}}function m(y){try{p(i.throw(y))}catch(_){d(_)}}function p(y){y.done?u(y.value):l(y.value).then(h,m)}p((i=i.apply(t,n||[])).next())})};class FS{constructor(n,{headers:r={},customFetch:i,region:l=Ud.Any}={}){this.url=n,this.headers=r,this.region=l,this.fetch=PS(i)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n,r={}){var i;return GS(this,void 0,void 0,function*(){try{const{headers:l,method:u,body:d}=r;let h={},{region:m}=r;m||(m=this.region);const p=new URL(`${this.url}/${n}`);m&&m!=="any"&&(h["x-region"]=m,p.searchParams.set("forceFunctionRegion",m));let y;d&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)&&(typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",y=d):typeof d=="string"?(h["Content-Type"]="text/plain",y=d):typeof FormData<"u"&&d instanceof FormData?y=d:(h["Content-Type"]="application/json",y=JSON.stringify(d)));const _=yield this.fetch(p.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),l),body:y}).catch(z=>{throw new VS(z)}),w=_.headers.get("x-relay-error");if(w&&w==="true")throw new Ng(_);if(!_.ok)throw new Mg(_);let x=((i=_.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),j;return x==="application/json"?j=yield _.json():x==="application/octet-stream"?j=yield _.blob():x==="text/event-stream"?j=_:x==="multipart/form-data"?j=yield _.formData():j=yield _.text(),{data:j,error:null,response:_}}catch(l){return{data:null,error:l,response:l instanceof Mg||l instanceof Ng?l.context:void 0}}})}}var Ot={},Wr={},es={},ts={},ns={},as={},YS=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ps=YS();const KS=ps.fetch,ly=ps.fetch.bind(ps),uy=ps.Headers,QS=ps.Request,XS=ps.Response,ws=Object.freeze(Object.defineProperty({__proto__:null,Headers:uy,Request:QS,Response:XS,default:ly,fetch:KS},Symbol.toStringTag,{value:"Module"})),JS=y_(ws);var gl={},zg;function cy(){if(zg)return gl;zg=1,Object.defineProperty(gl,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return gl.default=t,gl}var Ug;function dy(){if(Ug)return as;Ug=1;var t=as&&as.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(as,"__esModule",{value:!0});const n=t(JS),r=t(cy());class i{constructor(u){this.shouldThrowOnError=!1,this.method=u.method,this.url=u.url,this.headers=u.headers,this.schema=u.schema,this.body=u.body,this.shouldThrowOnError=u.shouldThrowOnError,this.signal=u.signal,this.isMaybeSingle=u.isMaybeSingle,u.fetch?this.fetch=u.fetch:typeof fetch>"u"?this.fetch=n.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(u,d){return this.headers=Object.assign({},this.headers),this.headers[u]=d,this}then(u,d){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const h=this.fetch;let m=h(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async p=>{var y,_,w;let x=null,j=null,z=null,M=p.status,N=p.statusText;if(p.ok){if(this.method!=="HEAD"){const Z=await p.text();Z===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?j=Z:j=JSON.parse(Z))}const U=(y=this.headers.Prefer)===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),V=(_=p.headers.get("content-range"))===null||_===void 0?void 0:_.split("/");U&&V&&V.length>1&&(z=parseInt(V[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(j)&&(j.length>1?(x={code:"PGRST116",details:`Results contain ${j.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},j=null,z=null,M=406,N="Not Acceptable"):j.length===1?j=j[0]:j=null)}else{const U=await p.text();try{x=JSON.parse(U),Array.isArray(x)&&p.status===404&&(j=[],x=null,M=200,N="OK")}catch{p.status===404&&U===""?(M=204,N="No Content"):x={message:U}}if(x&&this.isMaybeSingle&&(!((w=x?.details)===null||w===void 0)&&w.includes("0 rows"))&&(x=null,M=200,N="OK"),x&&this.shouldThrowOnError)throw new r.default(x)}return{error:x,data:j,count:z,status:M,statusText:N}});return this.shouldThrowOnError||(m=m.catch(p=>{var y,_,w;return{error:{message:`${(y=p?.name)!==null&&y!==void 0?y:"FetchError"}: ${p?.message}`,details:`${(_=p?.stack)!==null&&_!==void 0?_:""}`,hint:"",code:`${(w=p?.code)!==null&&w!==void 0?w:""}`},data:null,count:null,status:0,statusText:""}})),m.then(u,d)}returns(){return this}overrideTypes(){return this}}return as.default=i,as}var $g;function fy(){if($g)return ns;$g=1;var t=ns&&ns.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(ns,"__esModule",{value:!0});const n=t(dy());class r extends n.default{select(l){let u=!1;const d=(l??"*").split("").map(h=>/\s/.test(h)&&!u?"":(h==='"'&&(u=!u),h)).join("");return this.url.searchParams.set("select",d),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(l,{ascending:u=!0,nullsFirst:d,foreignTable:h,referencedTable:m=h}={}){const p=m?`${m}.order`:"order",y=this.url.searchParams.get(p);return this.url.searchParams.set(p,`${y?`${y},`:""}${l}.${u?"asc":"desc"}${d===void 0?"":d?".nullsfirst":".nullslast"}`),this}limit(l,{foreignTable:u,referencedTable:d=u}={}){const h=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(h,`${l}`),this}range(l,u,{foreignTable:d,referencedTable:h=d}={}){const m=typeof h>"u"?"offset":`${h}.offset`,p=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(m,`${l}`),this.url.searchParams.set(p,`${u-l+1}`),this}abortSignal(l){return this.signal=l,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:l=!1,verbose:u=!1,settings:d=!1,buffers:h=!1,wal:m=!1,format:p="text"}={}){var y;const _=[l?"analyze":null,u?"verbose":null,d?"settings":null,h?"buffers":null,m?"wal":null].filter(Boolean).join("|"),w=(y=this.headers.Accept)!==null&&y!==void 0?y:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${p}; for="${w}"; options=${_};`,p==="json"?this:this}rollback(){var l;return((l=this.headers.Prefer)!==null&&l!==void 0?l:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return ns.default=r,ns}var Lg;function ff(){if(Lg)return ts;Lg=1;var t=ts&&ts.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(ts,"__esModule",{value:!0});const n=t(fy());class r extends n.default{eq(l,u){return this.url.searchParams.append(l,`eq.${u}`),this}neq(l,u){return this.url.searchParams.append(l,`neq.${u}`),this}gt(l,u){return this.url.searchParams.append(l,`gt.${u}`),this}gte(l,u){return this.url.searchParams.append(l,`gte.${u}`),this}lt(l,u){return this.url.searchParams.append(l,`lt.${u}`),this}lte(l,u){return this.url.searchParams.append(l,`lte.${u}`),this}like(l,u){return this.url.searchParams.append(l,`like.${u}`),this}likeAllOf(l,u){return this.url.searchParams.append(l,`like(all).{${u.join(",")}}`),this}likeAnyOf(l,u){return this.url.searchParams.append(l,`like(any).{${u.join(",")}}`),this}ilike(l,u){return this.url.searchParams.append(l,`ilike.${u}`),this}ilikeAllOf(l,u){return this.url.searchParams.append(l,`ilike(all).{${u.join(",")}}`),this}ilikeAnyOf(l,u){return this.url.searchParams.append(l,`ilike(any).{${u.join(",")}}`),this}is(l,u){return this.url.searchParams.append(l,`is.${u}`),this}in(l,u){const d=Array.from(new Set(u)).map(h=>typeof h=="string"&&new RegExp("[,()]").test(h)?`"${h}"`:`${h}`).join(",");return this.url.searchParams.append(l,`in.(${d})`),this}contains(l,u){return typeof u=="string"?this.url.searchParams.append(l,`cs.${u}`):Array.isArray(u)?this.url.searchParams.append(l,`cs.{${u.join(",")}}`):this.url.searchParams.append(l,`cs.${JSON.stringify(u)}`),this}containedBy(l,u){return typeof u=="string"?this.url.searchParams.append(l,`cd.${u}`):Array.isArray(u)?this.url.searchParams.append(l,`cd.{${u.join(",")}}`):this.url.searchParams.append(l,`cd.${JSON.stringify(u)}`),this}rangeGt(l,u){return this.url.searchParams.append(l,`sr.${u}`),this}rangeGte(l,u){return this.url.searchParams.append(l,`nxl.${u}`),this}rangeLt(l,u){return this.url.searchParams.append(l,`sl.${u}`),this}rangeLte(l,u){return this.url.searchParams.append(l,`nxr.${u}`),this}rangeAdjacent(l,u){return this.url.searchParams.append(l,`adj.${u}`),this}overlaps(l,u){return typeof u=="string"?this.url.searchParams.append(l,`ov.${u}`):this.url.searchParams.append(l,`ov.{${u.join(",")}}`),this}textSearch(l,u,{config:d,type:h}={}){let m="";h==="plain"?m="pl":h==="phrase"?m="ph":h==="websearch"&&(m="w");const p=d===void 0?"":`(${d})`;return this.url.searchParams.append(l,`${m}fts${p}.${u}`),this}match(l){return Object.entries(l).forEach(([u,d])=>{this.url.searchParams.append(u,`eq.${d}`)}),this}not(l,u,d){return this.url.searchParams.append(l,`not.${u}.${d}`),this}or(l,{foreignTable:u,referencedTable:d=u}={}){const h=d?`${d}.or`:"or";return this.url.searchParams.append(h,`(${l})`),this}filter(l,u,d){return this.url.searchParams.append(l,`${u}.${d}`),this}}return ts.default=r,ts}var qg;function hy(){if(qg)return es;qg=1;var t=es&&es.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(es,"__esModule",{value:!0});const n=t(ff());class r{constructor(l,{headers:u={},schema:d,fetch:h}){this.url=l,this.headers=u,this.schema=d,this.fetch=h}select(l,{head:u=!1,count:d}={}){const h=u?"HEAD":"GET";let m=!1;const p=(l??"*").split("").map(y=>/\s/.test(y)&&!m?"":(y==='"'&&(m=!m),y)).join("");return this.url.searchParams.set("select",p),d&&(this.headers.Prefer=`count=${d}`),new n.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(l,{count:u,defaultToNull:d=!0}={}){const h="POST",m=[];if(this.headers.Prefer&&m.push(this.headers.Prefer),u&&m.push(`count=${u}`),d||m.push("missing=default"),this.headers.Prefer=m.join(","),Array.isArray(l)){const p=l.reduce((y,_)=>y.concat(Object.keys(_)),[]);if(p.length>0){const y=[...new Set(p)].map(_=>`"${_}"`);this.url.searchParams.set("columns",y.join(","))}}return new n.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:this.fetch,allowEmpty:!1})}upsert(l,{onConflict:u,ignoreDuplicates:d=!1,count:h,defaultToNull:m=!0}={}){const p="POST",y=[`resolution=${d?"ignore":"merge"}-duplicates`];if(u!==void 0&&this.url.searchParams.set("on_conflict",u),this.headers.Prefer&&y.push(this.headers.Prefer),h&&y.push(`count=${h}`),m||y.push("missing=default"),this.headers.Prefer=y.join(","),Array.isArray(l)){const _=l.reduce((w,x)=>w.concat(Object.keys(x)),[]);if(_.length>0){const w=[...new Set(_)].map(x=>`"${x}"`);this.url.searchParams.set("columns",w.join(","))}}return new n.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:this.fetch,allowEmpty:!1})}update(l,{count:u}={}){const d="PATCH",h=[];return this.headers.Prefer&&h.push(this.headers.Prefer),u&&h.push(`count=${u}`),this.headers.Prefer=h.join(","),new n.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:this.fetch,allowEmpty:!1})}delete({count:l}={}){const u="DELETE",d=[];return l&&d.push(`count=${l}`),this.headers.Prefer&&d.unshift(this.headers.Prefer),this.headers.Prefer=d.join(","),new n.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return es.default=r,es}var ki={},ji={},Bg;function WS(){return Bg||(Bg=1,Object.defineProperty(ji,"__esModule",{value:!0}),ji.version=void 0,ji.version="0.0.0-automated"),ji}var Ig;function ex(){if(Ig)return ki;Ig=1,Object.defineProperty(ki,"__esModule",{value:!0}),ki.DEFAULT_HEADERS=void 0;const t=WS();return ki.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${t.version}`},ki}var Hg;function tx(){if(Hg)return Wr;Hg=1;var t=Wr&&Wr.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(Wr,"__esModule",{value:!0});const n=t(hy()),r=t(ff()),i=ex();class l{constructor(d,{headers:h={},schema:m,fetch:p}={}){this.url=d,this.headers=Object.assign(Object.assign({},i.DEFAULT_HEADERS),h),this.schemaName=m,this.fetch=p}from(d){const h=new URL(`${this.url}/${d}`);return new n.default(h,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(d){return new l(this.url,{headers:this.headers,schema:d,fetch:this.fetch})}rpc(d,h={},{head:m=!1,get:p=!1,count:y}={}){let _;const w=new URL(`${this.url}/rpc/${d}`);let x;m||p?(_=m?"HEAD":"GET",Object.entries(h).filter(([z,M])=>M!==void 0).map(([z,M])=>[z,Array.isArray(M)?`{${M.join(",")}}`:`${M}`]).forEach(([z,M])=>{w.searchParams.append(z,M)})):(_="POST",x=h);const j=Object.assign({},this.headers);return y&&(j.Prefer=`count=${y}`),new r.default({method:_,url:w,headers:j,schema:this.schemaName,body:x,fetch:this.fetch,allowEmpty:!1})}}return Wr.default=l,Wr}var Zg;function nx(){if(Zg)return Ot;Zg=1;var t=Ot&&Ot.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(Ot,"__esModule",{value:!0}),Ot.PostgrestError=Ot.PostgrestBuilder=Ot.PostgrestTransformBuilder=Ot.PostgrestFilterBuilder=Ot.PostgrestQueryBuilder=Ot.PostgrestClient=void 0;const n=t(tx());Ot.PostgrestClient=n.default;const r=t(hy());Ot.PostgrestQueryBuilder=r.default;const i=t(ff());Ot.PostgrestFilterBuilder=i.default;const l=t(fy());Ot.PostgrestTransformBuilder=l.default;const u=t(dy());Ot.PostgrestBuilder=u.default;const d=t(cy());return Ot.PostgrestError=d.default,Ot.default={PostgrestClient:n.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:l.default,PostgrestBuilder:u.default,PostgrestError:d.default},Ot}var ax=nx();const rx=Mv(ax),{PostgrestClient:sx,PostgrestQueryBuilder:TO,PostgrestFilterBuilder:kO,PostgrestTransformBuilder:jO,PostgrestBuilder:AO,PostgrestError:OO}=rx;class ix{static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const r=parseInt(process.versions.node.split(".")[0]);return r>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${r} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${r} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const n=this.detectEnvironment();if(n.constructor)return n.constructor;let r=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(r+=`

Suggested solution: ${n.workaround}`),new Error(r)}static createWebSocket(n,r){const i=this.getWebSocketConstructor();return new i(n,r)}static isWebSocketSupported(){try{const n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}}const ox="2.15.1",lx=`realtime-js/${ox}`,ux="1.0.0",$d=1e4,cx=1e3,dx=100;var Li;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Li||(Li={}));var xt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(xt||(xt={}));var Sn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Sn||(Sn={}));var Ld;(function(t){t.websocket="websocket"})(Ld||(Ld={}));var sr;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(sr||(sr={}));class fx{constructor(){this.HEADER_LENGTH=1}decode(n,r){return n.constructor===ArrayBuffer?r(this._binaryDecode(n)):r(typeof n=="string"?JSON.parse(n):{})}_binaryDecode(n){const r=new DataView(n),i=new TextDecoder;return this._decodeBroadcast(n,r,i)}_decodeBroadcast(n,r,i){const l=r.getUint8(1),u=r.getUint8(2);let d=this.HEADER_LENGTH+2;const h=i.decode(n.slice(d,d+l));d=d+l;const m=i.decode(n.slice(d,d+u));d=d+u;const p=JSON.parse(i.decode(n.slice(d,n.byteLength)));return{ref:null,topic:h,event:m,payload:p}}}class my{constructor(n,r){this.callback=n,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Je;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Je||(Je={}));const Pg=(t,n,r={})=>{var i;const l=(i=r.skipTypes)!==null&&i!==void 0?i:[];return Object.keys(n).reduce((u,d)=>(u[d]=hx(d,t,n,l),u),{})},hx=(t,n,r,i)=>{const l=n.find(h=>h.name===t),u=l?.type,d=r[t];return u&&!i.includes(u)?py(u,d):qd(d)},py=(t,n)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return vx(n,r)}switch(t){case Je.bool:return mx(n);case Je.float4:case Je.float8:case Je.int2:case Je.int4:case Je.int8:case Je.numeric:case Je.oid:return px(n);case Je.json:case Je.jsonb:return gx(n);case Je.timestamp:return yx(n);case Je.abstime:case Je.date:case Je.daterange:case Je.int4range:case Je.int8range:case Je.money:case Je.reltime:case Je.text:case Je.time:case Je.timestamptz:case Je.timetz:case Je.tsrange:case Je.tstzrange:return qd(n);default:return qd(n)}},qd=t=>t,mx=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},px=t=>{if(typeof t=="string"){const n=parseFloat(t);if(!Number.isNaN(n))return n}return t},gx=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(n){return console.log(`JSON parse error: ${n}`),t}return t},vx=(t,n)=>{if(typeof t!="string")return t;const r=t.length-1,i=t[r];if(t[0]==="{"&&i==="}"){let u;const d=t.slice(1,r);try{u=JSON.parse("["+d+"]")}catch{u=d?d.split(","):[]}return u.map(h=>py(n,h))}return t},yx=t=>typeof t=="string"?t.replace(" ","T"):t,gy=t=>{let n=t;return n=n.replace(/^ws/i,"http"),n=n.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),n.replace(/\/+$/,"")+"/api/broadcast"};class bd{constructor(n,r,i={},l=$d){this.channel=n,this.event=r,this.payload=i,this.timeout=l,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,r){var i;return this._hasReceived(n)&&r((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:n,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:r}){this.recHooks.filter(i=>i.status===n).forEach(i=>i.callback(r))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var Vg;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Vg||(Vg={}));class qi{constructor(n,r){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},l=>{const{onJoin:u,onLeave:d,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=qi.syncState(this.state,l,u,d),this.pendingDiffs.forEach(m=>{this.state=qi.syncDiff(this.state,m,u,d)}),this.pendingDiffs=[],h()}),this.channel._on(i.diff,{},l=>{const{onJoin:u,onLeave:d,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(l):(this.state=qi.syncDiff(this.state,l,u,d),h())}),this.onJoin((l,u,d)=>{this.channel._trigger("presence",{event:"join",key:l,currentPresences:u,newPresences:d})}),this.onLeave((l,u,d)=>{this.channel._trigger("presence",{event:"leave",key:l,currentPresences:u,leftPresences:d})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,r,i,l){const u=this.cloneDeep(n),d=this.transformState(r),h={},m={};return this.map(u,(p,y)=>{d[p]||(m[p]=y)}),this.map(d,(p,y)=>{const _=u[p];if(_){const w=y.map(M=>M.presence_ref),x=_.map(M=>M.presence_ref),j=y.filter(M=>x.indexOf(M.presence_ref)<0),z=_.filter(M=>w.indexOf(M.presence_ref)<0);j.length>0&&(h[p]=j),z.length>0&&(m[p]=z)}else h[p]=y}),this.syncDiff(u,{joins:h,leaves:m},i,l)}static syncDiff(n,r,i,l){const{joins:u,leaves:d}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return i||(i=()=>{}),l||(l=()=>{}),this.map(u,(h,m)=>{var p;const y=(p=n[h])!==null&&p!==void 0?p:[];if(n[h]=this.cloneDeep(m),y.length>0){const _=n[h].map(x=>x.presence_ref),w=y.filter(x=>_.indexOf(x.presence_ref)<0);n[h].unshift(...w)}i(h,y,m)}),this.map(d,(h,m)=>{let p=n[h];if(!p)return;const y=m.map(_=>_.presence_ref);p=p.filter(_=>y.indexOf(_.presence_ref)<0),n[h]=p,l(h,p,m),p.length===0&&delete n[h]}),n}static map(n,r){return Object.getOwnPropertyNames(n).map(i=>r(i,n[i]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((r,i)=>{const l=n[i];return"metas"in l?r[i]=l.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):r[i]=l,r},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Gg;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Gg||(Gg={}));var Bi;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Bi||(Bi={}));var Xn;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Xn||(Xn={}));class hf{constructor(n,r={config:{}},i){this.topic=n,this.params=r,this.socket=i,this.bindings={},this.state=xt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new bd(this,Sn.join,this.params,this.timeout),this.rejoinTimer=new my(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=xt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=xt.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=xt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=xt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=xt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Sn.reply,{},(l,u)=>{this._trigger(this._replyEventName(u),l)}),this.presence=new qi(this),this.broadcastEndpointURL=gy(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(n,r=this.timeout){var i,l;if(this.socket.isConnected()||this.socket.connect(),this.state==xt.closed){const{config:{broadcast:u,presence:d,private:h}}=this.params,m=(l=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(w=>w.filter))!==null&&l!==void 0?l:[],p=!!this.bindings[Bi.PRESENCE]&&this.bindings[Bi.PRESENCE].length>0,y={},_={broadcast:u,presence:Object.assign(Object.assign({},d),{enabled:p}),postgres_changes:m,private:h};this.socket.accessTokenValue&&(y.access_token=this.socket.accessTokenValue),this._onError(w=>n?.(Xn.CHANNEL_ERROR,w)),this._onClose(()=>n?.(Xn.CLOSED)),this.updateJoinPayload(Object.assign({config:_},y)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:w})=>{var x;if(this.socket.setAuth(),w===void 0){n?.(Xn.SUBSCRIBED);return}else{const j=this.bindings.postgres_changes,z=(x=j?.length)!==null&&x!==void 0?x:0,M=[];for(let N=0;N<z;N++){const G=j[N],{filter:{event:U,schema:V,table:Z,filter:X}}=G,W=w&&w[N];if(W&&W.event===U&&W.schema===V&&W.table===Z&&W.filter===X)M.push(Object.assign(Object.assign({},G),{id:W.id}));else{this.unsubscribe(),this.state=xt.errored,n?.(Xn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=M,n&&n(Xn.SUBSCRIBED);return}}).receive("error",w=>{this.state=xt.errored,n?.(Xn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(w).join(", ")||"error")))}).receive("timeout",()=>{n?.(Xn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,r={}){return await this.send({type:"presence",event:"track",payload:n},r.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,r,i){return this.state===xt.joined&&n===Bi.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(n,r,i)}async send(n,r={}){var i,l;if(!this._canPush()&&n.type==="broadcast"){const{event:u,payload:d}=n,m={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:d,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);return await((l=p.body)===null||l===void 0?void 0:l.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var d,h,m;const p=this._push(n.type,n,r.timeout||this.timeout);n.type==="broadcast"&&!(!((m=(h=(d=this.params)===null||d===void 0?void 0:d.config)===null||h===void 0?void 0:h.broadcast)===null||m===void 0)&&m.ack)&&u("ok"),p.receive("ok",()=>u("ok")),p.receive("error",()=>u("error")),p.receive("timeout",()=>u("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=xt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Sn.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(l=>{i=new bd(this,Sn.leave,{},n),i.receive("ok",()=>{r(),l("ok")}).receive("timeout",()=>{r(),l("timed out")}).receive("error",()=>{l("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i?.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=xt.closed,this.bindings={}}async _fetchWithTimeout(n,r,i){const l=new AbortController,u=setTimeout(()=>l.abort(),i),d=await this.socket.fetch(n,Object.assign(Object.assign({},r),{signal:l.signal}));return clearTimeout(u),d}_push(n,r,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let l=new bd(this,n,r,i);return this._canPush()?l.send():this._addToPushBuffer(l),l}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>dx){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(n,r,i){return r}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,r,i){var l,u;const d=n.toLocaleLowerCase(),{close:h,error:m,leave:p,join:y}=Sn;if(i&&[h,m,p,y].indexOf(d)>=0&&i!==this._joinRef())return;let w=this._onMessage(d,r,i);if(r&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(d)?(l=this.bindings.postgres_changes)===null||l===void 0||l.filter(x=>{var j,z,M;return((j=x.filter)===null||j===void 0?void 0:j.event)==="*"||((M=(z=x.filter)===null||z===void 0?void 0:z.event)===null||M===void 0?void 0:M.toLocaleLowerCase())===d}).map(x=>x.callback(w,i)):(u=this.bindings[d])===null||u===void 0||u.filter(x=>{var j,z,M,N,G,U;if(["broadcast","presence","postgres_changes"].includes(d))if("id"in x){const V=x.id,Z=(j=x.filter)===null||j===void 0?void 0:j.event;return V&&((z=r.ids)===null||z===void 0?void 0:z.includes(V))&&(Z==="*"||Z?.toLocaleLowerCase()===((M=r.data)===null||M===void 0?void 0:M.type.toLocaleLowerCase()))}else{const V=(G=(N=x?.filter)===null||N===void 0?void 0:N.event)===null||G===void 0?void 0:G.toLocaleLowerCase();return V==="*"||V===((U=r?.event)===null||U===void 0?void 0:U.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===d}).map(x=>{if(typeof w=="object"&&"ids"in w){const j=w.data,{schema:z,table:M,commit_timestamp:N,type:G,errors:U}=j;w=Object.assign(Object.assign({},{schema:z,table:M,commit_timestamp:N,eventType:G,new:{},old:{},errors:U}),this._getPayloadRecords(j))}x.callback(w,i)})}_isClosed(){return this.state===xt.closed}_isJoined(){return this.state===xt.joined}_isJoining(){return this.state===xt.joining}_isLeaving(){return this.state===xt.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,r,i){const l=n.toLocaleLowerCase(),u={type:l,filter:r,callback:i};return this.bindings[l]?this.bindings[l].push(u):this.bindings[l]=[u],this}_off(n,r){const i=n.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(l=>{var u;return!(((u=l.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===i&&hf.isEqual(l.filter,r))})),this}static isEqual(n,r){if(Object.keys(n).length!==Object.keys(r).length)return!1;for(const i in n)if(n[i]!==r[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(Sn.close,{},n)}_onError(n){this._on(Sn.error,{},r=>n(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=xt.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const r={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(r.new=Pg(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(r.old=Pg(n.columns,n.old_record)),r}}const Fg=()=>{},vl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},bx=[1e3,2e3,5e3,1e4],_x=1e4,wx=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Sx{constructor(n,r){var i;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=$d,this.transport=null,this.heartbeatIntervalMs=vl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Fg,this.ref=0,this.reconnectTimer=null,this.logger=Fg,this.conn=null,this.sendBuffer=[],this.serializer=new fx,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=l=>{let u;return l?u=l:typeof fetch>"u"?u=(...d)=>Vt(async()=>{const{default:h}=await Promise.resolve().then(()=>ws);return{default:h}},void 0).then(({default:h})=>h(...d)).catch(h=>{throw new Error(`Failed to load @supabase/node-fetch: ${h.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):u=fetch,(...d)=>u(...d)},!(!((i=r?.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${n}/${Ld.websocket}`,this.httpEndpoint=gy(n),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=ix.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");const r=n.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:ux}))}disconnect(n,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},n?this.conn.close(n,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(n){const r=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const n=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,r,i){this.logger(n,r,i)}connectionState(){switch(this.conn&&this.conn.readyState){case Li.connecting:return sr.Connecting;case Li.open:return sr.Open;case Li.closing:return sr.Closing;default:return sr.Closed}}isConnected(){return this.connectionState()===sr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,r={config:{}}){const i=`realtime:${n}`,l=this.getChannels().find(u=>u.topic===i);if(l)return l;{const u=new hf(`realtime:${n}`,r,this);return this.channels.push(u),u}}push(n){const{topic:r,event:i,payload:l,ref:u}=n,d=()=>{this.encode(n,h=>{var m;(m=this.conn)===null||m===void 0||m.send(h)})};this.log("push",`${r} ${i} (${u})`,l),this.isConnected()?d():this.sendBuffer.push(d)}async setAuth(n=null){this._authPromise=this._performAuth(n);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var n;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(cx,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},vl.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let r=this.channels.find(i=>i.topic===n&&(i._isJoined()||i._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${n}"`),r.unsubscribe())}_remove(n){this.channels=this.channels.filter(r=>r.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,r=>{r.topic==="phoenix"&&r.event==="phx_reply"&&this.heartbeatCallback(r.payload.status==="ok"?"ok":"error"),r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:l,payload:u,ref:d}=r,h=d?`(${d})`:"",m=u.status||"";this.log("receive",`${m} ${i} ${l} ${h}`.trim(),u),this.channels.filter(p=>p._isMember(i)).forEach(p=>p._trigger(l,u,d)),this._triggerStateCallbacks("message",r)})}_clearTimer(n){var r;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(n){var r;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n)}_triggerChanError(){this.channels.forEach(n=>n._trigger(Sn.error))}_appendParams(n,r){if(Object.keys(r).length===0)return n;const i=n.match(/\?/)?"&":"?",l=new URLSearchParams(r);return`${n}${i}${l}`}_workerObjectUrl(n){let r;if(n)r=n;else{const i=new Blob([wx],{type:"application/javascript"});r=URL.createObjectURL(i)}return r}_setConnectionState(n,r=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(n=null){let r;n?r=n:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(i=>{const l={access_token:r,version:lx};r&&i.updateJoinPayload(l),i.joinedOnce&&i._isJoined()&&i._push(Sn.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(n="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${n}`,r)})}_triggerStateCallbacks(n,r){try{this.stateChangeCallbacks[n].forEach(i=>{try{i(r)}catch(l){this.log("error",`error in ${n} callback`,l)}})}catch(i){this.log("error",`error triggering ${n} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new my(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},vl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(n){var r,i,l,u,d,h,m,p;if(this.transport=(r=n?.transport)!==null&&r!==void 0?r:null,this.timeout=(i=n?.timeout)!==null&&i!==void 0?i:$d,this.heartbeatIntervalMs=(l=n?.heartbeatIntervalMs)!==null&&l!==void 0?l:vl.HEARTBEAT_INTERVAL,this.worker=(u=n?.worker)!==null&&u!==void 0?u:!1,this.accessToken=(d=n?.accessToken)!==null&&d!==void 0?d:null,n?.params&&(this.params=n.params),n?.logger&&(this.logger=n.logger),(n?.logLevel||n?.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(h=n?.reconnectAfterMs)!==null&&h!==void 0?h:(y=>bx[y-1]||_x),this.encode=(m=n?.encode)!==null&&m!==void 0?m:((y,_)=>_(JSON.stringify(y))),this.decode=(p=n?.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n?.workerUrl}}}class mf extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}}function Et(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class xx extends mf{constructor(n,r,i){super(n),this.name="StorageApiError",this.status=r,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Bd extends mf{constructor(n,r){super(n),this.name="StorageUnknownError",this.originalError=r}}var Ex=function(t,n,r,i){function l(u){return u instanceof r?u:new r(function(d){d(u)})}return new(r||(r=Promise))(function(u,d){function h(y){try{p(i.next(y))}catch(_){d(_)}}function m(y){try{p(i.throw(y))}catch(_){d(_)}}function p(y){y.done?u(y.value):l(y.value).then(h,m)}p((i=i.apply(t,n||[])).next())})};const vy=t=>{let n;return t?n=t:typeof fetch>"u"?n=(...r)=>Vt(async()=>{const{default:i}=await Promise.resolve().then(()=>ws);return{default:i}},void 0).then(({default:i})=>i(...r)):n=fetch,(...r)=>n(...r)},Tx=()=>Ex(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Vt(()=>Promise.resolve().then(()=>ws),void 0)).Response:Response}),Id=t=>{if(Array.isArray(t))return t.map(r=>Id(r));if(typeof t=="function"||t!==Object(t))return t;const n={};return Object.entries(t).forEach(([r,i])=>{const l=r.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));n[l]=Id(i)}),n},kx=t=>{if(typeof t!="object"||t===null)return!1;const n=Object.getPrototypeOf(t);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var ur=function(t,n,r,i){function l(u){return u instanceof r?u:new r(function(d){d(u)})}return new(r||(r=Promise))(function(u,d){function h(y){try{p(i.next(y))}catch(_){d(_)}}function m(y){try{p(i.throw(y))}catch(_){d(_)}}function p(y){y.done?u(y.value):l(y.value).then(h,m)}p((i=i.apply(t,n||[])).next())})};const _d=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),jx=(t,n,r)=>ur(void 0,void 0,void 0,function*(){const i=yield Tx();t instanceof i&&!r?.noResolveJson?t.json().then(l=>{const u=t.status||500,d=l?.statusCode||u+"";n(new xx(_d(l),u,d))}).catch(l=>{n(new Bd(_d(l),l))}):n(new Bd(_d(t),t))}),Ax=(t,n,r,i)=>{const l={method:t,headers:n?.headers||{}};return t==="GET"||!i?l:(kx(i)?(l.headers=Object.assign({"Content-Type":"application/json"},n?.headers),l.body=JSON.stringify(i)):l.body=i,n?.duplex&&(l.duplex=n.duplex),Object.assign(Object.assign({},l),r))};function Xi(t,n,r,i,l,u){return ur(this,void 0,void 0,function*(){return new Promise((d,h)=>{t(r,Ax(n,i,l,u)).then(m=>{if(!m.ok)throw m;return i?.noResolveJson?m:m.json()}).then(m=>d(m)).catch(m=>jx(m,h,i))})})}function Ul(t,n,r,i){return ur(this,void 0,void 0,function*(){return Xi(t,"GET",n,r,i)})}function Rn(t,n,r,i,l){return ur(this,void 0,void 0,function*(){return Xi(t,"POST",n,i,l,r)})}function Hd(t,n,r,i,l){return ur(this,void 0,void 0,function*(){return Xi(t,"PUT",n,i,l,r)})}function Ox(t,n,r,i){return ur(this,void 0,void 0,function*(){return Xi(t,"HEAD",n,Object.assign(Object.assign({},r),{noResolveJson:!0}),i)})}function yy(t,n,r,i,l){return ur(this,void 0,void 0,function*(){return Xi(t,"DELETE",n,i,l,r)})}var qt=function(t,n,r,i){function l(u){return u instanceof r?u:new r(function(d){d(u)})}return new(r||(r=Promise))(function(u,d){function h(y){try{p(i.next(y))}catch(_){d(_)}}function m(y){try{p(i.throw(y))}catch(_){d(_)}}function p(y){y.done?u(y.value):l(y.value).then(h,m)}p((i=i.apply(t,n||[])).next())})};const Rx={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Yg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Cx{constructor(n,r={},i,l){this.url=n,this.headers=r,this.bucketId=i,this.fetch=vy(l)}uploadOrUpdate(n,r,i,l){return qt(this,void 0,void 0,function*(){try{let u;const d=Object.assign(Object.assign({},Yg),l);let h=Object.assign(Object.assign({},this.headers),n==="POST"&&{"x-upsert":String(d.upsert)});const m=d.metadata;typeof Blob<"u"&&i instanceof Blob?(u=new FormData,u.append("cacheControl",d.cacheControl),m&&u.append("metadata",this.encodeMetadata(m)),u.append("",i)):typeof FormData<"u"&&i instanceof FormData?(u=i,u.append("cacheControl",d.cacheControl),m&&u.append("metadata",this.encodeMetadata(m))):(u=i,h["cache-control"]=`max-age=${d.cacheControl}`,h["content-type"]=d.contentType,m&&(h["x-metadata"]=this.toBase64(this.encodeMetadata(m)))),l?.headers&&(h=Object.assign(Object.assign({},h),l.headers));const p=this._removeEmptyFolders(r),y=this._getFinalPath(p),_=yield(n=="PUT"?Hd:Rn)(this.fetch,`${this.url}/object/${y}`,u,Object.assign({headers:h},d?.duplex?{duplex:d.duplex}:{}));return{data:{path:p,id:_.Id,fullPath:_.Key},error:null}}catch(u){if(Et(u))return{data:null,error:u};throw u}})}upload(n,r,i){return qt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",n,r,i)})}uploadToSignedUrl(n,r,i,l){return qt(this,void 0,void 0,function*(){const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),h=new URL(this.url+`/object/upload/sign/${d}`);h.searchParams.set("token",r);try{let m;const p=Object.assign({upsert:Yg.upsert},l),y=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&i instanceof Blob?(m=new FormData,m.append("cacheControl",p.cacheControl),m.append("",i)):typeof FormData<"u"&&i instanceof FormData?(m=i,m.append("cacheControl",p.cacheControl)):(m=i,y["cache-control"]=`max-age=${p.cacheControl}`,y["content-type"]=p.contentType);const _=yield Hd(this.fetch,h.toString(),m,{headers:y});return{data:{path:u,fullPath:_.Key},error:null}}catch(m){if(Et(m))return{data:null,error:m};throw m}})}createSignedUploadUrl(n,r){return qt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(n);const l=Object.assign({},this.headers);r?.upsert&&(l["x-upsert"]="true");const u=yield Rn(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:l}),d=new URL(this.url+u.url),h=d.searchParams.get("token");if(!h)throw new mf("No token returned by API");return{data:{signedUrl:d.toString(),path:n,token:h},error:null}}catch(i){if(Et(i))return{data:null,error:i};throw i}})}update(n,r,i){return qt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",n,r,i)})}move(n,r,i){return qt(this,void 0,void 0,function*(){try{return{data:yield Rn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:n,destinationKey:r,destinationBucket:i?.destinationBucket},{headers:this.headers}),error:null}}catch(l){if(Et(l))return{data:null,error:l};throw l}})}copy(n,r,i){return qt(this,void 0,void 0,function*(){try{return{data:{path:(yield Rn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:n,destinationKey:r,destinationBucket:i?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(l){if(Et(l))return{data:null,error:l};throw l}})}createSignedUrl(n,r,i){return qt(this,void 0,void 0,function*(){try{let l=this._getFinalPath(n),u=yield Rn(this.fetch,`${this.url}/object/sign/${l}`,Object.assign({expiresIn:r},i?.transform?{transform:i.transform}:{}),{headers:this.headers});const d=i?.download?`&download=${i.download===!0?"":i.download}`:"";return u={signedUrl:encodeURI(`${this.url}${u.signedURL}${d}`)},{data:u,error:null}}catch(l){if(Et(l))return{data:null,error:l};throw l}})}createSignedUrls(n,r,i){return qt(this,void 0,void 0,function*(){try{const l=yield Rn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:n},{headers:this.headers}),u=i?.download?`&download=${i.download===!0?"":i.download}`:"";return{data:l.map(d=>Object.assign(Object.assign({},d),{signedUrl:d.signedURL?encodeURI(`${this.url}${d.signedURL}${u}`):null})),error:null}}catch(l){if(Et(l))return{data:null,error:l};throw l}})}download(n,r){return qt(this,void 0,void 0,function*(){const l=typeof r?.transform<"u"?"render/image/authenticated":"object",u=this.transformOptsToQueryString(r?.transform||{}),d=u?`?${u}`:"";try{const h=this._getFinalPath(n);return{data:yield(yield Ul(this.fetch,`${this.url}/${l}/${h}${d}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(h){if(Et(h))return{data:null,error:h};throw h}})}info(n){return qt(this,void 0,void 0,function*(){const r=this._getFinalPath(n);try{const i=yield Ul(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Id(i),error:null}}catch(i){if(Et(i))return{data:null,error:i};throw i}})}exists(n){return qt(this,void 0,void 0,function*(){const r=this._getFinalPath(n);try{return yield Ox(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(Et(i)&&i instanceof Bd){const l=i.originalError;if([400,404].includes(l?.status))return{data:!1,error:i}}throw i}})}getPublicUrl(n,r){const i=this._getFinalPath(n),l=[],u=r?.download?`download=${r.download===!0?"":r.download}`:"";u!==""&&l.push(u);const h=typeof r?.transform<"u"?"render/image":"object",m=this.transformOptsToQueryString(r?.transform||{});m!==""&&l.push(m);let p=l.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${i}${p}`)}}}remove(n){return qt(this,void 0,void 0,function*(){try{return{data:yield yy(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:n},{headers:this.headers}),error:null}}catch(r){if(Et(r))return{data:null,error:r};throw r}})}list(n,r,i){return qt(this,void 0,void 0,function*(){try{const l=Object.assign(Object.assign(Object.assign({},Rx),r),{prefix:n||""});return{data:yield Rn(this.fetch,`${this.url}/object/list/${this.bucketId}`,l,{headers:this.headers},i),error:null}}catch(l){if(Et(l))return{data:null,error:l};throw l}})}listV2(n,r){return qt(this,void 0,void 0,function*(){try{const i=Object.assign({},n);return{data:yield Rn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(Et(i))return{data:null,error:i};throw i}})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const r=[];return n.width&&r.push(`width=${n.width}`),n.height&&r.push(`height=${n.height}`),n.resize&&r.push(`resize=${n.resize}`),n.format&&r.push(`format=${n.format}`),n.quality&&r.push(`quality=${n.quality}`),r.join("&")}}const Dx="2.11.0",Nx={"X-Client-Info":`storage-js/${Dx}`};var rs=function(t,n,r,i){function l(u){return u instanceof r?u:new r(function(d){d(u)})}return new(r||(r=Promise))(function(u,d){function h(y){try{p(i.next(y))}catch(_){d(_)}}function m(y){try{p(i.throw(y))}catch(_){d(_)}}function p(y){y.done?u(y.value):l(y.value).then(h,m)}p((i=i.apply(t,n||[])).next())})};class Mx{constructor(n,r={},i,l){const u=new URL(n);l?.useNewHostname&&/supabase\.(co|in|red)$/.test(u.hostname)&&!u.hostname.includes("storage.supabase.")&&(u.hostname=u.hostname.replace("supabase.","storage.supabase.")),this.url=u.href,this.headers=Object.assign(Object.assign({},Nx),r),this.fetch=vy(i)}listBuckets(){return rs(this,void 0,void 0,function*(){try{return{data:yield Ul(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(n){if(Et(n))return{data:null,error:n};throw n}})}getBucket(n){return rs(this,void 0,void 0,function*(){try{return{data:yield Ul(this.fetch,`${this.url}/bucket/${n}`,{headers:this.headers}),error:null}}catch(r){if(Et(r))return{data:null,error:r};throw r}})}createBucket(n,r={public:!1}){return rs(this,void 0,void 0,function*(){try{return{data:yield Rn(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(Et(i))return{data:null,error:i};throw i}})}updateBucket(n,r){return rs(this,void 0,void 0,function*(){try{return{data:yield Hd(this.fetch,`${this.url}/bucket/${n}`,{id:n,name:n,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(Et(i))return{data:null,error:i};throw i}})}emptyBucket(n){return rs(this,void 0,void 0,function*(){try{return{data:yield Rn(this.fetch,`${this.url}/bucket/${n}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Et(r))return{data:null,error:r};throw r}})}deleteBucket(n){return rs(this,void 0,void 0,function*(){try{return{data:yield yy(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(r){if(Et(r))return{data:null,error:r};throw r}})}}class zx extends Mx{constructor(n,r={},i,l){super(n,r,i,l)}from(n){return new Cx(this.url,this.headers,n,this.fetch)}}const Ux="2.55.0";let Ri="";typeof Deno<"u"?Ri="deno":typeof document<"u"?Ri="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ri="react-native":Ri="node";const $x={"X-Client-Info":`supabase-js-${Ri}/${Ux}`},Lx={headers:$x},qx={schema:"public"},Bx={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Ix={};var Hx=function(t,n,r,i){function l(u){return u instanceof r?u:new r(function(d){d(u)})}return new(r||(r=Promise))(function(u,d){function h(y){try{p(i.next(y))}catch(_){d(_)}}function m(y){try{p(i.throw(y))}catch(_){d(_)}}function p(y){y.done?u(y.value):l(y.value).then(h,m)}p((i=i.apply(t,n||[])).next())})};const Zx=t=>{let n;return t?n=t:typeof fetch>"u"?n=ly:n=fetch,(...r)=>n(...r)},Px=()=>typeof Headers>"u"?uy:Headers,Vx=(t,n,r)=>{const i=Zx(r),l=Px();return(u,d)=>Hx(void 0,void 0,void 0,function*(){var h;const m=(h=yield n())!==null&&h!==void 0?h:t;let p=new l(d?.headers);return p.has("apikey")||p.set("apikey",t),p.has("Authorization")||p.set("Authorization",`Bearer ${m}`),i(u,Object.assign(Object.assign({},d),{headers:p}))})};var Gx=function(t,n,r,i){function l(u){return u instanceof r?u:new r(function(d){d(u)})}return new(r||(r=Promise))(function(u,d){function h(y){try{p(i.next(y))}catch(_){d(_)}}function m(y){try{p(i.throw(y))}catch(_){d(_)}}function p(y){y.done?u(y.value):l(y.value).then(h,m)}p((i=i.apply(t,n||[])).next())})};function Fx(t){return t.endsWith("/")?t:t+"/"}function Yx(t,n){var r,i;const{db:l,auth:u,realtime:d,global:h}=t,{db:m,auth:p,realtime:y,global:_}=n,w={db:Object.assign(Object.assign({},m),l),auth:Object.assign(Object.assign({},p),u),realtime:Object.assign(Object.assign({},y),d),storage:{},global:Object.assign(Object.assign(Object.assign({},_),h),{headers:Object.assign(Object.assign({},(r=_?.headers)!==null&&r!==void 0?r:{}),(i=h?.headers)!==null&&i!==void 0?i:{})}),accessToken:()=>Gx(this,void 0,void 0,function*(){return""})};return t.accessToken?w.accessToken=t.accessToken:delete w.accessToken,w}const by="2.71.1",cs=30*1e3,Zd=3,wd=Zd*cs,Kx="http://localhost:9999",Qx="supabase.auth.token",Xx={"X-Client-Info":`gotrue-js/${by}`},Pd="X-Supabase-Api-Version",_y={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Jx=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Wx=600*1e3;class pf extends Error{constructor(n,r,i){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=i}}function ve(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class eE extends pf{constructor(n,r,i){super(n,r,i),this.name="AuthApiError",this.status=r,this.code=i}}function tE(t){return ve(t)&&t.name==="AuthApiError"}class wy extends pf{constructor(n,r){super(n),this.name="AuthUnknownError",this.originalError=r}}class Ma extends pf{constructor(n,r,i,l){super(n,i,l),this.name=r,this.status=i}}class Oa extends Ma{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function nE(t){return ve(t)&&t.name==="AuthSessionMissingError"}class yl extends Ma{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class bl extends Ma{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class _l extends Ma{constructor(n,r=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function aE(t){return ve(t)&&t.name==="AuthImplicitGrantRedirectError"}class Kg extends Ma{constructor(n,r=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Vd extends Ma{constructor(n,r){super(n,"AuthRetryableFetchError",r,void 0)}}function Sd(t){return ve(t)&&t.name==="AuthRetryableFetchError"}class Qg extends Ma{constructor(n,r,i){super(n,"AuthWeakPasswordError",r,"weak_password"),this.reasons=i}}class Gd extends Ma{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const $l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Xg=` 	
\r=`.split(""),rE=(()=>{const t=new Array(128);for(let n=0;n<t.length;n+=1)t[n]=-1;for(let n=0;n<Xg.length;n+=1)t[Xg[n].charCodeAt(0)]=-2;for(let n=0;n<$l.length;n+=1)t[$l[n].charCodeAt(0)]=n;return t})();function Jg(t,n,r){if(t!==null)for(n.queue=n.queue<<8|t,n.queuedBits+=8;n.queuedBits>=6;){const i=n.queue>>n.queuedBits-6&63;r($l[i]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const i=n.queue>>n.queuedBits-6&63;r($l[i]),n.queuedBits-=6}}function Sy(t,n,r){const i=rE[t];if(i>-1)for(n.queue=n.queue<<6|i,n.queuedBits+=6;n.queuedBits>=8;)r(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Wg(t){const n=[],r=d=>{n.push(String.fromCodePoint(d))},i={utf8seq:0,codepoint:0},l={queue:0,queuedBits:0},u=d=>{oE(d,i,r)};for(let d=0;d<t.length;d+=1)Sy(t.charCodeAt(d),l,u);return n.join("")}function sE(t,n){if(t<=127){n(t);return}else if(t<=2047){n(192|t>>6),n(128|t&63);return}else if(t<=65535){n(224|t>>12),n(128|t>>6&63),n(128|t&63);return}else if(t<=1114111){n(240|t>>18),n(128|t>>12&63),n(128|t>>6&63),n(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function iE(t,n){for(let r=0;r<t.length;r+=1){let i=t.charCodeAt(r);if(i>55295&&i<=56319){const l=(i-55296)*1024&65535;i=(t.charCodeAt(r+1)-56320&65535|l)+65536,r+=1}sE(i,n)}}function oE(t,n,r){if(n.utf8seq===0){if(t<=127){r(t);return}for(let i=1;i<6;i+=1)if((t>>7-i&1)===0){n.utf8seq=i;break}if(n.utf8seq===2)n.codepoint=t&31;else if(n.utf8seq===3)n.codepoint=t&15;else if(n.utf8seq===4)n.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|t&63,n.utf8seq-=1,n.utf8seq===0&&r(n.codepoint)}}function lE(t){const n=[],r={queue:0,queuedBits:0},i=l=>{n.push(l)};for(let l=0;l<t.length;l+=1)Sy(t.charCodeAt(l),r,i);return new Uint8Array(n)}function uE(t){const n=[];return iE(t,r=>n.push(r)),new Uint8Array(n)}function cE(t){const n=[],r={queue:0,queuedBits:0},i=l=>{n.push(l)};return t.forEach(l=>Jg(l,r,i)),Jg(null,r,i),n.join("")}function dE(t){return Math.round(Date.now()/1e3)+t}function fE(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const n=Math.random()*16|0;return(t=="x"?n:n&3|8).toString(16)})}const _n=()=>typeof window<"u"&&typeof document<"u",tr={tested:!1,writable:!1},xy=()=>{if(!_n())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(tr.tested)return tr.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),tr.tested=!0,tr.writable=!0}catch{tr.tested=!0,tr.writable=!1}return tr.writable};function hE(t){const n={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((l,u)=>{n[u]=l})}catch{}return r.searchParams.forEach((i,l)=>{n[l]=i}),n}const Ey=t=>{let n;return t?n=t:typeof fetch>"u"?n=(...r)=>Vt(async()=>{const{default:i}=await Promise.resolve().then(()=>ws);return{default:i}},void 0).then(({default:i})=>i(...r)):n=fetch,(...r)=>n(...r)},mE=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",ds=async(t,n,r)=>{await t.setItem(n,JSON.stringify(r))},nr=async(t,n)=>{const r=await t.getItem(n);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Aa=async(t,n)=>{await t.removeItem(n)};class Fl{constructor(){this.promise=new Fl.promiseConstructor((n,r)=>{this.resolve=n,this.reject=r})}}Fl.promiseConstructor=Promise;function xd(t){const n=t.split(".");if(n.length!==3)throw new Gd("Invalid JWT structure");for(let i=0;i<n.length;i++)if(!Jx.test(n[i]))throw new Gd("JWT not in base64url format");return{header:JSON.parse(Wg(n[0])),payload:JSON.parse(Wg(n[1])),signature:lE(n[2]),raw:{header:n[0],payload:n[1]}}}async function pE(t){return await new Promise(n=>{setTimeout(()=>n(null),t)})}function gE(t,n){return new Promise((i,l)=>{(async()=>{for(let u=0;u<1/0;u++)try{const d=await t(u);if(!n(u,null,d)){i(d);return}}catch(d){if(!n(u,d)){l(d);return}}})()})}function vE(t){return("0"+t.toString(16)).substr(-2)}function yE(){const n=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=r.length;let l="";for(let u=0;u<56;u++)l+=r.charAt(Math.floor(Math.random()*i));return l}return crypto.getRandomValues(n),Array.from(n,vE).join("")}async function bE(t){const r=new TextEncoder().encode(t),i=await crypto.subtle.digest("SHA-256",r),l=new Uint8Array(i);return Array.from(l).map(u=>String.fromCharCode(u)).join("")}async function _E(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await bE(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ss(t,n,r=!1){const i=yE();let l=i;r&&(l+="/PASSWORD_RECOVERY"),await ds(t,`${n}-code-verifier`,l);const u=await _E(i);return[u,i===u?"plain":"s256"]}const wE=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function SE(t){const n=t.headers.get(Pd);if(!n||!n.match(wE))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function xE(t){if(!t)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(t<=n)throw new Error("JWT has expired")}function EE(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const TE=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function is(t){if(!TE.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ed(){const t={};return new Proxy(t,{get:(n,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function ev(t){return JSON.parse(JSON.stringify(t))}var kE=function(t,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&n.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(t);l<i.length;l++)n.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(t,i[l])&&(r[i[l]]=t[i[l]]);return r};const rr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),jE=[502,503,504];async function tv(t){var n;if(!mE(t))throw new Vd(rr(t),0);if(jE.includes(t.status))throw new Vd(rr(t),t.status);let r;try{r=await t.json()}catch(u){throw new wy(rr(u),u)}let i;const l=SE(t);if(l&&l.getTime()>=_y["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?i=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(i=r.error_code),i){if(i==="weak_password")throw new Qg(rr(r),t.status,((n=r.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(i==="session_not_found")throw new Oa}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((u,d)=>u&&typeof d=="string",!0))throw new Qg(rr(r),t.status,r.weak_password.reasons);throw new eE(rr(r),t.status||500,i)}const AE=(t,n,r,i)=>{const l={method:t,headers:n?.headers||{}};return t==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),l.body=JSON.stringify(i),Object.assign(Object.assign({},l),r))};async function je(t,n,r,i){var l;const u=Object.assign({},i?.headers);u[Pd]||(u[Pd]=_y["2024-01-01"].name),i?.jwt&&(u.Authorization=`Bearer ${i.jwt}`);const d=(l=i?.query)!==null&&l!==void 0?l:{};i?.redirectTo&&(d.redirect_to=i.redirectTo);const h=Object.keys(d).length?"?"+new URLSearchParams(d).toString():"",m=await OE(t,n,r+h,{headers:u,noResolveJson:i?.noResolveJson},{},i?.body);return i?.xform?i?.xform(m):{data:Object.assign({},m),error:null}}async function OE(t,n,r,i,l,u){const d=AE(n,i,l,u);let h;try{h=await t(r,Object.assign({},d))}catch(m){throw console.error(m),new Vd(rr(m),0)}if(h.ok||await tv(h),i?.noResolveJson)return h;try{return await h.json()}catch(m){await tv(m)}}function Qn(t){var n;let r=null;NE(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=dE(t.expires_in)));const i=(n=t.user)!==null&&n!==void 0?n:t;return{data:{session:r,user:i},error:null}}function nv(t){const n=Qn(t);return!n.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,i)=>r&&typeof i=="string",!0)&&(n.data.weak_password=t.weak_password),n}function Ra(t){var n;return{data:{user:(n=t.user)!==null&&n!==void 0?n:t},error:null}}function RE(t){return{data:t,error:null}}function CE(t){const{action_link:n,email_otp:r,hashed_token:i,redirect_to:l,verification_type:u}=t,d=kE(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:n,email_otp:r,hashed_token:i,redirect_to:l,verification_type:u},m=Object.assign({},d);return{data:{properties:h,user:m},error:null}}function DE(t){return t}function NE(t){return t.access_token&&t.refresh_token&&t.expires_in}const Td=["global","local","others"];var ME=function(t,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&n.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(t);l<i.length;l++)n.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(t,i[l])&&(r[i[l]]=t[i[l]]);return r};class zE{constructor({url:n="",headers:r={},fetch:i}){this.url=n,this.headers=r,this.fetch=Ey(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(n,r=Td[0]){if(Td.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Td.join(", ")}`);try{return await je(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(i){if(ve(i))return{data:null,error:i};throw i}}async inviteUserByEmail(n,r={}){try{return await je(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Ra})}catch(i){if(ve(i))return{data:{user:null},error:i};throw i}}async generateLink(n){try{const{options:r}=n,i=ME(n,["options"]),l=Object.assign(Object.assign({},i),r);return"newEmail"in i&&(l.new_email=i?.newEmail,delete l.newEmail),await je(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:l,headers:this.headers,xform:CE,redirectTo:r?.redirectTo})}catch(r){if(ve(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(n){try{return await je(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:Ra})}catch(r){if(ve(r))return{data:{user:null},error:r};throw r}}async listUsers(n){var r,i,l,u,d,h,m;try{const p={nextPage:null,lastPage:0,total:0},y=await je(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(r=n?.page)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:"",per_page:(u=(l=n?.perPage)===null||l===void 0?void 0:l.toString())!==null&&u!==void 0?u:""},xform:DE});if(y.error)throw y.error;const _=await y.json(),w=(d=y.headers.get("x-total-count"))!==null&&d!==void 0?d:0,x=(m=(h=y.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&m!==void 0?m:[];return x.length>0&&(x.forEach(j=>{const z=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),M=JSON.parse(j.split(";")[1].split("=")[1]);p[`${M}Page`]=z}),p.total=parseInt(w)),{data:Object.assign(Object.assign({},_),p),error:null}}catch(p){if(ve(p))return{data:{users:[]},error:p};throw p}}async getUserById(n){is(n);try{return await je(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:Ra})}catch(r){if(ve(r))return{data:{user:null},error:r};throw r}}async updateUserById(n,r){is(n);try{return await je(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:r,headers:this.headers,xform:Ra})}catch(i){if(ve(i))return{data:{user:null},error:i};throw i}}async deleteUser(n,r=!1){is(n);try{return await je(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:r},xform:Ra})}catch(i){if(ve(i))return{data:{user:null},error:i};throw i}}async _listFactors(n){is(n.userId);try{const{data:r,error:i}=await je(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:l=>({data:{factors:l},error:null})});return{data:r,error:i}}catch(r){if(ve(r))return{data:null,error:r};throw r}}async _deleteFactor(n){is(n.userId),is(n.id);try{return{data:await je(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(r){if(ve(r))return{data:null,error:r};throw r}}}function av(t={}){return{getItem:n=>t[n]||null,setItem:(n,r)=>{t[n]=r},removeItem:n=>{delete t[n]}}}function UE(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const os={debug:!!(globalThis&&xy()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Ty extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class $E extends Ty{}async function LE(t,n,r){os.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,n);const i=new globalThis.AbortController;return n>0&&setTimeout(()=>{i.abort(),os.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async l=>{if(l){os.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,l.name);try{return await r()}finally{os.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,l.name)}}else{if(n===0)throw os.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new $E(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(os.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}UE();const qE={url:Kx,storageKey:Qx,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Xx,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function rv(t,n,r){return await r()}const ls={};class Vi{constructor(n){var r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Vi.nextInstanceID,Vi.nextInstanceID+=1,this.instanceID>0&&_n()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const l=Object.assign(Object.assign({},qE),n);if(this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.persistSession=l.persistSession,this.storageKey=l.storageKey,this.autoRefreshToken=l.autoRefreshToken,this.admin=new zE({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=Ey(l.fetch),this.lock=l.lock||rv,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,l.lock?this.lock=l.lock:_n()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=LE:this.lock=rv,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:xy()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=av(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=av(this.memoryStorage)),_n()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}get jwks(){var n,r;return(r=(n=ls[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(n){ls[this.storageKey]=Object.assign(Object.assign({},ls[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,r;return(r=(n=ls[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){ls[this.storageKey]=Object.assign(Object.assign({},ls[this.storageKey]),{cachedAt:n})}_debug(...n){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${by}) ${new Date().toISOString()}`,...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{const r=hE(window.location.href);let i="none";if(this._isImplicitGrantCallback(r)?i="implicit":await this._isPKCECallback(r)&&(i="pkce"),_n()&&this.detectSessionInUrl&&i!=="none"){const{data:l,error:u}=await this._getSessionFromURL(r,i);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),aE(u)){const m=(n=u.details)===null||n===void 0?void 0:n.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:u}}return await this._removeSession(),{error:u}}const{session:d,redirectType:h}=l;return this._debug("#_initialize()","detected session in URL",d,"redirect type",h),await this._saveSession(d),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",d):await this._notifyAllSubscribers("SIGNED_IN",d)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ve(r)?{error:r}:{error:new wy("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var r,i,l;try{const u=await je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(r=n?.options)===null||r===void 0?void 0:r.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(l=n?.options)===null||l===void 0?void 0:l.captchaToken}},xform:Qn}),{data:d,error:h}=u;if(h||!d)return{data:{user:null,session:null},error:h};const m=d.session,p=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",m)),{data:{user:p,session:m},error:null}}catch(u){if(ve(u))return{data:{user:null,session:null},error:u};throw u}}async signUp(n){var r,i,l;try{let u;if("email"in n){const{email:y,password:_,options:w}=n;let x=null,j=null;this.flowType==="pkce"&&([x,j]=await ss(this.storage,this.storageKey)),u=await je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w?.emailRedirectTo,body:{email:y,password:_,data:(r=w?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:w?.captchaToken},code_challenge:x,code_challenge_method:j},xform:Qn})}else if("phone"in n){const{phone:y,password:_,options:w}=n;u=await je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:_,data:(i=w?.data)!==null&&i!==void 0?i:{},channel:(l=w?.channel)!==null&&l!==void 0?l:"sms",gotrue_meta_security:{captcha_token:w?.captchaToken}},xform:Qn})}else throw new bl("You must provide either an email or phone number and a password");const{data:d,error:h}=u;if(h||!d)return{data:{user:null,session:null},error:h};const m=d.session,p=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",m)),{data:{user:p,session:m},error:null}}catch(u){if(ve(u))return{data:{user:null,session:null},error:u};throw u}}async signInWithPassword(n){try{let r;if("email"in n){const{email:u,password:d,options:h}=n;r=await je(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:d,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:nv})}else if("phone"in n){const{phone:u,password:d,options:h}=n;r=await je(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:d,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:nv})}else throw new bl("You must provide either an email or phone number and a password");const{data:i,error:l}=r;return l?{data:{user:null,session:null},error:l}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new yl}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:l})}catch(r){if(ve(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(n){var r,i,l,u;return await this._handleProviderSignIn(n.provider,{redirectTo:(r=n.options)===null||r===void 0?void 0:r.redirectTo,scopes:(i=n.options)===null||i===void 0?void 0:i.scopes,queryParams:(l=n.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:(u=n.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:r}=n;if(r==="solana")return await this.signInWithSolana(n);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(n){var r,i,l,u,d,h,m,p,y,_,w,x;let j,z;if("message"in n)j=n.message,z=n.signature;else{const{chain:M,wallet:N,statement:G,options:U}=n;let V;if(_n())if(typeof N=="object")V=N;else{const X=window;if("solana"in X&&typeof X.solana=="object"&&("signIn"in X.solana&&typeof X.solana.signIn=="function"||"signMessage"in X.solana&&typeof X.solana.signMessage=="function"))V=X.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!U?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");V=N}const Z=new URL((r=U?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in V&&V.signIn){const X=await V.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},U?.signInWithSolana),{version:"1",domain:Z.host,uri:Z.href}),G?{statement:G}:null));let W;if(Array.isArray(X)&&X[0]&&typeof X[0]=="object")W=X[0];else if(X&&typeof X=="object"&&"signedMessage"in X&&"signature"in X)W=X;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in W&&"signature"in W&&(typeof W.signedMessage=="string"||W.signedMessage instanceof Uint8Array)&&W.signature instanceof Uint8Array)j=typeof W.signedMessage=="string"?W.signedMessage:new TextDecoder().decode(W.signedMessage),z=W.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in V)||typeof V.signMessage!="function"||!("publicKey"in V)||typeof V!="object"||!V.publicKey||!("toBase58"in V.publicKey)||typeof V.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");j=[`${Z.host} wants you to sign in with your Solana account:`,V.publicKey.toBase58(),...G?["",G,""]:[""],"Version: 1",`URI: ${Z.href}`,`Issued At: ${(l=(i=U?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&l!==void 0?l:new Date().toISOString()}`,...!((u=U?.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${U.signInWithSolana.notBefore}`]:[],...!((d=U?.signInWithSolana)===null||d===void 0)&&d.expirationTime?[`Expiration Time: ${U.signInWithSolana.expirationTime}`]:[],...!((h=U?.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${U.signInWithSolana.chainId}`]:[],...!((m=U?.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${U.signInWithSolana.nonce}`]:[],...!((p=U?.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${U.signInWithSolana.requestId}`]:[],...!((_=(y=U?.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||_===void 0)&&_.length?["Resources",...U.signInWithSolana.resources.map(W=>`- ${W}`)]:[]].join(`
`);const X=await V.signMessage(new TextEncoder().encode(j),"utf8");if(!X||!(X instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");z=X}}try{const{data:M,error:N}=await je(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:j,signature:cE(z)},!((w=n.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(x=n.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:Qn});if(N)throw N;return!M||!M.session||!M.user?{data:{user:null,session:null},error:new yl}:(M.session&&(await this._saveSession(M.session),await this._notifyAllSubscribers("SIGNED_IN",M.session)),{data:Object.assign({},M),error:N})}catch(M){if(ve(M))return{data:{user:null,session:null},error:M};throw M}}async _exchangeCodeForSession(n){const r=await nr(this.storage,`${this.storageKey}-code-verifier`),[i,l]=(r??"").split("/");try{const{data:u,error:d}=await je(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:i},xform:Qn});if(await Aa(this.storage,`${this.storageKey}-code-verifier`),d)throw d;return!u||!u.session||!u.user?{data:{user:null,session:null,redirectType:null},error:new yl}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:Object.assign(Object.assign({},u),{redirectType:l??null}),error:d})}catch(u){if(ve(u))return{data:{user:null,session:null,redirectType:null},error:u};throw u}}async signInWithIdToken(n){try{const{options:r,provider:i,token:l,access_token:u,nonce:d}=n,h=await je(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:l,access_token:u,nonce:d,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Qn}),{data:m,error:p}=h;return p?{data:{user:null,session:null},error:p}:!m||!m.session||!m.user?{data:{user:null,session:null},error:new yl}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),{data:m,error:p})}catch(r){if(ve(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(n){var r,i,l,u,d;try{if("email"in n){const{email:h,options:m}=n;let p=null,y=null;this.flowType==="pkce"&&([p,y]=await ss(this.storage,this.storageKey));const{error:_}=await je(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(r=m?.data)!==null&&r!==void 0?r:{},create_user:(i=m?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},code_challenge:p,code_challenge_method:y},redirectTo:m?.emailRedirectTo});return{data:{user:null,session:null},error:_}}if("phone"in n){const{phone:h,options:m}=n,{data:p,error:y}=await je(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(l=m?.data)!==null&&l!==void 0?l:{},create_user:(u=m?.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},channel:(d=m?.channel)!==null&&d!==void 0?d:"sms"}});return{data:{user:null,session:null,messageId:p?.message_id},error:y}}throw new bl("You must provide either an email or phone number.")}catch(h){if(ve(h))return{data:{user:null,session:null},error:h};throw h}}async verifyOtp(n){var r,i;try{let l,u;"options"in n&&(l=(r=n.options)===null||r===void 0?void 0:r.redirectTo,u=(i=n.options)===null||i===void 0?void 0:i.captchaToken);const{data:d,error:h}=await je(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:u}}),redirectTo:l,xform:Qn});if(h)throw h;if(!d)throw new Error("An error occurred on token verification.");const m=d.session,p=d.user;return m?.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),{data:{user:p,session:m},error:null}}catch(l){if(ve(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithSSO(n){var r,i,l;try{let u=null,d=null;return this.flowType==="pkce"&&([u,d]=await ss(this.storage,this.storageKey)),await je(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(i=(r=n.options)===null||r===void 0?void 0:r.redirectTo)!==null&&i!==void 0?i:void 0}),!((l=n?.options)===null||l===void 0)&&l.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:d}),headers:this.headers,xform:RE})}catch(u){if(ve(u))return{data:null,error:u};throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;if(i)throw i;if(!r)throw new Oa;const{error:l}=await je(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:l}})}catch(n){if(ve(n))return{data:{user:null,session:null},error:n};throw n}}async resend(n){try{const r=`${this.url}/resend`;if("email"in n){const{email:i,type:l,options:u}=n,{error:d}=await je(this.fetch,"POST",r,{headers:this.headers,body:{email:i,type:l,gotrue_meta_security:{captcha_token:u?.captchaToken}},redirectTo:u?.emailRedirectTo});return{data:{user:null,session:null},error:d}}else if("phone"in n){const{phone:i,type:l,options:u}=n,{data:d,error:h}=await je(this.fetch,"POST",r,{headers:this.headers,body:{phone:i,type:l,gotrue_meta_security:{captcha_token:u?.captchaToken}}});return{data:{user:null,session:null,messageId:d?.message_id},error:h}}throw new bl("You must provide either an email or phone number and a type")}catch(r){if(ve(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(n,r){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),l=(async()=>(await i,await r()))();return this.pendingInLock.push((async()=>{try{await l}catch{}})()),l}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=r();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const l=[...this.pendingInLock];await Promise.all(l),this.pendingInLock.splice(0,l.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await n(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const r=await nr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?n=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const i=n.expires_at?n.expires_at*1e3-Date.now()<wd:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",n.expires_at),!i){if(this.userStorage){const d=await nr(this.userStorage,this.storageKey+"-user");d?.user?n.user=d.user:n.user=Ed()}if(this.storage.isServer&&n.user){let d=this.suppressGetSessionWarning;n=new Proxy(n,{get:(m,p,y)=>(!d&&p==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),d=!0,this.suppressGetSessionWarning=!0),Reflect.get(m,p,y))})}return{data:{session:n},error:null}}const{session:l,error:u}=await this._callRefreshToken(n.refresh_token);return u?{data:{session:null},error:u}:{data:{session:l},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(n){return n?await this._getUser(n):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(n){try{return n?await je(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:Ra}):await this._useSession(async r=>{var i,l,u;const{data:d,error:h}=r;if(h)throw h;return!(!((i=d.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Oa}:await je(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(l=d.session)===null||l===void 0?void 0:l.access_token)!==null&&u!==void 0?u:void 0,xform:Ra})})}catch(r){if(ve(r))return nE(r)&&(await this._removeSession(),await Aa(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(n,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(n,r))}async _updateUser(n,r={}){try{return await this._useSession(async i=>{const{data:l,error:u}=i;if(u)throw u;if(!l.session)throw new Oa;const d=l.session;let h=null,m=null;this.flowType==="pkce"&&n.email!=null&&([h,m]=await ss(this.storage,this.storageKey));const{data:p,error:y}=await je(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:h,code_challenge_method:m}),jwt:d.access_token,xform:Ra});if(y)throw y;return d.user=p.user,await this._saveSession(d),await this._notifyAllSubscribers("USER_UPDATED",d),{data:{user:d.user},error:null}})}catch(i){if(ve(i))return{data:{user:null},error:i};throw i}}async setSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new Oa;const r=Date.now()/1e3;let i=r,l=!0,u=null;const{payload:d}=xd(n.access_token);if(d.exp&&(i=d.exp,l=i<=r),l){const{session:h,error:m}=await this._callRefreshToken(n.refresh_token);if(m)return{data:{user:null,session:null},error:m};if(!h)return{data:{user:null,session:null},error:null};u=h}else{const{data:h,error:m}=await this._getUser(n.access_token);if(m)throw m;u={access_token:n.access_token,refresh_token:n.refresh_token,user:h.user,token_type:"bearer",expires_in:i-r,expires_at:i},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return{data:{user:u.user,session:u},error:null}}catch(r){if(ve(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async r=>{var i;if(!n){const{data:d,error:h}=r;if(h)throw h;n=(i=d.session)!==null&&i!==void 0?i:void 0}if(!n?.refresh_token)throw new Oa;const{session:l,error:u}=await this._callRefreshToken(n.refresh_token);return u?{data:{user:null,session:null},error:u}:l?{data:{user:l.user,session:l},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(ve(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(n,r){try{if(!_n())throw new _l("No browser detected.");if(n.error||n.error_description||n.error_code)throw new _l(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Kg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new _l("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new Kg("No code detected.");const{data:G,error:U}=await this._exchangeCodeForSession(n.code);if(U)throw U;const V=new URL(window.location.href);return V.searchParams.delete("code"),window.history.replaceState(window.history.state,"",V.toString()),{data:{session:G.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:l,access_token:u,refresh_token:d,expires_in:h,expires_at:m,token_type:p}=n;if(!u||!h||!d||!p)throw new _l("No session defined in URL");const y=Math.round(Date.now()/1e3),_=parseInt(h);let w=y+_;m&&(w=parseInt(m));const x=w-y;x*1e3<=cs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${_}s`);const j=w-_;y-j>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",j,w,y):y-j<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",j,w,y);const{data:z,error:M}=await this._getUser(u);if(M)throw M;const N={provider_token:i,provider_refresh_token:l,access_token:u,expires_in:_,expires_at:w,refresh_token:d,token_type:p,user:z.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:N,redirectType:n.type},error:null}}catch(i){if(ve(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(n){return!!(n.access_token||n.error_description)}async _isPKCECallback(n){const r=await nr(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&r)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async r=>{var i;const{data:l,error:u}=r;if(u)return{error:u};const d=(i=l.session)===null||i===void 0?void 0:i.access_token;if(d){const{error:h}=await this.admin.signOut(d,n);if(h&&!(tE(h)&&(h.status===404||h.status===401||h.status===403)))return{error:h}}return n!=="others"&&(await this._removeSession(),await Aa(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(n){const r=fE(),i={id:r,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:i}}}async _emitInitialSession(n){return await this._useSession(async r=>{var i,l;try{const{data:{session:u},error:d}=r;if(d)throw d;await((i=this.stateChangeEmitters.get(n))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",n,"session",u)}catch(u){await((l=this.stateChangeEmitters.get(n))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",u),console.error(u)}})}async resetPasswordForEmail(n,r={}){let i=null,l=null;this.flowType==="pkce"&&([i,l]=await ss(this.storage,this.storageKey,!0));try{return await je(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:i,code_challenge_method:l,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(u){if(ve(u))return{data:null,error:u};throw u}}async getUserIdentities(){var n;try{const{data:r,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(n=r.user.identities)!==null&&n!==void 0?n:[]},error:null}}catch(r){if(ve(r))return{data:null,error:r};throw r}}async linkIdentity(n){var r;try{const{data:i,error:l}=await this._useSession(async u=>{var d,h,m,p,y;const{data:_,error:w}=u;if(w)throw w;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(d=n.options)===null||d===void 0?void 0:d.redirectTo,scopes:(h=n.options)===null||h===void 0?void 0:h.scopes,queryParams:(m=n.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await je(this.fetch,"GET",x,{headers:this.headers,jwt:(y=(p=_.session)===null||p===void 0?void 0:p.access_token)!==null&&y!==void 0?y:void 0})});if(l)throw l;return _n()&&!(!((r=n.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(i?.url),{data:{provider:n.provider,url:i?.url},error:null}}catch(i){if(ve(i))return{data:{provider:n.provider,url:null},error:i};throw i}}async unlinkIdentity(n){try{return await this._useSession(async r=>{var i,l;const{data:u,error:d}=r;if(d)throw d;return await je(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(l=(i=u.session)===null||i===void 0?void 0:i.access_token)!==null&&l!==void 0?l:void 0})})}catch(r){if(ve(r))return{data:null,error:r};throw r}}async _refreshAccessToken(n){const r=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(r,"begin");try{const i=Date.now();return await gE(async l=>(l>0&&await pE(200*Math.pow(2,l-1)),this._debug(r,"refreshing attempt",l),await je(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:Qn})),(l,u)=>{const d=200*Math.pow(2,l);return u&&Sd(u)&&Date.now()+d-i<cs})}catch(i){if(this._debug(r,"error",i),ve(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(r,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,r){const i=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",r,"url",i),_n()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:n,url:i},error:null}}async _recoverAndRefresh(){var n,r;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const l=await nr(this.storage,this.storageKey);if(l&&this.userStorage){let d=await nr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!d&&(d={user:l.user},await ds(this.userStorage,this.storageKey+"-user",d)),l.user=(n=d?.user)!==null&&n!==void 0?n:Ed()}else if(l&&!l.user&&!l.user){const d=await nr(this.storage,this.storageKey+"-user");d&&d?.user?(l.user=d.user,await Aa(this.storage,this.storageKey+"-user"),await ds(this.storage,this.storageKey,l)):l.user=Ed()}if(this._debug(i,"session from storage",l),!this._isValidSession(l)){this._debug(i,"session is not valid"),l!==null&&await this._removeSession();return}const u=((r=l.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<wd;if(this._debug(i,`session has${u?"":" not"} expired with margin of ${wd}s`),u){if(this.autoRefreshToken&&l.refresh_token){const{error:d}=await this._callRefreshToken(l.refresh_token);d&&(console.error(d),Sd(d)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",d),await this._removeSession()))}}else if(l.user&&l.user.__isUserNotAvailableProxy===!0)try{const{data:d,error:h}=await this._getUser(l.access_token);!h&&d?.user?(l.user=d.user,await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(d){console.error("Error getting user data:",d),this._debug(i,"error getting user data, skipping SIGNED_IN notification",d)}else await this._notifyAllSubscribers("SIGNED_IN",l)}catch(l){this._debug(i,"error",l),console.error(l);return}finally{this._debug(i,"end")}}async _callRefreshToken(n){var r,i;if(!n)throw new Oa;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const l=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(l,"begin");try{this.refreshingDeferred=new Fl;const{data:u,error:d}=await this._refreshAccessToken(n);if(d)throw d;if(!u.session)throw new Oa;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const h={session:u.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(u){if(this._debug(l,"error",u),ve(u)){const d={session:null,error:u};return Sd(u)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(d),d}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(u),u}finally{this.refreshingDeferred=null,this._debug(l,"end")}}async _notifyAllSubscribers(n,r,i=!0){const l=`#_notifyAllSubscribers(${n})`;this._debug(l,"begin",r,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:n,session:r});const u=[],d=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(n,r)}catch(m){u.push(m)}});if(await Promise.all(d),u.length>0){for(let h=0;h<u.length;h+=1)console.error(u[h]);throw u[0]}}finally{this._debug(l,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0;const r=Object.assign({},n),i=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&r.user&&await ds(this.userStorage,this.storageKey+"-user",{user:r.user});const l=Object.assign({},r);delete l.user;const u=ev(l);await ds(this.storage,this.storageKey,u)}else{const l=ev(r);await ds(this.storage,this.storageKey,l)}}async _removeSession(){this._debug("#_removeSession()"),await Aa(this.storage,this.storageKey),await Aa(this.storage,this.storageKey+"-code-verifier"),await Aa(this.storage,this.storageKey+"-user"),this.userStorage&&await Aa(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&_n()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),cs);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async r=>{const{data:{session:i}}=r;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const l=Math.floor((i.expires_at*1e3-n)/cs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${l} ticks, a tick lasts ${cs}ms, refresh threshold is ${Zd} ticks`),l<=Zd&&await this._callRefreshToken(i.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof Ty)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!_n()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const r=`#_onVisibilityChanged(${n})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,r,i){const l=[`provider=${encodeURIComponent(r)}`];if(i?.redirectTo&&l.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&l.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[u,d]=await ss(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(d)}`});l.push(h.toString())}if(i?.queryParams){const u=new URLSearchParams(i.queryParams);l.push(u.toString())}return i?.skipBrowserRedirect&&l.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${n}?${l.join("&")}`}async _unenroll(n){try{return await this._useSession(async r=>{var i;const{data:l,error:u}=r;return u?{data:null,error:u}:await je(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(i=l?.session)===null||i===void 0?void 0:i.access_token})})}catch(r){if(ve(r))return{data:null,error:r};throw r}}async _enroll(n){try{return await this._useSession(async r=>{var i,l;const{data:u,error:d}=r;if(d)return{data:null,error:d};const h=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:{issuer:n.issuer}),{data:m,error:p}=await je(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(i=u?.session)===null||i===void 0?void 0:i.access_token});return p?{data:null,error:p}:(n.factorType==="totp"&&(!((l=m?.totp)===null||l===void 0)&&l.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),{data:m,error:null})})}catch(r){if(ve(r))return{data:null,error:r};throw r}}async _verify(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var i;const{data:l,error:u}=r;if(u)return{data:null,error:u};const{data:d,error:h}=await je(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:{code:n.code,challenge_id:n.challengeId},headers:this.headers,jwt:(i=l?.session)===null||i===void 0?void 0:i.access_token});return h?{data:null,error:h}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),{data:d,error:h})})}catch(r){if(ve(r))return{data:null,error:r};throw r}})}async _challenge(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var i;const{data:l,error:u}=r;return u?{data:null,error:u}:await je(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:{channel:n.channel},headers:this.headers,jwt:(i=l?.session)===null||i===void 0?void 0:i.access_token})})}catch(r){if(ve(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(n){const{data:r,error:i}=await this._challenge({factorId:n.factorId});return i?{data:null,error:i}:await this._verify({factorId:n.factorId,challengeId:r.id,code:n.code})}async _listFactors(){const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i=n?.factors||[],l=i.filter(d=>d.factor_type==="totp"&&d.status==="verified"),u=i.filter(d=>d.factor_type==="phone"&&d.status==="verified");return{data:{all:i,totp:l,phone:u},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async n=>{var r,i;const{data:{session:l},error:u}=n;if(u)return{data:null,error:u};if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:d}=xd(l.access_token);let h=null;d.aal&&(h=d.aal);let m=h;((i=(r=l.user.factors)===null||r===void 0?void 0:r.filter(_=>_.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(m="aal2");const y=d.amr||[];return{data:{currentLevel:h,nextLevel:m,currentAuthenticationMethods:y},error:null}}))}async fetchJwk(n,r={keys:[]}){let i=r.keys.find(h=>h.kid===n);if(i)return i;const l=Date.now();if(i=this.jwks.keys.find(h=>h.kid===n),i&&this.jwks_cached_at+Wx>l)return i;const{data:u,error:d}=await je(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(d)throw d;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=l,i=u.keys.find(h=>h.kid===n),!i)?null:i}async getClaims(n,r={}){try{let i=n;if(!i){const{data:x,error:j}=await this.getSession();if(j||!x.session)return{data:null,error:j};i=x.session.access_token}const{header:l,payload:u,signature:d,raw:{header:h,payload:m}}=xd(i);r?.allowExpired||xE(u.exp);const p=!l.alg||l.alg.startsWith("HS")||!l.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(l.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!p){const{error:x}=await this.getUser(i);if(x)throw x;return{data:{claims:u,header:l,signature:d},error:null}}const y=EE(l.alg),_=await crypto.subtle.importKey("jwk",p,y,!0,["verify"]);if(!await crypto.subtle.verify(y,_,d,uE(`${h}.${m}`)))throw new Gd("Invalid JWT signature");return{data:{claims:u,header:l,signature:d},error:null}}catch(i){if(ve(i))return{data:null,error:i};throw i}}}Vi.nextInstanceID=0;const BE=Vi;class IE extends BE{constructor(n){super(n)}}var HE=function(t,n,r,i){function l(u){return u instanceof r?u:new r(function(d){d(u)})}return new(r||(r=Promise))(function(u,d){function h(y){try{p(i.next(y))}catch(_){d(_)}}function m(y){try{p(i.throw(y))}catch(_){d(_)}}function p(y){y.done?u(y.value):l(y.value).then(h,m)}p((i=i.apply(t,n||[])).next())})};class ZE{constructor(n,r,i){var l,u,d;if(this.supabaseUrl=n,this.supabaseKey=r,!n)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const h=Fx(n),m=new URL(h);this.realtimeUrl=new URL("realtime/v1",m),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",m),this.storageUrl=new URL("storage/v1",m),this.functionsUrl=new URL("functions/v1",m);const p=`sb-${m.hostname.split(".")[0]}-auth-token`,y={db:qx,realtime:Ix,auth:Object.assign(Object.assign({},Bx),{storageKey:p}),global:Lx},_=Yx(i??{},y);this.storageKey=(l=_.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(u=_.global.headers)!==null&&u!==void 0?u:{},_.accessToken?(this.accessToken=_.accessToken,this.auth=new Proxy({},{get:(w,x)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(x)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((d=_.auth)!==null&&d!==void 0?d:{},this.headers,_.global.fetch),this.fetch=Vx(r,this._getAccessToken.bind(this),_.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},_.realtime)),this.rest=new sx(new URL("rest/v1",m).href,{headers:this.headers,schema:_.db.schema,fetch:this.fetch}),this.storage=new zx(this.storageUrl.href,this.headers,this.fetch,i?.storage),_.accessToken||this._listenForAuthEvents()}get functions(){return new FS(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,r={},i={}){return this.rest.rpc(n,r,i)}channel(n,r={config:{}}){return this.realtime.channel(n,r)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var n,r;return HE(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:i}=yield this.auth.getSession();return(r=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:r,detectSessionInUrl:i,storage:l,storageKey:u,flowType:d,lock:h,debug:m},p,y){const _={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new IE({url:this.authUrl.href,headers:Object.assign(Object.assign({},_),p),storageKey:u,autoRefreshToken:n,persistSession:r,detectSessionInUrl:i,storage:l,flowType:d,lock:h,debug:m,fetch:y,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(n){return new Sx(this.realtimeUrl.href,Object.assign(Object.assign({},n),{params:Object.assign({apikey:this.supabaseKey},n?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,i)=>{this._handleTokenChanged(r,"CLIENT",i?.access_token)})}_handleTokenChanged(n,r,i){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==i?this.changedAccessToken=i:n==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const ky=(t,n,r)=>new ZE(t,n,r);function PE(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const n=t.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}PE()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const VE="https://errkjwfxrbkfajngshkn.supabase.co",GE="sb_publishable_w3w_OD8s64kHs2w-Ptj7TA_ORqPeFRe",ne=ky(VE,GE,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0},realtime:{params:{eventsPerSecond:10}}});function ht(t){throw console.error("Supabase error:",t),new Error(t.message||"Database operation failed")}const FE=Object.freeze(Object.defineProperty({__proto__:null,handleSupabaseError:ht,supabase:ne},Symbol.toStringTag,{value:"Module"})),jy=k.createContext(void 0);function Ll(){const t=k.useContext(jy);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}function YE({children:t}){const[n,r]=k.useState(null),[i,l]=k.useState(null),[u,d]=k.useState(!0);k.useEffect(()=>{ne.auth.getSession().then(({data:{session:_}})=>{l(_),r(_?.user??null),d(!1)});const{data:{subscription:y}}=ne.auth.onAuthStateChange((_,w)=>{l(w),r(w?.user??null),d(!1)});return()=>y.unsubscribe()},[]);const p={user:n,session:i,loading:u,signIn:async(y,_)=>{try{d(!0);const{data:w,error:x}=await ne.auth.signInWithPassword({email:y,password:_});return x?{error:x.message}:{}}catch{return{error:"An unexpected error occurred"}}finally{d(!1)}},signOut:async()=>{try{d(!0),await ne.auth.signOut()}catch(y){console.error("Error signing out:",y)}finally{d(!1)}}};return v.jsx(jy.Provider,{value:p,children:t})}function KE({data:t,height:n=40,formatValue:r,labels:i}){const[l,u]=k.useState(null),d=Math.max(...t,1),h=Math.min(...t,0);let m=d,p=h;if(d===h){const w=d===0?1:Math.abs(d)*.05;m=d+w,p=h-w}else{const w=(d-h)*.1;m=d+w,p=h-w}const y=m-p||1,_=3;return v.jsxs("div",{className:"relative h-full",style:{minHeight:n+(i?16:0)},children:[v.jsxs("div",{className:"relative",style:{height:n},onMouseLeave:()=>u(null),children:[v.jsx("div",{className:"flex gap-3 opacity-0 pointer-events-none",children:t.map((w,x)=>v.jsx("div",{className:"w-4"},x))}),v.jsxs("svg",{className:"absolute inset-0 w-full h-full",children:[v.jsx("polyline",{fill:"none",stroke:"black",strokeWidth:"2",opacity:.9,points:t.map((w,x)=>{const j=8+x*28,z=(w-p)/y*n;return`${j},${n-z}`}).join(" ")}),t.map((w,x)=>{const j=8+x*28,z=n-(w-p)/y*n;return v.jsx("circle",{cx:j,cy:z,r:_,fill:"black",opacity:l===null||l===x?1:.3,className:"cursor-pointer transition-opacity",onMouseEnter:()=>u(x),title:r?r(w):String(w)},x)})]}),l!==null&&v.jsxs("div",{className:"absolute -top-6 text-[10px] px-1.5 py-0.5 rounded bg-black text-white shadow pointer-events-none",style:{left:8+l*28-15},children:[v.jsx("div",{children:r?r(t[l]):t[l]}),l>0&&v.jsx("div",{className:"text-[9px] opacity-80",children:(()=>{const w=t[l],x=t[l-1];if(x===0)return"";const j=(w-x)/Math.abs(x)*100;return`${j>=0?"+":""}${j.toFixed(1)}%`})()})]})]}),i&&v.jsx("div",{className:"flex gap-3 mt-1",children:i.map((w,x)=>v.jsx("div",{className:"w-4 text-[8px] text-slate-400 text-center",style:{fontSize:"7px",lineHeight:"10px"},children:w},x))})]})}function QE({data:t,height:n=40,formatValue:r,labels:i}){const[l,u]=k.useState(null),d=Math.max(...t,1);return v.jsxs("div",{className:"relative h-full",style:{minHeight:n+(i?16:0)},children:[v.jsxs("div",{className:"relative flex items-end gap-3",style:{height:n},onMouseLeave:()=>u(null),children:[t.map((p,y)=>v.jsx("div",{className:"w-4 rounded-sm bg-black/90 transition-opacity",style:{height:`${Math.max(8,Math.round(p/d*n))}px`,opacity:l===null||l===y?1:.25},onMouseEnter:()=>u(y),title:r?r(p):String(p),"aria-label":`bar-${y}`},y)),l!==null&&v.jsxs("div",{className:"absolute -top-6 text-[10px] px-1.5 py-0.5 rounded bg-black text-white shadow pointer-events-none",style:{left:l*(16+12)},children:[v.jsx("div",{children:r?r(t[l]):t[l]}),l>0&&v.jsx("div",{className:"text-[9px] opacity-80",children:(()=>{const p=t[l],y=t[l-1];if(y===0)return"";const _=(p-y)/Math.abs(y)*100;return`${_>=0?"+":""}${_.toFixed(1)}%`})()})]})]}),i&&v.jsx("div",{className:"flex gap-3 mt-1",children:i.map((p,y)=>v.jsx("div",{className:"w-4 text-[8px] text-slate-400 text-center",style:{fontSize:"7px",lineHeight:"10px"},children:p},y))})]})}function XE({title:t,primary:n,secondary:r,unitPrimary:i,unitSecondary:l,series:u,direction:d,valueFormatter:h,infoContent:m,labels:p,chartType:y="bars"}){const _=k.useMemo(()=>{if(!u||u.length<2)return 0;const M=u[0],N=u[u.length-1];return M===0?0:(N-M)/Math.abs(M)*100},[u]),w=d==="up"||d===void 0&&_>=0,x=d==="flat"||d===void 0&&Math.abs(_)<.1,[j,z]=k.useState(!1);return v.jsx(Ci,{className:"rounded-2xl border-dashed",children:v.jsxs(Ni,{className:"p-4",children:[v.jsxs("div",{className:"flex items-center justify-between mb-1",children:[v.jsx("div",{className:"text-xs text-slate-500",children:t}),m&&v.jsxs("div",{className:"relative",children:[v.jsx("button",{type:"button","aria-label":"Info",className:"h-5 w-5 leading-none rounded-full border text-[10px] flex items-center justify-center text-slate-600 hover:bg-slate-50",onClick:()=>z(M=>!M),children:"i"}),j&&v.jsxs("div",{role:"dialog","aria-label":`${t} info`,className:"absolute right-0 z-10 mt-2 w-72 max-w-[80vw] rounded-md border bg-white p-3 text-xs text-slate-700 shadow-lg",onClick:M=>M.stopPropagation(),children:[v.jsxs("div",{className:"mb-2 font-medium text-slate-900",children:["About: ",t]}),v.jsx("div",{className:"space-y-1",children:m}),v.jsx("div",{className:"mt-2 text-right",children:v.jsx("button",{type:"button",className:"text-xs text-slate-600 hover:text-slate-900",onClick:()=>z(!1),children:"Close"})})]})]})]}),v.jsxs("div",{children:[v.jsxs("div",{className:"flex items-baseline gap-2",children:[v.jsx("p",{className:"text-2xl font-semibold",children:n}),i&&v.jsx("span",{className:"text-sm text-slate-500",children:i})]}),r&&v.jsxs("p",{className:"text-sm text-slate-500",children:[r," ",l??""]}),v.jsx("div",{className:`mt-2 text-xs ${x?"text-slate-500":w?"text-emerald-600":"text-red-600"}`,children:x?"0%":`${w?"+":""}${_.toFixed(1)}%`}),v.jsx("div",{className:"mt-3 h-24",children:y==="line"?v.jsx(KE,{data:u,height:80,formatValue:h,labels:p}):v.jsx(QE,{data:u,height:80,formatValue:h,labels:p})})]})]})})}const kd=k.memo(XE),JE=t=>typeof t=="string"&&/^[A-Z0-9-]+$/.test(t),Ay=t=>{if(!JE(t))throw new Error(`SKUId invlido: esperado /^[A-Z0-9-]+$/, recebido "${t}"`);return t},WE=t=>typeof t=="string"&&t.length>0,e1=t=>{if(!WE(t))throw new Error("LayerId invlido: string vazia no  permitida.");return t},t1=t=>typeof t=="string"&&t.length>0,ql=t=>{if(!t1(t))throw new Error("MovementId invlido: string vazia no  permitida.");return t};var gs=(t=>(t.ADJUSTMENT="ADJUSTMENT",t.DAMAGE="DAMAGE",t.ISSUE="ISSUE",t.PRODUCE="PRODUCE",t.RECEIVE="RECEIVE",t.TRANSFER="TRANSFER",t.WASTE="WASTE",t))(gs||{});function Yl(t){return{id:Ay(t.id),description:t.description,type:t.type,productCategory:t.product_category,unit:t.unit,active:t.active,min:t.min_stock,onHand:t.on_hand}}async function sv(t){try{let n=ne.from("skus").select("*").order("id");t?.type&&(n=n.eq("type",t.type)),t?.active!==void 0&&(n=n.eq("active",t.active)),t?.searchTerm&&(n=n.or(`id.ilike.%${t.searchTerm}%,description.ilike.%${t.searchTerm}%`));const{data:r,error:i}=await n;return i&&ht(i),r?.map(Yl)||[]}catch(n){throw console.error("Error fetching SKUs:",n),n}}async function n1(t){try{const{data:n,error:r}=await ne.from("skus").select("*").eq("id",t).single();if(r){if(r.code==="PGRST116")return null;ht(r)}return n?Yl(n):null}catch(n){throw console.error("Error fetching SKU by ID:",n),n}}async function a1(t){try{const n={id:t.id,description:t.description||"",type:t.type,product_category:t.productCategory,unit:t.unit||"unit",active:t.active??!0,min_stock:t.min||0,on_hand:0},{data:r,error:i}=await ne.from("skus").insert(n).select().single();return i&&ht(i),Yl(r)}catch(n){throw console.error("Error creating SKU:",n),n}}async function r1(t,n){try{const r={};n.description!==void 0&&(r.description=n.description),n.type!==void 0&&(r.type=n.type),n.productCategory!==void 0&&(r.product_category=n.productCategory),n.unit!==void 0&&(r.unit=n.unit),n.active!==void 0&&(r.active=n.active),n.min!==void 0&&(r.min_stock=n.min),n.onHand!==void 0&&(r.on_hand=n.onHand),r.updated_at=new Date().toISOString();const{data:i,error:l}=await ne.from("skus").update(r).eq("id",t).select().single();return l&&ht(l),Yl(i)}catch(r){throw console.error("Error updating SKU:",r),r}}async function s1(t){try{const{error:n}=await ne.from("skus").update({active:!1,updated_at:new Date().toISOString()}).eq("id",t);n&&ht(n)}catch(n){throw console.error("Error deleting SKU:",n),n}}async function i1(){try{const{data:t,error:n}=await ne.from("inventory_summary").select("*").order("id");return n&&ht(n),t?.map(r=>({id:Ay(r.id),description:r.description,type:r.type,productCategory:r.product_category,unit:r.unit,active:r.active,min:r.min_stock,onHand:r.on_hand,status:r.status,currentAvgCost:r.current_avg_cost,activeLayers:r.active_layers}))||[]}catch(t){throw console.error("Error fetching inventory summary:",t),t}}function gf(t){return{id:e1(t.id),date:new Date(t.receiving_date),remaining:t.remaining_quantity,cost:t.unit_cost}}async function vf(t){try{const{data:n,error:r}=await ne.from("fifo_layers").select("*").eq("sku_id",t).eq("status","ACTIVE").gt("remaining_quantity",0).order("receiving_date",{ascending:!0}).order("created_at",{ascending:!0});return r&&ht(r),n?.map(gf)||[]}catch(n){throw console.error("Error fetching FIFO layers:",n),n}}async function Oy(){try{const{data:t,error:n}=await ne.from("fifo_layers").select("*").eq("status","ACTIVE").gt("remaining_quantity",0).order("sku_id").order("receiving_date",{ascending:!0});n&&ht(n);const r={};return t?.forEach(i=>{const l=i.sku_id;r[l]||(r[l]=[]),r[l].push(gf(i))}),r}catch(t){throw console.error("Error fetching all FIFO layers:",t),t}}async function Ry(t){try{const n={id:t.id,sku_id:t.skuId,receiving_date:t.receivingDate.toISOString().split("T")[0],original_quantity:t.quantity,remaining_quantity:t.quantity,unit_cost:t.unitCost,vendor_id:t.vendorId,packing_slip_no:t.packingSlipNo,lot_number:t.lotNumber,status:"ACTIVE"},{data:r,error:i}=await ne.from("fifo_layers").insert(n).select().single();return i&&ht(i),gf(r)}catch(n){throw console.error("Error creating FIFO layer:",n),n}}async function vs(t,n){try{const r=await vf(t),i=[];let l=n,u=0,d=0;for(const h of r){if(l<=0)break;const m=Math.min(l,h.remaining),p=m*h.cost;i.push({layerId:h.id,consumeQty:m,unitCost:h.cost,totalCost:p}),u+=p,d+=m,l-=m}return{plan:i,totalCost:u,totalQty:d,canFulfill:l<=0}}catch(r){throw console.error("Error calculating FIFO plan:",r),r}}async function yf(t,n){try{const{error:r}=await ne.rpc("begin_transaction");if(r)throw r;try{let i=0,l="";for(const d of t){const{error:h}=await ne.rpc("update_layer_quantity",{p_layer_id:d.layerId,p_quantity_change:-d.consumeQty});if(h)throw h;if(!l){const{data:p}=await ne.from("fifo_layers").select("sku_id").eq("id",d.layerId).single();l=p?.sku_id||""}const{error:m}=await ne.from("layer_consumptions").insert({movement_id:n,layer_id:d.layerId,quantity_consumed:d.consumeQty,unit_cost:d.unitCost,total_cost:d.totalCost});if(m)throw m;i+=d.consumeQty}if(l&&i>0){const{data:d,error:h}=await ne.from("skus").select("on_hand").eq("id",l).single();if(h)throw h;const m=d?.on_hand??0;if(m<i)throw new Error(`INSUFFICIENT_STOCK_ON_HAND: sku=${l}, on_hand=${m}, required=${i}`);const{error:p}=await ne.rpc("update_sku_quantity",{p_sku_id:l,p_quantity_change:-i});if(p)throw p}const{error:u}=await ne.rpc("commit_transaction");if(u)throw u}catch(i){throw await ne.rpc("rollback_transaction"),i}}catch(r){throw console.error("Error executing FIFO consumption:",r),r}}async function o1(t,n,r,i){try{try{const{data:l,error:u}=await ne.from("fifo_layers").select("id, sku_id, remaining_quantity, status").eq("id",t).eq("status","ACTIVE").single();if(u)throw u;if(!l)throw new Error(`FIFO layer ${t} not found or not active`);const d=l.remaining_quantity,h=d+n;if(h<0)throw new Error(`INSUFFICIENT_LAYER_QUANTITY: layer=${t}, current=${d}, adjustment=${n}`);const m=h===0?"EXHAUSTED":"ACTIVE",p=m==="EXHAUSTED",{error:y}=await ne.from("fifo_layers").update({remaining_quantity:h,status:m,updated_at:new Date().toISOString()}).eq("id",t);if(y)throw y;const{data:_,error:w}=await ne.from("fifo_layers").select("remaining_quantity").eq("sku_id",l.sku_id).eq("status","ACTIVE").gt("remaining_quantity",0);if(w)throw w;const x=(_||[]).reduce((z,M)=>z+(M.remaining_quantity||0),0),{error:j}=await ne.from("skus").update({on_hand:x,updated_at:new Date().toISOString()}).eq("id",l.sku_id);if(j)throw j;return{success:!0,newRemaining:h,layerExhausted:p}}catch(l){throw l}}catch(l){throw console.error("Error adjusting layer quantity:",l),l}}async function Cy(t){try{const{data:n,error:r}=await ne.from("fifo_layers").select("id, sku_id, remaining_quantity, unit_cost, status").eq("id",t).single();if(r)throw r;if(!n)throw new Error(`FIFO layer ${t} not found`);return{id:n.id,skuId:n.sku_id,remaining:n.remaining_quantity,cost:n.unit_cost,status:n.status,canAdjust:n.status==="ACTIVE"&&n.remaining_quantity>0}}catch(n){throw console.error("Error getting layer adjustment info:",n),n}}async function Dy(t){try{const{data:n,error:r}=await ne.from("fifo_layers").select("remaining_quantity").eq("sku_id",t).eq("status","ACTIVE");return r&&ht(r),n?.reduce((i,l)=>i+l.remaining_quantity,0)||0}catch(n){throw console.error("Error getting available quantity:",n),n}}const l1=Object.freeze(Object.defineProperty({__proto__:null,adjustLayerQuantity:o1,calculateFIFOPlan:vs,createFIFOLayer:Ry,executeFIFOConsumption:yf,getAllFIFOLayers:Oy,getAvailableQuantity:Dy,getFIFOLayers:vf,getLayerAdjustmentInfo:Cy},Symbol.toStringTag,{value:"Module"}));function u1(t){return{name:t.name,address:t.address||void 0,bank:t.bank_info?JSON.stringify(t.bank_info):void 0,email:t.email||void 0,phone:t.phone||void 0}}async function c1(t){try{if(t.trim().length<3)return[];const{data:n,error:r}=await ne.from("vendors").select("*").eq("active",!0).ilike("name",`%${t.trim()}%`).order("name").limit(8);return r&&ht(r),n?.map(u1)||[]}catch(n){throw console.error("Error fetching vendor suggestions:",n),n}}async function d1(t){try{let n=ne.from("vendors").select("*").order("name");t?.active!==void 0&&(n=n.eq("active",t.active)),t?.searchTerm&&(n=n.ilike("name",`%${t.searchTerm}%`));const{data:r,error:i}=await n;return i&&ht(i),r||[]}catch(n){throw console.error("Error fetching vendors:",n),n}}async function f1(t){try{const{data:n,error:r}=await ne.from("vendors").select("*").eq("id",t).single();if(r){if(r.code==="PGRST116")return null;ht(r)}return n}catch(n){throw console.error("Error fetching vendor by ID:",n),n}}async function h1(t){try{const{data:n,error:r}=await ne.from("vendors").select("*").eq("name",t.trim()).eq("active",!0).single();if(r){if(r.code==="PGRST116")return null;ht(r)}return n}catch(n){throw console.error("Error fetching vendor by name:",n),n}}async function Ny(t){try{const n=t.name.replace(/[^A-Z0-9]/gi,"").toUpperCase().slice(0,8),r=Date.now().toString().slice(-4);let i=`VND-${n}-${r}`,l=1,u=!1;for(;!u&&l<=5;){const{data:p}=await ne.from("vendors").select("id").eq("id",i).single();p?(i=`VND-${n}-${r}-${l}`,l++):u=!0}u||(i=`VND-${n}-${Math.random().toString(36).substr(2,6).toUpperCase()}`);const d={id:i,name:t.name.trim(),legal_name:t.legalName?.trim(),address:t.address?.trim(),city:t.city?.trim(),state:t.state?.trim(),zip_code:t.zipCode?.trim(),email:t.email?.trim(),phone:t.phone?.trim(),bank_info:t.bankInfo||{}},{data:h,error:m}=await ne.from("vendors").insert(d).select().single();return m&&ht(m),h}catch(n){throw console.error("Error creating vendor:",n),n}}async function m1(t,n){try{const r={...n,updated_at:new Date().toISOString()},{data:i,error:l}=await ne.from("vendors").update(r).eq("id",t).select().single();return l&&ht(l),i}catch(r){throw console.error("Error updating vendor:",r),r}}async function p1(t){try{const{error:n}=await ne.from("vendors").update({active:!1,updated_at:new Date().toISOString()}).eq("id",t);n&&ht(n)}catch(n){throw console.error("Error deleting vendor:",n),n}}async function My(t){try{const n=await h1(t);return n||await Ny({name:t})}catch(n){throw console.error("Error creating or getting vendor:",n),n}}async function g1(t){try{const{data:n,error:r}=await ne.from("movements").select("id, type, sku_id, quantity, total_value").eq("id",t).is("deleted_at",null).single();if(r){if(r.code==="PGRST116")return{canDelete:!1,reason:"Movement not found or already deleted"};throw r}if(n.type!=="RECEIVE")return{canDelete:!1,reason:`Invalid movement type: ${n.type}. Only RECEIVE movements are validated.`};const{data:i,error:l}=await ne.from("fifo_layers").select("id, sku_id, original_quantity, remaining_quantity, unit_cost, status").eq("created_by_movement_id",t).eq("status","ACTIVE");if(l)throw l;if(!i||i.length===0)return{canDelete:!0,reason:"No FIFO layers found - safe to delete"};const u=[],d=new Set;let h=0,m=0;for(const p of i){const y=p.original_quantity-p.remaining_quantity;if(y>0){const{data:_,error:w}=await ne.from("layer_consumptions").select(`
            quantity_consumed,
            total_cost,
            movement_id,
            movements!inner (
              work_order_id,
              type,
              reference
            )
          `).eq("layer_id",p.id).is("deleted_at",null);if(w)throw w;_?.forEach(x=>{x.movements?.work_order_id&&d.add(x.movements.work_order_id)}),u.push({layerId:p.id,skuId:p.sku_id,originalQuantity:p.original_quantity,remainingQuantity:p.remaining_quantity,consumedQuantity:y,unitCost:p.unit_cost,consumedValue:y*p.unit_cost}),h+=y}m+=p.remaining_quantity}return u.length>0?{canDelete:!1,reason:`Cannot delete: ${u.length} FIFO layer(s) have been consumed by Work Orders`,affectedLayers:u,totalConsumed:h,totalRemaining:m,workOrdersAffected:Array.from(d)}:{canDelete:!0,reason:"All FIFO layers are unused - safe to delete",totalRemaining:m}}catch(n){return console.error("Error validating movement deletion:",n),ht(n),{canDelete:!1,reason:"Error occurred during validation - deletion blocked for safety"}}}function Ss(t){return{id:ql(t.id.toString()),date:new Date(t.datetime),type:t.type,skuId:t.sku_id||"",skuDescription:t.skus?.description||t.product_name||t.sku_id||"",unit:t.skus?.unit||"unit",quantity:t.quantity,unitCost:t.unit_cost||0,totalCost:t.total_value||0,vendor:t.vendors?.name,reference:t.reference,notes:t.notes||void 0}}async function v1(t){try{const{data:n,error:r}=await ne.rpc("get_movements_filtered",{p_sku_id:t?.skuId||null,p_type:t?.type||null,p_date_from:t?.dateFrom?.toISOString()||null,p_date_to:t?.dateTo?.toISOString()||null,p_include_deleted:t?.includeDeleted||!1,p_limit:t?.limit||100,p_offset:t?.offset||0});if(r)throw r;const i=(n||[]).map(u=>({id:ql(u.id.toString()),date:new Date(u.datetime),type:u.type,skuId:u.sku_id||"",skuDescription:u.sku_description||u.product_name||u.sku_id||"",unit:u.sku_unit||"unit",quantity:u.quantity,unitCost:u.unit_cost||0,totalCost:u.total_value||0,vendor:u.vendor_name,reference:u.reference,notes:u.notes||void 0,deletedAt:u.deleted_at?new Date(u.deleted_at):void 0,deletedBy:u.deleted_by||void 0,deletionReason:u.deletion_reason||void 0})),{count:l}=await ne.from("movements").select("*",{count:"exact",head:!0}).is("deleted_at",t?.includeDeleted?void 0:null);return{movements:i,total:l||0}}catch(n){throw console.error("Error fetching movements:",n),n}}async function y1(t){try{const n=await My(t.vendorName);console.log("Creating receive movement with transactional RPC:",{skuId:t.skuId,quantity:t.quantity,unitCost:t.unitCost,vendorId:n.id});const{data:r,error:i}=await ne.rpc("create_receiving_transaction",{p_sku_id:t.skuId,p_quantity:t.quantity,p_unit_cost:t.unitCost,p_receiving_date:t.date.toISOString().split("T")[0],p_vendor_id:n.id,p_packing_slip_no:t.packingSlipNo||null,p_reference:t.packingSlipNo||`RCV-${Date.now()}`,p_notes:t.notes||null});if(i)throw console.error("Error creating receive movement via RPC:",i),i;if(!r?.success)throw new Error("Receive movement creation failed");console.log("Receive movement created successfully:",r);const{data:l,error:u}=await ne.from("movements").select(`
        *,
        skus (id, description, unit),
        vendors (name)
      `).eq("id",r.movement_id).single();if(u)throw u;return Ss(l)}catch(n){throw console.error("Error creating receive movement:",n),n}}async function b1(t){try{const n=await vs(t.skuId,t.quantity);if(!n.canFulfill)throw new Error(`Insufficient inventory. Available: ${n.totalQty}, Requested: ${t.quantity}`);try{const r={type:"ISSUE",sku_id:t.skuId,quantity:-t.quantity,unit_cost:n.totalCost/t.quantity,total_value:-n.totalCost,datetime:t.date.toISOString(),reference:t.reference||`ISS-${Date.now()}`,notes:t.notes},{data:i,error:l}=await ne.from("movements").insert(r).select(`
          *,
          skus (id, description, unit),
          vendors (name)
        `).single();if(l)throw l;return await yf(n.plan,i.id),{movement:Ss(i),totalCost:n.totalCost}}catch(r){throw console.error("Error within createIssueMovement flow:",r),r}}catch(n){throw console.error("Error creating issue movement:",n),n}}async function _1(t){try{const{data:n,error:r}=await ne.from("skus").select("last_cost, average_cost").eq("id",t.skuId).single();if(r)throw r;const i=t.unitCost||n.last_cost||n.average_cost||0,l=t.quantity*i;try{const u=[t.generalNotes,t.damageNotes,t.notes].filter(p=>p?.trim()).join(" | "),d={type:"DAMAGE",sku_id:t.skuId,quantity:-t.quantity,unit_cost:i,total_value:-l,datetime:t.date.toISOString(),reference:t.reference||`DMG-${Date.now()}`,notes:u||null},{data:h,error:m}=await ne.from("movements").insert(d).select(`
          *,
          skus (id, description, unit),
          vendors (name)
        `).single();if(m)throw m;return{movement:Ss(h),totalCost:l}}catch(u){throw console.error("Error within createDamageMovement flow:",u),u}}catch(n){throw console.error("Error creating damage movement:",n),n}}async function w1(t){try{const n=await vs(t.skuId,t.quantity);if(!n.canFulfill)throw new Error(`Insufficient inventory. Available: ${n.totalQty}, Requested: ${t.quantity}`);try{const r={type:"WASTE",sku_id:t.skuId,quantity:-t.quantity,unit_cost:n.totalCost/t.quantity,total_value:-n.totalCost,datetime:t.date.toISOString(),reference:t.reference||`WST-${Date.now()}`,notes:t.notes},{data:i,error:l}=await ne.from("movements").insert(r).select(`
          *,
          skus (id, description, unit),
          vendors (name)
        `).single();if(l)throw l;return await yf(n.plan,i.id),{movement:Ss(i),totalCost:n.totalCost}}catch(r){throw console.error("Error within createWasteMovement flow:",r),r}}catch(n){throw console.error("Error creating waste movement:",n),n}}async function S1(t){try{try{const n={type:"PRODUCE",sku_id:t.skuId||null,product_name:t.skuId?null:t.productName||"Produced Item",quantity:t.quantity,unit_cost:t.unitCost,total_value:t.quantity*t.unitCost,datetime:t.date.toISOString(),reference:t.reference||`PRD-${Date.now()}`,notes:t.notes},{data:r,error:i}=await ne.from("movements").insert(n).select(`
          *,
          skus (id, description, unit),
          vendors (name)
        `).single();if(i)throw i;if(t.skuId){const l=`L-${r.id}-${t.skuId}`;await Ry({id:l,skuId:t.skuId,receivingDate:t.date,quantity:t.quantity,unitCost:t.unitCost})}return Ss(r)}catch(n){throw console.error("Error within createProduceMovement flow:",n),n}}catch(n){throw console.error("Error creating produce movement:",n),n}}async function x1(t){try{const{adjustLayerQuantity:n,getLayerAdjustmentInfo:r}=await Vt(async()=>{const{adjustLayerQuantity:l,getLayerAdjustmentInfo:u}=await Promise.resolve().then(()=>l1);return{adjustLayerQuantity:l,getLayerAdjustmentInfo:u}},void 0),i=await r(t.layerId);if(!i.canAdjust)throw new Error(`Cannot adjust layer ${t.layerId}: status=${i.status}, remaining=${i.remaining}`);if(i.skuId!==t.skuId)throw new Error(`Layer ${t.layerId} belongs to SKU ${i.skuId}, not ${t.skuId}`);if(t.quantity===0)throw new Error("Adjustment quantity cannot be zero");if(t.quantity<0&&Math.abs(t.quantity)>i.remaining)throw new Error(`Insufficient quantity in layer: available=${i.remaining}, requested=${Math.abs(t.quantity)}`);try{const l=t.quantity*i.cost,u={type:"ADJUSTMENT",sku_id:t.skuId,quantity:t.quantity,unit_cost:i.cost,total_value:l,datetime:t.date.toISOString(),reference:t.reference||`ADJ-${Date.now()}-${t.layerId}`,notes:`Layer Adjustment: ${t.reason}${t.notes?` | ${t.notes}`:""}`},{data:d,error:h}=await ne.from("movements").insert(u).select(`
          *,
          skus (id, description, unit),
          vendors (name)
        `).single();if(h)throw h;if(!(await n(t.layerId,t.quantity,t.reason,t.adjustedBy)).success)throw new Error("Failed to adjust layer quantity");return Ss(d)}catch(l){throw console.error("Error within createAdjustmentMovement flow:",l),l}}catch(n){throw console.error("Error creating adjustment movement:",n),n}}async function E1(t){const{data:n,error:r}=await ne.rpc("can_reverse_movement",{p_movement_id:t});if(r)throw r;return{canReverse:n.can_reverse,reason:n.reason,currentStock:n.current_stock,requiredQuantity:n.movement_quantity,remainingAfterReversal:n.remaining_after_reversal}}async function T1(t){const{data:n,error:r}=await ne.rpc("validate_work_order_state",{p_reference:t});if(r)throw r;return{reference:n.reference,isValid:n.is_valid,canDelete:n.can_delete,canRestore:n.can_restore,hasProduce:n.has_produce,hasIssue:n.has_issue,hasWaste:n.has_waste,activeCount:n.active_count,deletedCount:n.deleted_count,issues:n.issues||[],movements:n.movements||[]}}async function k1(t,n){const{data:r,error:i}=await ne.rpc("delete_work_order_atomic",{p_reference:t,p_deletion_reason:n?.reason||null,p_deleted_by:n?.deletedBy||"system"});if(i)throw i;if(!r?.success)throw new Error("Failed to delete Work Order atomically");return{success:r.success,reference:r.reference,deletedMovementsCount:r.deleted_movements_count,affectedSkus:r.affected_skus||[],deletedMovements:r.deleted_movements||[]}}async function j1(t,n){const{data:r,error:i}=await ne.rpc("restore_work_order_atomic",{p_reference:t,p_restored_by:n||"system"});if(i)throw i;if(!r?.success)throw new Error("Failed to restore Work Order atomically");return{success:r.success,reference:r.reference,restoredMovementsCount:r.restored_movements_count,affectedSkus:r.affected_skus||[],restoredMovements:r.restored_movements||[]}}async function A1(t){const{data:n,error:r}=await ne.rpc("diagnose_work_order_integrity",{p_reference:t});if(r)throw r;return{reference:n.reference,validation:n.validation,skuIntegrity:n.sku_integrity||[],overallIntegrity:n.overall_integrity}}async function O1(t){const{data:n,error:r}=await ne.rpc("repair_sku_integrity",{p_sku_id:t});if(r)throw r;return{skuId:n.sku_id,oldOnHand:n.old_on_hand,layerTotal:n.layer_total,newOnHand:n.new_on_hand,wasRepaired:n.was_repaired,isNowSynchronized:n.is_now_synchronized}}async function zy(t){const{data:n,error:r}=await ne.rpc("get_movement_deletion_info",{p_movement_id:t});if(r)throw r;if(n?.error)throw new Error(n.error);return{canDelete:n.can_delete,movementType:n.type,skuId:n.sku_id,quantity:n.quantity,totalValue:n.total_value,reference:n.reference,consumptions:n.consumptions||[],isReversed:n.is_reversed}}async function R1(t,n){const{data:r,error:i}=await ne.rpc("reverse_movement",{p_movement_id:t,p_deletion_reason:n?.reason||null,p_deleted_by:n?.deletedBy||"system"});if(i)throw i;if(!r?.success)throw new Error("Failed to reverse movement");return{success:r.success,movementId:r.movement_id,movementType:r.movement_type,restoredLayers:r.restored_layers||[],reversedAt:r.reversed_at,auditId:r.audit_id}}async function C1(t,n){try{let r;if(!n?.bypassValidation&&(r=await g1(t),!r.canDelete))throw new Error(`Cannot delete movement: ${r.reason}
This would cause data inconsistency. `+(r.workOrdersAffected?.length?`Affected Work Orders: ${r.workOrdersAffected.join(", ")}`:""));const{data:i,error:l}=await ne.rpc("soft_delete_movement",{p_movement_id:t,p_deletion_reason:n?.reason||null,p_deleted_by:n?.deletedBy||"system"});if(l)throw l;if(!i?.success)throw new Error("Failed to soft delete movement");return{success:i.success,movementId:i.movement_id,movementType:i.movement_type,deletedAt:i.deleted_at,deletedBy:i.deleted_by,deletionReason:i.deletion_reason,validationResult:r}}catch(r){throw console.error("Error in softDeleteMovement:",r),r}}async function D1(t,n){const{data:r,error:i}=await ne.rpc("restore_movement",{p_movement_id:t,p_restored_by:n||"system"});if(i)throw i;if(!r?.success)throw new Error("Failed to restore movement");return{success:r.success,movementId:r.movement_id,movementType:r.movement_type,restoredAt:r.restored_at,restoredBy:r.restored_by}}async function N1(t,n){const r=await zy(t);if(r.movementType==="PRODUCE"){const{data:u,error:d}=await ne.rpc("delete_production_group",{p_reference:r.reference,p_deletion_reason:n?.reason||null,p_deleted_by:n?.deletedBy||"system"});if(d)throw d;if(!u?.success)throw new Error("Failed to delete production group");return{success:!0,movementId:t,movementType:r.movementType,restoredLayers:[],deleted:!0,auditId:0,deletionAuditId:0}}const{data:i,error:l}=await ne.rpc("delete_movement",{p_movement_id:t,p_deletion_reason:n?.reason||null,p_deleted_by:n?.deletedBy||"system"});if(l)throw l;if(!i?.success)throw new Error("Failed to delete movement");return{success:i.success,movementId:i.movement_id,movementType:i.movement_type,restoredLayers:i.restored_layers||[],deleted:i.deleted,auditId:i.audit_id,deletionAuditId:i.deletion_audit_id}}async function Uy(t,n){try{const r=[],i=[];let l=0,u=0;const d=[];for(const h of t){const m=await vs(h.skuId,h.quantity);r.push({skuId:h.skuId,requestedQty:h.quantity,plan:m}),m.canFulfill||d.push(h.skuId),l+=m.totalCost}for(const h of n)if(h.quantity>0){const m=await vs(h.skuId,h.quantity);i.push({skuId:h.skuId,requestedQty:h.quantity,plan:m}),u+=m.totalCost}return{rawPlans:r,wastePlans:i,totalRawCost:l,totalWasteCost:u,canFulfill:d.length===0,insufficientSKUs:d}}catch(r){throw console.error("Error calculating work order FIFO plans:",r),r}}async function M1(t){try{const n=t.rawMaterials.map(m=>({sku_id:m.skuId,quantity:m.quantity,type:"ISSUE"})),r=t.wasteLines.filter(m=>m.quantity>0).map(m=>({sku_id:m.skuId,quantity:m.quantity,type:"WASTE"})),i=[...n,...r];console.log("Creating work order with transactional RPC:",{outputName:t.outputName,outputQuantity:t.outputQuantity,materials:i});const l={p_output_name:t.outputName,p_output_quantity:t.outputQuantity,p_output_unit:"unit",p_mode:"AUTO",p_client_name:null,p_invoice_no:t.reference||null,p_notes:t.notes||null,p_materials:i};console.log("RPC parameters:",l);const{data:u,error:d}=await ne.rpc("create_work_order_transaction",l);if(d)throw console.error("Error creating work order via RPC:",d),console.error("Error details:",JSON.stringify(d,null,2)),d;if(!u?.success)throw new Error("Work order creation failed");console.log("Work order created successfully:",u);const h=await Uy(t.rawMaterials,t.wasteLines);return{workOrderId:u.work_order_id,totalRawCost:u.total_raw_cost||h.totalRawCost,totalWasteCost:u.total_waste_cost||h.totalWasteCost,outputUnitCost:u.produce_unit_cost||(u.net_produce_cost||h.totalRawCost)/t.outputQuantity,rawPlans:h.rawPlans,wastePlans:h.wastePlans,netProduceCost:u.net_produce_cost,details:{rawCost:u.total_raw_cost,wasteCost:u.total_waste_cost,netCost:u.net_produce_cost,unitCost:u.produce_unit_cost,consumptions:u.material_consumptions}}}catch(n){throw console.error("Error creating work order:",n),n}}async function z1(t){try{let n=ne.from("work_orders").select("*",{count:"exact"});t?.outputSkuId&&(n=n.eq("output_sku_id",t.outputSkuId)),t?.dateFrom&&(n=n.gte("work_order_date",t.dateFrom.toISOString().split("T")[0])),t?.dateTo&&(n=n.lte("work_order_date",t.dateTo.toISOString().split("T")[0])),t?.status&&(n=n.eq("status",t.status)),t?.limit&&(n=n.limit(t.limit)),t?.offset&&(n=n.range(t.offset,t.offset+(t?.limit||50)-1)),n=n.order("work_order_date",{ascending:!1}).order("created_at",{ascending:!1});const{data:r,error:i,count:l}=await n;return i&&ht(i),{workOrders:r||[],total:l||0}}catch(n){throw console.error("Error fetching work orders:",n),n}}async function U1(t){try{const{data:n,error:r}=await ne.from("work_orders").select(`
        *,
        skus (id, description, unit)
      `).eq("id",t).single();if(r){if(r.code==="PGRST116")return null;ht(r)}const{data:i,error:l}=await ne.from("work_order_lines").select(`
        *,
        skus (id, description, unit),
        movements (id, type, datetime)
      `).eq("work_order_id",t).order("type").order("created_at");return l&&ht(l),{workOrder:n,lines:i||[]}}catch(n){throw console.error("Error fetching work order details:",n),n}}const Ol={async getAllSKUs(){return await sv({active:!0})},async getSKUsByType(t){return await sv({type:t,active:!0})},async getSKUById(t){return await n1(t)},async createSKU(t){return await a1(t)},async updateSKU(t,n){return await r1(t,n)},async deleteSKU(t){return await s1(t)},async getInventorySummary(){return await i1()}},Rl={async getVendorSuggestions(t){return await c1(t)},async createOrGetVendor(t){return await My(t)},async getAllVendors(){return await d1({active:!0})},async getVendorById(t){return await f1(t)},async createVendor(t){return await Ny({name:t.name,address:t.address,email:t.email,phone:t.phone,bankInfo:t.bank?{display:t.bank}:void 0})},async updateVendor(t,n){return await m1(t,{name:n.name,address:n.address,email:n.email,phone:n.phone,bank_info:n.bank?{display:n.bank}:void 0})},async deleteVendor(t){return await p1(t)}},$1={async getFIFOLayers(t){return await vf(t)},async getAllFIFOLayers(){return await Oy()},async calculateFIFOPlan(t,n){return await vs(t,n)},async getAvailableQuantity(t){return await Dy(t)},async getLayerAdjustmentInfo(t){return await Cy(t)}},Kl={async createReceiveMovement(t){return await y1(t)},async createIssueMovement(t){return await b1(t)},async createWasteMovement(t){return await w1(t)},async createDamageMovement(t){return await _1(t)},async createAdjustmentMovement(t){return await x1(t)},async createProduceMovement(t){return await S1(t)},async getMovementDeletionInfo(t){return await zy(t)},async canReverseMovement(t){return await E1(t)},async reverseMovement(t,n){return await R1(t,n)},async deleteMovement(t,n){return await N1(t,n)},async softDeleteMovement(t,n){return await C1(t,n)},async restoreMovement(t,n){return await D1(t,n)},async getMovements(t){return await v1(t)},async validateWorkOrderState(t){return await T1(t)},async deleteWorkOrderAtomic(t,n){return await k1(t,n)},async restoreWorkOrderAtomic(t,n){return await j1(t,n)},async diagnoseWorkOrderIntegrity(t){return await A1(t)},async repairSkuIntegrity(t){return await O1(t)}},L1={async calculateWorkOrderPlans(t,n){return await Uy(t,n)},async createWorkOrder(t){return await M1(t)},async getWorkOrders(t){return await z1(t)},async getWorkOrderById(t){return await U1(t)}};async function q1(t){return $1.getFIFOLayers(t)}async function iv(t){return Kl.getMovements(t)}async function ov(t,n){return Kl.deleteMovement(t,n)}async function RO(t){return Kl.createReceiveMovement(t)}async function CO(t){return L1.createWorkOrder(t)}const ar="pgaskets-journal-export-history",jd="pgaskets-journal-last-sync",lv=100;class B1{supabase;conflictStrategy="merge-union";onSyncCallbacks=[];constructor(n,r){n&&r?this.supabase=ky(n,r):Vt(async()=>{const{supabase:i}=await Promise.resolve().then(()=>FE);return{supabase:i}},void 0).then(({supabase:i})=>{this.supabase=i})}getExportedMovements(){try{const n=localStorage.getItem(ar);return n?new Set(JSON.parse(n)):new Set}catch(n){return console.warn("Failed to load journal export history from localStorage:",n),new Set}}markMovementsAsExported(n,r){try{const i=this.getExportedMovements();n.forEach(u=>i.add(u)),localStorage.setItem(ar,JSON.stringify([...i]));const l=this.getExportMetadata();n.forEach(u=>{l[u]={exported_at:new Date().toISOString(),journal_number:r,synced:!1}}),this.setExportMetadata(l)}catch(i){console.warn("Failed to save journal export history to localStorage:",i)}}clearLocalHistory(){try{localStorage.removeItem(ar),localStorage.removeItem(ar+"-metadata"),localStorage.removeItem(jd),Ae.success("Local export history cleared")}catch(n){console.warn("Failed to clear local journal export history:",n),Ae.error("Failed to clear local history")}}getExportMetadata(){try{const n=localStorage.getItem(ar+"-metadata");return n?JSON.parse(n):{}}catch{return{}}}setExportMetadata(n){try{localStorage.setItem(ar+"-metadata",JSON.stringify(n))}catch(r){console.warn("Failed to save export metadata:",r)}}getLastSyncTime(){try{const n=localStorage.getItem(jd);return n?new Date(n):null}catch{return null}}setLastSyncTime(n){try{localStorage.setItem(jd,n.toISOString())}catch(r){console.warn("Failed to save last sync time:",r)}}async getSupabaseExports(){if(!this.supabase)throw new Error("Supabase client not initialized");const{data:n,error:r}=await this.supabase.from("journal_export_history").select("*").order("created_at",{ascending:!1});if(r)throw r;return n||[]}async insertSupabaseExports(n){if(!this.supabase)throw new Error("Supabase client not initialized");if(n.length===0)return;const{error:r}=await this.supabase.from("journal_export_history").upsert(n,{onConflict:"user_id,movement_id",ignoreDuplicates:!1});if(r)throw r}async clearSupabaseHistory(){if(!this.supabase)throw new Error("Supabase client not initialized");const{error:n}=await this.supabase.from("journal_export_history").delete().neq("id","00000000-0000-0000-0000-000000000000");if(n)throw n}async syncToSupabase(){const n={success:!1,uploaded:0,downloaded:0,conflicts:0,errors:[]};try{if(!this.supabase)throw new Error("Supabase client not available");const r=this.getExportMetadata(),i=[],{data:{user:l}}=await this.supabase.auth.getUser();if(!l)throw new Error("User not authenticated");if(Object.entries(r).forEach(([u,d])=>{d.synced||i.push({user_id:l.id,movement_id:u,exported_at:d.exported_at,journal_number:d.journal_number,device_info:{userAgent:navigator.userAgent,timestamp:new Date().toISOString()}})}),i.length>0){for(let d=0;d<i.length;d+=lv){const h=i.slice(d,d+lv);await this.insertSupabaseExports(h),n.uploaded+=h.length}const u={...r};i.forEach(d=>{u[d.movement_id]&&(u[d.movement_id].synced=!0)}),this.setExportMetadata(u)}this.setLastSyncTime(new Date),n.success=!0}catch(r){console.error("Failed to sync to Supabase:",r),n.errors.push(r instanceof Error?r.message:"Unknown error")}return this.onSyncCallbacks.forEach(r=>r(n)),n}async syncFromSupabase(){const n={success:!1,uploaded:0,downloaded:0,conflicts:0,errors:[]};try{if(!this.supabase)throw new Error("Supabase client not available");const r=await this.getSupabaseExports(),i=this.getExportedMovements(),l=this.getExportMetadata(),u=new Set(i),d={...l};r.forEach(h=>{const m=h.movement_id;if(!i.has(m))u.add(m),d[m]={exported_at:h.exported_at,journal_number:h.journal_number,synced:!0},n.downloaded++;else if(!l[m]?.synced)switch(this.conflictStrategy){case"supabase-wins":d[m]={exported_at:h.exported_at,journal_number:h.journal_number,synced:!0},n.conflicts++;break;case"merge-union":d[m]&&(d[m].synced=!0);break}}),localStorage.setItem(ar,JSON.stringify([...u])),this.setExportMetadata(d),this.setLastSyncTime(new Date),n.success=!0}catch(r){console.error("Failed to sync from Supabase:",r),n.errors.push(r instanceof Error?r.message:"Unknown error")}return this.onSyncCallbacks.forEach(r=>r(n)),n}async fullSync(){const n=await this.syncFromSupabase(),r=await this.syncToSupabase();return{success:n.success&&r.success,uploaded:r.uploaded,downloaded:n.downloaded,conflicts:n.conflicts+r.conflicts,errors:[...n.errors,...r.errors]}}async exportHistoryToExcel(){try{const n=await Vt(()=>import("./xlsx-DGuHH-KN.js"),[]),r=this.getExportMetadata(),i=await this.getSupabaseExports().catch(()=>[]),l=[];Object.entries(r).forEach(([_,w])=>{l.push({"Movement ID":_,"Exported At":w.exported_at?new Date(w.exported_at).toLocaleString():"","Journal Number":w.journal_number||"",Source:"Local",Synced:w.synced?"Yes":"No"})});const u=new Set(Object.keys(r));if(i.forEach(_=>{u.has(_.movement_id)||l.push({"Movement ID":_.movement_id,"Exported At":new Date(_.exported_at).toLocaleString(),"Journal Number":_.journal_number||"",Source:"Supabase",Synced:"Yes"})}),l.length===0)return;l.sort((_,w)=>new Date(w["Exported At"]).getTime()-new Date(_["Exported At"]).getTime());const d=n.utils.book_new(),h=n.utils.json_to_sheet(l),m=[{wch:15},{wch:20},{wch:18},{wch:10},{wch:8}];h["!cols"]=m,n.utils.book_append_sheet(d,h,"Export History Backup");const y=`journal-export-history-backup-${new Date().toISOString().split("T")[0]}.xlsx`;n.writeFile(d,y),Ae.info(`Backup saved: ${y}`,{description:`${l.length} export records archived`})}catch(n){console.warn("Failed to export history backup:",n),Ae.error("Failed to create backup file")}}async clearAllHistory(){try{await this.exportHistoryToExcel(),await this.clearSupabaseHistory(),this.clearLocalHistory(),Ae.success("Export history cleared and backed up to Excel")}catch(n){console.error("Failed to clear all history:",n),Ae.error("Failed to clear remote history"),this.clearLocalHistory()}}setConflictStrategy(n){this.conflictStrategy=n}onSync(n){this.onSyncCallbacks.push(n)}async autoSync(){try{await this.fullSync()}catch(n){console.warn("Auto-sync failed:",n)}}getSyncStatus(){const n=this.getExportMetadata(),r=Object.values(n).filter(l=>!l.synced).length,i=this.getExportedMovements().size;return{lastSync:this.getLastSyncTime(),pendingUpload:r,totalExported:i}}}const us=new B1,I1=()=>({JOURNAL_HISTORY_TRACKING:!0,PERFORMANCE_MONITORING:!0,JOURNAL_HISTORY_UI:!1,ENHANCED_ERROR_TRACKING:!1,JOURNAL_PREMIUM_ANALYTICS:!1,JOURNAL_EXPORT_ACTIONS:!1,JOURNAL_AUTO_SYNC:!1});let H1=I1();function Cn(t){return H1[t]}function uv(t,n,r){try{return Cn(t)?n():r()}catch(i){return console.error(`Feature flag ${t} failed:`,i),r()}}function B(t,n,r){function i(h,m){var p;Object.defineProperty(h,"_zod",{value:h._zod??{},enumerable:!1}),(p=h._zod).traits??(p.traits=new Set),h._zod.traits.add(t),n(h,m);for(const y in d.prototype)y in h||Object.defineProperty(h,y,{value:d.prototype[y].bind(h)});h._zod.constr=d,h._zod.def=m}const l=r?.Parent??Object;class u extends l{}Object.defineProperty(u,"name",{value:t});function d(h){var m;const p=r?.Parent?new u:this;i(p,h),(m=p._zod).deferred??(m.deferred=[]);for(const y of p._zod.deferred)y();return p}return Object.defineProperty(d,"init",{value:i}),Object.defineProperty(d,Symbol.hasInstance,{value:h=>r?.Parent&&h instanceof r.Parent?!0:h?._zod?.traits?.has(t)}),Object.defineProperty(d,"name",{value:t}),d}class Gi extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}const $y={};function Ca(t){return $y}function Z1(t){const n=Object.values(t).filter(i=>typeof i=="number");return Object.entries(t).filter(([i,l])=>n.indexOf(+i)===-1).map(([i,l])=>l)}function Fd(t,n){return typeof n=="bigint"?n.toString():n}function Ly(t){return{get value(){{const n=t();return Object.defineProperty(this,"value",{value:n}),n}}}}function bf(t){return t==null}function _f(t){const n=t.startsWith("^")?1:0,r=t.endsWith("$")?t.length-1:t.length;return t.slice(n,r)}function P1(t,n){const r=(t.toString().split(".")[1]||"").length,i=n.toString();let l=(i.split(".")[1]||"").length;if(l===0&&/\d?e-\d?/.test(i)){const m=i.match(/\d?e-(\d?)/);m?.[1]&&(l=Number.parseInt(m[1]))}const u=r>l?r:l,d=Number.parseInt(t.toFixed(u).replace(".","")),h=Number.parseInt(n.toFixed(u).replace(".",""));return d%h/10**u}const cv=Symbol("evaluating");function We(t,n,r){let i;Object.defineProperty(t,n,{get(){if(i!==cv)return i===void 0&&(i=cv,i=r()),i},set(l){Object.defineProperty(t,n,{value:l})},configurable:!0})}function V1(t){return Object.create(Object.getPrototypeOf(t),Object.getOwnPropertyDescriptors(t))}function cr(t,n,r){Object.defineProperty(t,n,{value:r,writable:!0,enumerable:!0,configurable:!0})}function xs(...t){const n={};for(const r of t){const i=Object.getOwnPropertyDescriptors(r);Object.assign(n,i)}return Object.defineProperties({},n)}function dv(t){return JSON.stringify(t)}const qy="captureStackTrace"in Error?Error.captureStackTrace:(...t)=>{};function Yd(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}const G1=Ly(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function Fi(t){if(Yd(t)===!1)return!1;const n=t.constructor;if(n===void 0)return!0;const r=n.prototype;return!(Yd(r)===!1||Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")===!1)}function By(t){return Fi(t)?{...t}:t}const F1=new Set(["string","number","symbol"]);function Ql(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function dr(t,n,r){const i=new t._zod.constr(n??t._zod.def);return(!n||r?.parent)&&(i._zod.parent=t),i}function oe(t){const n=t;if(!n)return{};if(typeof n=="string")return{error:()=>n};if(n?.message!==void 0){if(n?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");n.error=n.message}return delete n.message,typeof n.error=="string"?{...n,error:()=>n.error}:n}function Y1(t){return Object.keys(t).filter(n=>t[n]._zod.optin==="optional"&&t[n]._zod.optout==="optional")}const K1={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function Q1(t,n){const r=t._zod.def,i=xs(t._zod.def,{get shape(){const l={};for(const u in n){if(!(u in r.shape))throw new Error(`Unrecognized key: "${u}"`);n[u]&&(l[u]=r.shape[u])}return cr(this,"shape",l),l},checks:[]});return dr(t,i)}function X1(t,n){const r=t._zod.def,i=xs(t._zod.def,{get shape(){const l={...t._zod.def.shape};for(const u in n){if(!(u in r.shape))throw new Error(`Unrecognized key: "${u}"`);n[u]&&delete l[u]}return cr(this,"shape",l),l},checks:[]});return dr(t,i)}function J1(t,n){if(!Fi(n))throw new Error("Invalid input to extend: expected a plain object");const r=xs(t._zod.def,{get shape(){const i={...t._zod.def.shape,...n};return cr(this,"shape",i),i},checks:[]});return dr(t,r)}function W1(t,n){const r=xs(t._zod.def,{get shape(){const i={...t._zod.def.shape,...n._zod.def.shape};return cr(this,"shape",i),i},get catchall(){return n._zod.def.catchall},checks:[]});return dr(t,r)}function eT(t,n,r){const i=xs(n._zod.def,{get shape(){const l=n._zod.def.shape,u={...l};if(r)for(const d in r){if(!(d in l))throw new Error(`Unrecognized key: "${d}"`);r[d]&&(u[d]=t?new t({type:"optional",innerType:l[d]}):l[d])}else for(const d in l)u[d]=t?new t({type:"optional",innerType:l[d]}):l[d];return cr(this,"shape",u),u},checks:[]});return dr(n,i)}function tT(t,n,r){const i=xs(n._zod.def,{get shape(){const l=n._zod.def.shape,u={...l};if(r)for(const d in r){if(!(d in u))throw new Error(`Unrecognized key: "${d}"`);r[d]&&(u[d]=new t({type:"nonoptional",innerType:l[d]}))}else for(const d in l)u[d]=new t({type:"nonoptional",innerType:l[d]});return cr(this,"shape",u),u},checks:[]});return dr(n,i)}function Ii(t,n=0){for(let r=n;r<t.issues.length;r++)if(t.issues[r]?.continue!==!0)return!0;return!1}function fs(t,n){return n.map(r=>{var i;return(i=r).path??(i.path=[]),r.path.unshift(t),r})}function wl(t){return typeof t=="string"?t:t?.message}function Da(t,n,r){const i={...t,path:t.path??[]};if(!t.message){const l=wl(t.inst?._zod.def?.error?.(t))??wl(n?.error?.(t))??wl(r.customError?.(t))??wl(r.localeError?.(t))??"Invalid input";i.message=l}return delete i.inst,delete i.continue,n?.reportInput||delete i.input,i}function wf(t){return Array.isArray(t)?"array":typeof t=="string"?"string":"unknown"}function Yi(...t){const[n,r,i]=t;return typeof n=="string"?{message:n,code:"custom",input:r,inst:i}:{...n}}const Iy=(t,n)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:n,enumerable:!1}),t.message=JSON.stringify(n,Fd,2),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},Hy=B("$ZodError",Iy),Zy=B("$ZodError",Iy,{Parent:Error});function nT(t,n=r=>r.message){const r={},i=[];for(const l of t.issues)l.path.length>0?(r[l.path[0]]=r[l.path[0]]||[],r[l.path[0]].push(n(l))):i.push(n(l));return{formErrors:i,fieldErrors:r}}function aT(t,n){const r=n||function(u){return u.message},i={_errors:[]},l=u=>{for(const d of u.issues)if(d.code==="invalid_union"&&d.errors.length)d.errors.map(h=>l({issues:h}));else if(d.code==="invalid_key")l({issues:d.issues});else if(d.code==="invalid_element")l({issues:d.issues});else if(d.path.length===0)i._errors.push(r(d));else{let h=i,m=0;for(;m<d.path.length;){const p=d.path[m];m===d.path.length-1?(h[p]=h[p]||{_errors:[]},h[p]._errors.push(r(d))):h[p]=h[p]||{_errors:[]},h=h[p],m++}}};return l(t),i}const rT=t=>(n,r,i,l)=>{const u=i?Object.assign(i,{async:!1}):{async:!1},d=n._zod.run({value:r,issues:[]},u);if(d instanceof Promise)throw new Gi;if(d.issues.length){const h=new(l?.Err??t)(d.issues.map(m=>Da(m,u,Ca())));throw qy(h,l?.callee),h}return d.value},sT=t=>async(n,r,i,l)=>{const u=i?Object.assign(i,{async:!0}):{async:!0};let d=n._zod.run({value:r,issues:[]},u);if(d instanceof Promise&&(d=await d),d.issues.length){const h=new(l?.Err??t)(d.issues.map(m=>Da(m,u,Ca())));throw qy(h,l?.callee),h}return d.value},Py=t=>(n,r,i)=>{const l=i?{...i,async:!1}:{async:!1},u=n._zod.run({value:r,issues:[]},l);if(u instanceof Promise)throw new Gi;return u.issues.length?{success:!1,error:new(t??Hy)(u.issues.map(d=>Da(d,l,Ca())))}:{success:!0,data:u.value}},iT=Py(Zy),Vy=t=>async(n,r,i)=>{const l=i?Object.assign(i,{async:!0}):{async:!0};let u=n._zod.run({value:r,issues:[]},l);return u instanceof Promise&&(u=await u),u.issues.length?{success:!1,error:new t(u.issues.map(d=>Da(d,l,Ca())))}:{success:!0,data:u.value}},oT=Vy(Zy),lT=/^[cC][^\s-]{8,}$/,uT=/^[0-9a-z]+$/,cT=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,dT=/^[0-9a-vA-V]{20}$/,fT=/^[A-Za-z0-9]{27}$/,hT=/^[a-zA-Z0-9_-]{21}$/,mT=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,pT=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,fv=t=>t?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${t}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000)$/,gT=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,vT="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function yT(){return new RegExp(vT,"u")}const bT=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,_T=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})$/,wT=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,ST=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,xT=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,Gy=/^[A-Za-z0-9_-]*$/,ET=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,TT=/^\+(?:[0-9]){6,14}[0-9]$/,Fy="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",kT=new RegExp(`^${Fy}$`);function Yy(t){const n="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof t.precision=="number"?t.precision===-1?`${n}`:t.precision===0?`${n}:[0-5]\\d`:`${n}:[0-5]\\d\\.\\d{${t.precision}}`:`${n}(?::[0-5]\\d(?:\\.\\d+)?)?`}function jT(t){return new RegExp(`^${Yy(t)}$`)}function AT(t){const n=Yy({precision:t.precision}),r=["Z"];t.local&&r.push(""),t.offset&&r.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const i=`${n}(?:${r.join("|")})`;return new RegExp(`^${Fy}T(?:${i})$`)}const OT=t=>{const n=t?`[\\s\\S]{${t?.minimum??0},${t?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${n}$`)},RT=/^\d+$/,CT=/^-?\d+(?:\.\d+)?/i,DT=/true|false/i,NT=/^[^A-Z]*$/,MT=/^[^a-z]*$/,Gt=B("$ZodCheck",(t,n)=>{var r;t._zod??(t._zod={}),t._zod.def=n,(r=t._zod).onattach??(r.onattach=[])}),Ky={number:"number",bigint:"bigint",object:"date"},Qy=B("$ZodCheckLessThan",(t,n)=>{Gt.init(t,n);const r=Ky[typeof n.value];t._zod.onattach.push(i=>{const l=i._zod.bag,u=(n.inclusive?l.maximum:l.exclusiveMaximum)??Number.POSITIVE_INFINITY;n.value<u&&(n.inclusive?l.maximum=n.value:l.exclusiveMaximum=n.value)}),t._zod.check=i=>{(n.inclusive?i.value<=n.value:i.value<n.value)||i.issues.push({origin:r,code:"too_big",maximum:n.value,input:i.value,inclusive:n.inclusive,inst:t,continue:!n.abort})}}),Xy=B("$ZodCheckGreaterThan",(t,n)=>{Gt.init(t,n);const r=Ky[typeof n.value];t._zod.onattach.push(i=>{const l=i._zod.bag,u=(n.inclusive?l.minimum:l.exclusiveMinimum)??Number.NEGATIVE_INFINITY;n.value>u&&(n.inclusive?l.minimum=n.value:l.exclusiveMinimum=n.value)}),t._zod.check=i=>{(n.inclusive?i.value>=n.value:i.value>n.value)||i.issues.push({origin:r,code:"too_small",minimum:n.value,input:i.value,inclusive:n.inclusive,inst:t,continue:!n.abort})}}),zT=B("$ZodCheckMultipleOf",(t,n)=>{Gt.init(t,n),t._zod.onattach.push(r=>{var i;(i=r._zod.bag).multipleOf??(i.multipleOf=n.value)}),t._zod.check=r=>{if(typeof r.value!=typeof n.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof r.value=="bigint"?r.value%n.value===BigInt(0):P1(r.value,n.value)===0)||r.issues.push({origin:typeof r.value,code:"not_multiple_of",divisor:n.value,input:r.value,inst:t,continue:!n.abort})}}),UT=B("$ZodCheckNumberFormat",(t,n)=>{Gt.init(t,n),n.format=n.format||"float64";const r=n.format?.includes("int"),i=r?"int":"number",[l,u]=K1[n.format];t._zod.onattach.push(d=>{const h=d._zod.bag;h.format=n.format,h.minimum=l,h.maximum=u,r&&(h.pattern=RT)}),t._zod.check=d=>{const h=d.value;if(r){if(!Number.isInteger(h)){d.issues.push({expected:i,format:n.format,code:"invalid_type",continue:!1,input:h,inst:t});return}if(!Number.isSafeInteger(h)){h>0?d.issues.push({input:h,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:i,continue:!n.abort}):d.issues.push({input:h,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:i,continue:!n.abort});return}}h<l&&d.issues.push({origin:"number",input:h,code:"too_small",minimum:l,inclusive:!0,inst:t,continue:!n.abort}),h>u&&d.issues.push({origin:"number",input:h,code:"too_big",maximum:u,inst:t})}}),$T=B("$ZodCheckMaxLength",(t,n)=>{var r;Gt.init(t,n),(r=t._zod.def).when??(r.when=i=>{const l=i.value;return!bf(l)&&l.length!==void 0}),t._zod.onattach.push(i=>{const l=i._zod.bag.maximum??Number.POSITIVE_INFINITY;n.maximum<l&&(i._zod.bag.maximum=n.maximum)}),t._zod.check=i=>{const l=i.value;if(l.length<=n.maximum)return;const d=wf(l);i.issues.push({origin:d,code:"too_big",maximum:n.maximum,inclusive:!0,input:l,inst:t,continue:!n.abort})}}),LT=B("$ZodCheckMinLength",(t,n)=>{var r;Gt.init(t,n),(r=t._zod.def).when??(r.when=i=>{const l=i.value;return!bf(l)&&l.length!==void 0}),t._zod.onattach.push(i=>{const l=i._zod.bag.minimum??Number.NEGATIVE_INFINITY;n.minimum>l&&(i._zod.bag.minimum=n.minimum)}),t._zod.check=i=>{const l=i.value;if(l.length>=n.minimum)return;const d=wf(l);i.issues.push({origin:d,code:"too_small",minimum:n.minimum,inclusive:!0,input:l,inst:t,continue:!n.abort})}}),qT=B("$ZodCheckLengthEquals",(t,n)=>{var r;Gt.init(t,n),(r=t._zod.def).when??(r.when=i=>{const l=i.value;return!bf(l)&&l.length!==void 0}),t._zod.onattach.push(i=>{const l=i._zod.bag;l.minimum=n.length,l.maximum=n.length,l.length=n.length}),t._zod.check=i=>{const l=i.value,u=l.length;if(u===n.length)return;const d=wf(l),h=u>n.length;i.issues.push({origin:d,...h?{code:"too_big",maximum:n.length}:{code:"too_small",minimum:n.length},inclusive:!0,exact:!0,input:i.value,inst:t,continue:!n.abort})}}),Xl=B("$ZodCheckStringFormat",(t,n)=>{var r,i;Gt.init(t,n),t._zod.onattach.push(l=>{const u=l._zod.bag;u.format=n.format,n.pattern&&(u.patterns??(u.patterns=new Set),u.patterns.add(n.pattern))}),n.pattern?(r=t._zod).check??(r.check=l=>{n.pattern.lastIndex=0,!n.pattern.test(l.value)&&l.issues.push({origin:"string",code:"invalid_format",format:n.format,input:l.value,...n.pattern?{pattern:n.pattern.toString()}:{},inst:t,continue:!n.abort})}):(i=t._zod).check??(i.check=()=>{})}),BT=B("$ZodCheckRegex",(t,n)=>{Xl.init(t,n),t._zod.check=r=>{n.pattern.lastIndex=0,!n.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:"regex",input:r.value,pattern:n.pattern.toString(),inst:t,continue:!n.abort})}}),IT=B("$ZodCheckLowerCase",(t,n)=>{n.pattern??(n.pattern=NT),Xl.init(t,n)}),HT=B("$ZodCheckUpperCase",(t,n)=>{n.pattern??(n.pattern=MT),Xl.init(t,n)}),ZT=B("$ZodCheckIncludes",(t,n)=>{Gt.init(t,n);const r=Ql(n.includes),i=new RegExp(typeof n.position=="number"?`^.{${n.position}}${r}`:r);n.pattern=i,t._zod.onattach.push(l=>{const u=l._zod.bag;u.patterns??(u.patterns=new Set),u.patterns.add(i)}),t._zod.check=l=>{l.value.includes(n.includes,n.position)||l.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:n.includes,input:l.value,inst:t,continue:!n.abort})}}),PT=B("$ZodCheckStartsWith",(t,n)=>{Gt.init(t,n);const r=new RegExp(`^${Ql(n.prefix)}.*`);n.pattern??(n.pattern=r),t._zod.onattach.push(i=>{const l=i._zod.bag;l.patterns??(l.patterns=new Set),l.patterns.add(r)}),t._zod.check=i=>{i.value.startsWith(n.prefix)||i.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:n.prefix,input:i.value,inst:t,continue:!n.abort})}}),VT=B("$ZodCheckEndsWith",(t,n)=>{Gt.init(t,n);const r=new RegExp(`.*${Ql(n.suffix)}$`);n.pattern??(n.pattern=r),t._zod.onattach.push(i=>{const l=i._zod.bag;l.patterns??(l.patterns=new Set),l.patterns.add(r)}),t._zod.check=i=>{i.value.endsWith(n.suffix)||i.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:n.suffix,input:i.value,inst:t,continue:!n.abort})}}),GT=B("$ZodCheckOverwrite",(t,n)=>{Gt.init(t,n),t._zod.check=r=>{r.value=n.tx(r.value)}});class FT{constructor(n=[]){this.content=[],this.indent=0,this&&(this.args=n)}indented(n){this.indent+=1,n(this),this.indent-=1}write(n){if(typeof n=="function"){n(this,{execution:"sync"}),n(this,{execution:"async"});return}const i=n.split(`
`).filter(d=>d),l=Math.min(...i.map(d=>d.length-d.trimStart().length)),u=i.map(d=>d.slice(l)).map(d=>" ".repeat(this.indent*2)+d);for(const d of u)this.content.push(d)}compile(){const n=Function,r=this?.args,l=[...(this?.content??[""]).map(u=>`  ${u}`)];return new n(...r,l.join(`
`))}}const YT={major:4,minor:0,patch:17},nt=B("$ZodType",(t,n)=>{var r;t??(t={}),t._zod.def=n,t._zod.bag=t._zod.bag||{},t._zod.version=YT;const i=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&i.unshift(t);for(const l of i)for(const u of l._zod.onattach)u(t);if(i.length===0)(r=t._zod).deferred??(r.deferred=[]),t._zod.deferred?.push(()=>{t._zod.run=t._zod.parse});else{const l=(u,d,h)=>{let m=Ii(u),p;for(const y of d){if(y._zod.def.when){if(!y._zod.def.when(u))continue}else if(m)continue;const _=u.issues.length,w=y._zod.check(u);if(w instanceof Promise&&h?.async===!1)throw new Gi;if(p||w instanceof Promise)p=(p??Promise.resolve()).then(async()=>{await w,u.issues.length!==_&&(m||(m=Ii(u,_)))});else{if(u.issues.length===_)continue;m||(m=Ii(u,_))}}return p?p.then(()=>u):u};t._zod.run=(u,d)=>{const h=t._zod.parse(u,d);if(h instanceof Promise){if(d.async===!1)throw new Gi;return h.then(m=>l(m,i,d))}return l(h,i,d)}}t["~standard"]={validate:l=>{try{const u=iT(t,l);return u.success?{value:u.data}:{issues:u.error?.issues}}catch{return oT(t,l).then(d=>d.success?{value:d.data}:{issues:d.error?.issues})}},vendor:"zod",version:1}}),Sf=B("$ZodString",(t,n)=>{nt.init(t,n),t._zod.pattern=[...t?._zod.bag?.patterns??[]].pop()??OT(t._zod.bag),t._zod.parse=(r,i)=>{if(n.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:t}),r}}),at=B("$ZodStringFormat",(t,n)=>{Xl.init(t,n),Sf.init(t,n)}),KT=B("$ZodGUID",(t,n)=>{n.pattern??(n.pattern=pT),at.init(t,n)}),QT=B("$ZodUUID",(t,n)=>{if(n.version){const i={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[n.version];if(i===void 0)throw new Error(`Invalid UUID version: "${n.version}"`);n.pattern??(n.pattern=fv(i))}else n.pattern??(n.pattern=fv());at.init(t,n)}),XT=B("$ZodEmail",(t,n)=>{n.pattern??(n.pattern=gT),at.init(t,n)}),JT=B("$ZodURL",(t,n)=>{at.init(t,n),t._zod.check=r=>{try{const i=r.value.trim(),l=new URL(i);n.hostname&&(n.hostname.lastIndex=0,n.hostname.test(l.hostname)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:ET.source,input:r.value,inst:t,continue:!n.abort})),n.protocol&&(n.protocol.lastIndex=0,n.protocol.test(l.protocol.endsWith(":")?l.protocol.slice(0,-1):l.protocol)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:n.protocol.source,input:r.value,inst:t,continue:!n.abort})),n.normalize?r.value=l.href:r.value=i;return}catch{r.issues.push({code:"invalid_format",format:"url",input:r.value,inst:t,continue:!n.abort})}}}),WT=B("$ZodEmoji",(t,n)=>{n.pattern??(n.pattern=yT()),at.init(t,n)}),ek=B("$ZodNanoID",(t,n)=>{n.pattern??(n.pattern=hT),at.init(t,n)}),tk=B("$ZodCUID",(t,n)=>{n.pattern??(n.pattern=lT),at.init(t,n)}),nk=B("$ZodCUID2",(t,n)=>{n.pattern??(n.pattern=uT),at.init(t,n)}),ak=B("$ZodULID",(t,n)=>{n.pattern??(n.pattern=cT),at.init(t,n)}),rk=B("$ZodXID",(t,n)=>{n.pattern??(n.pattern=dT),at.init(t,n)}),sk=B("$ZodKSUID",(t,n)=>{n.pattern??(n.pattern=fT),at.init(t,n)}),ik=B("$ZodISODateTime",(t,n)=>{n.pattern??(n.pattern=AT(n)),at.init(t,n)}),ok=B("$ZodISODate",(t,n)=>{n.pattern??(n.pattern=kT),at.init(t,n)}),lk=B("$ZodISOTime",(t,n)=>{n.pattern??(n.pattern=jT(n)),at.init(t,n)}),uk=B("$ZodISODuration",(t,n)=>{n.pattern??(n.pattern=mT),at.init(t,n)}),ck=B("$ZodIPv4",(t,n)=>{n.pattern??(n.pattern=bT),at.init(t,n),t._zod.onattach.push(r=>{const i=r._zod.bag;i.format="ipv4"})}),dk=B("$ZodIPv6",(t,n)=>{n.pattern??(n.pattern=_T),at.init(t,n),t._zod.onattach.push(r=>{const i=r._zod.bag;i.format="ipv6"}),t._zod.check=r=>{try{new URL(`http://[${r.value}]`)}catch{r.issues.push({code:"invalid_format",format:"ipv6",input:r.value,inst:t,continue:!n.abort})}}}),fk=B("$ZodCIDRv4",(t,n)=>{n.pattern??(n.pattern=wT),at.init(t,n)}),hk=B("$ZodCIDRv6",(t,n)=>{n.pattern??(n.pattern=ST),at.init(t,n),t._zod.check=r=>{const[i,l]=r.value.split("/");try{if(!l)throw new Error;const u=Number(l);if(`${u}`!==l)throw new Error;if(u<0||u>128)throw new Error;new URL(`http://[${i}]`)}catch{r.issues.push({code:"invalid_format",format:"cidrv6",input:r.value,inst:t,continue:!n.abort})}}});function Jy(t){if(t==="")return!0;if(t.length%4!==0)return!1;try{return atob(t),!0}catch{return!1}}const mk=B("$ZodBase64",(t,n)=>{n.pattern??(n.pattern=xT),at.init(t,n),t._zod.onattach.push(r=>{r._zod.bag.contentEncoding="base64"}),t._zod.check=r=>{Jy(r.value)||r.issues.push({code:"invalid_format",format:"base64",input:r.value,inst:t,continue:!n.abort})}});function pk(t){if(!Gy.test(t))return!1;const n=t.replace(/[-_]/g,i=>i==="-"?"+":"/"),r=n.padEnd(Math.ceil(n.length/4)*4,"=");return Jy(r)}const gk=B("$ZodBase64URL",(t,n)=>{n.pattern??(n.pattern=Gy),at.init(t,n),t._zod.onattach.push(r=>{r._zod.bag.contentEncoding="base64url"}),t._zod.check=r=>{pk(r.value)||r.issues.push({code:"invalid_format",format:"base64url",input:r.value,inst:t,continue:!n.abort})}}),vk=B("$ZodE164",(t,n)=>{n.pattern??(n.pattern=TT),at.init(t,n)});function yk(t,n=null){try{const r=t.split(".");if(r.length!==3)return!1;const[i]=r;if(!i)return!1;const l=JSON.parse(atob(i));return!("typ"in l&&l?.typ!=="JWT"||!l.alg||n&&(!("alg"in l)||l.alg!==n))}catch{return!1}}const bk=B("$ZodJWT",(t,n)=>{at.init(t,n),t._zod.check=r=>{yk(r.value,n.alg)||r.issues.push({code:"invalid_format",format:"jwt",input:r.value,inst:t,continue:!n.abort})}}),Wy=B("$ZodNumber",(t,n)=>{nt.init(t,n),t._zod.pattern=t._zod.bag.pattern??CT,t._zod.parse=(r,i)=>{if(n.coerce)try{r.value=Number(r.value)}catch{}const l=r.value;if(typeof l=="number"&&!Number.isNaN(l)&&Number.isFinite(l))return r;const u=typeof l=="number"?Number.isNaN(l)?"NaN":Number.isFinite(l)?void 0:"Infinity":void 0;return r.issues.push({expected:"number",code:"invalid_type",input:l,inst:t,...u?{received:u}:{}}),r}}),_k=B("$ZodNumber",(t,n)=>{UT.init(t,n),Wy.init(t,n)}),wk=B("$ZodBoolean",(t,n)=>{nt.init(t,n),t._zod.pattern=DT,t._zod.parse=(r,i)=>{if(n.coerce)try{r.value=!!r.value}catch{}const l=r.value;return typeof l=="boolean"||r.issues.push({expected:"boolean",code:"invalid_type",input:l,inst:t}),r}}),Sk=B("$ZodAny",(t,n)=>{nt.init(t,n),t._zod.parse=r=>r}),xk=B("$ZodUnknown",(t,n)=>{nt.init(t,n),t._zod.parse=r=>r}),Ek=B("$ZodNever",(t,n)=>{nt.init(t,n),t._zod.parse=(r,i)=>(r.issues.push({expected:"never",code:"invalid_type",input:r.value,inst:t}),r)}),Tk=B("$ZodDate",(t,n)=>{nt.init(t,n),t._zod.parse=(r,i)=>{if(n.coerce)try{r.value=new Date(r.value)}catch{}const l=r.value,u=l instanceof Date;return u&&!Number.isNaN(l.getTime())||r.issues.push({expected:"date",code:"invalid_type",input:l,...u?{received:"Invalid Date"}:{},inst:t}),r}});function hv(t,n,r){t.issues.length&&n.issues.push(...fs(r,t.issues)),n.value[r]=t.value}const kk=B("$ZodArray",(t,n)=>{nt.init(t,n),t._zod.parse=(r,i)=>{const l=r.value;if(!Array.isArray(l))return r.issues.push({expected:"array",code:"invalid_type",input:l,inst:t}),r;r.value=Array(l.length);const u=[];for(let d=0;d<l.length;d++){const h=l[d],m=n.element._zod.run({value:h,issues:[]},i);m instanceof Promise?u.push(m.then(p=>hv(p,r,d))):hv(m,r,d)}return u.length?Promise.all(u).then(()=>r):r}});function Sl(t,n,r,i){t.issues.length&&n.issues.push(...fs(r,t.issues)),t.value===void 0?r in i&&(n.value[r]=void 0):n.value[r]=t.value}const jk=B("$ZodObject",(t,n)=>{nt.init(t,n);const r=Ly(()=>{const _=Object.keys(n.shape);for(const x of _)if(!n.shape[x]._zod.traits.has("$ZodType"))throw new Error(`Invalid element at key "${x}": expected a Zod schema`);const w=Y1(n.shape);return{shape:n.shape,keys:_,keySet:new Set(_),numKeys:_.length,optionalKeys:new Set(w)}});We(t._zod,"propValues",()=>{const _=n.shape,w={};for(const x in _){const j=_[x]._zod;if(j.values){w[x]??(w[x]=new Set);for(const z of j.values)w[x].add(z)}}return w});const i=_=>{const w=new FT(["shape","payload","ctx"]),x=r.value,j=G=>{const U=dv(G);return`shape[${U}]._zod.run({ value: input[${U}], issues: [] }, ctx)`};w.write("const input = payload.value;");const z=Object.create(null);let M=0;for(const G of x.keys)z[G]=`key_${M++}`;w.write("const newResult = {}");for(const G of x.keys){const U=z[G],V=dv(G);w.write(`const ${U} = ${j(G)};`),w.write(`
        if (${U}.issues.length) {
          payload.issues = payload.issues.concat(${U}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${V}, ...iss.path] : [${V}]
          })));
        }
        
        if (${U}.value === undefined) {
          if (${V} in input) {
            newResult[${V}] = undefined;
          }
        } else {
          newResult[${V}] = ${U}.value;
        }
      `)}w.write("payload.value = newResult;"),w.write("return payload;");const N=w.compile();return(G,U)=>N(_,G,U)};let l;const u=Yd,d=!$y.jitless,m=d&&G1.value,p=n.catchall;let y;t._zod.parse=(_,w)=>{y??(y=r.value);const x=_.value;if(!u(x))return _.issues.push({expected:"object",code:"invalid_type",input:x,inst:t}),_;const j=[];if(d&&m&&w?.async===!1&&w.jitless!==!0)l||(l=i(n.shape)),_=l(_,w);else{_.value={};const U=y.shape;for(const V of y.keys){const X=U[V]._zod.run({value:x[V],issues:[]},w);X instanceof Promise?j.push(X.then(W=>Sl(W,_,V,x))):Sl(X,_,V,x)}}if(!p)return j.length?Promise.all(j).then(()=>_):_;const z=[],M=y.keySet,N=p._zod,G=N.def.type;for(const U of Object.keys(x)){if(M.has(U))continue;if(G==="never"){z.push(U);continue}const V=N.run({value:x[U],issues:[]},w);V instanceof Promise?j.push(V.then(Z=>Sl(Z,_,U,x))):Sl(V,_,U,x)}return z.length&&_.issues.push({code:"unrecognized_keys",keys:z,input:x,inst:t}),j.length?Promise.all(j).then(()=>_):_}});function mv(t,n,r,i){for(const u of t)if(u.issues.length===0)return n.value=u.value,n;const l=t.filter(u=>!Ii(u));return l.length===1?(n.value=l[0].value,l[0]):(n.issues.push({code:"invalid_union",input:n.value,inst:r,errors:t.map(u=>u.issues.map(d=>Da(d,i,Ca())))}),n)}const Ak=B("$ZodUnion",(t,n)=>{nt.init(t,n),We(t._zod,"optin",()=>n.options.some(l=>l._zod.optin==="optional")?"optional":void 0),We(t._zod,"optout",()=>n.options.some(l=>l._zod.optout==="optional")?"optional":void 0),We(t._zod,"values",()=>{if(n.options.every(l=>l._zod.values))return new Set(n.options.flatMap(l=>Array.from(l._zod.values)))}),We(t._zod,"pattern",()=>{if(n.options.every(l=>l._zod.pattern)){const l=n.options.map(u=>u._zod.pattern);return new RegExp(`^(${l.map(u=>_f(u.source)).join("|")})$`)}});const r=n.options.length===1,i=n.options[0]._zod.run;t._zod.parse=(l,u)=>{if(r)return i(l,u);let d=!1;const h=[];for(const m of n.options){const p=m._zod.run({value:l.value,issues:[]},u);if(p instanceof Promise)h.push(p),d=!0;else{if(p.issues.length===0)return p;h.push(p)}}return d?Promise.all(h).then(m=>mv(m,l,t,u)):mv(h,l,t,u)}}),Ok=B("$ZodIntersection",(t,n)=>{nt.init(t,n),t._zod.parse=(r,i)=>{const l=r.value,u=n.left._zod.run({value:l,issues:[]},i),d=n.right._zod.run({value:l,issues:[]},i);return u instanceof Promise||d instanceof Promise?Promise.all([u,d]).then(([m,p])=>pv(r,m,p)):pv(r,u,d)}});function Kd(t,n){if(t===n)return{valid:!0,data:t};if(t instanceof Date&&n instanceof Date&&+t==+n)return{valid:!0,data:t};if(Fi(t)&&Fi(n)){const r=Object.keys(n),i=Object.keys(t).filter(u=>r.indexOf(u)!==-1),l={...t,...n};for(const u of i){const d=Kd(t[u],n[u]);if(!d.valid)return{valid:!1,mergeErrorPath:[u,...d.mergeErrorPath]};l[u]=d.data}return{valid:!0,data:l}}if(Array.isArray(t)&&Array.isArray(n)){if(t.length!==n.length)return{valid:!1,mergeErrorPath:[]};const r=[];for(let i=0;i<t.length;i++){const l=t[i],u=n[i],d=Kd(l,u);if(!d.valid)return{valid:!1,mergeErrorPath:[i,...d.mergeErrorPath]};r.push(d.data)}return{valid:!0,data:r}}return{valid:!1,mergeErrorPath:[]}}function pv(t,n,r){if(n.issues.length&&t.issues.push(...n.issues),r.issues.length&&t.issues.push(...r.issues),Ii(t))return t;const i=Kd(n.value,r.value);if(!i.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(i.mergeErrorPath)}`);return t.value=i.data,t}const Rk=B("$ZodRecord",(t,n)=>{nt.init(t,n),t._zod.parse=(r,i)=>{const l=r.value;if(!Fi(l))return r.issues.push({expected:"record",code:"invalid_type",input:l,inst:t}),r;const u=[];if(n.keyType._zod.values){const d=n.keyType._zod.values;r.value={};for(const m of d)if(typeof m=="string"||typeof m=="number"||typeof m=="symbol"){const p=n.valueType._zod.run({value:l[m],issues:[]},i);p instanceof Promise?u.push(p.then(y=>{y.issues.length&&r.issues.push(...fs(m,y.issues)),r.value[m]=y.value})):(p.issues.length&&r.issues.push(...fs(m,p.issues)),r.value[m]=p.value)}let h;for(const m in l)d.has(m)||(h=h??[],h.push(m));h&&h.length>0&&r.issues.push({code:"unrecognized_keys",input:l,inst:t,keys:h})}else{r.value={};for(const d of Reflect.ownKeys(l)){if(d==="__proto__")continue;const h=n.keyType._zod.run({value:d,issues:[]},i);if(h instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(h.issues.length){r.issues.push({code:"invalid_key",origin:"record",issues:h.issues.map(p=>Da(p,i,Ca())),input:d,path:[d],inst:t}),r.value[h.value]=h.value;continue}const m=n.valueType._zod.run({value:l[d],issues:[]},i);m instanceof Promise?u.push(m.then(p=>{p.issues.length&&r.issues.push(...fs(d,p.issues)),r.value[h.value]=p.value})):(m.issues.length&&r.issues.push(...fs(d,m.issues)),r.value[h.value]=m.value)}}return u.length?Promise.all(u).then(()=>r):r}}),Ck=B("$ZodEnum",(t,n)=>{nt.init(t,n);const r=Z1(n.entries),i=new Set(r);t._zod.values=i,t._zod.pattern=new RegExp(`^(${r.filter(l=>F1.has(typeof l)).map(l=>typeof l=="string"?Ql(l):l.toString()).join("|")})$`),t._zod.parse=(l,u)=>{const d=l.value;return i.has(d)||l.issues.push({code:"invalid_value",values:r,input:d,inst:t}),l}}),Dk=B("$ZodTransform",(t,n)=>{nt.init(t,n),t._zod.parse=(r,i)=>{const l=n.transform(r.value,r);if(i.async)return(l instanceof Promise?l:Promise.resolve(l)).then(d=>(r.value=d,r));if(l instanceof Promise)throw new Gi;return r.value=l,r}});function gv(t,n){return t.issues.length&&n===void 0?{issues:[],value:void 0}:t}const Nk=B("$ZodOptional",(t,n)=>{nt.init(t,n),t._zod.optin="optional",t._zod.optout="optional",We(t._zod,"values",()=>n.innerType._zod.values?new Set([...n.innerType._zod.values,void 0]):void 0),We(t._zod,"pattern",()=>{const r=n.innerType._zod.pattern;return r?new RegExp(`^(${_f(r.source)})?$`):void 0}),t._zod.parse=(r,i)=>{if(n.innerType._zod.optin==="optional"){const l=n.innerType._zod.run(r,i);return l instanceof Promise?l.then(u=>gv(u,r.value)):gv(l,r.value)}return r.value===void 0?r:n.innerType._zod.run(r,i)}}),Mk=B("$ZodNullable",(t,n)=>{nt.init(t,n),We(t._zod,"optin",()=>n.innerType._zod.optin),We(t._zod,"optout",()=>n.innerType._zod.optout),We(t._zod,"pattern",()=>{const r=n.innerType._zod.pattern;return r?new RegExp(`^(${_f(r.source)}|null)$`):void 0}),We(t._zod,"values",()=>n.innerType._zod.values?new Set([...n.innerType._zod.values,null]):void 0),t._zod.parse=(r,i)=>r.value===null?r:n.innerType._zod.run(r,i)}),zk=B("$ZodDefault",(t,n)=>{nt.init(t,n),t._zod.optin="optional",We(t._zod,"values",()=>n.innerType._zod.values),t._zod.parse=(r,i)=>{if(r.value===void 0)return r.value=n.defaultValue,r;const l=n.innerType._zod.run(r,i);return l instanceof Promise?l.then(u=>vv(u,n)):vv(l,n)}});function vv(t,n){return t.value===void 0&&(t.value=n.defaultValue),t}const Uk=B("$ZodPrefault",(t,n)=>{nt.init(t,n),t._zod.optin="optional",We(t._zod,"values",()=>n.innerType._zod.values),t._zod.parse=(r,i)=>(r.value===void 0&&(r.value=n.defaultValue),n.innerType._zod.run(r,i))}),$k=B("$ZodNonOptional",(t,n)=>{nt.init(t,n),We(t._zod,"values",()=>{const r=n.innerType._zod.values;return r?new Set([...r].filter(i=>i!==void 0)):void 0}),t._zod.parse=(r,i)=>{const l=n.innerType._zod.run(r,i);return l instanceof Promise?l.then(u=>yv(u,t)):yv(l,t)}});function yv(t,n){return!t.issues.length&&t.value===void 0&&t.issues.push({code:"invalid_type",expected:"nonoptional",input:t.value,inst:n}),t}const Lk=B("$ZodCatch",(t,n)=>{nt.init(t,n),We(t._zod,"optin",()=>n.innerType._zod.optin),We(t._zod,"optout",()=>n.innerType._zod.optout),We(t._zod,"values",()=>n.innerType._zod.values),t._zod.parse=(r,i)=>{const l=n.innerType._zod.run(r,i);return l instanceof Promise?l.then(u=>(r.value=u.value,u.issues.length&&(r.value=n.catchValue({...r,error:{issues:u.issues.map(d=>Da(d,i,Ca()))},input:r.value}),r.issues=[]),r)):(r.value=l.value,l.issues.length&&(r.value=n.catchValue({...r,error:{issues:l.issues.map(u=>Da(u,i,Ca()))},input:r.value}),r.issues=[]),r)}}),qk=B("$ZodPipe",(t,n)=>{nt.init(t,n),We(t._zod,"values",()=>n.in._zod.values),We(t._zod,"optin",()=>n.in._zod.optin),We(t._zod,"optout",()=>n.out._zod.optout),We(t._zod,"propValues",()=>n.in._zod.propValues),t._zod.parse=(r,i)=>{const l=n.in._zod.run(r,i);return l instanceof Promise?l.then(u=>bv(u,n,i)):bv(l,n,i)}});function bv(t,n,r){return t.issues.length?t:n.out._zod.run({value:t.value,issues:t.issues},r)}const Bk=B("$ZodReadonly",(t,n)=>{nt.init(t,n),We(t._zod,"propValues",()=>n.innerType._zod.propValues),We(t._zod,"values",()=>n.innerType._zod.values),We(t._zod,"optin",()=>n.innerType._zod.optin),We(t._zod,"optout",()=>n.innerType._zod.optout),t._zod.parse=(r,i)=>{const l=n.innerType._zod.run(r,i);return l instanceof Promise?l.then(_v):_v(l)}});function _v(t){return t.value=Object.freeze(t.value),t}const Ik=B("$ZodCustom",(t,n)=>{Gt.init(t,n),nt.init(t,n),t._zod.parse=(r,i)=>r,t._zod.check=r=>{const i=r.value,l=n.fn(i);if(l instanceof Promise)return l.then(u=>wv(u,r,i,t));wv(l,r,i,t)}});function wv(t,n,r,i){if(!t){const l={code:"custom",input:r,inst:i,path:[...i._zod.def.path??[]],continue:!i._zod.def.abort};i._zod.def.params&&(l.params=i._zod.def.params),n.issues.push(Yi(l))}}class Hk{constructor(){this._map=new Map,this._idmap=new Map}add(n,...r){const i=r[0];if(this._map.set(n,i),i&&typeof i=="object"&&"id"in i){if(this._idmap.has(i.id))throw new Error(`ID ${i.id} already exists in the registry`);this._idmap.set(i.id,n)}return this}clear(){return this._map=new Map,this._idmap=new Map,this}remove(n){const r=this._map.get(n);return r&&typeof r=="object"&&"id"in r&&this._idmap.delete(r.id),this._map.delete(n),this}get(n){const r=n._zod.parent;if(r){const i={...this.get(r)??{}};delete i.id;const l={...i,...this._map.get(n)};return Object.keys(l).length?l:void 0}return this._map.get(n)}has(n){return this._map.has(n)}}function Zk(){return new Hk}const xl=Zk();function Pk(t,n){return new t({type:"string",...oe(n)})}function Vk(t,n){return new t({type:"string",format:"email",check:"string_format",abort:!1,...oe(n)})}function Sv(t,n){return new t({type:"string",format:"guid",check:"string_format",abort:!1,...oe(n)})}function Gk(t,n){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,...oe(n)})}function Fk(t,n){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...oe(n)})}function Yk(t,n){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...oe(n)})}function Kk(t,n){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...oe(n)})}function Qk(t,n){return new t({type:"string",format:"url",check:"string_format",abort:!1,...oe(n)})}function Xk(t,n){return new t({type:"string",format:"emoji",check:"string_format",abort:!1,...oe(n)})}function Jk(t,n){return new t({type:"string",format:"nanoid",check:"string_format",abort:!1,...oe(n)})}function Wk(t,n){return new t({type:"string",format:"cuid",check:"string_format",abort:!1,...oe(n)})}function ej(t,n){return new t({type:"string",format:"cuid2",check:"string_format",abort:!1,...oe(n)})}function tj(t,n){return new t({type:"string",format:"ulid",check:"string_format",abort:!1,...oe(n)})}function nj(t,n){return new t({type:"string",format:"xid",check:"string_format",abort:!1,...oe(n)})}function aj(t,n){return new t({type:"string",format:"ksuid",check:"string_format",abort:!1,...oe(n)})}function rj(t,n){return new t({type:"string",format:"ipv4",check:"string_format",abort:!1,...oe(n)})}function sj(t,n){return new t({type:"string",format:"ipv6",check:"string_format",abort:!1,...oe(n)})}function ij(t,n){return new t({type:"string",format:"cidrv4",check:"string_format",abort:!1,...oe(n)})}function oj(t,n){return new t({type:"string",format:"cidrv6",check:"string_format",abort:!1,...oe(n)})}function lj(t,n){return new t({type:"string",format:"base64",check:"string_format",abort:!1,...oe(n)})}function uj(t,n){return new t({type:"string",format:"base64url",check:"string_format",abort:!1,...oe(n)})}function cj(t,n){return new t({type:"string",format:"e164",check:"string_format",abort:!1,...oe(n)})}function dj(t,n){return new t({type:"string",format:"jwt",check:"string_format",abort:!1,...oe(n)})}function fj(t,n){return new t({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...oe(n)})}function hj(t,n){return new t({type:"string",format:"date",check:"string_format",...oe(n)})}function mj(t,n){return new t({type:"string",format:"time",check:"string_format",precision:null,...oe(n)})}function pj(t,n){return new t({type:"string",format:"duration",check:"string_format",...oe(n)})}function gj(t,n){return new t({type:"number",checks:[],...oe(n)})}function vj(t,n){return new t({type:"number",check:"number_format",abort:!1,format:"safeint",...oe(n)})}function yj(t,n){return new t({type:"boolean",...oe(n)})}function bj(t){return new t({type:"any"})}function _j(t){return new t({type:"unknown"})}function wj(t,n){return new t({type:"never",...oe(n)})}function Sj(t,n){return new t({type:"date",...oe(n)})}function xv(t,n){return new Qy({check:"less_than",...oe(n),value:t,inclusive:!1})}function Cl(t,n){return new Qy({check:"less_than",...oe(n),value:t,inclusive:!0})}function Ev(t,n){return new Xy({check:"greater_than",...oe(n),value:t,inclusive:!1})}function Dl(t,n){return new Xy({check:"greater_than",...oe(n),value:t,inclusive:!0})}function Tv(t,n){return new zT({check:"multiple_of",...oe(n),value:t})}function e0(t,n){return new $T({check:"max_length",...oe(n),maximum:t})}function Bl(t,n){return new LT({check:"min_length",...oe(n),minimum:t})}function t0(t,n){return new qT({check:"length_equals",...oe(n),length:t})}function xj(t,n){return new BT({check:"string_format",format:"regex",...oe(n),pattern:t})}function Ej(t){return new IT({check:"string_format",format:"lowercase",...oe(t)})}function Tj(t){return new HT({check:"string_format",format:"uppercase",...oe(t)})}function kj(t,n){return new ZT({check:"string_format",format:"includes",...oe(n),includes:t})}function jj(t,n){return new PT({check:"string_format",format:"starts_with",...oe(n),prefix:t})}function Aj(t,n){return new VT({check:"string_format",format:"ends_with",...oe(n),suffix:t})}function Ji(t){return new GT({check:"overwrite",tx:t})}function Oj(t){return Ji(n=>n.normalize(t))}function Rj(){return Ji(t=>t.trim())}function Cj(){return Ji(t=>t.toLowerCase())}function Dj(){return Ji(t=>t.toUpperCase())}function Nj(t,n,r){return new t({type:"array",element:n,...oe(r)})}function Mj(t,n,r){return new t({type:"custom",check:"custom",fn:n,...oe(r)})}function zj(t){const n=Uj(r=>(r.addIssue=i=>{if(typeof i=="string")r.issues.push(Yi(i,r.value,n._zod.def));else{const l=i;l.fatal&&(l.continue=!1),l.code??(l.code="custom"),l.input??(l.input=r.value),l.inst??(l.inst=n),l.continue??(l.continue=!n._zod.def.abort),r.issues.push(Yi(l))}},t(r.value,r)));return n}function Uj(t,n){const r=new Gt({check:"custom",...oe(n)});return r._zod.check=t,r}const $j=B("ZodISODateTime",(t,n)=>{ik.init(t,n),ut.init(t,n)});function Lj(t){return fj($j,t)}const qj=B("ZodISODate",(t,n)=>{ok.init(t,n),ut.init(t,n)});function Bj(t){return hj(qj,t)}const Ij=B("ZodISOTime",(t,n)=>{lk.init(t,n),ut.init(t,n)});function Hj(t){return mj(Ij,t)}const Zj=B("ZodISODuration",(t,n)=>{uk.init(t,n),ut.init(t,n)});function Pj(t){return pj(Zj,t)}const n0=(t,n)=>{Hy.init(t,n),t.name="ZodError",Object.defineProperties(t,{format:{value:r=>aT(t,r)},flatten:{value:r=>nT(t,r)},addIssue:{value:r=>{t.issues.push(r),t.message=JSON.stringify(t.issues,Fd,2)}},addIssues:{value:r=>{t.issues.push(...r),t.message=JSON.stringify(t.issues,Fd,2)}},isEmpty:{get(){return t.issues.length===0}}})},a0=B("ZodError",n0),Jl=B("ZodError",n0,{Parent:Error}),Vj=rT(Jl),Gj=sT(Jl),Fj=Py(Jl),Yj=Vy(Jl),lt=B("ZodType",(t,n)=>(nt.init(t,n),t.def=n,Object.defineProperty(t,"_def",{value:n}),t.check=(...r)=>t.clone({...n,checks:[...n.checks??[],...r.map(i=>typeof i=="function"?{_zod:{check:i,def:{check:"custom"},onattach:[]}}:i)]}),t.clone=(r,i)=>dr(t,r,i),t.brand=()=>t,t.register=((r,i)=>(r.add(t,i),t)),t.parse=(r,i)=>Vj(t,r,i,{callee:t.parse}),t.safeParse=(r,i)=>Fj(t,r,i),t.parseAsync=async(r,i)=>Gj(t,r,i,{callee:t.parseAsync}),t.safeParseAsync=async(r,i)=>Yj(t,r,i),t.spa=t.safeParseAsync,t.refine=(r,i)=>t.check(ZA(r,i)),t.superRefine=r=>t.check(PA(r)),t.overwrite=r=>t.check(Ji(r)),t.optional=()=>Ov(t),t.nullable=()=>Rv(t),t.nullish=()=>Ov(Rv(t)),t.nonoptional=r=>UA(t,r),t.array=()=>xf(t),t.or=r=>EA([t,r]),t.and=r=>kA(t,r),t.transform=r=>Cv(t,RA(r)),t.default=r=>NA(t,r),t.prefault=r=>zA(t,r),t.catch=r=>LA(t,r),t.pipe=r=>Cv(t,r),t.readonly=()=>IA(t),t.describe=r=>{const i=t.clone();return xl.add(i,{description:r}),i},Object.defineProperty(t,"description",{get(){return xl.get(t)?.description},configurable:!0}),t.meta=(...r)=>{if(r.length===0)return xl.get(t);const i=t.clone();return xl.add(i,r[0]),i},t.isOptional=()=>t.safeParse(void 0).success,t.isNullable=()=>t.safeParse(null).success,t)),r0=B("_ZodString",(t,n)=>{Sf.init(t,n),lt.init(t,n);const r=t._zod.bag;t.format=r.format??null,t.minLength=r.minimum??null,t.maxLength=r.maximum??null,t.regex=(...i)=>t.check(xj(...i)),t.includes=(...i)=>t.check(kj(...i)),t.startsWith=(...i)=>t.check(jj(...i)),t.endsWith=(...i)=>t.check(Aj(...i)),t.min=(...i)=>t.check(Bl(...i)),t.max=(...i)=>t.check(e0(...i)),t.length=(...i)=>t.check(t0(...i)),t.nonempty=(...i)=>t.check(Bl(1,...i)),t.lowercase=i=>t.check(Ej(i)),t.uppercase=i=>t.check(Tj(i)),t.trim=()=>t.check(Rj()),t.normalize=(...i)=>t.check(Oj(...i)),t.toLowerCase=()=>t.check(Cj()),t.toUpperCase=()=>t.check(Dj())}),Kj=B("ZodString",(t,n)=>{Sf.init(t,n),r0.init(t,n),t.email=r=>t.check(Vk(Qj,r)),t.url=r=>t.check(Qk(Xj,r)),t.jwt=r=>t.check(dj(fA,r)),t.emoji=r=>t.check(Xk(Jj,r)),t.guid=r=>t.check(Sv(kv,r)),t.uuid=r=>t.check(Gk(El,r)),t.uuidv4=r=>t.check(Fk(El,r)),t.uuidv6=r=>t.check(Yk(El,r)),t.uuidv7=r=>t.check(Kk(El,r)),t.nanoid=r=>t.check(Jk(Wj,r)),t.guid=r=>t.check(Sv(kv,r)),t.cuid=r=>t.check(Wk(eA,r)),t.cuid2=r=>t.check(ej(tA,r)),t.ulid=r=>t.check(tj(nA,r)),t.base64=r=>t.check(lj(uA,r)),t.base64url=r=>t.check(uj(cA,r)),t.xid=r=>t.check(nj(aA,r)),t.ksuid=r=>t.check(aj(rA,r)),t.ipv4=r=>t.check(rj(sA,r)),t.ipv6=r=>t.check(sj(iA,r)),t.cidrv4=r=>t.check(ij(oA,r)),t.cidrv6=r=>t.check(oj(lA,r)),t.e164=r=>t.check(cj(dA,r)),t.datetime=r=>t.check(Lj(r)),t.date=r=>t.check(Bj(r)),t.time=r=>t.check(Hj(r)),t.duration=r=>t.check(Pj(r))});function ea(t){return Pk(Kj,t)}const ut=B("ZodStringFormat",(t,n)=>{at.init(t,n),r0.init(t,n)}),Qj=B("ZodEmail",(t,n)=>{XT.init(t,n),ut.init(t,n)}),kv=B("ZodGUID",(t,n)=>{KT.init(t,n),ut.init(t,n)}),El=B("ZodUUID",(t,n)=>{QT.init(t,n),ut.init(t,n)}),Xj=B("ZodURL",(t,n)=>{JT.init(t,n),ut.init(t,n)}),Jj=B("ZodEmoji",(t,n)=>{WT.init(t,n),ut.init(t,n)}),Wj=B("ZodNanoID",(t,n)=>{ek.init(t,n),ut.init(t,n)}),eA=B("ZodCUID",(t,n)=>{tk.init(t,n),ut.init(t,n)}),tA=B("ZodCUID2",(t,n)=>{nk.init(t,n),ut.init(t,n)}),nA=B("ZodULID",(t,n)=>{ak.init(t,n),ut.init(t,n)}),aA=B("ZodXID",(t,n)=>{rk.init(t,n),ut.init(t,n)}),rA=B("ZodKSUID",(t,n)=>{sk.init(t,n),ut.init(t,n)}),sA=B("ZodIPv4",(t,n)=>{ck.init(t,n),ut.init(t,n)}),iA=B("ZodIPv6",(t,n)=>{dk.init(t,n),ut.init(t,n)}),oA=B("ZodCIDRv4",(t,n)=>{fk.init(t,n),ut.init(t,n)}),lA=B("ZodCIDRv6",(t,n)=>{hk.init(t,n),ut.init(t,n)}),uA=B("ZodBase64",(t,n)=>{mk.init(t,n),ut.init(t,n)}),cA=B("ZodBase64URL",(t,n)=>{gk.init(t,n),ut.init(t,n)}),dA=B("ZodE164",(t,n)=>{vk.init(t,n),ut.init(t,n)}),fA=B("ZodJWT",(t,n)=>{bk.init(t,n),ut.init(t,n)}),s0=B("ZodNumber",(t,n)=>{Wy.init(t,n),lt.init(t,n),t.gt=(i,l)=>t.check(Ev(i,l)),t.gte=(i,l)=>t.check(Dl(i,l)),t.min=(i,l)=>t.check(Dl(i,l)),t.lt=(i,l)=>t.check(xv(i,l)),t.lte=(i,l)=>t.check(Cl(i,l)),t.max=(i,l)=>t.check(Cl(i,l)),t.int=i=>t.check(jv(i)),t.safe=i=>t.check(jv(i)),t.positive=i=>t.check(Ev(0,i)),t.nonnegative=i=>t.check(Dl(0,i)),t.negative=i=>t.check(xv(0,i)),t.nonpositive=i=>t.check(Cl(0,i)),t.multipleOf=(i,l)=>t.check(Tv(i,l)),t.step=(i,l)=>t.check(Tv(i,l)),t.finite=()=>t;const r=t._zod.bag;t.minValue=Math.max(r.minimum??Number.NEGATIVE_INFINITY,r.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,t.maxValue=Math.min(r.maximum??Number.POSITIVE_INFINITY,r.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,t.isInt=(r.format??"").includes("int")||Number.isSafeInteger(r.multipleOf??.5),t.isFinite=!0,t.format=r.format??null});function Dn(t){return gj(s0,t)}const hA=B("ZodNumberFormat",(t,n)=>{_k.init(t,n),s0.init(t,n)});function jv(t){return vj(hA,t)}const mA=B("ZodBoolean",(t,n)=>{wk.init(t,n),lt.init(t,n)});function Ad(t){return yj(mA,t)}const pA=B("ZodAny",(t,n)=>{Sk.init(t,n),lt.init(t,n)});function gA(){return bj(pA)}const vA=B("ZodUnknown",(t,n)=>{xk.init(t,n),lt.init(t,n)});function Av(){return _j(vA)}const yA=B("ZodNever",(t,n)=>{Ek.init(t,n),lt.init(t,n)});function bA(t){return wj(yA,t)}const _A=B("ZodDate",(t,n)=>{Tk.init(t,n),lt.init(t,n),t.min=(i,l)=>t.check(Dl(i,l)),t.max=(i,l)=>t.check(Cl(i,l));const r=t._zod.bag;t.minDate=r.minimum?new Date(r.minimum):null,t.maxDate=r.maximum?new Date(r.maximum):null});function ir(t){return Sj(_A,t)}const wA=B("ZodArray",(t,n)=>{kk.init(t,n),lt.init(t,n),t.element=n.element,t.min=(r,i)=>t.check(Bl(r,i)),t.nonempty=r=>t.check(Bl(1,r)),t.max=(r,i)=>t.check(e0(r,i)),t.length=(r,i)=>t.check(t0(r,i)),t.unwrap=()=>t.element});function xf(t,n){return Nj(wA,t,n)}const SA=B("ZodObject",(t,n)=>{jk.init(t,n),lt.init(t,n),We(t,"shape",()=>n.shape),t.keyof=()=>AA(Object.keys(t._zod.def.shape)),t.catchall=r=>t.clone({...t._zod.def,catchall:r}),t.passthrough=()=>t.clone({...t._zod.def,catchall:Av()}),t.loose=()=>t.clone({...t._zod.def,catchall:Av()}),t.strict=()=>t.clone({...t._zod.def,catchall:bA()}),t.strip=()=>t.clone({...t._zod.def,catchall:void 0}),t.extend=r=>J1(t,r),t.merge=r=>W1(t,r),t.pick=r=>Q1(t,r),t.omit=r=>X1(t,r),t.partial=(...r)=>eT(o0,t,r[0]),t.required=(...r)=>tT(l0,t,r[0])});function or(t,n){const r={type:"object",get shape(){return cr(this,"shape",t?V1(t):{}),this.shape},...oe(n)};return new SA(r)}const xA=B("ZodUnion",(t,n)=>{Ak.init(t,n),lt.init(t,n),t.options=n.options});function EA(t,n){return new xA({type:"union",options:t,...oe(n)})}const TA=B("ZodIntersection",(t,n)=>{Ok.init(t,n),lt.init(t,n)});function kA(t,n){return new TA({type:"intersection",left:t,right:n})}const jA=B("ZodRecord",(t,n)=>{Rk.init(t,n),lt.init(t,n),t.keyType=n.keyType,t.valueType=n.valueType});function i0(t,n,r){return new jA({type:"record",keyType:t,valueType:n,...oe(r)})}const Il=B("ZodEnum",(t,n)=>{Ck.init(t,n),lt.init(t,n),t.enum=n.entries,t.options=Object.values(n.entries);const r=new Set(Object.keys(n.entries));t.extract=(i,l)=>{const u={};for(const d of i)if(r.has(d))u[d]=n.entries[d];else throw new Error(`Key ${d} not found in enum`);return new Il({...n,checks:[],...oe(l),entries:u})},t.exclude=(i,l)=>{const u={...n.entries};for(const d of i)if(r.has(d))delete u[d];else throw new Error(`Key ${d} not found in enum`);return new Il({...n,checks:[],...oe(l),entries:u})}});function AA(t,n){const r=Array.isArray(t)?Object.fromEntries(t.map(i=>[i,i])):t;return new Il({type:"enum",entries:r,...oe(n)})}function lr(t,n){return new Il({type:"enum",entries:t,...oe(n)})}const OA=B("ZodTransform",(t,n)=>{Dk.init(t,n),lt.init(t,n),t._zod.parse=(r,i)=>{r.addIssue=u=>{if(typeof u=="string")r.issues.push(Yi(u,r.value,n));else{const d=u;d.fatal&&(d.continue=!1),d.code??(d.code="custom"),d.input??(d.input=r.value),d.inst??(d.inst=t),r.issues.push(Yi(d))}};const l=n.transform(r.value,r);return l instanceof Promise?l.then(u=>(r.value=u,r)):(r.value=l,r)}});function RA(t){return new OA({type:"transform",transform:t})}const o0=B("ZodOptional",(t,n)=>{Nk.init(t,n),lt.init(t,n),t.unwrap=()=>t._zod.def.innerType});function Ov(t){return new o0({type:"optional",innerType:t})}const CA=B("ZodNullable",(t,n)=>{Mk.init(t,n),lt.init(t,n),t.unwrap=()=>t._zod.def.innerType});function Rv(t){return new CA({type:"nullable",innerType:t})}const DA=B("ZodDefault",(t,n)=>{zk.init(t,n),lt.init(t,n),t.unwrap=()=>t._zod.def.innerType,t.removeDefault=t.unwrap});function NA(t,n){return new DA({type:"default",innerType:t,get defaultValue(){return typeof n=="function"?n():By(n)}})}const MA=B("ZodPrefault",(t,n)=>{Uk.init(t,n),lt.init(t,n),t.unwrap=()=>t._zod.def.innerType});function zA(t,n){return new MA({type:"prefault",innerType:t,get defaultValue(){return typeof n=="function"?n():By(n)}})}const l0=B("ZodNonOptional",(t,n)=>{$k.init(t,n),lt.init(t,n),t.unwrap=()=>t._zod.def.innerType});function UA(t,n){return new l0({type:"nonoptional",innerType:t,...oe(n)})}const $A=B("ZodCatch",(t,n)=>{Lk.init(t,n),lt.init(t,n),t.unwrap=()=>t._zod.def.innerType,t.removeCatch=t.unwrap});function LA(t,n){return new $A({type:"catch",innerType:t,catchValue:typeof n=="function"?n:()=>n})}const qA=B("ZodPipe",(t,n)=>{qk.init(t,n),lt.init(t,n),t.in=n.in,t.out=n.out});function Cv(t,n){return new qA({type:"pipe",in:t,out:n})}const BA=B("ZodReadonly",(t,n)=>{Bk.init(t,n),lt.init(t,n),t.unwrap=()=>t._zod.def.innerType});function IA(t){return new BA({type:"readonly",innerType:t})}const HA=B("ZodCustom",(t,n)=>{Ik.init(t,n),lt.init(t,n)});function ZA(t,n={}){return Mj(HA,t,n)}function PA(t){return zj(t)}var Ef=(t=>(t.EXPORTED="exported",t.SYNCED="synced",t.FAILED="failed",t.PENDING="pending",t))(Ef||{}),Tf=(t=>(t.SYNCED="synced",t.PENDING="pending",t.FAILED="failed",t.NOT_REQUIRED="not_required",t))(Tf||{});const VA=i0(lr(gs),Dn().int().min(0)),GA=i0(lr(gs),Dn().min(0)),FA=or({filename:ea().min(1),fileSize:Dn().int().min(0).optional(),checksum:ea().optional(),exportedBy:ea().min(1),syncedAt:ir().optional()}),YA=or({canRedownload:Ad(),canResend:Ad(),canModify:Ad()}),KA=or({id:ea().uuid(),journalNumber:ea().regex(/^JNL-\d{8}-\d{3}$/,"Invalid journal number format"),exportDate:ir(),movements:or({total:Dn().int().min(0),byType:VA}),financials:or({totalValue:Dn().min(0),byType:GA}),status:lr(Ef),syncStatus:lr(Tf),metadata:FA,actions:YA,createdAt:ir(),updatedAt:ir().optional(),deletedAt:ir().optional()}),QA=or({journalNumber:ea(),movements:xf(gA()),filename:ea(),exportedBy:ea(),totalValue:Dn().min(0).optional()});or({dateFrom:ir().optional(),dateTo:ir().optional(),status:lr(Ef).optional(),syncStatus:lr(Tf).optional(),minValue:Dn().min(0).optional(),maxValue:Dn().min(0).optional(),movementTypes:xf(lr(gs)).optional(),searchTerm:ea().optional(),limit:Dn().int().min(1).max(1e3).default(50),offset:Dn().int().min(0).default(0)});function XA(t){try{return KA.parse(t)}catch(n){if(n instanceof a0){const r=n.issues.map(i=>`${i.path.join(".")}: ${i.message}`).join(", ");throw new Error(`Export history validation failed: ${r}`)}throw n}}function JA(t){try{return QA.parse(t)}catch(n){if(n instanceof a0){const r=n.issues.map(i=>`${i.path.join(".")}: ${i.message}`).join(", ");throw new Error(`Export record validation failed: ${r}`)}throw n}}const Od={fromDatabaseRow(t){try{const n={id:t.id,journalNumber:t.journal_number,exportDate:new Date(t.export_date),movements:{total:t.movements_count||0,byType:t.movement_breakdown||{}},financials:{totalValue:parseFloat(t.total_value||"0"),byType:t.financial_breakdown||{}},status:t.export_status||"exported",syncStatus:t.sync_status||"pending",metadata:{filename:t.filename||"unknown.xlsx",fileSize:t.file_size,checksum:t.checksum,exportedBy:t.exported_by||"unknown",syncedAt:t.synced_at?new Date(t.synced_at):void 0},actions:{canRedownload:!0,canResend:t.export_status==="synced",canModify:!1},createdAt:new Date(t.created_at),updatedAt:t.updated_at?new Date(t.updated_at):void 0,deletedAt:t.deleted_at?new Date(t.deleted_at):void 0};return XA(n)}catch(n){return console.error("Failed to transform database row:",n),null}},calculateMovementBreakdown(t){const n={};return t.forEach(([r])=>{const i=r.type;n[i]=(n[i]||0)+1}),n},calculateFinancialBreakdown(t){const n={};return t.forEach(([r])=>{const i=r.type,l=Math.abs(r.value||0);n[i]=(n[i]||0)+l}),n},generateJournalNumber(){const t=new Date,n=t.toISOString().split("T")[0].replace(/-/g,""),r=String(t.getTime()).slice(-3);return`JNL-${n}-${r}`},calculateChecksum(t){let n=0;for(let r=0;r<t.length;r++){const i=t.charCodeAt(r);n=(n<<5)-n+i,n=n&n}return n.toString(36)}};class hs{static instance;constructor(){}static getInstance(){return hs.instance||(hs.instance=new hs),hs.instance}async exportJournal(n,r,i){return uv("JOURNAL_HISTORY_TRACKING",()=>this.exportWithTracking(n,r,i),()=>this.exportLegacy(n,r,i))}async exportLegacy(n,r,i){try{const l=`journal_${new Date().toISOString().split("T")[0]}.xlsx`;return console.log(" Using legacy export (no tracking)"),{success:!0,filename:l,data:n,trackingEnabled:!1}}catch(l){return console.error("Legacy export failed:",l),{success:!1,filename:"",data:[],trackingEnabled:!1,error:l instanceof Error?l.message:"Export failed"}}}async exportWithTracking(n,r,i){try{const l=Od.generateJournalNumber(),u=`journal_${l}.xlsx`;console.log(" Using enhanced export with tracking"),console.log(" Journal Number:",l);const d=Od.calculateMovementBreakdown(n),h=Od.calculateFinancialBreakdown(n),m=Object.values(h).reduce((_,w)=>_+w,0),y=JA({journalNumber:l,movements:n,filename:u,exportedBy:i,totalValue:m});return Cn("JOURNAL_HISTORY_TRACKING")&&(console.log(" Would save export history to database"),console.log(" Export record:",{journalNumber:y.journalNumber,filename:y.filename,totalMovements:y.movements.length,totalValue:y.totalValue})),{success:!0,filename:u,data:n,journalNumber:l,exportId:`temp-${Date.now()}`,trackingEnabled:!0,metadata:{movements:{total:n.length,byType:d},financials:{totalValue:m,byType:h}}}}catch(l){return console.error("Enhanced export failed, falling back to legacy:",l),this.exportLegacy(n,r,i)}}isEnhancedModeEnabled(){return Cn("JOURNAL_HISTORY_TRACKING")}getCapabilities(){return{tracking:Cn("JOURNAL_HISTORY_TRACKING"),historyUI:Cn("JOURNAL_HISTORY_UI"),analytics:Cn("JOURNAL_PREMIUM_ANALYTICS"),actions:Cn("JOURNAL_EXPORT_ACTIONS"),autoSync:Cn("JOURNAL_AUTO_SYNC")}}async getExportHistory(n){return uv("JOURNAL_HISTORY_UI",async()=>(console.log(" Would load export history from database"),[]),async()=>[])}validateSystemIntegrity(){try{const n=Cn("JOURNAL_HISTORY_TRACKING");return console.log(" System integrity check passed"),!0}catch(n){return console.error(" System integrity check failed:",n),!1}}}const WA=hs.getInstance(),eO=k.lazy(()=>Vt(()=>import("./Receiving-BDQnAALQ.js"),__vite__mapDeps([0,1]))),tO=k.lazy(()=>Vt(()=>import("./WorkOrder-ffczMLKq.js"),__vite__mapDeps([2,1,3]))),nO=k.lazy(()=>Vt(()=>import("./Movements-C7otRo2Y.js"),__vite__mapDeps([4,3]))),Hl=1440*60*1e3;function Tl(t,n,r){const i=new Date,l=new Date(i.getFullYear(),i.getMonth(),i.getDate()).getTime();if(t==="today")return[l,i.getTime()];if(t==="last7")return[i.getTime()-7*Hl,i.getTime()];if(t==="month")return[new Date(i.getFullYear(),i.getMonth(),1).getTime(),i.getTime()];if(t==="custom"){const d=n?new Date(n+"T00:00:00").getTime():i.getTime()-7*Hl,h=r?new Date(r+"T23:59:59").getTime():i.getTime();return[Math.min(d,h),Math.max(d,h)]}const u=Math.floor(i.getMonth()/3)*3;return[new Date(i.getFullYear(),u,1).getTime(),i.getTime()]}function aO(t,n,r=7){const i=[],l=Math.max(1,Math.floor((n-t)/r));for(let u=0;u<r;u++){const d=t+u*l,h=u===r-1?n:t+(u+1)*l;i.push([d,h])}return i}function rO(t,n,r){if(t==="today")return"hourly";if(t==="last7")return"daily";if(t==="month")return"weekly";if(t==="quarter")return"monthly";const i=(r-n)/(1e3*60*60*24);return i<=7?"daily":i<=90?"weekly":"monthly"}function sO(t,n){const r=[],i=new Date(t),l=new Date(n),u=new Date(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours()),d=new Date(l.getFullYear(),l.getMonth(),l.getDate(),l.getHours()+1);let h=u.getTime();for(;h<d.getTime();){const m=h+36e5;r.push([h,Math.min(m,n)]),h=m}return r.slice(-7)}function iO(t,n){const r=[],i=new Date(t),l=new Date(n),u=new Date(i.getFullYear(),i.getMonth(),i.getDate()),d=new Date(l.getFullYear(),l.getMonth(),l.getDate()+1);let h=u.getTime();for(;h<d.getTime();){const m=h+864e5;r.push([h,Math.min(m,n)]),h=m}return r.slice(-7)}function oO(t,n){const r=[],i=new Date(n);let l=new Date(i.getFullYear(),i.getMonth(),i.getDate());for(;l.getDay()!==0;)l.setDate(l.getDate()-1);const u=l.getTime()+10080*60*1e3;r.unshift([l.getTime(),Math.min(u,n)]);for(let d=1;d<7;d++){const h=l.getTime()-d*7*24*60*60*1e3,m=l.getTime()-(d-1)*7*24*60*60*1e3;h>=t&&r.unshift([Math.max(h,t),m])}return r}function lO(t,n){const r=[],i=new Date(n);let l=new Date(i.getFullYear(),i.getMonth(),1);const u=new Date(l.getFullYear(),l.getMonth()+1,1);r.unshift([l.getTime(),Math.min(u.getTime(),n)]);for(let d=1;d<7;d++){const h=new Date(l.getFullYear(),l.getMonth()-d,1),m=new Date(l.getFullYear(),l.getMonth()-d+1,1);h.getTime()>=t&&r.unshift([Math.max(h.getTime(),t),m.getTime()])}return r}function Dv(t,n,r){switch(rO(t,n,r)){case"hourly":return sO(n,r);case"daily":return iO(n,r);case"weekly":return oO(n,r);case"monthly":return lO(n,r);default:return aO(n,r,7)}}function uO({children:t,onClose:n,onToggleAdd:r,addOpen:i}){const l=Jn.useRef(null);return k.useEffect(()=>{l.current?.focus()},[]),v.jsxs("div",{className:"fixed inset-0 z-50",role:"dialog","aria-modal":"true","aria-labelledby":"skus-title",children:[v.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:n}),v.jsx("div",{className:"absolute left-1/2 top-8 -translate-x-1/2 w-[min(100%,1100px)]",onClick:u=>u.stopPropagation(),children:v.jsxs("div",{ref:l,tabIndex:-1,className:"bg-white rounded-2xl shadow-2xl max-h-[85vh] flex flex-col",children:[v.jsxs("div",{className:"sticky top-0 z-10 bg-white rounded-t-2xl border-b px-4 py-3 flex items-center justify-between",children:[v.jsx("div",{className:"flex items-center gap-2",children:v.jsx(Di,{id:"skus-title",children:"SKUs"})}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(Qe,{size:"sm",variant:"outline",onClick:r,children:i?"Close form":"Add SKU"}),v.jsx(Qe,{size:"sm",onClick:n,"aria-label":"Close",children:""})]})]}),v.jsx("div",{className:"px-4 py-3 overflow-y-auto",children:t}),v.jsx("div",{className:"sticky bottom-0 z-10 bg-white rounded-b-2xl border-t px-4 py-3",children:v.jsxs("div",{className:"flex items-center justify-end gap-2",children:[v.jsx(Qe,{variant:"outline",onClick:n,children:"Cancel"}),v.jsx(Qe,{onClick:n,children:"Update"})]})})]})})]})}const mn=t=>`$ ${t.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,Nv=t=>t.toLocaleString("en-US"),cO=["Adhesives","Boxes","Cork/Rubber","Polyurethane Ester","Polyurethane Ether","Felt","Fibre Foam","Film and Foil"];function dO(t){if(!t||t.length===0)return null;const n=t.reduce((i,l)=>i+Math.max(0,l.remaining),0);return n<=0?null:t.reduce((i,l)=>i+Math.max(0,l.remaining)*l.cost,0)/n}function Ai(t){return t instanceof Date?t:t.includes("T")?new Date(t):new Date(t.replace(" ","T"))}function fO(){const t={category:220,sku:140,description:260,unit:80,type:100,onHand:110,avgCost:130,assetValue:130,minimum:110,status:140},[n,r]=k.useState(()=>{const _=localStorage.getItem("inventory-column-widths");return _?{...t,...JSON.parse(_)}:t}),[i,l]=k.useState(!1),[u,d]=k.useState(null),h=k.useCallback((_,w)=>{w.preventDefault(),l(!0),d(_)},[]),m=k.useCallback(_=>{if(!i||!u)return;const w=document.querySelector(".resizable-table");if(!w)return;const x=w.getBoundingClientRect(),j=_.clientX-x.left;let z=j;const M=Object.keys(n),N=M.indexOf(u);if(N>0){const G=M.slice(0,N).reduce((U,V)=>U+n[V],0);z=j-G}z=Math.max(z,60),r(G=>({...G,[u]:z}))},[i,u,n]),p=k.useCallback(()=>{i&&(l(!1),d(null),localStorage.setItem("inventory-column-widths",JSON.stringify(n)))},[i,n]);k.useEffect(()=>(i&&(document.addEventListener("mousemove",m),document.addEventListener("mouseup",p),document.body.style.cursor="col-resize",document.body.style.userSelect="none"),()=>{document.removeEventListener("mousemove",m),document.removeEventListener("mouseup",p),document.body.style.cursor="",document.body.style.userSelect=""}),[i,m,p]);const y=k.useCallback(()=>{r(t),localStorage.removeItem("inventory-column-widths")},[]);return{columnWidths:n,handleMouseDown:h,resetWidths:y,isResizing:i}}function hO({className:t}){return v.jsx("svg",{className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})}function mO({className:t}){return v.jsx("svg",{className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})})}function pO({className:t}){return v.jsx("svg",{className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}function gO({className:t}){return v.jsxs("svg",{className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[v.jsx("path",{d:"M12 2l9 4-9 4-9-4 9-4z",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),v.jsx("path",{d:"M3 10l9 4 9-4",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),v.jsx("path",{d:"M3 16l9 4 9-4",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}function vO({items:t,onChange:n,openForm:r,onToggleForm:i,hideLocalHeader:l,onRefresh:u}){const d={id:"",description:"",type:"RAW",productCategory:"Cork/Rubber",unit:"unit",min:0,onHand:0},[h,m]=k.useState(!1),p=r??h,y=i??(()=>m(te=>!te)),[_,w]=k.useState(null),[x,j]=k.useState(d),[z,M]=k.useState(null),[N,G]=k.useState({}),U=te=>{const ge={};return te.id.trim()||(ge.id="Code is required"),(te.min??0)<=0&&(ge.min="Minimum must be greater than 0"),ge};k.useEffect(()=>{G(U(x))},[x]);function V(){j(d),w(null),r||y()}async function Z(){const te=(x.id||"").trim().toUpperCase();if(!te)return;const ge=U({...x,id:te});if(G(ge),!(Object.keys(ge).length>0))try{if(_===null){const _e={id:te,description:x.description||"",type:x.type,productCategory:x.productCategory,unit:x.unit||"unit",active:!0,min:x.min||0};await Ol.createSKU(_e),u&&await u(),Ae.success(`SKU "${te}" created successfully!`)}else{const _e=t[_],rt={description:x.description||"",type:x.type,productCategory:x.productCategory,unit:x.unit||"unit",min:x.min||0};await Ol.updateSKU(_e.id,rt),u&&await u(),Ae.success(`SKU "${te}" updated successfully!`)}V()}catch(_e){console.error("Error saving SKU:",_e);let rt="Failed to save SKU";_e?.message?.includes("duplicate")?rt=`SKU "${te}" already exists`:_e?.message&&(rt=_e.message),Ae.error(rt)}}function X(te){j({...t[te]}),w(te),p||y(),G(U(t[te]))}function W(te){const ge=t[te];if((ge.onHand??0)>0){Ae.error(`Cannot delete SKU "${ge.id}" because it has ${ge.onHand} units in stock. Please reduce inventory to zero before deleting.`);return}M(te)}function Oe(){M(null)}async function Ye(te){const ge=t[te];if(ge)try{await Ol.deleteSKU(ge.id),u&&await u(),_===te&&V(),M(null),Ae.success(`SKU "${ge.id}" deleted successfully!`)}catch(_e){console.error("Error deleting SKU:",_e);let rt="Failed to delete SKU";_e?.message?.includes("foreign key")||_e?.message?.includes("referenced")?rt=`Cannot delete SKU "${ge.id}" - it has associated movements or inventory`:_e?.message&&(rt=_e.message),Ae.error(rt),M(null)}}return v.jsxs("div",{className:"space-y-4",children:[!l&&v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("div",{className:"text-sm text-slate-600",children:"Centralized SKU master data"}),v.jsx(Qe,{size:"sm",className:"rounded-xl",onClick:()=>y(),children:p?"Close":"Add SKU"})]}),p&&v.jsxs("div",{className:"rounded-2xl border border-dashed p-4 grid grid-cols-1 sm:grid-cols-12 gap-3",children:[_!==null&&v.jsxs("div",{className:"sm:col-span-12 text-xs text-slate-500",children:["Editing SKU: ",v.jsx("b",{children:t[_]?.id})]}),v.jsxs("div",{className:"sm:col-span-3",children:[v.jsx(tn,{htmlFor:"sku-code",className:"mb-1.5 block",children:"Code *"}),v.jsx(nn,{id:"sku-code",className:`w-full h-10 ${N.id?"border-red-500 focus:ring-red-500":""}`,value:x.id,onChange:te=>j({...x,id:te.target.value}),placeholder:"SKU-001","aria-invalid":!!N.id,"aria-describedby":N.id?"sku-code-error":void 0}),N.id&&v.jsx("div",{id:"sku-code-error",className:"text-sm text-red-600 mt-1",children:N.id})]}),v.jsxs("div",{className:"sm:col-span-5",children:[v.jsx(tn,{className:"mb-1.5 block",children:"Description"}),v.jsx(nn,{className:"w-full",value:x.description??"",onChange:te=>j({...x,description:te.target.value}),placeholder:"GAX-12"})]}),v.jsxs("div",{className:"sm:col-span-2",children:[v.jsx(tn,{className:"mb-1.5 block",children:"Type"}),v.jsxs(Mi,{value:x.type,onValueChange:te=>j({...x,type:te}),children:[v.jsx(zi,{className:"h-10 w-full rounded-xl",children:v.jsx(Ui,{})}),v.jsxs($i,{children:[v.jsx(zt,{value:"RAW",children:"Raw"}),v.jsx(zt,{value:"SELLABLE",children:"Sellable"})]})]})]}),v.jsxs("div",{className:"sm:col-span-2",children:[v.jsx(tn,{className:"mb-1.5 block",children:"Category"}),v.jsxs(Mi,{value:x.productCategory,onValueChange:te=>j({...x,productCategory:te}),children:[v.jsx(zi,{className:"h-10 w-full rounded-xl",children:v.jsx(Ui,{})}),v.jsx($i,{children:cO.map(te=>v.jsx(zt,{value:te,children:te},te))})]})]}),v.jsxs("div",{className:"sm:col-span-2",children:[v.jsx(tn,{className:"mb-1.5 block",children:"Unit"}),v.jsx(nn,{className:"w-full",value:x.unit??"",onChange:te=>j({...x,unit:te.target.value}),placeholder:"unit"})]}),v.jsxs("div",{className:"sm:col-span-2",children:[v.jsx(tn,{htmlFor:"sku-minimum",className:"mb-1.5 block",children:"Minimum *"}),v.jsx(nn,{id:"sku-minimum",className:`w-full h-10 ${N.min?"border-red-500 focus:ring-red-500":""}`,type:"number",min:1,value:x.min??0,onChange:te=>j({...x,min:Math.max(0,parseInt(te.target.value||"0",10))}),placeholder:"0","aria-invalid":!!N.min,"aria-describedby":N.min?"sku-minimum-error":void 0}),N.min&&v.jsx("div",{id:"sku-minimum-error",className:"text-sm text-red-600 mt-1",children:N.min})]}),v.jsxs("div",{className:"sm:col-span-12 flex gap-2 justify-end",children:[v.jsx(Qe,{className:"rounded-xl",onClick:Z,children:_===null?"Save":"Update"}),v.jsx(Qe,{variant:"outline",className:"rounded-xl",onClick:V,children:"Cancel"})]})]}),v.jsx("div",{className:"overflow-x-auto",children:v.jsxs(of,{className:"min-w-[900px]",children:[v.jsx(lf,{children:v.jsxs(ms,{children:[v.jsx(it,{children:"Code"}),v.jsx(it,{children:"Description"}),v.jsx(it,{children:"Type"}),v.jsx(it,{children:"Category"}),v.jsx(it,{children:"Unit"}),v.jsx(it,{children:"Minimum"}),v.jsx(it,{className:"text-right",children:"Actions"})]})}),v.jsx(uf,{children:t.map((te,ge)=>{const _e=(te.onHand??0)>0;return v.jsxs(ms,{children:[v.jsx(ot,{className:"font-medium",children:te.id}),v.jsx(ot,{children:te.description??"-"}),v.jsx(ot,{children:te.type==="RAW"?"Raw":"Sellable"}),v.jsx(ot,{children:te.productCategory}),v.jsx(ot,{children:te.unit??"-"}),v.jsx(ot,{children:te.min??0}),v.jsx(ot,{className:"text-right",children:z===ge?v.jsxs("div",{className:"flex justify-end gap-2",children:[v.jsx(Qe,{size:"sm",variant:"destructive",onClick:()=>Ye(ge),children:"Confirm"}),v.jsx(Qe,{size:"sm",variant:"outline",onClick:Oe,children:"Cancel"})]}):v.jsxs("div",{className:"flex justify-end gap-2",children:[v.jsx(Qe,{size:"sm",variant:"outline",onClick:()=>X(ge),children:"Edit"}),v.jsx(Qe,{size:"sm",variant:"outline",className:_e?"text-gray-400 cursor-not-allowed":"text-red-600",onClick:()=>W(ge),disabled:_e,title:_e?`Cannot delete: SKU has ${te.onHand} units in stock`:"Delete SKU",children:"Delete"})]})})]},te.id)})})]})})]})}function yO({items:t,onChange:n,onRefresh:r}){const i={id:"",name:"",email:"",phone:"",address:"",bank:""},[l,u]=k.useState(!1),[d,h]=k.useState(null),[m,p]=k.useState(i),[y,_]=k.useState(null),[w,x]=k.useState({}),j=Z=>{const X={};return(Z.name||"").trim()||(X.name="Name is required"),X};k.useEffect(()=>{x(j(m))},[m]);function z(){p(i),h(null),u(!1)}async function M(){const Z=(m.name||"").trim(),X=j({...m,name:Z});if(x(X),!(!Z||Object.keys(X).length>0))try{if(d===null){const W={name:Z,address:m.address?.trim()||void 0,email:m.email?.trim()||void 0,phone:m.phone?.trim()||void 0,bank:m.bank?.trim()||void 0};await Rl.createVendor(W),Ae.success(`Vendor "${Z}" created successfully!`)}else{const W=t[d],Oe={name:Z,address:m.address?.trim()||void 0,email:m.email?.trim()||void 0,phone:m.phone?.trim()||void 0,bank:m.bank?.trim()||void 0};await Rl.updateVendor(W.id,Oe),Ae.success(`Vendor "${Z}" updated successfully!`)}r&&await r(),z()}catch(W){console.error("Error saving vendor:",W);let Oe="Failed to save vendor";W?.message?.includes("duplicate")||W?.message?.includes("unique")?Oe=`Vendor "${Z}" already exists`:W?.message&&(Oe=W.message),Ae.error(Oe)}}function N(Z){p({...t[Z]}),h(Z),u(!0),x(j(t[Z]))}function G(Z){_(Z)}function U(){_(null)}async function V(Z){const X=t[Z];if(X)try{await Rl.deleteVendor(X.id),r&&await r(),d===Z&&z(),_(null),Ae.success(`Vendor "${X.name}" deleted successfully!`)}catch(W){console.error("Error deleting vendor:",W);let Oe="Failed to delete vendor";W?.message?.includes("foreign key")||W?.message?.includes("referenced")?Oe=`Cannot delete vendor "${X.name}" - it has associated transactions or data`:W?.message&&(Oe=W.message),Ae.error(Oe),_(null)}}return v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("div",{className:"text-sm text-slate-600",children:"Centralized vendor master data"}),v.jsx(Qe,{size:"sm",className:"rounded-xl",onClick:()=>{u(Z=>{const X=!Z;return X&&(p(i),x(j(i))),X})},children:l?"Close":"Add Vendor"})]}),l&&v.jsxs("div",{className:"rounded-2xl border border-dashed p-4 grid grid-cols-1 md:grid-cols-2 gap-3",children:[d!==null&&v.jsxs("div",{className:"md:col-span-2 text-xs text-slate-500",children:["Editing vendor: ",v.jsx("b",{children:t[d]?.name})]}),v.jsxs("div",{children:[v.jsx(tn,{htmlFor:"vendor-name",className:"mb-1.5 block",children:"Name *"}),v.jsx(nn,{id:"vendor-name",className:`w-full h-10 ${w.name?"border-red-500 focus:ring-red-500":""}`,value:m.name??"",onChange:Z=>p({...m,name:Z.target.value}),placeholder:"e.g., ABC Metals LLC","aria-invalid":!!w.name,"aria-describedby":w.name?"vendor-name-error":void 0}),w.name&&v.jsx("div",{id:"vendor-name-error",className:"text-sm text-red-600 mt-1",children:w.name})]}),v.jsxs("div",{children:[v.jsx(tn,{htmlFor:"vendor-email",className:"mb-1.5 block",children:"Email"}),v.jsx(nn,{id:"vendor-email",className:"w-full h-10",value:m.email??"",onChange:Z=>p({...m,email:Z.target.value}),placeholder:"ap@vendor.com"})]}),v.jsxs("div",{children:[v.jsx(tn,{htmlFor:"vendor-phone",className:"mb-1.5 block",children:"Phone"}),v.jsx(nn,{id:"vendor-phone",className:"w-full h-10",value:m.phone??"",onChange:Z=>p({...m,phone:Z.target.value}),placeholder:"+1 (555) 000-0000"})]}),v.jsxs("div",{className:"md:col-span-2",children:[v.jsx(tn,{htmlFor:"vendor-address",className:"mb-1.5 block",children:"Address"}),v.jsx(nn,{id:"vendor-address",className:"w-full h-10",value:m.address??"",onChange:Z=>p({...m,address:Z.target.value}),placeholder:"Street, City, State"})]}),v.jsxs("div",{className:"md:col-span-2",children:[v.jsx(tn,{htmlFor:"vendor-bank",className:"mb-1.5 block",children:"Bank account"}),v.jsx(nn,{id:"vendor-bank",className:"w-full h-10",value:m.bank??"",onChange:Z=>p({...m,bank:Z.target.value}),placeholder:"Bank  ****-1234"})]}),v.jsxs("div",{className:"md:col-span-2 flex gap-2 justify-end",children:[v.jsx(Qe,{className:"rounded-xl",onClick:M,children:d===null?"Save":"Update"}),v.jsx(Qe,{variant:"outline",className:"rounded-xl",onClick:z,children:"Cancel"})]})]}),v.jsxs(of,{children:[v.jsx(lf,{children:v.jsxs(ms,{children:[v.jsx(it,{children:"Name"}),v.jsx(it,{children:"Address"}),v.jsx(it,{children:"Bank"}),v.jsx(it,{children:"Email"}),v.jsx(it,{children:"Phone"}),v.jsx(it,{className:"text-right",children:"Actions"})]})}),v.jsx(uf,{children:t.map((Z,X)=>v.jsxs(ms,{children:[v.jsx(ot,{className:"font-medium",children:Z.name}),v.jsx(ot,{children:Z.address??"-"}),v.jsx(ot,{children:Z.bank??"-"}),v.jsx(ot,{children:Z.email??"-"}),v.jsx(ot,{children:Z.phone??"-"}),v.jsx(ot,{className:"text-right",children:y===X?v.jsxs("div",{className:"flex justify-end gap-2",children:[v.jsx(Qe,{size:"sm",variant:"destructive",onClick:()=>V(X),children:"Confirm"}),v.jsx(Qe,{size:"sm",variant:"outline",onClick:U,children:"Cancel"})]}):v.jsxs("div",{className:"flex justify-end gap-2",children:[v.jsx(Qe,{size:"sm",variant:"outline",onClick:()=>N(X),children:"Edit"}),v.jsx(Qe,{size:"sm",variant:"outline",className:"text-red-600",onClick:()=>G(X),children:"Delete"})]})})]},Z.id||String(X)))})]})]})}function bO(){const{user:t,signOut:n}=Ll(),{columnWidths:r,handleMouseDown:i,resetWidths:l}=fO(),[u,d]=k.useState("dashboard"),[h,m]=k.useState("last7"),[p,y]=k.useState(""),[_,w]=k.useState(""),[x,j]=k.useState([]),[z,M]=k.useState([]),[N,G]=k.useState([]),[U,V]=k.useState({}),[Z,X]=k.useState({}),[W,Oe]=k.useState([]),[Ye,te]=k.useState(!1),ge=k.useCallback(()=>{if(u!=="movements"){console.log(" Skipping movements refresh - not on movements tab");return}ue.current&&clearTimeout(ue.current),ue.current=setTimeout(()=>{console.log(" Smart refresh: Loading movements"),(async()=>{try{te(!0);const[K,F]=Tl(h,p,_),{movements:re}=await iv({dateFrom:new Date(K),dateTo:new Date(F),limit:1e3}),ce=(re||[]).map(Q=>({movementId:ql(String(Q.id)),datetime:Q.date instanceof Date?Q.date:new Date(Q.date),type:Q.type,skuOrName:Q.skuDescription||Q.productName||Q.skuId||"",skuId:Q.skuId||"",qty:Q.quantity,value:Q.totalCost||0,ref:Q.reference||""}));Oe(ce),console.log(` Smart refresh completed: ${ce.length} movements loaded`)}catch(K){console.error("Smart refresh error:",K)}finally{te(!1)}})()},2e3)},[u,h,p,_]),_e=k.useCallback($=>{Oe(K=>[$,...K]),bt.current&&clearTimeout(bt.current),bt.current=setTimeout(()=>{console.log(" Consolidating movements after delayed period"),ge()},5e3)},[ge]),rt=k.useCallback(async()=>{try{te(!0);const[$,K]=Tl(h,p,_),{movements:F}=await iv({dateFrom:new Date($),dateTo:new Date(K),limit:5e3}),re=(F||[]).map(ce=>({movementId:ql(String(ce.id)),datetime:ce.date instanceof Date?ce.date:new Date(ce.date),type:ce.type,skuOrName:ce.skuDescription,skuId:ce.skuId,qty:ce.quantity,value:ce.totalCost,ref:ce.reference||"",notes:ce.notes}));Oe(re),Ae.success(`Refreshed ${re.length} movements`)}catch($){Ae.error("Failed to load movements"),console.error("loadMovements error",$)}finally{te(!1)}},[h,p,_]),Ut=k.useCallback(async()=>{try{const $=await Ol.getInventorySummary(),K=$||[];G(K),M(K);const F={};for(const re of $||[])typeof re.currentAvgCost=="number"&&(F[re.id]=re.currentAvgCost);X(F)}catch($){console.error("loadInventorySummary error",$)}},[]),gt=k.useCallback(async()=>{try{const K=(await Rl.getAllVendors()||[]).map(F=>({id:F.id,name:F.name,address:F.address||void 0,email:F.email||void 0,phone:F.phone||void 0,bank:F.bank_info?.display||void 0}));j(K)}catch($){console.error("loadVendors error",$)}},[]),[L,Y]=k.useState(!1),[le,Ue]=k.useState(!1),[E,P]=k.useState(!1),[ee,J]=k.useState(!1),[se,Ce]=k.useState("default"),ue=k.useRef(null),bt=k.useRef(null);k.useEffect(()=>()=>{ue.current&&clearTimeout(ue.current),bt.current&&clearTimeout(bt.current)},[]),k.useEffect(()=>{const $=K=>{K.key==="Escape"&&(L&&Y(!1),le&&Ue(!1))};return L||le?(document.addEventListener("keydown",$),document.body.style.overflow="hidden"):document.body.style.overflow="unset",()=>{document.removeEventListener("keydown",$),document.body.style.overflow="unset"}},[L,le]),k.useEffect(()=>{rt(),Ut(),gt(),us.syncFromSupabase().catch($=>{console.warn("Initial sync from Supabase failed:",$)})},[rt,Ut,gt]),k.useEffect(()=>{u==="movements"&&ge(),u==="dashboard"&&Ut()},[u,ge,Ut]),k.useEffect(()=>{ge()},[h,p,_,ge]);const Ze=$=>{const K=Z[$];return typeof K=="number"?K:dO(U[$])},ct=k.useMemo(()=>{const[$,K]=Tl(h,p,_),F=Dv(h,$,K),re=N.reduce((Me,Be)=>{const Ee=Math.max(0,Be.onHand??0),be=Ze(Be.id)??0;return Me.qty+=Ee,Me.value+=Ee*be,Me},{qty:0,value:0}),ce=W.map(Me=>{const Be=+Ai(Me.datetime),Ee=Math.abs(Me.value||0);let be=0;return Me.type==="RECEIVE"&&(be=Ee),Me.type==="ISSUE"&&(be=-Ee),{ts:Be,delta:be}}).filter(Me=>Me.delta!==0),Q=re.value,we=F.map((Me,Be)=>{if(Be===F.length-1)return Q;let Ee=0;for(let be=Be+1;be<F.length;be++){const[qe,sa]=F[be],As=ce.filter(mr=>mr.ts>=qe&&mr.ts<sa).reduce((mr,au)=>mr+au.delta,0);Ee+=As}return Q-Ee}),Ne=we.length>0?we[0]:Q,pe=F.map(([Me,Be])=>W.filter(Ee=>Ee.type==="PRODUCE").reduce((Ee,be)=>{const qe=+Ai(be.datetime);return qe>Me&&qe<=Be?Ee+(be.value||0):Ee},0)),Le=pe.reduce((Me,Be)=>Me+Be,0),Pe=F.map(([Me,Be])=>W.filter(Ee=>Ee.type==="WASTE").reduce((Ee,be)=>{const qe=+Ai(be.datetime);return qe>Me&&qe<=Be?Ee+(be.value||0):Ee},0)),Re=Pe.reduce((Me,Be)=>Me+Be,0),Ft=Q,_t=Math.max(0,(Ne+Ft)/2),Mn=_t>0?Le/_t:0,Ua=F.map((Me,Be)=>{const Ee=we[Be],be=Be>0?we[Be-1]:we[0],qe=Math.max(0,(be+Ee)/2);return qe>0?pe[Be]/qe:0}),aa=Math.max(1,(K-$)/Hl),ra=F.map(([Me,Be])=>W.filter(Ee=>Ee.type==="ISSUE"||Ee.type==="WASTE").reduce((Ee,be)=>{const qe=+Ai(be.datetime);return qe>Me&&qe<=Be?Ee+(be.value||0):Ee},0)),$a=ra.reduce((Me,Be)=>Me+Be,0)/aa,$t=$a>0?Q/$a:1/0;let gn=0;const js=F.map(([,Me],Be)=>{gn+=ra[Be];const Ee=Math.max((Me-$)/Hl,1e-6),be=gn/Ee,qe=we[Be];return be>0?qe/be:1/0}).map(Me=>Number.isFinite(Me)?Me:0);return{inv:re,inventorySeries:we,turnoverVal:Mn,turnoverSeries:Ua,cogsTotal:Le,shrinkageTotal:Re,shrinkageSeries:Pe,doiVal:$t,doiSeries:js,dailyCOGS:$a,invStart:Ne,invEnd:Ft,avgInvPeriod:_t,daysInPeriod:aa,nowInvValue:Q}},[N,U,W,h,p,_]),{inventoryValues:Es,cogsValues:fr,periodLabels:za}=k.useMemo(()=>{const[$,K]=Tl(h,p,_),F=Dv(h,$,K),re=ct.inventorySeries,ce=F.map(([we,Ne])=>W.filter(pe=>pe.type==="PRODUCE").reduce((pe,Le)=>{const Pe=+Ai(Le.datetime);return Pe>we&&Pe<=Ne?pe+(Le.value||0):pe},0)),Q=F.map(([we,Ne])=>{const pe=new Date(we);return h==="today"||h==="last7days"?`${pe.getMonth()+1}/${pe.getDate()}`:h==="month"||h==="quarter"?`${pe.getMonth()+1}/${pe.getDate()}`:`${pe.getMonth()+1}/${pe.getDate()}`});return{inventoryValues:re,cogsValues:ce,periodLabels:Q}},[ct.inventorySeries,W,h,p,_]),hr=async($=!1)=>{const K=$?N.filter(Pe=>(Pe.onHand||0)<(Pe.min||0)):N;if(K.length===0){Ae.info($?"No red flags found":"No data to export");return}const F=K.map(Pe=>{const Re=Pe.onHand||0,Ft=Pe.min||0,_t=Ze(Pe.id),Mn=_t?Re*_t:0;return{"SKU Code":Pe.id,Description:Pe.description||"",Type:Pe.type==="RAW"?"Raw":"Sellable",Category:Pe.productCategory,Unit:Pe.unit||"","On Hand":Re,Minimum:Ft,Status:Re>=Ft?"OK":"Below minimum","Avg. Cost (FIFO)":_t?_t.toFixed(2):0,"Asset Value":_t?Mn.toFixed(2):0}}),re=await Vt(()=>import("./xlsx-DGuHH-KN.js"),[]),ce=re.utils.book_new(),Q=re.utils.json_to_sheet(F),we=[{wch:12},{wch:30},{wch:10},{wch:15},{wch:8},{wch:10},{wch:10},{wch:15},{wch:15},{wch:15}];Q["!cols"]=we;const Ne=$?"Red Flags Inventory":"Full Inventory";re.utils.book_append_sheet(ce,Q,Ne);const pe=new Date().toISOString().split("T")[0],Le=$?`inventory-red-flags-${pe}.xlsx`:`inventory-full-${pe}.xlsx`;re.writeFile(ce,Le),Ae.success(`Exported ${K.length} record(s) to ${Le}`)},Ts=async($,K)=>{if($.length===0){Ae.info("No movements to export");return}const F=$.map(([Re,Ft])=>{const _t=Re.datetime instanceof Date?Re.datetime:new Date(Re.datetime),Mn=Re.type===gs.RECEIVE?(Re.qty>0,Re.qty):Math.abs(Re.qty||0),Ua=Re.type===gs.RECEIVE?Re.value?Re.value.toFixed(2):0:Re.value?Math.abs(Re.value).toFixed(2):0;return{Date:_t.toLocaleDateString("en-US"),Time:_t.toLocaleTimeString("en-US"),Type:Re.type,"SKU/Product":Re.skuOrName||"-",Quantity:Mn,Value:Ua,Reference:Re.ref||"-"}}),re=await Vt(()=>import("./xlsx-DGuHH-KN.js"),[]),ce=re.utils.book_new(),Q=re.utils.json_to_sheet(F),we=[{wch:12},{wch:10},{wch:10},{wch:25},{wch:12},{wch:12},{wch:20}];Q["!cols"]=we,re.utils.book_append_sheet(ce,Q,"Movements Export");const pe=new Date().toISOString().split("T")[0],Pe=`movements-export${Object.values(K).some(Re=>Re)?"-filtered":""}-${pe}.xlsx`;re.writeFile(ce,Pe),Ae.success(`Exported ${$.length} movement record(s) to ${Pe}`)},Wl=$=>{const K=$[0]||$;if(K.type==="RECEIVE"||K.ref&&K.ref.includes("WO-"))return"RAW";const re=(K.skuOrName||"").toLowerCase(),ce=["fg-","finished","final","complete","assembled","gasket","seal","product","part"],Q=["raw","material","steel","rubber","metal","sheet","compound","polymer","chemical","ingredient"];return ce.some(we=>re.includes(we))?"FINISHED":(Q.some(we=>re.includes(we)),"RAW")},eu=()=>us.getExportedMovements(),an=($,K)=>{us.markMovementsAsExported($,K),us.syncToSupabase().catch(F=>{console.warn("Background sync to Supabase failed:",F)})},tu=async()=>{await us.clearAllHistory()},Wi=async()=>{try{const $=await us.fullSync();$.success?Ae.success(`Sync completed: ${$.uploaded} uploaded, ${$.downloaded} downloaded`):Ae.error("Sync failed: "+$.errors.join(", "))}catch($){console.error("Manual sync failed:",$),Ae.error("Sync failed: "+($ instanceof Error?$.message:"Unknown error"))}},eo=async($,K)=>{try{const F=$.filter(([me])=>["RECEIVE","PRODUCE","WASTE","ADJUSTMENT"].includes(me.type));if(F.length===0){Ae.info("No applicable movements for journal export (RECEIVE, COGS, WASTE, ADJUSTMENT only)");return}const re=Cn("JOURNAL_HISTORY_TRACKING");console.log(" Journal export starting - Tracking enabled:",re);const ce=Ll(),Q=await WA.exportJournal(F,{from:new Date(rangeStart),to:new Date(rangeEnd)},ce?.user?.email||"user");if(!Q.success){Ae.error(`Export failed: ${Q.error}`);return}Q.trackingEnabled&&Q.journalNumber?(console.log(" Journal Number:",Q.journalNumber),console.log(" Export ID:",Q.exportId),console.log(" Metadata:",Q.metadata),Ae.success(`Journal exported successfully! Journal #${Q.journalNumber}`)):Ae.success("Journal exported successfully! (Legacy mode)");const we=Q.journalNumber||`J-${Date.now()}`,Ne=new Date().toLocaleDateString("en-US"),pe=[];F.forEach(([me])=>{const $a=Wl(me),$t=Math.abs(me.value||0),gn=$a==="RAW"?"Inventory - Raw Materials":"Inventory - Finished Goods";switch(me.type){case"RECEIVE":pe.push({"Journal No.":we,"Journal Date":Ne,"Account Name":gn,Debits:$t.toFixed(2),Credits:"",Reference:`${me.ref} - ${me.skuOrName}`,"Movement ID":me.movementId}),pe.push({"Journal No.":we,"Journal Date":Ne,"Account Name":"Accounts Payable",Debits:"",Credits:$t.toFixed(2),Reference:`${me.ref} - ${me.skuOrName}`,"Movement ID":me.movementId});break;case"PRODUCE":pe.push({"Journal No.":we,"Journal Date":Ne,"Account Name":"Cost of Goods Sold (COGS)",Debits:$t.toFixed(2),Credits:"",Reference:`${me.ref} - ${me.skuOrName}`,"Movement ID":me.movementId}),pe.push({"Journal No.":we,"Journal Date":Ne,"Account Name":gn,Debits:"",Credits:$t.toFixed(2),Reference:`${me.ref} - ${me.skuOrName}`,"Movement ID":me.movementId});break;case"WASTE":pe.push({"Journal No.":we,"Journal Date":Ne,"Account Name":"Shrinkage Expense",Debits:$t.toFixed(2),Credits:"",Reference:`${me.ref} - ${me.skuOrName}`,"Movement ID":me.movementId}),pe.push({"Journal No.":we,"Journal Date":Ne,"Account Name":gn,Debits:"",Credits:$t.toFixed(2),Reference:`${me.ref} - ${me.skuOrName}`,"Movement ID":me.movementId});break;case"ADJUSTMENT":(me.value||0)>0?(pe.push({"Journal No.":we,"Journal Date":Ne,"Account Name":gn,Debits:$t.toFixed(2),Credits:"",Reference:`${me.ref} - ${me.skuOrName} (Inventory Adjustment +)`,"Movement ID":me.movementId}),pe.push({"Journal No.":we,"Journal Date":Ne,"Account Name":"Accounts Payable",Debits:"",Credits:$t.toFixed(2),Reference:`${me.ref} - ${me.skuOrName} (Inventory Adjustment +)`,"Movement ID":me.movementId})):(pe.push({"Journal No.":we,"Journal Date":Ne,"Account Name":"Accounts Payable",Debits:$t.toFixed(2),Credits:"",Reference:`${me.ref} - ${me.skuOrName} (Inventory Adjustment -)`,"Movement ID":me.movementId}),pe.push({"Journal No.":we,"Journal Date":Ne,"Account Name":gn,Debits:"",Credits:$t.toFixed(2),Reference:`${me.ref} - ${me.skuOrName} (Inventory Adjustment -)`,"Movement ID":me.movementId}));break}});const Le=await Vt(()=>import("./xlsx-DGuHH-KN.js"),[]),Pe=Le.utils.book_new(),Re=Le.utils.json_to_sheet(pe),Ft=[{wch:15},{wch:12},{wch:30},{wch:15},{wch:15},{wch:40},{wch:12}];Re["!cols"]=Ft,Le.utils.book_append_sheet(Pe,Re,"Journal Entries");const Mn=new Date().toISOString().split("T")[0],aa=`journal-entries${Object.values(K).some(me=>me)?"-filtered":""}-${Mn}.xlsx`;Le.writeFile(Pe,aa);const ra=F.map(([me])=>me.movementId);an(ra,we),Q.trackingEnabled&&Q.journalNumber?Ae.success(`Journal exported successfully! ${pe.length} entries (${F.length} movements)`,{description:`Journal #${Q.journalNumber} - Enhanced tracking enabled`}):Ae.success(`Exported ${pe.length} journal entries (${F.length} movements) to ${aa}`,{description:`Journal No: ${we}`})}catch(F){console.error("Export journal error:",F),Ae.error(`Export failed: ${F instanceof Error?F.message:"Unknown error"}`)}},na=k.useMemo(()=>N.map($=>({...$,categoryName:$.productCategory||"Uncategorized"})),[N]),nu=k.useMemo(()=>se==="default"?na:[...na].sort((K,F)=>{if(se==="redFlags"){const re=K.onHand??0,ce=K.min??0,Q=F.onHand??0,we=F.min??0,Ne=re<ce,pe=Q<we;return Ne&&!pe?-1:!Ne&&pe?1:Q-re}if(se==="quantity")return(F.onHand??0)-(K.onHand??0);if(se==="category"){const re=K.categoryName.localeCompare(F.categoryName);return re!==0?re:(F.onHand??0)-(K.onHand??0)}return 0}),[na,se]),to=({ok:$})=>v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("span",{className:`inline-block h-2.5 w-2.5 rounded-full ${$?"bg-emerald-500":"bg-red-500"}`}),v.jsx("span",{className:`text-xs ${$?"text-emerald-700":"text-red-700"}`,children:$?"OK":"Below minimum"})]});return v.jsxs("div",{className:"min-h-screen w-full bg-white text-slate-900",children:[v.jsx("header",{className:"sticky top-0 z-30 bg-white/80 backdrop-blur border-b",children:v.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-3 flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("div",{className:"h-9 w-9 rounded-xl bg-slate-900 text-white grid place-items-center",children:"PG"}),v.jsxs("div",{children:[v.jsx("p",{className:"text-sm text-slate-500 leading-none",children:"Premier Gaskets"}),v.jsx("h1",{className:"text-base font-semibold",children:"Inventory System"})]})]}),v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"hidden md:flex items-center gap-2",children:v.jsx(NS,{variant:"secondary",className:"rounded-full",children:"MVP"})}),v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"text-sm text-slate-600",children:t?.email}),v.jsx(Qe,{variant:"outline",size:"sm",onClick:n,className:"rounded-xl",children:"Sign Out"})]})]})]})}),v.jsx("div",{className:"sticky top-[56px] z-20 bg-white/90 backdrop-blur border-b",children:v.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-2 flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center gap-2 text-slate-600 text-sm",children:[v.jsx("span",{className:"inline-flex h-5 w-5 items-center justify-center rounded-md bg-slate-900 text-white text-[10px]",children:"QM"}),v.jsx("span",{children:"Quick menu"})]}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx(Qe,{size:"sm",className:"rounded-xl",onClick:()=>Y(!0),children:"Open Vendors"}),v.jsx(Qe,{size:"sm",variant:"outline",className:"rounded-xl",onClick:()=>Ue(!0),children:"Open SKUs"})]})]})}),v.jsx("main",{className:"max-w-6xl mx-auto px-4 py-6",children:v.jsxs(MS,{value:u,onValueChange:d,children:[v.jsxs(zS,{className:"grid grid-cols-4 w-full rounded-2xl",children:[v.jsx(pl,{value:"dashboard",children:"Dashboard"}),v.jsxs(pl,{value:"receiving",className:"flex items-center justify-center gap-2",children:[v.jsx(hO,{className:"h-4 w-4"}),"Receiving"]}),v.jsxs(pl,{value:"workorder",className:"flex items-center justify-center gap-2",children:[v.jsx(mO,{className:"h-4 w-4"}),"Work Order"]}),v.jsxs(pl,{value:"movements",className:"flex items-center justify-center gap-2",children:[v.jsx(pO,{className:"h-4 w-4"}),"Movements"]})]}),v.jsxs(US,{value:"dashboard",className:"mt-6 space-y-4",children:[v.jsxs(Ci,{className:"rounded-2xl border-dashed",children:[v.jsx(Al,{className:"py-4",children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx(Di,{className:"text-lg",children:"Dashboard"}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsxs(Mi,{value:h,onValueChange:$=>m($),children:[v.jsx(zi,{className:"h-8 w-[200px] rounded-xl",children:v.jsx(Ui,{placeholder:"Period"})}),v.jsxs($i,{children:[v.jsx(zt,{value:"today",children:"Today"}),v.jsx(zt,{value:"last7",children:"Last 7 days"}),v.jsx(zt,{value:"month",children:"Current month"}),v.jsx(zt,{value:"quarter",children:"Current quarter"}),v.jsx(zt,{value:"custom",children:"Custom range"})]})]}),h==="custom"&&v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(nn,{type:"date",value:p,onChange:$=>y($.target.value),className:"h-8 rounded-xl"}),v.jsx("span",{className:"text-slate-500",children:"to"}),v.jsx(nn,{type:"date",value:_,onChange:$=>w($.target.value),className:"h-8 rounded-xl"})]})]})]})}),v.jsx(Ni,{children:v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 max-w-4xl mx-auto",children:[v.jsx(kd,{title:"Total Inventory Value",primary:mn(ct.inv.value),secondary:"Asset value at current FIFO cost",series:Es,chartType:"line",valueFormatter:mn,labels:za,infoContent:v.jsxs("div",{children:[v.jsx("p",{children:"Total asset value of inventory at current average cost (FIFO)."}),v.jsxs("ul",{className:"list-disc pl-4 mt-1 space-y-1",children:[v.jsxs("li",{children:[v.jsx("strong",{children:"Calculation"}),": (on-hand  avg. cost per SKU)."]}),v.jsxs("li",{children:[v.jsx("strong",{children:"Cost Method"}),": FIFO (First In, First Out) layers."]}),v.jsxs("li",{children:[v.jsx("strong",{children:"Quantity"}),": ",ct.inv.qty.toLocaleString("en-US")," units total."]})]})]})}),v.jsx(kd,{title:"Cost of Goods Sold (COGS)",primary:mn(ct.cogsTotal),secondary:"Total cost of goods produced in period",series:fr,chartType:"bars",valueFormatter:mn,labels:za,infoContent:v.jsxs("div",{children:[v.jsx("p",{children:"Total cost of goods sold (produced) in the selected period."}),v.jsxs("ul",{className:"list-disc pl-4 mt-1 space-y-1",children:[v.jsxs("li",{children:[v.jsx("strong",{children:"COGS"}),": ",mn(ct.cogsTotal)," from COGS movements"]}),v.jsxs("li",{children:[v.jsx("strong",{children:"Inventory (start/end)"}),": ",mn(ct.invStart),"  ",mn(ct.invEnd)]}),v.jsxs("li",{children:[v.jsx("strong",{children:"Average Inventory"}),": ",mn(ct.avgInvPeriod)]}),v.jsxs("li",{children:[v.jsx("strong",{children:"Turnover Ratio"}),": ",Number.isFinite(ct.turnoverVal)?ct.turnoverVal.toFixed(2):"","x"]})]})]})}),v.jsx(kd,{title:"Shrinkage",primary:mn(Math.abs(ct.shrinkageTotal)),secondary:"Total value of waste in period",series:ct.shrinkageSeries.map($=>Math.abs($)),chartType:"bars",valueFormatter:mn,labels:za,infoContent:v.jsxs("div",{children:[v.jsx("p",{children:"Total value of inventory lost to waste, damage, or other forms of shrinkage in the selected period."}),v.jsxs("ul",{className:"list-disc pl-4 mt-1 space-y-1",children:[v.jsxs("li",{children:[v.jsx("strong",{children:"Calculation"}),": Sum of the value of all 'WASTE' type movements."]}),v.jsxs("li",{children:[v.jsx("strong",{children:"Impact"}),": Directly reduces inventory value and profitability."]})]})]})})]})})]}),v.jsxs(Ci,{className:"rounded-2xl border-dashed",children:[v.jsx(Al,{className:"py-4",children:v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(gO,{className:"h-5 w-5 text-slate-500"}),v.jsx(Di,{className:"text-lg",children:"Inventory by SKU"})]})}),v.jsxs(Ni,{children:[v.jsxs("div",{className:"flex items-center justify-between gap-2 mb-3",children:[v.jsx("div",{className:"text-xs text-slate-500",children:"Traffic light: green = above minimum  red = below minimum"}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsxs(Mi,{value:se,onValueChange:$=>Ce($),children:[v.jsx(zi,{className:"h-8 w-[200px] rounded-xl",children:v.jsx(Ui,{placeholder:"Sort by..."})}),v.jsxs($i,{children:[v.jsx(zt,{value:"default",children:"Default"}),v.jsx(zt,{value:"redFlags",children:" Red Flags First"}),v.jsx(zt,{value:"quantity",children:" By Quantity"}),v.jsx(zt,{value:"category",children:" By Category"})]})]}),v.jsx(Qe,{variant:"outline",size:"sm",onClick:l,title:"Reset column widths to default",children:"Reset columns"}),v.jsx(Qe,{variant:"outline",size:"sm",onClick:()=>hr(!1),children:"Export all (Excel)"}),v.jsx(Qe,{size:"sm",onClick:()=>hr(!0),children:"Export red flags (Excel)"}),v.jsxs(Mi,{onValueChange:$=>{if($==="ALL")return G(z);G(z.filter(K=>K.type===$))},children:[v.jsx(zi,{className:"h-8 w-[200px] rounded-xl",children:v.jsx(Ui,{placeholder:"Filter by type"})}),v.jsxs($i,{children:[v.jsx(zt,{value:"ALL",children:"All"}),v.jsx(zt,{value:"RAW",children:"Raw"}),v.jsx(zt,{value:"SELLABLE",children:"Sellable"})]})]})]})]}),v.jsx("div",{className:"overflow-x-auto",children:v.jsxs(of,{className:"min-w-[1100px] table-fixed resizable-table",style:{width:Object.values(r).reduce(($,K)=>$+K,0)},children:[v.jsx(lf,{children:v.jsxs(ms,{children:[v.jsxs(it,{className:"whitespace-nowrap relative",style:{width:r.category,minWidth:60},children:["Category",v.jsx("div",{className:"absolute top-0 right-0 w-1 h-full cursor-col-resize bg-transparent hover:bg-blue-300 opacity-0 hover:opacity-50",onMouseDown:$=>i("category",$)})]}),v.jsxs(it,{className:"whitespace-nowrap relative",style:{width:r.sku,minWidth:60},children:["SKU",v.jsx("div",{className:"absolute top-0 right-0 w-1 h-full cursor-col-resize bg-transparent hover:bg-blue-300 opacity-0 hover:opacity-50",onMouseDown:$=>i("sku",$)})]}),v.jsxs(it,{className:"whitespace-nowrap relative",style:{width:r.description,minWidth:60},children:["Description",v.jsx("div",{className:"absolute top-0 right-0 w-1 h-full cursor-col-resize bg-transparent hover:bg-blue-300 opacity-0 hover:opacity-50",onMouseDown:$=>i("description",$)})]}),v.jsxs(it,{className:"whitespace-nowrap relative",style:{width:r.status,minWidth:60},children:["Status",v.jsx("div",{className:"absolute top-0 right-0 w-1 h-full cursor-col-resize bg-transparent hover:bg-blue-300 opacity-0 hover:opacity-50",onMouseDown:$=>i("status",$)})]}),v.jsxs(it,{className:"whitespace-nowrap relative",style:{width:r.unit,minWidth:60},children:["U/M",v.jsx("div",{className:"absolute top-0 right-0 w-1 h-full cursor-col-resize bg-transparent hover:bg-blue-300 opacity-0 hover:opacity-50",onMouseDown:$=>i("unit",$)})]}),v.jsxs(it,{className:"whitespace-nowrap relative",style:{width:r.type,minWidth:60},children:["Type",v.jsx("div",{className:"absolute top-0 right-0 w-1 h-full cursor-col-resize bg-transparent hover:bg-blue-300 opacity-0 hover:opacity-50",onMouseDown:$=>i("type",$)})]}),v.jsxs(it,{className:"text-right whitespace-nowrap relative",style:{width:r.onHand,minWidth:60},children:["On hand",v.jsx("div",{className:"absolute top-0 right-0 w-1 h-full cursor-col-resize bg-transparent hover:bg-blue-300 opacity-0 hover:opacity-50",onMouseDown:$=>i("onHand",$)})]}),v.jsxs(it,{className:"text-right whitespace-nowrap relative",style:{width:r.avgCost,minWidth:60},children:["Avg. cost (FIFO)",v.jsx("div",{className:"absolute top-0 right-0 w-1 h-full cursor-col-resize bg-transparent hover:bg-blue-300 opacity-0 hover:opacity-50",onMouseDown:$=>i("avgCost",$)})]}),v.jsxs(it,{className:"text-right whitespace-nowrap relative",style:{width:r.assetValue,minWidth:60},children:["Asset value",v.jsx("div",{className:"absolute top-0 right-0 w-1 h-full cursor-col-resize bg-transparent hover:bg-blue-300 opacity-0 hover:opacity-50",onMouseDown:$=>i("assetValue",$)})]}),v.jsx(it,{className:"text-right whitespace-nowrap",style:{width:r.minimum,minWidth:60},children:"Minimum"})]})}),v.jsx(uf,{children:nu.map(($,K)=>{const F=$.onHand??0,re=$.min??0,ce=F>=re,Q=Ze($.id);return v.jsxs(ms,{children:[v.jsx(ot,{className:"font-medium",style:{width:r.category,minWidth:60},children:$.categoryName}),v.jsx(ot,{className:"font-medium",style:{width:r.sku,minWidth:60},children:$.id}),v.jsx(ot,{style:{width:r.description,minWidth:60},children:$.description??"-"}),v.jsx(ot,{style:{width:r.status,minWidth:60},children:v.jsx(to,{ok:ce})}),v.jsx(ot,{style:{width:r.unit,minWidth:60},children:$.unit??"-"}),v.jsx(ot,{style:{width:r.type,minWidth:60},children:$.type==="RAW"?"Raw":"Sellable"}),v.jsx(ot,{className:"text-right tabular-nums",style:{width:r.onHand,minWidth:60},children:Nv(F)}),v.jsx(ot,{className:"text-right tabular-nums",style:{width:r.avgCost,minWidth:60},children:Q!=null?mn(Q):""}),v.jsx(ot,{className:"text-right tabular-nums",style:{width:r.assetValue,minWidth:60},children:Q!=null?mn(F*Q):""}),v.jsx(ot,{className:"text-right tabular-nums",style:{width:r.minimum,minWidth:60},children:Nv(re)})]},`${$.id}-${K}`)})})]})})]})]})]}),v.jsx("div",{className:`mt-6 ${u==="receiving"?"":"hidden"}`,children:v.jsx(k.Suspense,{fallback:v.jsx("div",{children:"Loading..."}),children:v.jsx(eO,{vendors:x,skus:N,layersBySku:U,movements:W,onUpdateLayers:($,K)=>{V(F=>({...F,[$]:K}))},onUpdateSKU:($,K)=>{G(F=>{const{productCategory:re,...ce}=K||{};return F.map(Q=>Q.id===$?{...Q,...ce}:Q)})},onAddMovement:$=>{_e($)},onRefreshMovements:rt})})}),v.jsx("div",{className:`mt-6 ${u==="workorder"?"":"hidden"}`,children:v.jsx(k.Suspense,{fallback:v.jsx("div",{children:"Loading..."}),children:v.jsx(tO,{skus:N,layersBySku:U,onUpdateLayers:($,K)=>{V(F=>({...F,[$]:K}))},onUpdateSKU:($,K)=>{G(F=>{const{productCategory:re,...ce}=K||{};return F.map(Q=>Q.id===$?{...Q,...ce}:Q)})},onAddMovement:$=>{_e($)},onRefreshInventory:()=>{Ut(),ge()}})})}),v.jsxs("div",{className:`mt-6 ${u==="movements"?"":"hidden"}`,children:[v.jsx("div",{className:"flex items-center justify-end mb-2",children:v.jsx(Qe,{size:"sm",variant:"outline",onClick:()=>{ue.current&&clearTimeout(ue.current),rt()},disabled:Ye,children:Ye?"Refreshing...":"Refresh"})}),v.jsx(nO,{movements:W,onExportExcel:Ts,onExportJournal:eo,getExportedMovements:eu,clearExportHistory:tu,syncToCloud:Wi,onRefreshMovements:rt,onDeleteMovement:async $=>{console.log(" onDeleteMovement called with:",$),console.log(" deleteBackendMovement function:",typeof ov);try{console.log(" Starting backend deletion process for movementId:",$);const K=String($),F=Number(K);if(console.log(" Extracted ID - String:",K,"Number:",F),Number.isNaN(F)){console.error(" Invalid Movement ID:",K),Ae.error(`Invalid Movement ID: ${K}`);return}let re;try{re=(await Kl.getMovementDeletionInfo(F))?.skuId,console.log(" Deletion info fetched. Affected SKU:",re)}catch(Ne){console.warn(" Could not fetch movement deletion info before delete; will still proceed.",Ne)}console.log(" About to call backend deleteMovement with ID:",F);const ce=await ov(F,{reason:"User deletion via UI",deletedBy:"user"});if(console.log(" Backend deletion result:",ce),console.log(" Result type:",typeof ce),console.log(" Result keys:",Object.keys(ce||{})),Oe(Ne=>{const pe=Ne.filter(Le=>Le.movementId!==$);return console.log(" Movement removed from frontend state. Before:",Ne.length,"After:",pe.length),pe}),await Ut(),ge(),re)try{const pe=(await q1(re)||[]).map(Le=>({id:String(Le.id),date:Le.date instanceof Date?Le.date.toISOString().slice(0,10):String(Le.date),remaining:Le.remaining,cost:Le.cost}));V(Le=>({...Le,[re]:pe})),console.log(" Refreshed FIFO layers for SKU:",re,"Count:",pe.length)}catch(Ne){console.warn(" Failed to refresh FIFO layers for SKU",re,Ne)}const Q=ce?.restoredLayers?.length||0,we=ce?.related_movements_deleted||0;console.log(" Restored layers count:",Q),console.log(" Related movements deleted:",we),Ae.success(`Movement deleted successfully! ${Q} layers restored, ${we} related movements deleted.`)}catch(K){console.error(" Error deleting movement:",K),console.error(" Error type:",typeof K),console.error(" Error message:",K?.message),console.error(" Error details:",K?.details),console.error(" Error code:",K?.code);let F="An unknown error occurred";K?.message?F=K.message:K?.details?F=K.details:typeof K=="string"&&(F=K),Ae.error(`Failed to delete movement: ${F}`),console.log(" Frontend state NOT updated due to backend error")}}})]})]})}),L&&v.jsxs("div",{className:"fixed inset-0 z-50",role:"dialog","aria-modal":"true","aria-labelledby":"vendors-title",children:[v.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:()=>Y(!1)}),v.jsx("div",{className:"absolute left-1/2 top-12 -translate-x-1/2 w-[min(100%,900px)]",children:v.jsxs(Ci,{className:"rounded-2xl shadow-2xl bg-white",children:[v.jsxs(Al,{className:"py-4 flex flex-row items-center justify-between",children:[v.jsx(Di,{id:"vendors-title",children:"Vendors"}),v.jsx(Qe,{size:"sm",onClick:()=>Y(!1),children:"Close"})]}),v.jsx(Ni,{className:"max-h-[70vh] overflow-auto",children:v.jsx(yO,{items:x,onChange:j,onRefresh:gt})})]})})]}),le&&v.jsx(uO,{onClose:()=>{Ue(!1),P(!1)},onToggleAdd:()=>P($=>!$),addOpen:E,children:v.jsx(vO,{items:N,onChange:G,openForm:E,onToggleForm:()=>P($=>!$),hideLocalHeader:!0,onRefresh:Ut})})]})}function _O(){const{user:t,signIn:n,loading:r}=Ll(),[i,l]=k.useState(""),[u,d]=k.useState(""),[h,m]=k.useState(""),[p,y]=k.useState(!1);if(t&&!r)return v.jsx(zl,{to:"/app",replace:!0});const _=async w=>{if(w.preventDefault(),!i||!u){m("Please fill in all fields");return}y(!0),m("");const x=await n(i,u);x.error&&m(x.error),y(!1)};return r?v.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",children:v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),v.jsx("p",{className:"text-slate-600",children:"Loading..."})]})}):v.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 p-4",children:v.jsxs(Ci,{className:"w-full max-w-md",children:[v.jsxs(Al,{className:"text-center",children:[v.jsx("div",{className:"mb-4",children:v.jsx("div",{className:"w-16 h-16 bg-blue-600 rounded-xl mx-auto flex items-center justify-center mb-4",children:v.jsx("div",{className:"text-white font-bold text-2xl",children:"PG"})})}),v.jsx(Di,{className:"text-2xl font-bold",children:"PGaskets Inventory"}),v.jsx("p",{className:"text-slate-600 mt-2",children:"Sign in to access the system"})]}),v.jsxs(Ni,{children:[v.jsxs("form",{onSubmit:_,className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx(tn,{htmlFor:"email",children:"Email"}),v.jsx(nn,{id:"email",type:"email",value:i,onChange:w=>l(w.target.value),placeholder:"admin@pgaskets.com",className:"mt-1",disabled:p})]}),v.jsxs("div",{children:[v.jsx(tn,{htmlFor:"password",children:"Password"}),v.jsx(nn,{id:"password",type:"password",value:u,onChange:w=>d(w.target.value),placeholder:"Enter your password",className:"mt-1",disabled:p})]}),h&&v.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md text-sm",children:h}),v.jsx(Qe,{type:"submit",className:"w-full",disabled:p,children:p?v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Signing in..."]}):"Sign In"})]}),v.jsxs("div",{className:"mt-6 text-center text-sm text-slate-500",children:[v.jsx("p",{children:"Demo credentials:"}),v.jsx("p",{children:"Email: admin@pgaskets.com"}),v.jsx("p",{children:"Password: pgaskets123"})]})]})]})})}function wO({children:t}){const{user:n,loading:r}=Ll();return r?v.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",children:v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),v.jsx("p",{className:"text-slate-600",children:"Loading application..."})]})}):n?v.jsx(v.Fragment,{children:t}):v.jsx(zl,{to:"/login",replace:!0})}function SO(){return v.jsx(YE,{children:v.jsx(dS,{children:v.jsxs(Hw,{children:[v.jsx(Oi,{path:"/",element:v.jsx(zl,{to:"/app",replace:!0})}),v.jsx(Oi,{path:"/login",element:v.jsx(_O,{})}),v.jsx(Oi,{path:"/app",element:v.jsx(wO,{children:v.jsx(bO,{})})}),v.jsx(Oi,{path:"*",element:v.jsx(zl,{to:"/app",replace:!0})})]})})})}const u0=document.getElementById("root");if(!u0)throw new Error("Missing #root element");const xO=new Q_;j_.createRoot(u0).render(v.jsxs(J_,{client:xO,children:[v.jsx(SO,{}),v.jsx(RS,{})]}));export{Qe as B,Ci as C,nn as I,tn as L,gs as M,Jn as R,Mi as S,of as T,AA as _,EO as a,zi as b,Ui as c,$i as d,zt as e,Al as f,q1 as g,Di as h,Ni as i,v as j,NS as k,lf as l,Kl as m,ms as n,it as o,RO as p,uf as q,k as r,ot as s,CO as t,or as u,xf as v,Dn as w,ea as x,ne as y};
