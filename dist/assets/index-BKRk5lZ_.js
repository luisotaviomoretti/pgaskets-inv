const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Receiving-DpRyz98r.js","assets/schemas-BMOVbwG-.js","assets/WorkOrder-CNU5P5_o.js","assets/workOrderEvents-Be-RnPcv.js","assets/Movements-AHqnYO62.js"])))=>i.map(i=>d[i]);
(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&l(f)}).observe(document,{childList:!0,subtree:!0});function s(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function l(o){if(o.ep)return;o.ep=!0;const c=s(o);fetch(o.href,c)}})();function og(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function b0(r){if(Object.prototype.hasOwnProperty.call(r,"__esModule"))return r;var n=r.default;if(typeof n=="function"){var s=function l(){var o=!1;try{o=this instanceof l}catch{}return o?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};s.prototype=n.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(r).forEach(function(l){var o=Object.getOwnPropertyDescriptor(r,l);Object.defineProperty(s,l,o.get?o:{enumerable:!0,get:function(){return r[l]}})}),s}var Ec={exports:{}},Js={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oy;function _0(){if(oy)return Js;oy=1;var r=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function s(l,o,c){var f=null;if(c!==void 0&&(f=""+c),o.key!==void 0&&(f=""+o.key),"key"in o){c={};for(var h in o)h!=="key"&&(c[h]=o[h])}else c=o;return o=c.ref,{$$typeof:r,type:l,key:f,ref:o!==void 0?o:null,props:c}}return Js.Fragment=n,Js.jsx=s,Js.jsxs=s,Js}var uy;function w0(){return uy||(uy=1,Ec.exports=_0()),Ec.exports}var v=w0(),Tc={exports:{}},Ws={},jc={exports:{}},Oc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cy;function S0(){return cy||(cy=1,(function(r){function n(q,K){var se=q.length;q.push(K);e:for(;0<se;){var Me=se-1>>>1,x=q[Me];if(0<o(x,K))q[Me]=K,q[se]=x,se=Me;else break e}}function s(q){return q.length===0?null:q[0]}function l(q){if(q.length===0)return null;var K=q[0],se=q.pop();if(se!==K){q[0]=se;e:for(var Me=0,x=q.length,G=x>>>1;Me<G;){var J=2*(Me+1)-1,I=q[J],ne=J+1,Te=q[ne];if(0>o(I,se))ne<x&&0>o(Te,I)?(q[Me]=Te,q[ne]=se,Me=ne):(q[Me]=I,q[J]=se,Me=J);else if(ne<x&&0>o(Te,se))q[Me]=Te,q[ne]=se,Me=ne;else break e}}return K}function o(q,K){var se=q.sortIndex-K.sortIndex;return se!==0?se:q.id-K.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var f=Date,h=f.now();r.unstable_now=function(){return f.now()-h}}var m=[],y=[],p=1,_=null,w=3,T=!1,A=!1,U=!1,M=!1,N=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function P(q){for(var K=s(y);K!==null;){if(K.callback===null)l(y);else if(K.startTime<=q)l(y),K.sortIndex=K.expirationTime,n(m,K);else break;K=s(y)}}function V(q){if(U=!1,P(q),!A)if(s(m)!==null)A=!0,X||(X=!0,pe());else{var K=s(y);K!==null&&ct(V,K.startTime-q)}}var X=!1,Z=-1,Ee=5,Qe=-1;function W(){return M?!0:!(r.unstable_now()-Qe<Ee)}function ye(){if(M=!1,X){var q=r.unstable_now();Qe=q;var K=!0;try{e:{A=!1,U&&(U=!1,Q(Z),Z=-1),T=!0;var se=w;try{t:{for(P(q),_=s(m);_!==null&&!(_.expirationTime>q&&W());){var Me=_.callback;if(typeof Me=="function"){_.callback=null,w=_.priorityLevel;var x=Me(_.expirationTime<=q);if(q=r.unstable_now(),typeof x=="function"){_.callback=x,P(q),K=!0;break t}_===s(m)&&l(m),P(q)}else l(m);_=s(m)}if(_!==null)K=!0;else{var G=s(y);G!==null&&ct(V,G.startTime-q),K=!1}}break e}finally{_=null,w=se,T=!1}K=void 0}}finally{K?pe():X=!1}}}var pe;if(typeof H=="function")pe=function(){H(ye)};else if(typeof MessageChannel<"u"){var rt=new MessageChannel,Ct=rt.port2;rt.port1.onmessage=ye,pe=function(){Ct.postMessage(null)}}else pe=function(){N(ye,0)};function ct(q,K){Z=N(function(){q(r.unstable_now())},K)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(q){q.callback=null},r.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ee=0<q?Math.floor(1e3/q):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(q){switch(w){case 1:case 2:case 3:var K=3;break;default:K=w}var se=w;w=K;try{return q()}finally{w=se}},r.unstable_requestPaint=function(){M=!0},r.unstable_runWithPriority=function(q,K){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var se=w;w=q;try{return K()}finally{w=se}},r.unstable_scheduleCallback=function(q,K,se){var Me=r.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?Me+se:Me):se=Me,q){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return x=se+x,q={id:p++,callback:K,priorityLevel:q,startTime:se,expirationTime:x,sortIndex:-1},se>Me?(q.sortIndex=se,n(y,q),s(m)===null&&q===s(y)&&(U?(Q(Z),Z=-1):U=!0,ct(V,se-Me))):(q.sortIndex=x,n(m,q),A||T||(A=!0,X||(X=!0,pe()))),q},r.unstable_shouldYield=W,r.unstable_wrapCallback=function(q){var K=w;return function(){var se=w;w=K;try{return q.apply(this,arguments)}finally{w=se}}}})(Oc)),Oc}var dy;function x0(){return dy||(dy=1,jc.exports=S0()),jc.exports}var Ac={exports:{}},ve={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fy;function E0(){if(fy)return ve;fy=1;var r=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),_=Symbol.iterator;function w(x){return x===null||typeof x!="object"?null:(x=_&&x[_]||x["@@iterator"],typeof x=="function"?x:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,U={};function M(x,G,J){this.props=x,this.context=G,this.refs=U,this.updater=J||T}M.prototype.isReactComponent={},M.prototype.setState=function(x,G){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,G,"setState")},M.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function N(){}N.prototype=M.prototype;function Q(x,G,J){this.props=x,this.context=G,this.refs=U,this.updater=J||T}var H=Q.prototype=new N;H.constructor=Q,A(H,M.prototype),H.isPureReactComponent=!0;var P=Array.isArray,V={H:null,A:null,T:null,S:null,V:null},X=Object.prototype.hasOwnProperty;function Z(x,G,J,I,ne,Te){return J=Te.ref,{$$typeof:r,type:x,key:G,ref:J!==void 0?J:null,props:Te}}function Ee(x,G){return Z(x.type,G,void 0,void 0,void 0,x.props)}function Qe(x){return typeof x=="object"&&x!==null&&x.$$typeof===r}function W(x){var G={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(J){return G[J]})}var ye=/\/+/g;function pe(x,G){return typeof x=="object"&&x!==null&&x.key!=null?W(""+x.key):G.toString(36)}function rt(){}function Ct(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(rt,rt):(x.status="pending",x.then(function(G){x.status==="pending"&&(x.status="fulfilled",x.value=G)},function(G){x.status==="pending"&&(x.status="rejected",x.reason=G)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function ct(x,G,J,I,ne){var Te=typeof x;(Te==="undefined"||Te==="boolean")&&(x=null);var ie=!1;if(x===null)ie=!0;else switch(Te){case"bigint":case"string":case"number":ie=!0;break;case"object":switch(x.$$typeof){case r:case n:ie=!0;break;case p:return ie=x._init,ct(ie(x._payload),G,J,I,ne)}}if(ie)return ne=ne(x),ie=I===""?"."+pe(x,0):I,P(ne)?(J="",ie!=null&&(J=ie.replace(ye,"$&/")+"/"),ct(ne,G,J,"",function(kt){return kt})):ne!=null&&(Qe(ne)&&(ne=Ee(ne,J+(ne.key==null||x&&x.key===ne.key?"":(""+ne.key).replace(ye,"$&/")+"/")+ie)),G.push(ne)),1;ie=0;var ht=I===""?".":I+":";if(P(x))for(var He=0;He<x.length;He++)I=x[He],Te=ht+pe(I,He),ie+=ct(I,G,J,Te,ne);else if(He=w(x),typeof He=="function")for(x=He.call(x),He=0;!(I=x.next()).done;)I=I.value,Te=ht+pe(I,He++),ie+=ct(I,G,J,Te,ne);else if(Te==="object"){if(typeof x.then=="function")return ct(Ct(x),G,J,I,ne);throw G=String(x),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return ie}function q(x,G,J){if(x==null)return x;var I=[],ne=0;return ct(x,I,"","",function(Te){return G.call(J,Te,ne++)}),I}function K(x){if(x._status===-1){var G=x._result;G=G(),G.then(function(J){(x._status===0||x._status===-1)&&(x._status=1,x._result=J)},function(J){(x._status===0||x._status===-1)&&(x._status=2,x._result=J)}),x._status===-1&&(x._status=0,x._result=G)}if(x._status===1)return x._result.default;throw x._result}var se=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)};function Me(){}return ve.Children={map:q,forEach:function(x,G,J){q(x,function(){G.apply(this,arguments)},J)},count:function(x){var G=0;return q(x,function(){G++}),G},toArray:function(x){return q(x,function(G){return G})||[]},only:function(x){if(!Qe(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},ve.Component=M,ve.Fragment=s,ve.Profiler=o,ve.PureComponent=Q,ve.StrictMode=l,ve.Suspense=m,ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=V,ve.__COMPILER_RUNTIME={__proto__:null,c:function(x){return V.H.useMemoCache(x)}},ve.cache=function(x){return function(){return x.apply(null,arguments)}},ve.cloneElement=function(x,G,J){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var I=A({},x.props),ne=x.key,Te=void 0;if(G!=null)for(ie in G.ref!==void 0&&(Te=void 0),G.key!==void 0&&(ne=""+G.key),G)!X.call(G,ie)||ie==="key"||ie==="__self"||ie==="__source"||ie==="ref"&&G.ref===void 0||(I[ie]=G[ie]);var ie=arguments.length-2;if(ie===1)I.children=J;else if(1<ie){for(var ht=Array(ie),He=0;He<ie;He++)ht[He]=arguments[He+2];I.children=ht}return Z(x.type,ne,void 0,void 0,Te,I)},ve.createContext=function(x){return x={$$typeof:f,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:c,_context:x},x},ve.createElement=function(x,G,J){var I,ne={},Te=null;if(G!=null)for(I in G.key!==void 0&&(Te=""+G.key),G)X.call(G,I)&&I!=="key"&&I!=="__self"&&I!=="__source"&&(ne[I]=G[I]);var ie=arguments.length-2;if(ie===1)ne.children=J;else if(1<ie){for(var ht=Array(ie),He=0;He<ie;He++)ht[He]=arguments[He+2];ne.children=ht}if(x&&x.defaultProps)for(I in ie=x.defaultProps,ie)ne[I]===void 0&&(ne[I]=ie[I]);return Z(x,Te,void 0,void 0,null,ne)},ve.createRef=function(){return{current:null}},ve.forwardRef=function(x){return{$$typeof:h,render:x}},ve.isValidElement=Qe,ve.lazy=function(x){return{$$typeof:p,_payload:{_status:-1,_result:x},_init:K}},ve.memo=function(x,G){return{$$typeof:y,type:x,compare:G===void 0?null:G}},ve.startTransition=function(x){var G=V.T,J={};V.T=J;try{var I=x(),ne=V.S;ne!==null&&ne(J,I),typeof I=="object"&&I!==null&&typeof I.then=="function"&&I.then(Me,se)}catch(Te){se(Te)}finally{V.T=G}},ve.unstable_useCacheRefresh=function(){return V.H.useCacheRefresh()},ve.use=function(x){return V.H.use(x)},ve.useActionState=function(x,G,J){return V.H.useActionState(x,G,J)},ve.useCallback=function(x,G){return V.H.useCallback(x,G)},ve.useContext=function(x){return V.H.useContext(x)},ve.useDebugValue=function(){},ve.useDeferredValue=function(x,G){return V.H.useDeferredValue(x,G)},ve.useEffect=function(x,G,J){var I=V.H;if(typeof J=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return I.useEffect(x,G)},ve.useId=function(){return V.H.useId()},ve.useImperativeHandle=function(x,G,J){return V.H.useImperativeHandle(x,G,J)},ve.useInsertionEffect=function(x,G){return V.H.useInsertionEffect(x,G)},ve.useLayoutEffect=function(x,G){return V.H.useLayoutEffect(x,G)},ve.useMemo=function(x,G){return V.H.useMemo(x,G)},ve.useOptimistic=function(x,G){return V.H.useOptimistic(x,G)},ve.useReducer=function(x,G,J){return V.H.useReducer(x,G,J)},ve.useRef=function(x){return V.H.useRef(x)},ve.useState=function(x){return V.H.useState(x)},ve.useSyncExternalStore=function(x,G,J){return V.H.useSyncExternalStore(x,G,J)},ve.useTransition=function(){return V.H.useTransition()},ve.version="19.1.1",ve}var hy;function nd(){return hy||(hy=1,Ac.exports=E0()),Ac.exports}var Cc={exports:{}},Ot={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var my;function T0(){if(my)return Ot;my=1;var r=nd();function n(m){var y="https://react.dev/errors/"+m;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)y+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+m+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var l={d:{f:s,r:function(){throw Error(n(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(m,y,p){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:_==null?null:""+_,children:m,containerInfo:y,implementation:p}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(m,y){if(m==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Ot.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,Ot.createPortal=function(m,y){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(n(299));return c(m,y,null,p)},Ot.flushSync=function(m){var y=f.T,p=l.p;try{if(f.T=null,l.p=2,m)return m()}finally{f.T=y,l.p=p,l.d.f()}},Ot.preconnect=function(m,y){typeof m=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,l.d.C(m,y))},Ot.prefetchDNS=function(m){typeof m=="string"&&l.d.D(m)},Ot.preinit=function(m,y){if(typeof m=="string"&&y&&typeof y.as=="string"){var p=y.as,_=h(p,y.crossOrigin),w=typeof y.integrity=="string"?y.integrity:void 0,T=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;p==="style"?l.d.S(m,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:_,integrity:w,fetchPriority:T}):p==="script"&&l.d.X(m,{crossOrigin:_,integrity:w,fetchPriority:T,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Ot.preinitModule=function(m,y){if(typeof m=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var p=h(y.as,y.crossOrigin);l.d.M(m,{crossOrigin:p,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&l.d.M(m)},Ot.preload=function(m,y){if(typeof m=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var p=y.as,_=h(p,y.crossOrigin);l.d.L(m,p,{crossOrigin:_,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Ot.preloadModule=function(m,y){if(typeof m=="string")if(y){var p=h(y.as,y.crossOrigin);l.d.m(m,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:p,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else l.d.m(m)},Ot.requestFormReset=function(m){l.d.r(m)},Ot.unstable_batchedUpdates=function(m,y){return m(y)},Ot.useFormState=function(m,y,p){return f.H.useFormState(m,y,p)},Ot.useFormStatus=function(){return f.H.useHostTransitionStatus()},Ot.version="19.1.1",Ot}var yy;function ug(){if(yy)return Cc.exports;yy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(n){console.error(n)}}return r(),Cc.exports=T0(),Cc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gy;function j0(){if(gy)return Ws;gy=1;var r=x0(),n=nd(),s=ug();function l(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function h(e){if(c(e)!==e)throw Error(l(188))}function m(e){var t=e.alternate;if(!t){if(t=c(e),t===null)throw Error(l(188));return t!==e?null:e}for(var a=e,i=t;;){var u=a.return;if(u===null)break;var d=u.alternate;if(d===null){if(i=u.return,i!==null){a=i;continue}break}if(u.child===d.child){for(d=u.child;d;){if(d===a)return h(u),e;if(d===i)return h(u),t;d=d.sibling}throw Error(l(188))}if(a.return!==i.return)a=u,i=d;else{for(var g=!1,b=u.child;b;){if(b===a){g=!0,a=u,i=d;break}if(b===i){g=!0,i=u,a=d;break}b=b.sibling}if(!g){for(b=d.child;b;){if(b===a){g=!0,a=d,i=u;break}if(b===i){g=!0,i=d,a=u;break}b=b.sibling}if(!g)throw Error(l(189))}}if(a.alternate!==i)throw Error(l(190))}if(a.tag!==3)throw Error(l(188));return a.stateNode.current===a?e:t}function y(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=y(e),t!==null)return t;e=e.sibling}return null}var p=Object.assign,_=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),Q=Symbol.for("react.consumer"),H=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),Ee=Symbol.for("react.lazy"),Qe=Symbol.for("react.activity"),W=Symbol.for("react.memo_cache_sentinel"),ye=Symbol.iterator;function pe(e){return e===null||typeof e!="object"?null:(e=ye&&e[ye]||e["@@iterator"],typeof e=="function"?e:null)}var rt=Symbol.for("react.client.reference");function Ct(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===rt?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case A:return"Fragment";case M:return"Profiler";case U:return"StrictMode";case V:return"Suspense";case X:return"SuspenseList";case Qe:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case T:return"Portal";case H:return(e.displayName||"Context")+".Provider";case Q:return(e._context.displayName||"Context")+".Consumer";case P:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Z:return t=e.displayName||null,t!==null?t:Ct(e.type)||"Memo";case Ee:t=e._payload,e=e._init;try{return Ct(e(t))}catch{}}return null}var ct=Array.isArray,q=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se={pending:!1,data:null,method:null,action:null},Me=[],x=-1;function G(e){return{current:e}}function J(e){0>x||(e.current=Me[x],Me[x]=null,x--)}function I(e,t){x++,Me[x]=e.current,e.current=t}var ne=G(null),Te=G(null),ie=G(null),ht=G(null);function He(e,t){switch(I(ie,t),I(Te,e),I(ne,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?zm(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=zm(t),e=qm(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}J(ne),I(ne,e)}function kt(){J(ne),J(Te),J(ie)}function Pa(e){e.memoizedState!==null&&I(ht,e);var t=ne.current,a=qm(t,e.type);t!==a&&(I(Te,e),I(ne,a))}function es(e){Te.current===e&&(J(ne),J(Te)),ht.current===e&&(J(ht),Ps._currentValue=se)}var ts=Object.prototype.hasOwnProperty,ns=r.unstable_scheduleCallback,Ia=r.unstable_cancelCallback,fo=r.unstable_shouldYield,ho=r.unstable_requestPaint,It=r.unstable_now,mo=r.unstable_getCurrentPriorityLevel,xi=r.unstable_ImmediatePriority,Ei=r.unstable_UserBlockingPriority,Fa=r.unstable_NormalPriority,as=r.unstable_LowPriority,Ti=r.unstable_IdlePriority,yo=r.log,ln=r.unstable_setDisableYieldValue,z=null,Y=null;function F(e){if(typeof yo=="function"&&ln(e),Y&&typeof Y.setStrictMode=="function")try{Y.setStrictMode(z,e)}catch{}}var te=Math.clz32?Math.clz32:Ae,de=Math.log,le=Math.LN2;function Ae(e){return e>>>=0,e===0?32:31-(de(e)/le|0)|0}var Ue=256,ke=4194304;function he(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function je(e,t,a){var i=e.pendingLanes;if(i===0)return 0;var u=0,d=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var b=i&134217727;return b!==0?(i=b&~d,i!==0?u=he(i):(g&=b,g!==0?u=he(g):a||(a=b&~e,a!==0&&(u=he(a))))):(b=i&~d,b!==0?u=he(b):g!==0?u=he(g):a||(a=i&~e,a!==0&&(u=he(a)))),u===0?0:t!==0&&t!==u&&(t&d)===0&&(d=u&-u,a=t&-t,d>=a||d===32&&(a&4194048)!==0)?t:u}function me(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function fe(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ce(){var e=Ue;return Ue<<=1,(Ue&4194048)===0&&(Ue=256),e}function Ft(){var e=ke;return ke<<=1,(ke&62914560)===0&&(ke=4194304),e}function wa(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function Tn(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Sa(e,t,a,i,u,d){var g=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var b=e.entanglements,S=e.expirationTimes,k=e.hiddenUpdates;for(a=g&~a;0<a;){var L=31-te(a),$=1<<L;b[L]=0,S[L]=-1;var R=k[L];if(R!==null)for(k[L]=null,L=0;L<R.length;L++){var D=R[L];D!==null&&(D.lane&=-536870913)}a&=~$}i!==0&&Re(e,i,0),d!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=d&~(g&~t))}function Re(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-te(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|a&4194090}function xa(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var i=31-te(a),u=1<<i;u&t|e[i]&t&&(e[i]|=t),a&=~u}}function on(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function jn(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ze(){var e=K.p;return e!==0?e:(e=window.event,e===void 0?32:ny(e.type))}function et(e,t){var a=K.p;try{return K.p=e,t()}finally{K.p=a}}var De=Math.random().toString(36).slice(2),qe="__reactFiber$"+De,Ze="__reactProps$"+De,On="__reactContainer$"+De,go="__reactEvents$"+De,uv="__reactListeners$"+De,cv="__reactHandles$"+De,xd="__reactResources$"+De,rs="__reactMarker$"+De;function vo(e){delete e[qe],delete e[Ze],delete e[go],delete e[uv],delete e[cv]}function Xa(e){var t=e[qe];if(t)return t;for(var a=e.parentNode;a;){if(t=a[On]||a[qe]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=$m(e);e!==null;){if(a=e[qe])return a;e=$m(e)}return t}e=a,a=e.parentNode}return null}function Za(e){if(e=e[qe]||e[On]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function ss(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(l(33))}function Ja(e){var t=e[xd];return t||(t=e[xd]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function pt(e){e[rs]=!0}var Ed=new Set,Td={};function Ea(e,t){Wa(e,t),Wa(e+"Capture",t)}function Wa(e,t){for(Td[e]=t,e=0;e<t.length;e++)Ed.add(t[e])}var dv=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),jd={},Od={};function fv(e){return ts.call(Od,e)?!0:ts.call(jd,e)?!1:dv.test(e)?Od[e]=!0:(jd[e]=!0,!1)}function ji(e,t,a){if(fv(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function Oi(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function An(e,t,a,i){if(i===null)e.removeAttribute(a);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+i)}}var po,Ad;function er(e){if(po===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);po=t&&t[1]||"",Ad=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+po+e+Ad}var bo=!1;function _o(e,t){if(!e||bo)return"";bo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(D){var R=D}Reflect.construct(e,[],$)}else{try{$.call()}catch(D){R=D}e.call($.prototype)}}else{try{throw Error()}catch(D){R=D}($=e())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(D){if(D&&R&&typeof D.stack=="string")return[D.stack,R.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=i.DetermineComponentFrameRoot(),g=d[0],b=d[1];if(g&&b){var S=g.split(`
`),k=b.split(`
`);for(u=i=0;i<S.length&&!S[i].includes("DetermineComponentFrameRoot");)i++;for(;u<k.length&&!k[u].includes("DetermineComponentFrameRoot");)u++;if(i===S.length||u===k.length)for(i=S.length-1,u=k.length-1;1<=i&&0<=u&&S[i]!==k[u];)u--;for(;1<=i&&0<=u;i--,u--)if(S[i]!==k[u]){if(i!==1||u!==1)do if(i--,u--,0>u||S[i]!==k[u]){var L=`
`+S[i].replace(" at new "," at ");return e.displayName&&L.includes("<anonymous>")&&(L=L.replace("<anonymous>",e.displayName)),L}while(1<=i&&0<=u);break}}}finally{bo=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?er(a):""}function hv(e){switch(e.tag){case 26:case 27:case 5:return er(e.type);case 16:return er("Lazy");case 13:return er("Suspense");case 19:return er("SuspenseList");case 0:case 15:return _o(e.type,!1);case 11:return _o(e.type.render,!1);case 1:return _o(e.type,!0);case 31:return er("Activity");default:return""}}function Cd(e){try{var t="";do t+=hv(e),e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Xt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function kd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function mv(e){var t=kd(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var u=a.get,d=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(g){i=""+g,d.call(this,g)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return i},setValue:function(g){i=""+g},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ai(e){e._valueTracker||(e._valueTracker=mv(e))}function Rd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),i="";return e&&(i=kd(e)?e.checked?"true":"false":e.value),e=i,e!==a?(t.setValue(e),!0):!1}function Ci(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var yv=/[\n"\\]/g;function Zt(e){return e.replace(yv,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function wo(e,t,a,i,u,d,g,b){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),t!=null?g==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Xt(t)):e.value!==""+Xt(t)&&(e.value=""+Xt(t)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),t!=null?So(e,g,Xt(t)):a!=null?So(e,g,Xt(a)):i!=null&&e.removeAttribute("value"),u==null&&d!=null&&(e.defaultChecked=!!d),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.name=""+Xt(b):e.removeAttribute("name")}function Dd(e,t,a,i,u,d,g,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),t!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||t!=null))return;a=a!=null?""+Xt(a):"",t=t!=null?""+Xt(t):a,b||t===e.value||(e.value=t),e.defaultValue=t}i=i??u,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=b?e.checked:!!i,e.defaultChecked=!!i,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g)}function So(e,t,a){t==="number"&&Ci(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function tr(e,t,a,i){if(e=e.options,t){t={};for(var u=0;u<a.length;u++)t["$"+a[u]]=!0;for(a=0;a<e.length;a++)u=t.hasOwnProperty("$"+e[a].value),e[a].selected!==u&&(e[a].selected=u),u&&i&&(e[a].defaultSelected=!0)}else{for(a=""+Xt(a),t=null,u=0;u<e.length;u++){if(e[u].value===a){e[u].selected=!0,i&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function Nd(e,t,a){if(t!=null&&(t=""+Xt(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+Xt(a):""}function Md(e,t,a,i){if(t==null){if(i!=null){if(a!=null)throw Error(l(92));if(ct(i)){if(1<i.length)throw Error(l(93));i=i[0]}a=i}a==null&&(a=""),t=a}a=Xt(t),e.defaultValue=a,i=e.textContent,i===a&&i!==""&&i!==null&&(e.value=i)}function nr(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var gv=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ud(e,t,a){var i=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,a):typeof a!="number"||a===0||gv.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function zd(e,t,a){if(t!=null&&typeof t!="object")throw Error(l(62));if(e=e.style,a!=null){for(var i in a)!a.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var u in t)i=t[u],t.hasOwnProperty(u)&&a[u]!==i&&Ud(e,u,i)}else for(var d in t)t.hasOwnProperty(d)&&Ud(e,d,t[d])}function xo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vv=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),pv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ki(e){return pv.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Eo=null;function To(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ar=null,rr=null;function qd(e){var t=Za(e);if(t&&(e=t.stateNode)){var a=e[Ze]||null;e:switch(e=t.stateNode,t.type){case"input":if(wo(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Zt(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var i=a[t];if(i!==e&&i.form===e.form){var u=i[Ze]||null;if(!u)throw Error(l(90));wo(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(t=0;t<a.length;t++)i=a[t],i.form===e.form&&Rd(i)}break e;case"textarea":Nd(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&tr(e,!!a.multiple,t,!1)}}}var jo=!1;function Ld(e,t,a){if(jo)return e(t,a);jo=!0;try{var i=e(t);return i}finally{if(jo=!1,(ar!==null||rr!==null)&&(yl(),ar&&(t=ar,e=rr,rr=ar=null,qd(t),e)))for(t=0;t<e.length;t++)qd(e[t])}}function is(e,t){var a=e.stateNode;if(a===null)return null;var i=a[Ze]||null;if(i===null)return null;a=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(l(231,t,typeof a));return a}var Cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Oo=!1;if(Cn)try{var ls={};Object.defineProperty(ls,"passive",{get:function(){Oo=!0}}),window.addEventListener("test",ls,ls),window.removeEventListener("test",ls,ls)}catch{Oo=!1}var In=null,Ao=null,Ri=null;function Bd(){if(Ri)return Ri;var e,t=Ao,a=t.length,i,u="value"in In?In.value:In.textContent,d=u.length;for(e=0;e<a&&t[e]===u[e];e++);var g=a-e;for(i=1;i<=g&&t[a-i]===u[d-i];i++);return Ri=u.slice(e,1<i?1-i:void 0)}function Di(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ni(){return!0}function Hd(){return!1}function Mt(e){function t(a,i,u,d,g){this._reactName=a,this._targetInst=u,this.type=i,this.nativeEvent=d,this.target=g,this.currentTarget=null;for(var b in e)e.hasOwnProperty(b)&&(a=e[b],this[b]=a?a(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Ni:Hd,this.isPropagationStopped=Hd,this}return p(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ni)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ni)},persist:function(){},isPersistent:Ni}),t}var Ta={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mi=Mt(Ta),os=p({},Ta,{view:0,detail:0}),bv=Mt(os),Co,ko,us,Ui=p({},os,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Do,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==us&&(us&&e.type==="mousemove"?(Co=e.screenX-us.screenX,ko=e.screenY-us.screenY):ko=Co=0,us=e),Co)},movementY:function(e){return"movementY"in e?e.movementY:ko}}),$d=Mt(Ui),_v=p({},Ui,{dataTransfer:0}),wv=Mt(_v),Sv=p({},os,{relatedTarget:0}),Ro=Mt(Sv),xv=p({},Ta,{animationName:0,elapsedTime:0,pseudoElement:0}),Ev=Mt(xv),Tv=p({},Ta,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),jv=Mt(Tv),Ov=p({},Ta,{data:0}),Vd=Mt(Ov),Av={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=kv[e])?!!t[e]:!1}function Do(){return Rv}var Dv=p({},os,{key:function(e){if(e.key){var t=Av[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Di(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Cv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Do,charCode:function(e){return e.type==="keypress"?Di(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Di(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Nv=Mt(Dv),Mv=p({},Ui,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gd=Mt(Mv),Uv=p({},os,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Do}),zv=Mt(Uv),qv=p({},Ta,{propertyName:0,elapsedTime:0,pseudoElement:0}),Lv=Mt(qv),Bv=p({},Ui,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Hv=Mt(Bv),$v=p({},Ta,{newState:0,oldState:0}),Vv=Mt($v),Gv=[9,13,27,32],No=Cn&&"CompositionEvent"in window,cs=null;Cn&&"documentMode"in document&&(cs=document.documentMode);var Yv=Cn&&"TextEvent"in window&&!cs,Yd=Cn&&(!No||cs&&8<cs&&11>=cs),Kd=" ",Qd=!1;function Pd(e,t){switch(e){case"keyup":return Gv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Id(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var sr=!1;function Kv(e,t){switch(e){case"compositionend":return Id(t);case"keypress":return t.which!==32?null:(Qd=!0,Kd);case"textInput":return e=t.data,e===Kd&&Qd?null:e;default:return null}}function Qv(e,t){if(sr)return e==="compositionend"||!No&&Pd(e,t)?(e=Bd(),Ri=Ao=In=null,sr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Yd&&t.locale!=="ko"?null:t.data;default:return null}}var Pv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Pv[e.type]:t==="textarea"}function Xd(e,t,a,i){ar?rr?rr.push(i):rr=[i]:ar=i,t=wl(t,"onChange"),0<t.length&&(a=new Mi("onChange","change",null,a,i),e.push({event:a,listeners:t}))}var ds=null,fs=null;function Iv(e){Rm(e,0)}function zi(e){var t=ss(e);if(Rd(t))return e}function Zd(e,t){if(e==="change")return t}var Jd=!1;if(Cn){var Mo;if(Cn){var Uo="oninput"in document;if(!Uo){var Wd=document.createElement("div");Wd.setAttribute("oninput","return;"),Uo=typeof Wd.oninput=="function"}Mo=Uo}else Mo=!1;Jd=Mo&&(!document.documentMode||9<document.documentMode)}function ef(){ds&&(ds.detachEvent("onpropertychange",tf),fs=ds=null)}function tf(e){if(e.propertyName==="value"&&zi(fs)){var t=[];Xd(t,fs,e,To(e)),Ld(Iv,t)}}function Fv(e,t,a){e==="focusin"?(ef(),ds=t,fs=a,ds.attachEvent("onpropertychange",tf)):e==="focusout"&&ef()}function Xv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return zi(fs)}function Zv(e,t){if(e==="click")return zi(t)}function Jv(e,t){if(e==="input"||e==="change")return zi(t)}function Wv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Lt=typeof Object.is=="function"?Object.is:Wv;function hs(e,t){if(Lt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),i=Object.keys(t);if(a.length!==i.length)return!1;for(i=0;i<a.length;i++){var u=a[i];if(!ts.call(t,u)||!Lt(e[u],t[u]))return!1}return!0}function nf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function af(e,t){var a=nf(e);e=0;for(var i;a;){if(a.nodeType===3){if(i=e+a.textContent.length,e<=t&&i>=t)return{node:a,offset:t-e};e=i}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=nf(a)}}function rf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?rf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function sf(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Ci(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=Ci(e.document)}return t}function zo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var ep=Cn&&"documentMode"in document&&11>=document.documentMode,ir=null,qo=null,ms=null,Lo=!1;function lf(e,t,a){var i=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Lo||ir==null||ir!==Ci(i)||(i=ir,"selectionStart"in i&&zo(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),ms&&hs(ms,i)||(ms=i,i=wl(qo,"onSelect"),0<i.length&&(t=new Mi("onSelect","select",null,t,a),e.push({event:t,listeners:i}),t.target=ir)))}function ja(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var lr={animationend:ja("Animation","AnimationEnd"),animationiteration:ja("Animation","AnimationIteration"),animationstart:ja("Animation","AnimationStart"),transitionrun:ja("Transition","TransitionRun"),transitionstart:ja("Transition","TransitionStart"),transitioncancel:ja("Transition","TransitionCancel"),transitionend:ja("Transition","TransitionEnd")},Bo={},of={};Cn&&(of=document.createElement("div").style,"AnimationEvent"in window||(delete lr.animationend.animation,delete lr.animationiteration.animation,delete lr.animationstart.animation),"TransitionEvent"in window||delete lr.transitionend.transition);function Oa(e){if(Bo[e])return Bo[e];if(!lr[e])return e;var t=lr[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in of)return Bo[e]=t[a];return e}var uf=Oa("animationend"),cf=Oa("animationiteration"),df=Oa("animationstart"),tp=Oa("transitionrun"),np=Oa("transitionstart"),ap=Oa("transitioncancel"),ff=Oa("transitionend"),hf=new Map,Ho="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ho.push("scrollEnd");function un(e,t){hf.set(e,t),Ea(t,[e])}var mf=new WeakMap;function Jt(e,t){if(typeof e=="object"&&e!==null){var a=mf.get(e);return a!==void 0?a:(t={value:e,source:t,stack:Cd(t)},mf.set(e,t),t)}return{value:e,source:t,stack:Cd(t)}}var Wt=[],or=0,$o=0;function qi(){for(var e=or,t=$o=or=0;t<e;){var a=Wt[t];Wt[t++]=null;var i=Wt[t];Wt[t++]=null;var u=Wt[t];Wt[t++]=null;var d=Wt[t];if(Wt[t++]=null,i!==null&&u!==null){var g=i.pending;g===null?u.next=u:(u.next=g.next,g.next=u),i.pending=u}d!==0&&yf(a,u,d)}}function Li(e,t,a,i){Wt[or++]=e,Wt[or++]=t,Wt[or++]=a,Wt[or++]=i,$o|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function Vo(e,t,a,i){return Li(e,t,a,i),Bi(e)}function ur(e,t){return Li(e,null,null,t),Bi(e)}function yf(e,t,a){e.lanes|=a;var i=e.alternate;i!==null&&(i.lanes|=a);for(var u=!1,d=e.return;d!==null;)d.childLanes|=a,i=d.alternate,i!==null&&(i.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(u=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,u&&t!==null&&(u=31-te(a),e=d.hiddenUpdates,i=e[u],i===null?e[u]=[t]:i.push(t),t.lane=a|536870912),d):null}function Bi(e){if(50<Bs)throw Bs=0,Iu=null,Error(l(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var cr={};function rp(e,t,a,i){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bt(e,t,a,i){return new rp(e,t,a,i)}function Go(e){return e=e.prototype,!(!e||!e.isReactComponent)}function kn(e,t){var a=e.alternate;return a===null?(a=Bt(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function gf(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Hi(e,t,a,i,u,d){var g=0;if(i=e,typeof e=="function")Go(e)&&(g=1);else if(typeof e=="string")g=i0(e,a,ne.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Qe:return e=Bt(31,a,t,u),e.elementType=Qe,e.lanes=d,e;case A:return Aa(a.children,u,d,t);case U:g=8,u|=24;break;case M:return e=Bt(12,a,t,u|2),e.elementType=M,e.lanes=d,e;case V:return e=Bt(13,a,t,u),e.elementType=V,e.lanes=d,e;case X:return e=Bt(19,a,t,u),e.elementType=X,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case N:case H:g=10;break e;case Q:g=9;break e;case P:g=11;break e;case Z:g=14;break e;case Ee:g=16,i=null;break e}g=29,a=Error(l(130,e===null?"null":typeof e,"")),i=null}return t=Bt(g,a,t,u),t.elementType=e,t.type=i,t.lanes=d,t}function Aa(e,t,a,i){return e=Bt(7,e,i,t),e.lanes=a,e}function Yo(e,t,a){return e=Bt(6,e,null,t),e.lanes=a,e}function Ko(e,t,a){return t=Bt(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var dr=[],fr=0,$i=null,Vi=0,en=[],tn=0,Ca=null,Rn=1,Dn="";function ka(e,t){dr[fr++]=Vi,dr[fr++]=$i,$i=e,Vi=t}function vf(e,t,a){en[tn++]=Rn,en[tn++]=Dn,en[tn++]=Ca,Ca=e;var i=Rn;e=Dn;var u=32-te(i)-1;i&=~(1<<u),a+=1;var d=32-te(t)+u;if(30<d){var g=u-u%5;d=(i&(1<<g)-1).toString(32),i>>=g,u-=g,Rn=1<<32-te(t)+u|a<<u|i,Dn=d+e}else Rn=1<<d|a<<u|i,Dn=e}function Qo(e){e.return!==null&&(ka(e,1),vf(e,1,0))}function Po(e){for(;e===$i;)$i=dr[--fr],dr[fr]=null,Vi=dr[--fr],dr[fr]=null;for(;e===Ca;)Ca=en[--tn],en[tn]=null,Dn=en[--tn],en[tn]=null,Rn=en[--tn],en[tn]=null}var Rt=null,st=null,Le=!1,Ra=null,vn=!1,Io=Error(l(519));function Da(e){var t=Error(l(418,""));throw vs(Jt(t,e)),Io}function pf(e){var t=e.stateNode,a=e.type,i=e.memoizedProps;switch(t[qe]=e,t[Ze]=i,a){case"dialog":Se("cancel",t),Se("close",t);break;case"iframe":case"object":case"embed":Se("load",t);break;case"video":case"audio":for(a=0;a<$s.length;a++)Se($s[a],t);break;case"source":Se("error",t);break;case"img":case"image":case"link":Se("error",t),Se("load",t);break;case"details":Se("toggle",t);break;case"input":Se("invalid",t),Dd(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0),Ai(t);break;case"select":Se("invalid",t);break;case"textarea":Se("invalid",t),Md(t,i.value,i.defaultValue,i.children),Ai(t)}a=i.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||i.suppressHydrationWarning===!0||Um(t.textContent,a)?(i.popover!=null&&(Se("beforetoggle",t),Se("toggle",t)),i.onScroll!=null&&Se("scroll",t),i.onScrollEnd!=null&&Se("scrollend",t),i.onClick!=null&&(t.onclick=Sl),t=!0):t=!1,t||Da(e)}function bf(e){for(Rt=e.return;Rt;)switch(Rt.tag){case 5:case 13:vn=!1;return;case 27:case 3:vn=!0;return;default:Rt=Rt.return}}function ys(e){if(e!==Rt)return!1;if(!Le)return bf(e),Le=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||cc(e.type,e.memoizedProps)),a=!a),a&&st&&Da(e),bf(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(t===0){st=dn(e.nextSibling);break e}t--}else a!=="$"&&a!=="$!"&&a!=="$?"||t++;e=e.nextSibling}st=null}}else t===27?(t=st,ca(e.type)?(e=mc,mc=null,st=e):st=t):st=Rt?dn(e.stateNode.nextSibling):null;return!0}function gs(){st=Rt=null,Le=!1}function _f(){var e=Ra;return e!==null&&(qt===null?qt=e:qt.push.apply(qt,e),Ra=null),e}function vs(e){Ra===null?Ra=[e]:Ra.push(e)}var Fo=G(null),Na=null,Nn=null;function Fn(e,t,a){I(Fo,t._currentValue),t._currentValue=a}function Mn(e){e._currentValue=Fo.current,J(Fo)}function Xo(e,t,a){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===a)break;e=e.return}}function Zo(e,t,a,i){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var d=u.dependencies;if(d!==null){var g=u.child;d=d.firstContext;e:for(;d!==null;){var b=d;d=u;for(var S=0;S<t.length;S++)if(b.context===t[S]){d.lanes|=a,b=d.alternate,b!==null&&(b.lanes|=a),Xo(d.return,a,e),i||(g=null);break e}d=b.next}}else if(u.tag===18){if(g=u.return,g===null)throw Error(l(341));g.lanes|=a,d=g.alternate,d!==null&&(d.lanes|=a),Xo(g,a,e),g=null}else g=u.child;if(g!==null)g.return=u;else for(g=u;g!==null;){if(g===e){g=null;break}if(u=g.sibling,u!==null){u.return=g.return,g=u;break}g=g.return}u=g}}function ps(e,t,a,i){e=null;for(var u=t,d=!1;u!==null;){if(!d){if((u.flags&524288)!==0)d=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var g=u.alternate;if(g===null)throw Error(l(387));if(g=g.memoizedProps,g!==null){var b=u.type;Lt(u.pendingProps.value,g.value)||(e!==null?e.push(b):e=[b])}}else if(u===ht.current){if(g=u.alternate,g===null)throw Error(l(387));g.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(Ps):e=[Ps])}u=u.return}e!==null&&Zo(t,e,a,i),t.flags|=262144}function Gi(e){for(e=e.firstContext;e!==null;){if(!Lt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ma(e){Na=e,Nn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function jt(e){return wf(Na,e)}function Yi(e,t){return Na===null&&Ma(e),wf(e,t)}function wf(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},Nn===null){if(e===null)throw Error(l(308));Nn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Nn=Nn.next=t;return a}var sp=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},ip=r.unstable_scheduleCallback,lp=r.unstable_NormalPriority,mt={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Jo(){return{controller:new sp,data:new Map,refCount:0}}function bs(e){e.refCount--,e.refCount===0&&ip(lp,function(){e.controller.abort()})}var _s=null,Wo=0,hr=0,mr=null;function op(e,t){if(_s===null){var a=_s=[];Wo=0,hr=tc(),mr={status:"pending",value:void 0,then:function(i){a.push(i)}}}return Wo++,t.then(Sf,Sf),t}function Sf(){if(--Wo===0&&_s!==null){mr!==null&&(mr.status="fulfilled");var e=_s;_s=null,hr=0,mr=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function up(e,t){var a=[],i={status:"pending",value:null,reason:null,then:function(u){a.push(u)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var u=0;u<a.length;u++)(0,a[u])(t)},function(u){for(i.status="rejected",i.reason=u,u=0;u<a.length;u++)(0,a[u])(void 0)}),i}var xf=q.S;q.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&op(e,t),xf!==null&&xf(e,t)};var Ua=G(null);function eu(){var e=Ua.current;return e!==null?e:Fe.pooledCache}function Ki(e,t){t===null?I(Ua,Ua.current):I(Ua,t.pool)}function Ef(){var e=eu();return e===null?null:{parent:mt._currentValue,pool:e}}var ws=Error(l(460)),Tf=Error(l(474)),Qi=Error(l(542)),tu={then:function(){}};function jf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Pi(){}function Of(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(Pi,Pi),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Cf(e),e;default:if(typeof t.status=="string")t.then(Pi,Pi);else{if(e=Fe,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var u=t;u.status="fulfilled",u.value=i}},function(i){if(t.status==="pending"){var u=t;u.status="rejected",u.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Cf(e),e}throw Ss=t,ws}}var Ss=null;function Af(){if(Ss===null)throw Error(l(459));var e=Ss;return Ss=null,e}function Cf(e){if(e===ws||e===Qi)throw Error(l(483))}var Xn=!1;function nu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function au(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Zn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Jn(e,t,a){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,($e&2)!==0){var u=i.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),i.pending=t,t=Bi(e),yf(e,null,a),t}return Li(e,i,t,a),Bi(e)}function xs(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,a|=i,t.lanes=a,xa(e,a)}}function ru(e,t){var a=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,a===i)){var u=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?u=d=g:d=d.next=g,a=a.next}while(a!==null);d===null?u=d=t:d=d.next=t}else u=d=t;a={baseState:i.baseState,firstBaseUpdate:u,lastBaseUpdate:d,shared:i.shared,callbacks:i.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var su=!1;function Es(){if(su){var e=mr;if(e!==null)throw e}}function Ts(e,t,a,i){su=!1;var u=e.updateQueue;Xn=!1;var d=u.firstBaseUpdate,g=u.lastBaseUpdate,b=u.shared.pending;if(b!==null){u.shared.pending=null;var S=b,k=S.next;S.next=null,g===null?d=k:g.next=k,g=S;var L=e.alternate;L!==null&&(L=L.updateQueue,b=L.lastBaseUpdate,b!==g&&(b===null?L.firstBaseUpdate=k:b.next=k,L.lastBaseUpdate=S))}if(d!==null){var $=u.baseState;g=0,L=k=S=null,b=d;do{var R=b.lane&-536870913,D=R!==b.lane;if(D?(Oe&R)===R:(i&R)===R){R!==0&&R===hr&&(su=!0),L!==null&&(L=L.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var ce=e,oe=b;R=t;var Ke=a;switch(oe.tag){case 1:if(ce=oe.payload,typeof ce=="function"){$=ce.call(Ke,$,R);break e}$=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=oe.payload,R=typeof ce=="function"?ce.call(Ke,$,R):ce,R==null)break e;$=p({},$,R);break e;case 2:Xn=!0}}R=b.callback,R!==null&&(e.flags|=64,D&&(e.flags|=8192),D=u.callbacks,D===null?u.callbacks=[R]:D.push(R))}else D={lane:R,tag:b.tag,payload:b.payload,callback:b.callback,next:null},L===null?(k=L=D,S=$):L=L.next=D,g|=R;if(b=b.next,b===null){if(b=u.shared.pending,b===null)break;D=b,b=D.next,D.next=null,u.lastBaseUpdate=D,u.shared.pending=null}}while(!0);L===null&&(S=$),u.baseState=S,u.firstBaseUpdate=k,u.lastBaseUpdate=L,d===null&&(u.shared.lanes=0),ia|=g,e.lanes=g,e.memoizedState=$}}function kf(e,t){if(typeof e!="function")throw Error(l(191,e));e.call(t)}function Rf(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)kf(a[e],t)}var yr=G(null),Ii=G(0);function Df(e,t){e=$n,I(Ii,e),I(yr,t),$n=e|t.baseLanes}function iu(){I(Ii,$n),I(yr,yr.current)}function lu(){$n=Ii.current,J(yr),J(Ii)}var Wn=0,be=null,Ge=null,dt=null,Fi=!1,gr=!1,za=!1,Xi=0,js=0,vr=null,cp=0;function ot(){throw Error(l(321))}function ou(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!Lt(e[a],t[a]))return!1;return!0}function uu(e,t,a,i,u,d){return Wn=d,be=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,q.H=e===null||e.memoizedState===null?yh:gh,za=!1,d=a(i,u),za=!1,gr&&(d=Mf(t,a,i,u)),Nf(e),d}function Nf(e){q.H=nl;var t=Ge!==null&&Ge.next!==null;if(Wn=0,dt=Ge=be=null,Fi=!1,js=0,vr=null,t)throw Error(l(300));e===null||bt||(e=e.dependencies,e!==null&&Gi(e)&&(bt=!0))}function Mf(e,t,a,i){be=e;var u=0;do{if(gr&&(vr=null),js=0,gr=!1,25<=u)throw Error(l(301));if(u+=1,dt=Ge=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}q.H=vp,d=t(a,i)}while(gr);return d}function dp(){var e=q.H,t=e.useState()[0];return t=typeof t.then=="function"?Os(t):t,e=e.useState()[0],(Ge!==null?Ge.memoizedState:null)!==e&&(be.flags|=1024),t}function cu(){var e=Xi!==0;return Xi=0,e}function du(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function fu(e){if(Fi){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Fi=!1}Wn=0,dt=Ge=be=null,gr=!1,js=Xi=0,vr=null}function Ut(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dt===null?be.memoizedState=dt=e:dt=dt.next=e,dt}function ft(){if(Ge===null){var e=be.alternate;e=e!==null?e.memoizedState:null}else e=Ge.next;var t=dt===null?be.memoizedState:dt.next;if(t!==null)dt=t,Ge=e;else{if(e===null)throw be.alternate===null?Error(l(467)):Error(l(310));Ge=e,e={memoizedState:Ge.memoizedState,baseState:Ge.baseState,baseQueue:Ge.baseQueue,queue:Ge.queue,next:null},dt===null?be.memoizedState=dt=e:dt=dt.next=e}return dt}function hu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Os(e){var t=js;return js+=1,vr===null&&(vr=[]),e=Of(vr,e,t),t=be,(dt===null?t.memoizedState:dt.next)===null&&(t=t.alternate,q.H=t===null||t.memoizedState===null?yh:gh),e}function Zi(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Os(e);if(e.$$typeof===H)return jt(e)}throw Error(l(438,String(e)))}function mu(e){var t=null,a=be.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var i=be.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(u){return u.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=hu(),be.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),i=0;i<e;i++)a[i]=W;return t.index++,a}function Un(e,t){return typeof t=="function"?t(e):t}function Ji(e){var t=ft();return yu(t,Ge,e)}function yu(e,t,a){var i=e.queue;if(i===null)throw Error(l(311));i.lastRenderedReducer=a;var u=e.baseQueue,d=i.pending;if(d!==null){if(u!==null){var g=u.next;u.next=d.next,d.next=g}t.baseQueue=u=d,i.pending=null}if(d=e.baseState,u===null)e.memoizedState=d;else{t=u.next;var b=g=null,S=null,k=t,L=!1;do{var $=k.lane&-536870913;if($!==k.lane?(Oe&$)===$:(Wn&$)===$){var R=k.revertLane;if(R===0)S!==null&&(S=S.next={lane:0,revertLane:0,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),$===hr&&(L=!0);else if((Wn&R)===R){k=k.next,R===hr&&(L=!0);continue}else $={lane:0,revertLane:k.revertLane,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},S===null?(b=S=$,g=d):S=S.next=$,be.lanes|=R,ia|=R;$=k.action,za&&a(d,$),d=k.hasEagerState?k.eagerState:a(d,$)}else R={lane:$,revertLane:k.revertLane,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},S===null?(b=S=R,g=d):S=S.next=R,be.lanes|=$,ia|=$;k=k.next}while(k!==null&&k!==t);if(S===null?g=d:S.next=b,!Lt(d,e.memoizedState)&&(bt=!0,L&&(a=mr,a!==null)))throw a;e.memoizedState=d,e.baseState=g,e.baseQueue=S,i.lastRenderedState=d}return u===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function gu(e){var t=ft(),a=t.queue;if(a===null)throw Error(l(311));a.lastRenderedReducer=e;var i=a.dispatch,u=a.pending,d=t.memoizedState;if(u!==null){a.pending=null;var g=u=u.next;do d=e(d,g.action),g=g.next;while(g!==u);Lt(d,t.memoizedState)||(bt=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),a.lastRenderedState=d}return[d,i]}function Uf(e,t,a){var i=be,u=ft(),d=Le;if(d){if(a===void 0)throw Error(l(407));a=a()}else a=t();var g=!Lt((Ge||u).memoizedState,a);g&&(u.memoizedState=a,bt=!0),u=u.queue;var b=Lf.bind(null,i,u,e);if(As(2048,8,b,[e]),u.getSnapshot!==t||g||dt!==null&&dt.memoizedState.tag&1){if(i.flags|=2048,pr(9,Wi(),qf.bind(null,i,u,a,t),null),Fe===null)throw Error(l(349));d||(Wn&124)!==0||zf(i,t,a)}return a}function zf(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=be.updateQueue,t===null?(t=hu(),be.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function qf(e,t,a,i){t.value=a,t.getSnapshot=i,Bf(t)&&Hf(e)}function Lf(e,t,a){return a(function(){Bf(t)&&Hf(e)})}function Bf(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!Lt(e,a)}catch{return!0}}function Hf(e){var t=ur(e,2);t!==null&&Yt(t,e,2)}function vu(e){var t=Ut();if(typeof e=="function"){var a=e;if(e=a(),za){F(!0);try{a()}finally{F(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Un,lastRenderedState:e},t}function $f(e,t,a,i){return e.baseState=a,yu(e,Ge,typeof i=="function"?i:Un)}function fp(e,t,a,i,u){if(tl(e))throw Error(l(485));if(e=t.action,e!==null){var d={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){d.listeners.push(g)}};q.T!==null?a(!0):d.isTransition=!1,i(d),a=t.pending,a===null?(d.next=t.pending=d,Vf(t,d)):(d.next=a.next,t.pending=a.next=d)}}function Vf(e,t){var a=t.action,i=t.payload,u=e.state;if(t.isTransition){var d=q.T,g={};q.T=g;try{var b=a(u,i),S=q.S;S!==null&&S(g,b),Gf(e,t,b)}catch(k){pu(e,t,k)}finally{q.T=d}}else try{d=a(u,i),Gf(e,t,d)}catch(k){pu(e,t,k)}}function Gf(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(i){Yf(e,t,i)},function(i){return pu(e,t,i)}):Yf(e,t,a)}function Yf(e,t,a){t.status="fulfilled",t.value=a,Kf(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,Vf(e,a)))}function pu(e,t,a){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=a,Kf(t),t=t.next;while(t!==i)}e.action=null}function Kf(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Qf(e,t){return t}function Pf(e,t){if(Le){var a=Fe.formState;if(a!==null){e:{var i=be;if(Le){if(st){t:{for(var u=st,d=vn;u.nodeType!==8;){if(!d){u=null;break t}if(u=dn(u.nextSibling),u===null){u=null;break t}}d=u.data,u=d==="F!"||d==="F"?u:null}if(u){st=dn(u.nextSibling),i=u.data==="F!";break e}}Da(i)}i=!1}i&&(t=a[0])}}return a=Ut(),a.memoizedState=a.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qf,lastRenderedState:t},a.queue=i,a=fh.bind(null,be,i),i.dispatch=a,i=vu(!1),d=xu.bind(null,be,!1,i.queue),i=Ut(),u={state:t,dispatch:null,action:e,pending:null},i.queue=u,a=fp.bind(null,be,u,d,a),u.dispatch=a,i.memoizedState=e,[t,a,!1]}function If(e){var t=ft();return Ff(t,Ge,e)}function Ff(e,t,a){if(t=yu(e,t,Qf)[0],e=Ji(Un)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=Os(t)}catch(g){throw g===ws?Qi:g}else i=t;t=ft();var u=t.queue,d=u.dispatch;return a!==t.memoizedState&&(be.flags|=2048,pr(9,Wi(),hp.bind(null,u,a),null)),[i,d,e]}function hp(e,t){e.action=t}function Xf(e){var t=ft(),a=Ge;if(a!==null)return Ff(t,a,e);ft(),t=t.memoizedState,a=ft();var i=a.queue.dispatch;return a.memoizedState=e,[t,i,!1]}function pr(e,t,a,i){return e={tag:e,create:a,deps:i,inst:t,next:null},t=be.updateQueue,t===null&&(t=hu(),be.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(i=a.next,a.next=e,e.next=i,t.lastEffect=e),e}function Wi(){return{destroy:void 0,resource:void 0}}function Zf(){return ft().memoizedState}function el(e,t,a,i){var u=Ut();i=i===void 0?null:i,be.flags|=e,u.memoizedState=pr(1|t,Wi(),a,i)}function As(e,t,a,i){var u=ft();i=i===void 0?null:i;var d=u.memoizedState.inst;Ge!==null&&i!==null&&ou(i,Ge.memoizedState.deps)?u.memoizedState=pr(t,d,a,i):(be.flags|=e,u.memoizedState=pr(1|t,d,a,i))}function Jf(e,t){el(8390656,8,e,t)}function Wf(e,t){As(2048,8,e,t)}function eh(e,t){return As(4,2,e,t)}function th(e,t){return As(4,4,e,t)}function nh(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ah(e,t,a){a=a!=null?a.concat([e]):null,As(4,4,nh.bind(null,t,e),a)}function bu(){}function rh(e,t){var a=ft();t=t===void 0?null:t;var i=a.memoizedState;return t!==null&&ou(t,i[1])?i[0]:(a.memoizedState=[e,t],e)}function sh(e,t){var a=ft();t=t===void 0?null:t;var i=a.memoizedState;if(t!==null&&ou(t,i[1]))return i[0];if(i=e(),za){F(!0);try{e()}finally{F(!1)}}return a.memoizedState=[i,t],i}function _u(e,t,a){return a===void 0||(Wn&1073741824)!==0?e.memoizedState=t:(e.memoizedState=a,e=om(),be.lanes|=e,ia|=e,a)}function ih(e,t,a,i){return Lt(a,t)?a:yr.current!==null?(e=_u(e,a,i),Lt(e,t)||(bt=!0),e):(Wn&42)===0?(bt=!0,e.memoizedState=a):(e=om(),be.lanes|=e,ia|=e,t)}function lh(e,t,a,i,u){var d=K.p;K.p=d!==0&&8>d?d:8;var g=q.T,b={};q.T=b,xu(e,!1,t,a);try{var S=u(),k=q.S;if(k!==null&&k(b,S),S!==null&&typeof S=="object"&&typeof S.then=="function"){var L=up(S,i);Cs(e,t,L,Gt(e))}else Cs(e,t,i,Gt(e))}catch($){Cs(e,t,{then:function(){},status:"rejected",reason:$},Gt())}finally{K.p=d,q.T=g}}function mp(){}function wu(e,t,a,i){if(e.tag!==5)throw Error(l(476));var u=oh(e).queue;lh(e,u,t,se,a===null?mp:function(){return uh(e),a(i)})}function oh(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:se,baseState:se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Un,lastRenderedState:se},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Un,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function uh(e){var t=oh(e).next.queue;Cs(e,t,{},Gt())}function Su(){return jt(Ps)}function ch(){return ft().memoizedState}function dh(){return ft().memoizedState}function yp(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=Gt();e=Zn(a);var i=Jn(t,e,a);i!==null&&(Yt(i,t,a),xs(i,t,a)),t={cache:Jo()},e.payload=t;return}t=t.return}}function gp(e,t,a){var i=Gt();a={lane:i,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},tl(e)?hh(t,a):(a=Vo(e,t,a,i),a!==null&&(Yt(a,e,i),mh(a,t,i)))}function fh(e,t,a){var i=Gt();Cs(e,t,a,i)}function Cs(e,t,a,i){var u={lane:i,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(tl(e))hh(t,u);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var g=t.lastRenderedState,b=d(g,a);if(u.hasEagerState=!0,u.eagerState=b,Lt(b,g))return Li(e,t,u,0),Fe===null&&qi(),!1}catch{}finally{}if(a=Vo(e,t,u,i),a!==null)return Yt(a,e,i),mh(a,t,i),!0}return!1}function xu(e,t,a,i){if(i={lane:2,revertLane:tc(),action:i,hasEagerState:!1,eagerState:null,next:null},tl(e)){if(t)throw Error(l(479))}else t=Vo(e,a,i,2),t!==null&&Yt(t,e,2)}function tl(e){var t=e.alternate;return e===be||t!==null&&t===be}function hh(e,t){gr=Fi=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function mh(e,t,a){if((a&4194048)!==0){var i=t.lanes;i&=e.pendingLanes,a|=i,t.lanes=a,xa(e,a)}}var nl={readContext:jt,use:Zi,useCallback:ot,useContext:ot,useEffect:ot,useImperativeHandle:ot,useLayoutEffect:ot,useInsertionEffect:ot,useMemo:ot,useReducer:ot,useRef:ot,useState:ot,useDebugValue:ot,useDeferredValue:ot,useTransition:ot,useSyncExternalStore:ot,useId:ot,useHostTransitionStatus:ot,useFormState:ot,useActionState:ot,useOptimistic:ot,useMemoCache:ot,useCacheRefresh:ot},yh={readContext:jt,use:Zi,useCallback:function(e,t){return Ut().memoizedState=[e,t===void 0?null:t],e},useContext:jt,useEffect:Jf,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,el(4194308,4,nh.bind(null,t,e),a)},useLayoutEffect:function(e,t){return el(4194308,4,e,t)},useInsertionEffect:function(e,t){el(4,2,e,t)},useMemo:function(e,t){var a=Ut();t=t===void 0?null:t;var i=e();if(za){F(!0);try{e()}finally{F(!1)}}return a.memoizedState=[i,t],i},useReducer:function(e,t,a){var i=Ut();if(a!==void 0){var u=a(t);if(za){F(!0);try{a(t)}finally{F(!1)}}}else u=t;return i.memoizedState=i.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},i.queue=e,e=e.dispatch=gp.bind(null,be,e),[i.memoizedState,e]},useRef:function(e){var t=Ut();return e={current:e},t.memoizedState=e},useState:function(e){e=vu(e);var t=e.queue,a=fh.bind(null,be,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:bu,useDeferredValue:function(e,t){var a=Ut();return _u(a,e,t)},useTransition:function(){var e=vu(!1);return e=lh.bind(null,be,e.queue,!0,!1),Ut().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var i=be,u=Ut();if(Le){if(a===void 0)throw Error(l(407));a=a()}else{if(a=t(),Fe===null)throw Error(l(349));(Oe&124)!==0||zf(i,t,a)}u.memoizedState=a;var d={value:a,getSnapshot:t};return u.queue=d,Jf(Lf.bind(null,i,d,e),[e]),i.flags|=2048,pr(9,Wi(),qf.bind(null,i,d,a,t),null),a},useId:function(){var e=Ut(),t=Fe.identifierPrefix;if(Le){var a=Dn,i=Rn;a=(i&~(1<<32-te(i)-1)).toString(32)+a,t=""+t+"R"+a,a=Xi++,0<a&&(t+="H"+a.toString(32)),t+=""}else a=cp++,t=""+t+"r"+a.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:Su,useFormState:Pf,useActionState:Pf,useOptimistic:function(e){var t=Ut();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=xu.bind(null,be,!0,a),a.dispatch=t,[e,t]},useMemoCache:mu,useCacheRefresh:function(){return Ut().memoizedState=yp.bind(null,be)}},gh={readContext:jt,use:Zi,useCallback:rh,useContext:jt,useEffect:Wf,useImperativeHandle:ah,useInsertionEffect:eh,useLayoutEffect:th,useMemo:sh,useReducer:Ji,useRef:Zf,useState:function(){return Ji(Un)},useDebugValue:bu,useDeferredValue:function(e,t){var a=ft();return ih(a,Ge.memoizedState,e,t)},useTransition:function(){var e=Ji(Un)[0],t=ft().memoizedState;return[typeof e=="boolean"?e:Os(e),t]},useSyncExternalStore:Uf,useId:ch,useHostTransitionStatus:Su,useFormState:If,useActionState:If,useOptimistic:function(e,t){var a=ft();return $f(a,Ge,e,t)},useMemoCache:mu,useCacheRefresh:dh},vp={readContext:jt,use:Zi,useCallback:rh,useContext:jt,useEffect:Wf,useImperativeHandle:ah,useInsertionEffect:eh,useLayoutEffect:th,useMemo:sh,useReducer:gu,useRef:Zf,useState:function(){return gu(Un)},useDebugValue:bu,useDeferredValue:function(e,t){var a=ft();return Ge===null?_u(a,e,t):ih(a,Ge.memoizedState,e,t)},useTransition:function(){var e=gu(Un)[0],t=ft().memoizedState;return[typeof e=="boolean"?e:Os(e),t]},useSyncExternalStore:Uf,useId:ch,useHostTransitionStatus:Su,useFormState:Xf,useActionState:Xf,useOptimistic:function(e,t){var a=ft();return Ge!==null?$f(a,Ge,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:mu,useCacheRefresh:dh},br=null,ks=0;function al(e){var t=ks;return ks+=1,br===null&&(br=[]),Of(br,e,t)}function Rs(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function rl(e,t){throw t.$$typeof===_?Error(l(525)):(e=Object.prototype.toString.call(t),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function vh(e){var t=e._init;return t(e._payload)}function ph(e){function t(O,E){if(e){var C=O.deletions;C===null?(O.deletions=[E],O.flags|=16):C.push(E)}}function a(O,E){if(!e)return null;for(;E!==null;)t(O,E),E=E.sibling;return null}function i(O){for(var E=new Map;O!==null;)O.key!==null?E.set(O.key,O):E.set(O.index,O),O=O.sibling;return E}function u(O,E){return O=kn(O,E),O.index=0,O.sibling=null,O}function d(O,E,C){return O.index=C,e?(C=O.alternate,C!==null?(C=C.index,C<E?(O.flags|=67108866,E):C):(O.flags|=67108866,E)):(O.flags|=1048576,E)}function g(O){return e&&O.alternate===null&&(O.flags|=67108866),O}function b(O,E,C,B){return E===null||E.tag!==6?(E=Yo(C,O.mode,B),E.return=O,E):(E=u(E,C),E.return=O,E)}function S(O,E,C,B){var ee=C.type;return ee===A?L(O,E,C.props.children,B,C.key):E!==null&&(E.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===Ee&&vh(ee)===E.type)?(E=u(E,C.props),Rs(E,C),E.return=O,E):(E=Hi(C.type,C.key,C.props,null,O.mode,B),Rs(E,C),E.return=O,E)}function k(O,E,C,B){return E===null||E.tag!==4||E.stateNode.containerInfo!==C.containerInfo||E.stateNode.implementation!==C.implementation?(E=Ko(C,O.mode,B),E.return=O,E):(E=u(E,C.children||[]),E.return=O,E)}function L(O,E,C,B,ee){return E===null||E.tag!==7?(E=Aa(C,O.mode,B,ee),E.return=O,E):(E=u(E,C),E.return=O,E)}function $(O,E,C){if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return E=Yo(""+E,O.mode,C),E.return=O,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case w:return C=Hi(E.type,E.key,E.props,null,O.mode,C),Rs(C,E),C.return=O,C;case T:return E=Ko(E,O.mode,C),E.return=O,E;case Ee:var B=E._init;return E=B(E._payload),$(O,E,C)}if(ct(E)||pe(E))return E=Aa(E,O.mode,C,null),E.return=O,E;if(typeof E.then=="function")return $(O,al(E),C);if(E.$$typeof===H)return $(O,Yi(O,E),C);rl(O,E)}return null}function R(O,E,C,B){var ee=E!==null?E.key:null;if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return ee!==null?null:b(O,E,""+C,B);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case w:return C.key===ee?S(O,E,C,B):null;case T:return C.key===ee?k(O,E,C,B):null;case Ee:return ee=C._init,C=ee(C._payload),R(O,E,C,B)}if(ct(C)||pe(C))return ee!==null?null:L(O,E,C,B,null);if(typeof C.then=="function")return R(O,E,al(C),B);if(C.$$typeof===H)return R(O,E,Yi(O,C),B);rl(O,C)}return null}function D(O,E,C,B,ee){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return O=O.get(C)||null,b(E,O,""+B,ee);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case w:return O=O.get(B.key===null?C:B.key)||null,S(E,O,B,ee);case T:return O=O.get(B.key===null?C:B.key)||null,k(E,O,B,ee);case Ee:var _e=B._init;return B=_e(B._payload),D(O,E,C,B,ee)}if(ct(B)||pe(B))return O=O.get(C)||null,L(E,O,B,ee,null);if(typeof B.then=="function")return D(O,E,C,al(B),ee);if(B.$$typeof===H)return D(O,E,C,Yi(E,B),ee);rl(E,B)}return null}function ce(O,E,C,B){for(var ee=null,_e=null,ae=E,ue=E=0,wt=null;ae!==null&&ue<C.length;ue++){ae.index>ue?(wt=ae,ae=null):wt=ae.sibling;var Ne=R(O,ae,C[ue],B);if(Ne===null){ae===null&&(ae=wt);break}e&&ae&&Ne.alternate===null&&t(O,ae),E=d(Ne,E,ue),_e===null?ee=Ne:_e.sibling=Ne,_e=Ne,ae=wt}if(ue===C.length)return a(O,ae),Le&&ka(O,ue),ee;if(ae===null){for(;ue<C.length;ue++)ae=$(O,C[ue],B),ae!==null&&(E=d(ae,E,ue),_e===null?ee=ae:_e.sibling=ae,_e=ae);return Le&&ka(O,ue),ee}for(ae=i(ae);ue<C.length;ue++)wt=D(ae,O,ue,C[ue],B),wt!==null&&(e&&wt.alternate!==null&&ae.delete(wt.key===null?ue:wt.key),E=d(wt,E,ue),_e===null?ee=wt:_e.sibling=wt,_e=wt);return e&&ae.forEach(function(ya){return t(O,ya)}),Le&&ka(O,ue),ee}function oe(O,E,C,B){if(C==null)throw Error(l(151));for(var ee=null,_e=null,ae=E,ue=E=0,wt=null,Ne=C.next();ae!==null&&!Ne.done;ue++,Ne=C.next()){ae.index>ue?(wt=ae,ae=null):wt=ae.sibling;var ya=R(O,ae,Ne.value,B);if(ya===null){ae===null&&(ae=wt);break}e&&ae&&ya.alternate===null&&t(O,ae),E=d(ya,E,ue),_e===null?ee=ya:_e.sibling=ya,_e=ya,ae=wt}if(Ne.done)return a(O,ae),Le&&ka(O,ue),ee;if(ae===null){for(;!Ne.done;ue++,Ne=C.next())Ne=$(O,Ne.value,B),Ne!==null&&(E=d(Ne,E,ue),_e===null?ee=Ne:_e.sibling=Ne,_e=Ne);return Le&&ka(O,ue),ee}for(ae=i(ae);!Ne.done;ue++,Ne=C.next())Ne=D(ae,O,ue,Ne.value,B),Ne!==null&&(e&&Ne.alternate!==null&&ae.delete(Ne.key===null?ue:Ne.key),E=d(Ne,E,ue),_e===null?ee=Ne:_e.sibling=Ne,_e=Ne);return e&&ae.forEach(function(p0){return t(O,p0)}),Le&&ka(O,ue),ee}function Ke(O,E,C,B){if(typeof C=="object"&&C!==null&&C.type===A&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case w:e:{for(var ee=C.key;E!==null;){if(E.key===ee){if(ee=C.type,ee===A){if(E.tag===7){a(O,E.sibling),B=u(E,C.props.children),B.return=O,O=B;break e}}else if(E.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===Ee&&vh(ee)===E.type){a(O,E.sibling),B=u(E,C.props),Rs(B,C),B.return=O,O=B;break e}a(O,E);break}else t(O,E);E=E.sibling}C.type===A?(B=Aa(C.props.children,O.mode,B,C.key),B.return=O,O=B):(B=Hi(C.type,C.key,C.props,null,O.mode,B),Rs(B,C),B.return=O,O=B)}return g(O);case T:e:{for(ee=C.key;E!==null;){if(E.key===ee)if(E.tag===4&&E.stateNode.containerInfo===C.containerInfo&&E.stateNode.implementation===C.implementation){a(O,E.sibling),B=u(E,C.children||[]),B.return=O,O=B;break e}else{a(O,E);break}else t(O,E);E=E.sibling}B=Ko(C,O.mode,B),B.return=O,O=B}return g(O);case Ee:return ee=C._init,C=ee(C._payload),Ke(O,E,C,B)}if(ct(C))return ce(O,E,C,B);if(pe(C)){if(ee=pe(C),typeof ee!="function")throw Error(l(150));return C=ee.call(C),oe(O,E,C,B)}if(typeof C.then=="function")return Ke(O,E,al(C),B);if(C.$$typeof===H)return Ke(O,E,Yi(O,C),B);rl(O,C)}return typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint"?(C=""+C,E!==null&&E.tag===6?(a(O,E.sibling),B=u(E,C),B.return=O,O=B):(a(O,E),B=Yo(C,O.mode,B),B.return=O,O=B),g(O)):a(O,E)}return function(O,E,C,B){try{ks=0;var ee=Ke(O,E,C,B);return br=null,ee}catch(ae){if(ae===ws||ae===Qi)throw ae;var _e=Bt(29,ae,null,O.mode);return _e.lanes=B,_e.return=O,_e}finally{}}}var _r=ph(!0),bh=ph(!1),nn=G(null),pn=null;function ea(e){var t=e.alternate;I(yt,yt.current&1),I(nn,e),pn===null&&(t===null||yr.current!==null||t.memoizedState!==null)&&(pn=e)}function _h(e){if(e.tag===22){if(I(yt,yt.current),I(nn,e),pn===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(pn=e)}}else ta()}function ta(){I(yt,yt.current),I(nn,nn.current)}function zn(e){J(nn),pn===e&&(pn=null),J(yt)}var yt=G(0);function sl(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||hc(a)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Eu(e,t,a,i){t=e.memoizedState,a=a(i,t),a=a==null?t:p({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Tu={enqueueSetState:function(e,t,a){e=e._reactInternals;var i=Gt(),u=Zn(i);u.payload=t,a!=null&&(u.callback=a),t=Jn(e,u,i),t!==null&&(Yt(t,e,i),xs(t,e,i))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var i=Gt(),u=Zn(i);u.tag=1,u.payload=t,a!=null&&(u.callback=a),t=Jn(e,u,i),t!==null&&(Yt(t,e,i),xs(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Gt(),i=Zn(a);i.tag=2,t!=null&&(i.callback=t),t=Jn(e,i,a),t!==null&&(Yt(t,e,a),xs(t,e,a))}};function wh(e,t,a,i,u,d,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,d,g):t.prototype&&t.prototype.isPureReactComponent?!hs(a,i)||!hs(u,d):!0}function Sh(e,t,a,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,i),t.state!==e&&Tu.enqueueReplaceState(t,t.state,null)}function qa(e,t){var a=t;if("ref"in t){a={};for(var i in t)i!=="ref"&&(a[i]=t[i])}if(e=e.defaultProps){a===t&&(a=p({},a));for(var u in e)a[u]===void 0&&(a[u]=e[u])}return a}var il=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function xh(e){il(e)}function Eh(e){console.error(e)}function Th(e){il(e)}function ll(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function jh(e,t,a){try{var i=e.onCaughtError;i(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function ju(e,t,a){return a=Zn(a),a.tag=3,a.payload={element:null},a.callback=function(){ll(e,t)},a}function Oh(e){return e=Zn(e),e.tag=3,e}function Ah(e,t,a,i){var u=a.type.getDerivedStateFromError;if(typeof u=="function"){var d=i.value;e.payload=function(){return u(d)},e.callback=function(){jh(t,a,i)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){jh(t,a,i),typeof u!="function"&&(la===null?la=new Set([this]):la.add(this));var b=i.stack;this.componentDidCatch(i.value,{componentStack:b!==null?b:""})})}function pp(e,t,a,i,u){if(a.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=a.alternate,t!==null&&ps(t,a,u,!0),a=nn.current,a!==null){switch(a.tag){case 13:return pn===null?Xu():a.alternate===null&&it===0&&(it=3),a.flags&=-257,a.flags|=65536,a.lanes=u,i===tu?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([i]):t.add(i),Ju(e,i,u)),!1;case 22:return a.flags|=65536,i===tu?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([i]):a.add(i)),Ju(e,i,u)),!1}throw Error(l(435,a.tag))}return Ju(e,i,u),Xu(),!1}if(Le)return t=nn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=u,i!==Io&&(e=Error(l(422),{cause:i}),vs(Jt(e,a)))):(i!==Io&&(t=Error(l(423),{cause:i}),vs(Jt(t,a))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,i=Jt(i,a),u=ju(e.stateNode,i,u),ru(e,u),it!==4&&(it=2)),!1;var d=Error(l(520),{cause:i});if(d=Jt(d,a),Ls===null?Ls=[d]:Ls.push(d),it!==4&&(it=2),t===null)return!0;i=Jt(i,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=u&-u,a.lanes|=e,e=ju(a.stateNode,i,e),ru(a,e),!1;case 1:if(t=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(la===null||!la.has(d))))return a.flags|=65536,u&=-u,a.lanes|=u,u=Oh(u),Ah(u,e,a,i),ru(a,u),!1}a=a.return}while(a!==null);return!1}var Ch=Error(l(461)),bt=!1;function xt(e,t,a,i){t.child=e===null?bh(t,null,a,i):_r(t,e.child,a,i)}function kh(e,t,a,i,u){a=a.render;var d=t.ref;if("ref"in i){var g={};for(var b in i)b!=="ref"&&(g[b]=i[b])}else g=i;return Ma(t),i=uu(e,t,a,g,d,u),b=cu(),e!==null&&!bt?(du(e,t,u),qn(e,t,u)):(Le&&b&&Qo(t),t.flags|=1,xt(e,t,i,u),t.child)}function Rh(e,t,a,i,u){if(e===null){var d=a.type;return typeof d=="function"&&!Go(d)&&d.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=d,Dh(e,t,d,i,u)):(e=Hi(a.type,null,i,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,!Mu(e,u)){var g=d.memoizedProps;if(a=a.compare,a=a!==null?a:hs,a(g,i)&&e.ref===t.ref)return qn(e,t,u)}return t.flags|=1,e=kn(d,i),e.ref=t.ref,e.return=t,t.child=e}function Dh(e,t,a,i,u){if(e!==null){var d=e.memoizedProps;if(hs(d,i)&&e.ref===t.ref)if(bt=!1,t.pendingProps=i=d,Mu(e,u))(e.flags&131072)!==0&&(bt=!0);else return t.lanes=e.lanes,qn(e,t,u)}return Ou(e,t,a,i,u)}function Nh(e,t,a){var i=t.pendingProps,u=i.children,d=e!==null?e.memoizedState:null;if(i.mode==="hidden"){if((t.flags&128)!==0){if(i=d!==null?d.baseLanes|a:a,e!==null){for(u=t.child=e.child,d=0;u!==null;)d=d|u.lanes|u.childLanes,u=u.sibling;t.childLanes=d&~i}else t.childLanes=0,t.child=null;return Mh(e,t,i,a)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ki(t,d!==null?d.cachePool:null),d!==null?Df(t,d):iu(),_h(t);else return t.lanes=t.childLanes=536870912,Mh(e,t,d!==null?d.baseLanes|a:a,a)}else d!==null?(Ki(t,d.cachePool),Df(t,d),ta(),t.memoizedState=null):(e!==null&&Ki(t,null),iu(),ta());return xt(e,t,u,a),t.child}function Mh(e,t,a,i){var u=eu();return u=u===null?null:{parent:mt._currentValue,pool:u},t.memoizedState={baseLanes:a,cachePool:u},e!==null&&Ki(t,null),iu(),_h(t),e!==null&&ps(e,t,i,!0),null}function ol(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(l(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function Ou(e,t,a,i,u){return Ma(t),a=uu(e,t,a,i,void 0,u),i=cu(),e!==null&&!bt?(du(e,t,u),qn(e,t,u)):(Le&&i&&Qo(t),t.flags|=1,xt(e,t,a,u),t.child)}function Uh(e,t,a,i,u,d){return Ma(t),t.updateQueue=null,a=Mf(t,i,a,u),Nf(e),i=cu(),e!==null&&!bt?(du(e,t,d),qn(e,t,d)):(Le&&i&&Qo(t),t.flags|=1,xt(e,t,a,d),t.child)}function zh(e,t,a,i,u){if(Ma(t),t.stateNode===null){var d=cr,g=a.contextType;typeof g=="object"&&g!==null&&(d=jt(g)),d=new a(i,d),t.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Tu,t.stateNode=d,d._reactInternals=t,d=t.stateNode,d.props=i,d.state=t.memoizedState,d.refs={},nu(t),g=a.contextType,d.context=typeof g=="object"&&g!==null?jt(g):cr,d.state=t.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(Eu(t,a,g,i),d.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(g=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),g!==d.state&&Tu.enqueueReplaceState(d,d.state,null),Ts(t,i,d,u),Es(),d.state=t.memoizedState),typeof d.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){d=t.stateNode;var b=t.memoizedProps,S=qa(a,b);d.props=S;var k=d.context,L=a.contextType;g=cr,typeof L=="object"&&L!==null&&(g=jt(L));var $=a.getDerivedStateFromProps;L=typeof $=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=t.pendingProps!==b,L||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||k!==g)&&Sh(t,d,i,g),Xn=!1;var R=t.memoizedState;d.state=R,Ts(t,i,d,u),Es(),k=t.memoizedState,b||R!==k||Xn?(typeof $=="function"&&(Eu(t,a,$,i),k=t.memoizedState),(S=Xn||wh(t,a,S,i,R,k,g))?(L||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=k),d.props=i,d.state=k,d.context=g,i=S):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{d=t.stateNode,au(e,t),g=t.memoizedProps,L=qa(a,g),d.props=L,$=t.pendingProps,R=d.context,k=a.contextType,S=cr,typeof k=="object"&&k!==null&&(S=jt(k)),b=a.getDerivedStateFromProps,(k=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(g!==$||R!==S)&&Sh(t,d,i,S),Xn=!1,R=t.memoizedState,d.state=R,Ts(t,i,d,u),Es();var D=t.memoizedState;g!==$||R!==D||Xn||e!==null&&e.dependencies!==null&&Gi(e.dependencies)?(typeof b=="function"&&(Eu(t,a,b,i),D=t.memoizedState),(L=Xn||wh(t,a,L,i,R,D,S)||e!==null&&e.dependencies!==null&&Gi(e.dependencies))?(k||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(i,D,S),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(i,D,S)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||g===e.memoizedProps&&R===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&R===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=D),d.props=i,d.state=D,d.context=S,i=L):(typeof d.componentDidUpdate!="function"||g===e.memoizedProps&&R===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&R===e.memoizedState||(t.flags|=1024),i=!1)}return d=i,ol(e,t),i=(t.flags&128)!==0,d||i?(d=t.stateNode,a=i&&typeof a.getDerivedStateFromError!="function"?null:d.render(),t.flags|=1,e!==null&&i?(t.child=_r(t,e.child,null,u),t.child=_r(t,null,a,u)):xt(e,t,a,u),t.memoizedState=d.state,e=t.child):e=qn(e,t,u),e}function qh(e,t,a,i){return gs(),t.flags|=256,xt(e,t,a,i),t.child}var Au={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Cu(e){return{baseLanes:e,cachePool:Ef()}}function ku(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=an),e}function Lh(e,t,a){var i=t.pendingProps,u=!1,d=(t.flags&128)!==0,g;if((g=d)||(g=e!==null&&e.memoizedState===null?!1:(yt.current&2)!==0),g&&(u=!0,t.flags&=-129),g=(t.flags&32)!==0,t.flags&=-33,e===null){if(Le){if(u?ea(t):ta(),Le){var b=st,S;if(S=b){e:{for(S=b,b=vn;S.nodeType!==8;){if(!b){b=null;break e}if(S=dn(S.nextSibling),S===null){b=null;break e}}b=S}b!==null?(t.memoizedState={dehydrated:b,treeContext:Ca!==null?{id:Rn,overflow:Dn}:null,retryLane:536870912,hydrationErrors:null},S=Bt(18,null,null,0),S.stateNode=b,S.return=t,t.child=S,Rt=t,st=null,S=!0):S=!1}S||Da(t)}if(b=t.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return hc(b)?t.lanes=32:t.lanes=536870912,null;zn(t)}return b=i.children,i=i.fallback,u?(ta(),u=t.mode,b=ul({mode:"hidden",children:b},u),i=Aa(i,u,a,null),b.return=t,i.return=t,b.sibling=i,t.child=b,u=t.child,u.memoizedState=Cu(a),u.childLanes=ku(e,g,a),t.memoizedState=Au,i):(ea(t),Ru(t,b))}if(S=e.memoizedState,S!==null&&(b=S.dehydrated,b!==null)){if(d)t.flags&256?(ea(t),t.flags&=-257,t=Du(e,t,a)):t.memoizedState!==null?(ta(),t.child=e.child,t.flags|=128,t=null):(ta(),u=i.fallback,b=t.mode,i=ul({mode:"visible",children:i.children},b),u=Aa(u,b,a,null),u.flags|=2,i.return=t,u.return=t,i.sibling=u,t.child=i,_r(t,e.child,null,a),i=t.child,i.memoizedState=Cu(a),i.childLanes=ku(e,g,a),t.memoizedState=Au,t=u);else if(ea(t),hc(b)){if(g=b.nextSibling&&b.nextSibling.dataset,g)var k=g.dgst;g=k,i=Error(l(419)),i.stack="",i.digest=g,vs({value:i,source:null,stack:null}),t=Du(e,t,a)}else if(bt||ps(e,t,a,!1),g=(a&e.childLanes)!==0,bt||g){if(g=Fe,g!==null&&(i=a&-a,i=(i&42)!==0?1:on(i),i=(i&(g.suspendedLanes|a))!==0?0:i,i!==0&&i!==S.retryLane))throw S.retryLane=i,ur(e,i),Yt(g,e,i),Ch;b.data==="$?"||Xu(),t=Du(e,t,a)}else b.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=S.treeContext,st=dn(b.nextSibling),Rt=t,Le=!0,Ra=null,vn=!1,e!==null&&(en[tn++]=Rn,en[tn++]=Dn,en[tn++]=Ca,Rn=e.id,Dn=e.overflow,Ca=t),t=Ru(t,i.children),t.flags|=4096);return t}return u?(ta(),u=i.fallback,b=t.mode,S=e.child,k=S.sibling,i=kn(S,{mode:"hidden",children:i.children}),i.subtreeFlags=S.subtreeFlags&65011712,k!==null?u=kn(k,u):(u=Aa(u,b,a,null),u.flags|=2),u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,b=e.child.memoizedState,b===null?b=Cu(a):(S=b.cachePool,S!==null?(k=mt._currentValue,S=S.parent!==k?{parent:k,pool:k}:S):S=Ef(),b={baseLanes:b.baseLanes|a,cachePool:S}),u.memoizedState=b,u.childLanes=ku(e,g,a),t.memoizedState=Au,i):(ea(t),a=e.child,e=a.sibling,a=kn(a,{mode:"visible",children:i.children}),a.return=t,a.sibling=null,e!==null&&(g=t.deletions,g===null?(t.deletions=[e],t.flags|=16):g.push(e)),t.child=a,t.memoizedState=null,a)}function Ru(e,t){return t=ul({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function ul(e,t){return e=Bt(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Du(e,t,a){return _r(t,e.child,null,a),e=Ru(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Bh(e,t,a){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),Xo(e.return,t,a)}function Nu(e,t,a,i,u){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:a,tailMode:u}:(d.isBackwards=t,d.rendering=null,d.renderingStartTime=0,d.last=i,d.tail=a,d.tailMode=u)}function Hh(e,t,a){var i=t.pendingProps,u=i.revealOrder,d=i.tail;if(xt(e,t,i.children,a),i=yt.current,(i&2)!==0)i=i&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Bh(e,a,t);else if(e.tag===19)Bh(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}switch(I(yt,i),u){case"forwards":for(a=t.child,u=null;a!==null;)e=a.alternate,e!==null&&sl(e)===null&&(u=a),a=a.sibling;a=u,a===null?(u=t.child,t.child=null):(u=a.sibling,a.sibling=null),Nu(t,!1,u,a,d);break;case"backwards":for(a=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&sl(e)===null){t.child=u;break}e=u.sibling,u.sibling=a,a=u,u=e}Nu(t,!0,a,null,d);break;case"together":Nu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qn(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),ia|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(ps(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(l(153));if(t.child!==null){for(e=t.child,a=kn(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=kn(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function Mu(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Gi(e)))}function bp(e,t,a){switch(t.tag){case 3:He(t,t.stateNode.containerInfo),Fn(t,mt,e.memoizedState.cache),gs();break;case 27:case 5:Pa(t);break;case 4:He(t,t.stateNode.containerInfo);break;case 10:Fn(t,t.type,t.memoizedProps.value);break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(ea(t),t.flags|=128,null):(a&t.child.childLanes)!==0?Lh(e,t,a):(ea(t),e=qn(e,t,a),e!==null?e.sibling:null);ea(t);break;case 19:var u=(e.flags&128)!==0;if(i=(a&t.childLanes)!==0,i||(ps(e,t,a,!1),i=(a&t.childLanes)!==0),u){if(i)return Hh(e,t,a);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),I(yt,yt.current),i)break;return null;case 22:case 23:return t.lanes=0,Nh(e,t,a);case 24:Fn(t,mt,e.memoizedState.cache)}return qn(e,t,a)}function $h(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)bt=!0;else{if(!Mu(e,a)&&(t.flags&128)===0)return bt=!1,bp(e,t,a);bt=(e.flags&131072)!==0}else bt=!1,Le&&(t.flags&1048576)!==0&&vf(t,Vi,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var i=t.elementType,u=i._init;if(i=u(i._payload),t.type=i,typeof i=="function")Go(i)?(e=qa(i,e),t.tag=1,t=zh(null,t,i,e,a)):(t.tag=0,t=Ou(null,t,i,e,a));else{if(i!=null){if(u=i.$$typeof,u===P){t.tag=11,t=kh(null,t,i,e,a);break e}else if(u===Z){t.tag=14,t=Rh(null,t,i,e,a);break e}}throw t=Ct(i)||i,Error(l(306,t,""))}}return t;case 0:return Ou(e,t,t.type,t.pendingProps,a);case 1:return i=t.type,u=qa(i,t.pendingProps),zh(e,t,i,u,a);case 3:e:{if(He(t,t.stateNode.containerInfo),e===null)throw Error(l(387));i=t.pendingProps;var d=t.memoizedState;u=d.element,au(e,t),Ts(t,i,null,a);var g=t.memoizedState;if(i=g.cache,Fn(t,mt,i),i!==d.cache&&Zo(t,[mt],a,!0),Es(),i=g.element,d.isDehydrated)if(d={element:i,isDehydrated:!1,cache:g.cache},t.updateQueue.baseState=d,t.memoizedState=d,t.flags&256){t=qh(e,t,i,a);break e}else if(i!==u){u=Jt(Error(l(424)),t),vs(u),t=qh(e,t,i,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(st=dn(e.firstChild),Rt=t,Le=!0,Ra=null,vn=!0,a=bh(t,null,i,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(gs(),i===u){t=qn(e,t,a);break e}xt(e,t,i,a)}t=t.child}return t;case 26:return ol(e,t),e===null?(a=Km(t.type,null,t.pendingProps,null))?t.memoizedState=a:Le||(a=t.type,e=t.pendingProps,i=xl(ie.current).createElement(a),i[qe]=t,i[Ze]=e,Tt(i,a,e),pt(i),t.stateNode=i):t.memoizedState=Km(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Pa(t),e===null&&Le&&(i=t.stateNode=Vm(t.type,t.pendingProps,ie.current),Rt=t,vn=!0,u=st,ca(t.type)?(mc=u,st=dn(i.firstChild)):st=u),xt(e,t,t.pendingProps.children,a),ol(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Le&&((u=i=st)&&(i=Pp(i,t.type,t.pendingProps,vn),i!==null?(t.stateNode=i,Rt=t,st=dn(i.firstChild),vn=!1,u=!0):u=!1),u||Da(t)),Pa(t),u=t.type,d=t.pendingProps,g=e!==null?e.memoizedProps:null,i=d.children,cc(u,d)?i=null:g!==null&&cc(u,g)&&(t.flags|=32),t.memoizedState!==null&&(u=uu(e,t,dp,null,null,a),Ps._currentValue=u),ol(e,t),xt(e,t,i,a),t.child;case 6:return e===null&&Le&&((e=a=st)&&(a=Ip(a,t.pendingProps,vn),a!==null?(t.stateNode=a,Rt=t,st=null,e=!0):e=!1),e||Da(t)),null;case 13:return Lh(e,t,a);case 4:return He(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=_r(t,null,i,a):xt(e,t,i,a),t.child;case 11:return kh(e,t,t.type,t.pendingProps,a);case 7:return xt(e,t,t.pendingProps,a),t.child;case 8:return xt(e,t,t.pendingProps.children,a),t.child;case 12:return xt(e,t,t.pendingProps.children,a),t.child;case 10:return i=t.pendingProps,Fn(t,t.type,i.value),xt(e,t,i.children,a),t.child;case 9:return u=t.type._context,i=t.pendingProps.children,Ma(t),u=jt(u),i=i(u),t.flags|=1,xt(e,t,i,a),t.child;case 14:return Rh(e,t,t.type,t.pendingProps,a);case 15:return Dh(e,t,t.type,t.pendingProps,a);case 19:return Hh(e,t,a);case 31:return i=t.pendingProps,a=t.mode,i={mode:i.mode,children:i.children},e===null?(a=ul(i,a),a.ref=t.ref,t.child=a,a.return=t,t=a):(a=kn(e.child,i),a.ref=t.ref,t.child=a,a.return=t,t=a),t;case 22:return Nh(e,t,a);case 24:return Ma(t),i=jt(mt),e===null?(u=eu(),u===null&&(u=Fe,d=Jo(),u.pooledCache=d,d.refCount++,d!==null&&(u.pooledCacheLanes|=a),u=d),t.memoizedState={parent:i,cache:u},nu(t),Fn(t,mt,u)):((e.lanes&a)!==0&&(au(e,t),Ts(t,null,null,a),Es()),u=e.memoizedState,d=t.memoizedState,u.parent!==i?(u={parent:i,cache:i},t.memoizedState=u,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=u),Fn(t,mt,i)):(i=d.cache,Fn(t,mt,i),i!==u.cache&&Zo(t,[mt],a,!0))),xt(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(l(156,t.tag))}function Ln(e){e.flags|=4}function Vh(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Xm(t)){if(t=nn.current,t!==null&&((Oe&4194048)===Oe?pn!==null:(Oe&62914560)!==Oe&&(Oe&536870912)===0||t!==pn))throw Ss=tu,Tf;e.flags|=8192}}function cl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Ft():536870912,e.lanes|=t,Er|=t)}function Ds(e,t){if(!Le)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var i=null;a!==null;)a.alternate!==null&&(i=a),a=a.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function tt(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,i=0;if(t)for(var u=e.child;u!==null;)a|=u.lanes|u.childLanes,i|=u.subtreeFlags&65011712,i|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)a|=u.lanes|u.childLanes,i|=u.subtreeFlags,i|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=i,e.childLanes=a,t}function _p(e,t,a){var i=t.pendingProps;switch(Po(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tt(t),null;case 1:return tt(t),null;case 3:return a=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),Mn(mt),kt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(ys(t)?Ln(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,_f())),tt(t),null;case 26:return a=t.memoizedState,e===null?(Ln(t),a!==null?(tt(t),Vh(t,a)):(tt(t),t.flags&=-16777217)):a?a!==e.memoizedState?(Ln(t),tt(t),Vh(t,a)):(tt(t),t.flags&=-16777217):(e.memoizedProps!==i&&Ln(t),tt(t),t.flags&=-16777217),null;case 27:es(t),a=ie.current;var u=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==i&&Ln(t);else{if(!i){if(t.stateNode===null)throw Error(l(166));return tt(t),null}e=ne.current,ys(t)?pf(t):(e=Vm(u,i,a),t.stateNode=e,Ln(t))}return tt(t),null;case 5:if(es(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&Ln(t);else{if(!i){if(t.stateNode===null)throw Error(l(166));return tt(t),null}if(e=ne.current,ys(t))pf(t);else{switch(u=xl(ie.current),e){case 1:e=u.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=u.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=u.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=u.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=u.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof i.is=="string"?u.createElement("select",{is:i.is}):u.createElement("select"),i.multiple?e.multiple=!0:i.size&&(e.size=i.size);break;default:e=typeof i.is=="string"?u.createElement(a,{is:i.is}):u.createElement(a)}}e[qe]=t,e[Ze]=i;e:for(u=t.child;u!==null;){if(u.tag===5||u.tag===6)e.appendChild(u.stateNode);else if(u.tag!==4&&u.tag!==27&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===t)break e;for(;u.sibling===null;){if(u.return===null||u.return===t)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}t.stateNode=e;e:switch(Tt(e,a,i),a){case"button":case"input":case"select":case"textarea":e=!!i.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Ln(t)}}return tt(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&Ln(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(l(166));if(e=ie.current,ys(t)){if(e=t.stateNode,a=t.memoizedProps,i=null,u=Rt,u!==null)switch(u.tag){case 27:case 5:i=u.memoizedProps}e[qe]=t,e=!!(e.nodeValue===a||i!==null&&i.suppressHydrationWarning===!0||Um(e.nodeValue,a)),e||Da(t)}else e=xl(e).createTextNode(i),e[qe]=t,t.stateNode=e}return tt(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=ys(t),i!==null&&i.dehydrated!==null){if(e===null){if(!u)throw Error(l(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(l(317));u[qe]=t}else gs(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;tt(t),u=!1}else u=_f(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return t.flags&256?(zn(t),t):(zn(t),null)}if(zn(t),(t.flags&128)!==0)return t.lanes=a,t;if(a=i!==null,e=e!==null&&e.memoizedState!==null,a){i=t.child,u=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(u=i.alternate.memoizedState.cachePool.pool);var d=null;i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(d=i.memoizedState.cachePool.pool),d!==u&&(i.flags|=2048)}return a!==e&&a&&(t.child.flags|=8192),cl(t,t.updateQueue),tt(t),null;case 4:return kt(),e===null&&sc(t.stateNode.containerInfo),tt(t),null;case 10:return Mn(t.type),tt(t),null;case 19:if(J(yt),u=t.memoizedState,u===null)return tt(t),null;if(i=(t.flags&128)!==0,d=u.rendering,d===null)if(i)Ds(u,!1);else{if(it!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(d=sl(e),d!==null){for(t.flags|=128,Ds(u,!1),e=d.updateQueue,t.updateQueue=e,cl(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)gf(a,e),a=a.sibling;return I(yt,yt.current&1|2),t.child}e=e.sibling}u.tail!==null&&It()>hl&&(t.flags|=128,i=!0,Ds(u,!1),t.lanes=4194304)}else{if(!i)if(e=sl(d),e!==null){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,cl(t,e),Ds(u,!0),u.tail===null&&u.tailMode==="hidden"&&!d.alternate&&!Le)return tt(t),null}else 2*It()-u.renderingStartTime>hl&&a!==536870912&&(t.flags|=128,i=!0,Ds(u,!1),t.lanes=4194304);u.isBackwards?(d.sibling=t.child,t.child=d):(e=u.last,e!==null?e.sibling=d:t.child=d,u.last=d)}return u.tail!==null?(t=u.tail,u.rendering=t,u.tail=t.sibling,u.renderingStartTime=It(),t.sibling=null,e=yt.current,I(yt,i?e&1|2:e&1),t):(tt(t),null);case 22:case 23:return zn(t),lu(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?(a&536870912)!==0&&(t.flags&128)===0&&(tt(t),t.subtreeFlags&6&&(t.flags|=8192)):tt(t),a=t.updateQueue,a!==null&&cl(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==a&&(t.flags|=2048),e!==null&&J(Ua),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Mn(mt),tt(t),null;case 25:return null;case 30:return null}throw Error(l(156,t.tag))}function wp(e,t){switch(Po(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Mn(mt),kt(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return es(t),null;case 13:if(zn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(l(340));gs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return J(yt),null;case 4:return kt(),null;case 10:return Mn(t.type),null;case 22:case 23:return zn(t),lu(),e!==null&&J(Ua),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Mn(mt),null;case 25:return null;default:return null}}function Gh(e,t){switch(Po(t),t.tag){case 3:Mn(mt),kt();break;case 26:case 27:case 5:es(t);break;case 4:kt();break;case 13:zn(t);break;case 19:J(yt);break;case 10:Mn(t.type);break;case 22:case 23:zn(t),lu(),e!==null&&J(Ua);break;case 24:Mn(mt)}}function Ns(e,t){try{var a=t.updateQueue,i=a!==null?a.lastEffect:null;if(i!==null){var u=i.next;a=u;do{if((a.tag&e)===e){i=void 0;var d=a.create,g=a.inst;i=d(),g.destroy=i}a=a.next}while(a!==u)}}catch(b){Pe(t,t.return,b)}}function na(e,t,a){try{var i=t.updateQueue,u=i!==null?i.lastEffect:null;if(u!==null){var d=u.next;i=d;do{if((i.tag&e)===e){var g=i.inst,b=g.destroy;if(b!==void 0){g.destroy=void 0,u=t;var S=a,k=b;try{k()}catch(L){Pe(u,S,L)}}}i=i.next}while(i!==d)}}catch(L){Pe(t,t.return,L)}}function Yh(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{Rf(t,a)}catch(i){Pe(e,e.return,i)}}}function Kh(e,t,a){a.props=qa(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(i){Pe(e,t,i)}}function Ms(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof a=="function"?e.refCleanup=a(i):a.current=i}}catch(u){Pe(e,t,u)}}function bn(e,t){var a=e.ref,i=e.refCleanup;if(a!==null)if(typeof i=="function")try{i()}catch(u){Pe(e,t,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(u){Pe(e,t,u)}else a.current=null}function Qh(e){var t=e.type,a=e.memoizedProps,i=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&i.focus();break e;case"img":a.src?i.src=a.src:a.srcSet&&(i.srcset=a.srcSet)}}catch(u){Pe(e,e.return,u)}}function Uu(e,t,a){try{var i=e.stateNode;Vp(i,e.type,a,t),i[Ze]=t}catch(u){Pe(e,e.return,u)}}function Ph(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ca(e.type)||e.tag===4}function zu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ph(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ca(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function qu(e,t,a){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=Sl));else if(i!==4&&(i===27&&ca(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(qu(e,t,a),e=e.sibling;e!==null;)qu(e,t,a),e=e.sibling}function dl(e,t,a){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(i!==4&&(i===27&&ca(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(dl(e,t,a),e=e.sibling;e!==null;)dl(e,t,a),e=e.sibling}function Ih(e){var t=e.stateNode,a=e.memoizedProps;try{for(var i=e.type,u=t.attributes;u.length;)t.removeAttributeNode(u[0]);Tt(t,i,a),t[qe]=e,t[Ze]=a}catch(d){Pe(e,e.return,d)}}var Bn=!1,ut=!1,Lu=!1,Fh=typeof WeakSet=="function"?WeakSet:Set,_t=null;function Sp(e,t){if(e=e.containerInfo,oc=Cl,e=sf(e),zo(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var i=a.getSelection&&a.getSelection();if(i&&i.rangeCount!==0){a=i.anchorNode;var u=i.anchorOffset,d=i.focusNode;i=i.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var g=0,b=-1,S=-1,k=0,L=0,$=e,R=null;t:for(;;){for(var D;$!==a||u!==0&&$.nodeType!==3||(b=g+u),$!==d||i!==0&&$.nodeType!==3||(S=g+i),$.nodeType===3&&(g+=$.nodeValue.length),(D=$.firstChild)!==null;)R=$,$=D;for(;;){if($===e)break t;if(R===a&&++k===u&&(b=g),R===d&&++L===i&&(S=g),(D=$.nextSibling)!==null)break;$=R,R=$.parentNode}$=D}a=b===-1||S===-1?null:{start:b,end:S}}else a=null}a=a||{start:0,end:0}}else a=null;for(uc={focusedElem:e,selectionRange:a},Cl=!1,_t=t;_t!==null;)if(t=_t,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,_t=e;else for(;_t!==null;){switch(t=_t,d=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=t,u=d.memoizedProps,d=d.memoizedState,i=a.stateNode;try{var ce=qa(a.type,u,a.elementType===a.type);e=i.getSnapshotBeforeUpdate(ce,d),i.__reactInternalSnapshotBeforeUpdate=e}catch(oe){Pe(a,a.return,oe)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)fc(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":fc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=t.sibling,e!==null){e.return=t.return,_t=e;break}_t=t.return}}function Xh(e,t,a){var i=a.flags;switch(a.tag){case 0:case 11:case 15:aa(e,a),i&4&&Ns(5,a);break;case 1:if(aa(e,a),i&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(g){Pe(a,a.return,g)}else{var u=qa(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(u,t,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Pe(a,a.return,g)}}i&64&&Yh(a),i&512&&Ms(a,a.return);break;case 3:if(aa(e,a),i&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Rf(e,t)}catch(g){Pe(a,a.return,g)}}break;case 27:t===null&&i&4&&Ih(a);case 26:case 5:aa(e,a),t===null&&i&4&&Qh(a),i&512&&Ms(a,a.return);break;case 12:aa(e,a);break;case 13:aa(e,a),i&4&&Wh(e,a),i&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Rp.bind(null,a),Fp(e,a))));break;case 22:if(i=a.memoizedState!==null||Bn,!i){t=t!==null&&t.memoizedState!==null||ut,u=Bn;var d=ut;Bn=i,(ut=t)&&!d?ra(e,a,(a.subtreeFlags&8772)!==0):aa(e,a),Bn=u,ut=d}break;case 30:break;default:aa(e,a)}}function Zh(e){var t=e.alternate;t!==null&&(e.alternate=null,Zh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&vo(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Je=null,zt=!1;function Hn(e,t,a){for(a=a.child;a!==null;)Jh(e,t,a),a=a.sibling}function Jh(e,t,a){if(Y&&typeof Y.onCommitFiberUnmount=="function")try{Y.onCommitFiberUnmount(z,a)}catch{}switch(a.tag){case 26:ut||bn(a,t),Hn(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ut||bn(a,t);var i=Je,u=zt;ca(a.type)&&(Je=a.stateNode,zt=!1),Hn(e,t,a),Gs(a.stateNode),Je=i,zt=u;break;case 5:ut||bn(a,t);case 6:if(i=Je,u=zt,Je=null,Hn(e,t,a),Je=i,zt=u,Je!==null)if(zt)try{(Je.nodeType===9?Je.body:Je.nodeName==="HTML"?Je.ownerDocument.body:Je).removeChild(a.stateNode)}catch(d){Pe(a,t,d)}else try{Je.removeChild(a.stateNode)}catch(d){Pe(a,t,d)}break;case 18:Je!==null&&(zt?(e=Je,Hm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Zs(e)):Hm(Je,a.stateNode));break;case 4:i=Je,u=zt,Je=a.stateNode.containerInfo,zt=!0,Hn(e,t,a),Je=i,zt=u;break;case 0:case 11:case 14:case 15:ut||na(2,a,t),ut||na(4,a,t),Hn(e,t,a);break;case 1:ut||(bn(a,t),i=a.stateNode,typeof i.componentWillUnmount=="function"&&Kh(a,t,i)),Hn(e,t,a);break;case 21:Hn(e,t,a);break;case 22:ut=(i=ut)||a.memoizedState!==null,Hn(e,t,a),ut=i;break;default:Hn(e,t,a)}}function Wh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Zs(e)}catch(a){Pe(t,t.return,a)}}function xp(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Fh),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Fh),t;default:throw Error(l(435,e.tag))}}function Bu(e,t){var a=xp(e);t.forEach(function(i){var u=Dp.bind(null,e,i);a.has(i)||(a.add(i),i.then(u,u))})}function Ht(e,t){var a=t.deletions;if(a!==null)for(var i=0;i<a.length;i++){var u=a[i],d=e,g=t,b=g;e:for(;b!==null;){switch(b.tag){case 27:if(ca(b.type)){Je=b.stateNode,zt=!1;break e}break;case 5:Je=b.stateNode,zt=!1;break e;case 3:case 4:Je=b.stateNode.containerInfo,zt=!0;break e}b=b.return}if(Je===null)throw Error(l(160));Jh(d,g,u),Je=null,zt=!1,d=u.alternate,d!==null&&(d.return=null),u.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)em(t,e),t=t.sibling}var cn=null;function em(e,t){var a=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ht(t,e),$t(e),i&4&&(na(3,e,e.return),Ns(3,e),na(5,e,e.return));break;case 1:Ht(t,e),$t(e),i&512&&(ut||a===null||bn(a,a.return)),i&64&&Bn&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?i:a.concat(i))));break;case 26:var u=cn;if(Ht(t,e),$t(e),i&512&&(ut||a===null||bn(a,a.return)),i&4){var d=a!==null?a.memoizedState:null;if(i=e.memoizedState,a===null)if(i===null)if(e.stateNode===null){e:{i=e.type,a=e.memoizedProps,u=u.ownerDocument||u;t:switch(i){case"title":d=u.getElementsByTagName("title")[0],(!d||d[rs]||d[qe]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=u.createElement(i),u.head.insertBefore(d,u.querySelector("head > title"))),Tt(d,i,a),d[qe]=e,pt(d),i=d;break e;case"link":var g=Im("link","href",u).get(i+(a.href||""));if(g){for(var b=0;b<g.length;b++)if(d=g[b],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(b,1);break t}}d=u.createElement(i),Tt(d,i,a),u.head.appendChild(d);break;case"meta":if(g=Im("meta","content",u).get(i+(a.content||""))){for(b=0;b<g.length;b++)if(d=g[b],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(b,1);break t}}d=u.createElement(i),Tt(d,i,a),u.head.appendChild(d);break;default:throw Error(l(468,i))}d[qe]=e,pt(d),i=d}e.stateNode=i}else Fm(u,e.type,e.stateNode);else e.stateNode=Pm(u,i,e.memoizedProps);else d!==i?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,i===null?Fm(u,e.type,e.stateNode):Pm(u,i,e.memoizedProps)):i===null&&e.stateNode!==null&&Uu(e,e.memoizedProps,a.memoizedProps)}break;case 27:Ht(t,e),$t(e),i&512&&(ut||a===null||bn(a,a.return)),a!==null&&i&4&&Uu(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Ht(t,e),$t(e),i&512&&(ut||a===null||bn(a,a.return)),e.flags&32){u=e.stateNode;try{nr(u,"")}catch(D){Pe(e,e.return,D)}}i&4&&e.stateNode!=null&&(u=e.memoizedProps,Uu(e,u,a!==null?a.memoizedProps:u)),i&1024&&(Lu=!0);break;case 6:if(Ht(t,e),$t(e),i&4){if(e.stateNode===null)throw Error(l(162));i=e.memoizedProps,a=e.stateNode;try{a.nodeValue=i}catch(D){Pe(e,e.return,D)}}break;case 3:if(jl=null,u=cn,cn=El(t.containerInfo),Ht(t,e),cn=u,$t(e),i&4&&a!==null&&a.memoizedState.isDehydrated)try{Zs(t.containerInfo)}catch(D){Pe(e,e.return,D)}Lu&&(Lu=!1,tm(e));break;case 4:i=cn,cn=El(e.stateNode.containerInfo),Ht(t,e),$t(e),cn=i;break;case 12:Ht(t,e),$t(e);break;case 13:Ht(t,e),$t(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ku=It()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Bu(e,i)));break;case 22:u=e.memoizedState!==null;var S=a!==null&&a.memoizedState!==null,k=Bn,L=ut;if(Bn=k||u,ut=L||S,Ht(t,e),ut=L,Bn=k,$t(e),i&8192)e:for(t=e.stateNode,t._visibility=u?t._visibility&-2:t._visibility|1,u&&(a===null||S||Bn||ut||La(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){S=a=t;try{if(d=S.stateNode,u)g=d.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{b=S.stateNode;var $=S.memoizedProps.style,R=$!=null&&$.hasOwnProperty("display")?$.display:null;b.style.display=R==null||typeof R=="boolean"?"":(""+R).trim()}}catch(D){Pe(S,S.return,D)}}}else if(t.tag===6){if(a===null){S=t;try{S.stateNode.nodeValue=u?"":S.memoizedProps}catch(D){Pe(S,S.return,D)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(a=i.retryQueue,a!==null&&(i.retryQueue=null,Bu(e,a))));break;case 19:Ht(t,e),$t(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Bu(e,i)));break;case 30:break;case 21:break;default:Ht(t,e),$t(e)}}function $t(e){var t=e.flags;if(t&2){try{for(var a,i=e.return;i!==null;){if(Ph(i)){a=i;break}i=i.return}if(a==null)throw Error(l(160));switch(a.tag){case 27:var u=a.stateNode,d=zu(e);dl(e,d,u);break;case 5:var g=a.stateNode;a.flags&32&&(nr(g,""),a.flags&=-33);var b=zu(e);dl(e,b,g);break;case 3:case 4:var S=a.stateNode.containerInfo,k=zu(e);qu(e,k,S);break;default:throw Error(l(161))}}catch(L){Pe(e,e.return,L)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function tm(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;tm(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function aa(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Xh(e,t.alternate,t),t=t.sibling}function La(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:na(4,t,t.return),La(t);break;case 1:bn(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&Kh(t,t.return,a),La(t);break;case 27:Gs(t.stateNode);case 26:case 5:bn(t,t.return),La(t);break;case 22:t.memoizedState===null&&La(t);break;case 30:La(t);break;default:La(t)}e=e.sibling}}function ra(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,u=e,d=t,g=d.flags;switch(d.tag){case 0:case 11:case 15:ra(u,d,a),Ns(4,d);break;case 1:if(ra(u,d,a),i=d,u=i.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(k){Pe(i,i.return,k)}if(i=d,u=i.updateQueue,u!==null){var b=i.stateNode;try{var S=u.shared.hiddenCallbacks;if(S!==null)for(u.shared.hiddenCallbacks=null,u=0;u<S.length;u++)kf(S[u],b)}catch(k){Pe(i,i.return,k)}}a&&g&64&&Yh(d),Ms(d,d.return);break;case 27:Ih(d);case 26:case 5:ra(u,d,a),a&&i===null&&g&4&&Qh(d),Ms(d,d.return);break;case 12:ra(u,d,a);break;case 13:ra(u,d,a),a&&g&4&&Wh(u,d);break;case 22:d.memoizedState===null&&ra(u,d,a),Ms(d,d.return);break;case 30:break;default:ra(u,d,a)}t=t.sibling}}function Hu(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&bs(a))}function $u(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&bs(e))}function _n(e,t,a,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)nm(e,t,a,i),t=t.sibling}function nm(e,t,a,i){var u=t.flags;switch(t.tag){case 0:case 11:case 15:_n(e,t,a,i),u&2048&&Ns(9,t);break;case 1:_n(e,t,a,i);break;case 3:_n(e,t,a,i),u&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&bs(e)));break;case 12:if(u&2048){_n(e,t,a,i),e=t.stateNode;try{var d=t.memoizedProps,g=d.id,b=d.onPostCommit;typeof b=="function"&&b(g,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(S){Pe(t,t.return,S)}}else _n(e,t,a,i);break;case 13:_n(e,t,a,i);break;case 23:break;case 22:d=t.stateNode,g=t.alternate,t.memoizedState!==null?d._visibility&2?_n(e,t,a,i):Us(e,t):d._visibility&2?_n(e,t,a,i):(d._visibility|=2,wr(e,t,a,i,(t.subtreeFlags&10256)!==0)),u&2048&&Hu(g,t);break;case 24:_n(e,t,a,i),u&2048&&$u(t.alternate,t);break;default:_n(e,t,a,i)}}function wr(e,t,a,i,u){for(u=u&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var d=e,g=t,b=a,S=i,k=g.flags;switch(g.tag){case 0:case 11:case 15:wr(d,g,b,S,u),Ns(8,g);break;case 23:break;case 22:var L=g.stateNode;g.memoizedState!==null?L._visibility&2?wr(d,g,b,S,u):Us(d,g):(L._visibility|=2,wr(d,g,b,S,u)),u&&k&2048&&Hu(g.alternate,g);break;case 24:wr(d,g,b,S,u),u&&k&2048&&$u(g.alternate,g);break;default:wr(d,g,b,S,u)}t=t.sibling}}function Us(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,i=t,u=i.flags;switch(i.tag){case 22:Us(a,i),u&2048&&Hu(i.alternate,i);break;case 24:Us(a,i),u&2048&&$u(i.alternate,i);break;default:Us(a,i)}t=t.sibling}}var zs=8192;function Sr(e){if(e.subtreeFlags&zs)for(e=e.child;e!==null;)am(e),e=e.sibling}function am(e){switch(e.tag){case 26:Sr(e),e.flags&zs&&e.memoizedState!==null&&o0(cn,e.memoizedState,e.memoizedProps);break;case 5:Sr(e);break;case 3:case 4:var t=cn;cn=El(e.stateNode.containerInfo),Sr(e),cn=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=zs,zs=16777216,Sr(e),zs=t):Sr(e));break;default:Sr(e)}}function rm(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function qs(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var i=t[a];_t=i,im(i,e)}rm(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)sm(e),e=e.sibling}function sm(e){switch(e.tag){case 0:case 11:case 15:qs(e),e.flags&2048&&na(9,e,e.return);break;case 3:qs(e);break;case 12:qs(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,fl(e)):qs(e);break;default:qs(e)}}function fl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var i=t[a];_t=i,im(i,e)}rm(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:na(8,t,t.return),fl(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,fl(t));break;default:fl(t)}e=e.sibling}}function im(e,t){for(;_t!==null;){var a=_t;switch(a.tag){case 0:case 11:case 15:na(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var i=a.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:bs(a.memoizedState.cache)}if(i=a.child,i!==null)i.return=a,_t=i;else e:for(a=e;_t!==null;){i=_t;var u=i.sibling,d=i.return;if(Zh(i),i===a){_t=null;break e}if(u!==null){u.return=d,_t=u;break e}_t=d}}}var Ep={getCacheForType:function(e){var t=jt(mt),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a}},Tp=typeof WeakMap=="function"?WeakMap:Map,$e=0,Fe=null,we=null,Oe=0,Ve=0,Vt=null,sa=!1,xr=!1,Vu=!1,$n=0,it=0,ia=0,Ba=0,Gu=0,an=0,Er=0,Ls=null,qt=null,Yu=!1,Ku=0,hl=1/0,ml=null,la=null,Et=0,oa=null,Tr=null,jr=0,Qu=0,Pu=null,lm=null,Bs=0,Iu=null;function Gt(){if(($e&2)!==0&&Oe!==0)return Oe&-Oe;if(q.T!==null){var e=hr;return e!==0?e:tc()}return ze()}function om(){an===0&&(an=(Oe&536870912)===0||Le?Ce():536870912);var e=nn.current;return e!==null&&(e.flags|=32),an}function Yt(e,t,a){(e===Fe&&(Ve===2||Ve===9)||e.cancelPendingCommit!==null)&&(Or(e,0),ua(e,Oe,an,!1)),Tn(e,a),(($e&2)===0||e!==Fe)&&(e===Fe&&(($e&2)===0&&(Ba|=a),it===4&&ua(e,Oe,an,!1)),wn(e))}function um(e,t,a){if(($e&6)!==0)throw Error(l(327));var i=!a&&(t&124)===0&&(t&e.expiredLanes)===0||me(e,t),u=i?Ap(e,t):Zu(e,t,!0),d=i;do{if(u===0){xr&&!i&&ua(e,t,0,!1);break}else{if(a=e.current.alternate,d&&!jp(a)){u=Zu(e,t,!1),d=!1;continue}if(u===2){if(d=t,e.errorRecoveryDisabledLanes&d)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){t=g;e:{var b=e;u=Ls;var S=b.current.memoizedState.isDehydrated;if(S&&(Or(b,g).flags|=256),g=Zu(b,g,!1),g!==2){if(Vu&&!S){b.errorRecoveryDisabledLanes|=d,Ba|=d,u=4;break e}d=qt,qt=u,d!==null&&(qt===null?qt=d:qt.push.apply(qt,d))}u=g}if(d=!1,u!==2)continue}}if(u===1){Or(e,0),ua(e,t,0,!0);break}e:{switch(i=e,d=u,d){case 0:case 1:throw Error(l(345));case 4:if((t&4194048)!==t)break;case 6:ua(i,t,an,!sa);break e;case 2:qt=null;break;case 3:case 5:break;default:throw Error(l(329))}if((t&62914560)===t&&(u=Ku+300-It(),10<u)){if(ua(i,t,an,!sa),je(i,0,!0)!==0)break e;i.timeoutHandle=Lm(cm.bind(null,i,a,qt,ml,Yu,t,an,Ba,Er,sa,d,2,-0,0),u);break e}cm(i,a,qt,ml,Yu,t,an,Ba,Er,sa,d,0,-0,0)}}break}while(!0);wn(e)}function cm(e,t,a,i,u,d,g,b,S,k,L,$,R,D){if(e.timeoutHandle=-1,$=t.subtreeFlags,($&8192||($&16785408)===16785408)&&(Qs={stylesheets:null,count:0,unsuspend:l0},am(t),$=u0(),$!==null)){e.cancelPendingCommit=$(vm.bind(null,e,t,d,a,i,u,g,b,S,L,1,R,D)),ua(e,d,g,!k);return}vm(e,t,d,a,i,u,g,b,S)}function jp(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var i=0;i<a.length;i++){var u=a[i],d=u.getSnapshot;u=u.value;try{if(!Lt(d(),u))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ua(e,t,a,i){t&=~Gu,t&=~Ba,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var u=t;0<u;){var d=31-te(u),g=1<<d;i[d]=-1,u&=~g}a!==0&&Re(e,a,t)}function yl(){return($e&6)===0?(Hs(0),!1):!0}function Fu(){if(we!==null){if(Ve===0)var e=we.return;else e=we,Nn=Na=null,fu(e),br=null,ks=0,e=we;for(;e!==null;)Gh(e.alternate,e),e=e.return;we=null}}function Or(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Yp(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Fu(),Fe=e,we=a=kn(e.current,null),Oe=t,Ve=0,Vt=null,sa=!1,xr=me(e,t),Vu=!1,Er=an=Gu=Ba=ia=it=0,qt=Ls=null,Yu=!1,(t&8)!==0&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var u=31-te(i),d=1<<u;t|=e[u],i&=~d}return $n=t,qi(),a}function dm(e,t){be=null,q.H=nl,t===ws||t===Qi?(t=Af(),Ve=3):t===Tf?(t=Af(),Ve=4):Ve=t===Ch?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Vt=t,we===null&&(it=1,ll(e,Jt(t,e.current)))}function fm(){var e=q.H;return q.H=nl,e===null?nl:e}function hm(){var e=q.A;return q.A=Ep,e}function Xu(){it=4,sa||(Oe&4194048)!==Oe&&nn.current!==null||(xr=!0),(ia&134217727)===0&&(Ba&134217727)===0||Fe===null||ua(Fe,Oe,an,!1)}function Zu(e,t,a){var i=$e;$e|=2;var u=fm(),d=hm();(Fe!==e||Oe!==t)&&(ml=null,Or(e,t)),t=!1;var g=it;e:do try{if(Ve!==0&&we!==null){var b=we,S=Vt;switch(Ve){case 8:Fu(),g=6;break e;case 3:case 2:case 9:case 6:nn.current===null&&(t=!0);var k=Ve;if(Ve=0,Vt=null,Ar(e,b,S,k),a&&xr){g=0;break e}break;default:k=Ve,Ve=0,Vt=null,Ar(e,b,S,k)}}Op(),g=it;break}catch(L){dm(e,L)}while(!0);return t&&e.shellSuspendCounter++,Nn=Na=null,$e=i,q.H=u,q.A=d,we===null&&(Fe=null,Oe=0,qi()),g}function Op(){for(;we!==null;)mm(we)}function Ap(e,t){var a=$e;$e|=2;var i=fm(),u=hm();Fe!==e||Oe!==t?(ml=null,hl=It()+500,Or(e,t)):xr=me(e,t);e:do try{if(Ve!==0&&we!==null){t=we;var d=Vt;t:switch(Ve){case 1:Ve=0,Vt=null,Ar(e,t,d,1);break;case 2:case 9:if(jf(d)){Ve=0,Vt=null,ym(t);break}t=function(){Ve!==2&&Ve!==9||Fe!==e||(Ve=7),wn(e)},d.then(t,t);break e;case 3:Ve=7;break e;case 4:Ve=5;break e;case 7:jf(d)?(Ve=0,Vt=null,ym(t)):(Ve=0,Vt=null,Ar(e,t,d,7));break;case 5:var g=null;switch(we.tag){case 26:g=we.memoizedState;case 5:case 27:var b=we;if(!g||Xm(g)){Ve=0,Vt=null;var S=b.sibling;if(S!==null)we=S;else{var k=b.return;k!==null?(we=k,gl(k)):we=null}break t}}Ve=0,Vt=null,Ar(e,t,d,5);break;case 6:Ve=0,Vt=null,Ar(e,t,d,6);break;case 8:Fu(),it=6;break e;default:throw Error(l(462))}}Cp();break}catch(L){dm(e,L)}while(!0);return Nn=Na=null,q.H=i,q.A=u,$e=a,we!==null?0:(Fe=null,Oe=0,qi(),it)}function Cp(){for(;we!==null&&!fo();)mm(we)}function mm(e){var t=$h(e.alternate,e,$n);e.memoizedProps=e.pendingProps,t===null?gl(e):we=t}function ym(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Uh(a,t,t.pendingProps,t.type,void 0,Oe);break;case 11:t=Uh(a,t,t.pendingProps,t.type.render,t.ref,Oe);break;case 5:fu(t);default:Gh(a,t),t=we=gf(t,$n),t=$h(a,t,$n)}e.memoizedProps=e.pendingProps,t===null?gl(e):we=t}function Ar(e,t,a,i){Nn=Na=null,fu(t),br=null,ks=0;var u=t.return;try{if(pp(e,u,t,a,Oe)){it=1,ll(e,Jt(a,e.current)),we=null;return}}catch(d){if(u!==null)throw we=u,d;it=1,ll(e,Jt(a,e.current)),we=null;return}t.flags&32768?(Le||i===1?e=!0:xr||(Oe&536870912)!==0?e=!1:(sa=e=!0,(i===2||i===9||i===3||i===6)&&(i=nn.current,i!==null&&i.tag===13&&(i.flags|=16384))),gm(t,e)):gl(t)}function gl(e){var t=e;do{if((t.flags&32768)!==0){gm(t,sa);return}e=t.return;var a=_p(t.alternate,t,$n);if(a!==null){we=a;return}if(t=t.sibling,t!==null){we=t;return}we=t=e}while(t!==null);it===0&&(it=5)}function gm(e,t){do{var a=wp(e.alternate,e);if(a!==null){a.flags&=32767,we=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){we=e;return}we=e=a}while(e!==null);it=6,we=null}function vm(e,t,a,i,u,d,g,b,S){e.cancelPendingCommit=null;do vl();while(Et!==0);if(($e&6)!==0)throw Error(l(327));if(t!==null){if(t===e.current)throw Error(l(177));if(d=t.lanes|t.childLanes,d|=$o,Sa(e,a,d,g,b,S),e===Fe&&(we=Fe=null,Oe=0),Tr=t,oa=e,jr=a,Qu=d,Pu=u,lm=i,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Np(Fa,function(){return Sm(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||i){i=q.T,q.T=null,u=K.p,K.p=2,g=$e,$e|=4;try{Sp(e,t,a)}finally{$e=g,K.p=u,q.T=i}}Et=1,pm(),bm(),_m()}}function pm(){if(Et===1){Et=0;var e=oa,t=Tr,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=q.T,q.T=null;var i=K.p;K.p=2;var u=$e;$e|=4;try{em(t,e);var d=uc,g=sf(e.containerInfo),b=d.focusedElem,S=d.selectionRange;if(g!==b&&b&&b.ownerDocument&&rf(b.ownerDocument.documentElement,b)){if(S!==null&&zo(b)){var k=S.start,L=S.end;if(L===void 0&&(L=k),"selectionStart"in b)b.selectionStart=k,b.selectionEnd=Math.min(L,b.value.length);else{var $=b.ownerDocument||document,R=$&&$.defaultView||window;if(R.getSelection){var D=R.getSelection(),ce=b.textContent.length,oe=Math.min(S.start,ce),Ke=S.end===void 0?oe:Math.min(S.end,ce);!D.extend&&oe>Ke&&(g=Ke,Ke=oe,oe=g);var O=af(b,oe),E=af(b,Ke);if(O&&E&&(D.rangeCount!==1||D.anchorNode!==O.node||D.anchorOffset!==O.offset||D.focusNode!==E.node||D.focusOffset!==E.offset)){var C=$.createRange();C.setStart(O.node,O.offset),D.removeAllRanges(),oe>Ke?(D.addRange(C),D.extend(E.node,E.offset)):(C.setEnd(E.node,E.offset),D.addRange(C))}}}}for($=[],D=b;D=D.parentNode;)D.nodeType===1&&$.push({element:D,left:D.scrollLeft,top:D.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<$.length;b++){var B=$[b];B.element.scrollLeft=B.left,B.element.scrollTop=B.top}}Cl=!!oc,uc=oc=null}finally{$e=u,K.p=i,q.T=a}}e.current=t,Et=2}}function bm(){if(Et===2){Et=0;var e=oa,t=Tr,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=q.T,q.T=null;var i=K.p;K.p=2;var u=$e;$e|=4;try{Xh(e,t.alternate,t)}finally{$e=u,K.p=i,q.T=a}}Et=3}}function _m(){if(Et===4||Et===3){Et=0,ho();var e=oa,t=Tr,a=jr,i=lm;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Et=5:(Et=0,Tr=oa=null,wm(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(la=null),jn(a),t=t.stateNode,Y&&typeof Y.onCommitFiberRoot=="function")try{Y.onCommitFiberRoot(z,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=q.T,u=K.p,K.p=2,q.T=null;try{for(var d=e.onRecoverableError,g=0;g<i.length;g++){var b=i[g];d(b.value,{componentStack:b.stack})}}finally{q.T=t,K.p=u}}(jr&3)!==0&&vl(),wn(e),u=e.pendingLanes,(a&4194090)!==0&&(u&42)!==0?e===Iu?Bs++:(Bs=0,Iu=e):Bs=0,Hs(0)}}function wm(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,bs(t)))}function vl(e){return pm(),bm(),_m(),Sm()}function Sm(){if(Et!==5)return!1;var e=oa,t=Qu;Qu=0;var a=jn(jr),i=q.T,u=K.p;try{K.p=32>a?32:a,q.T=null,a=Pu,Pu=null;var d=oa,g=jr;if(Et=0,Tr=oa=null,jr=0,($e&6)!==0)throw Error(l(331));var b=$e;if($e|=4,sm(d.current),nm(d,d.current,g,a),$e=b,Hs(0,!1),Y&&typeof Y.onPostCommitFiberRoot=="function")try{Y.onPostCommitFiberRoot(z,d)}catch{}return!0}finally{K.p=u,q.T=i,wm(e,t)}}function xm(e,t,a){t=Jt(a,t),t=ju(e.stateNode,t,2),e=Jn(e,t,2),e!==null&&(Tn(e,2),wn(e))}function Pe(e,t,a){if(e.tag===3)xm(e,e,a);else for(;t!==null;){if(t.tag===3){xm(t,e,a);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(la===null||!la.has(i))){e=Jt(a,e),a=Oh(2),i=Jn(t,a,2),i!==null&&(Ah(a,i,t,e),Tn(i,2),wn(i));break}}t=t.return}}function Ju(e,t,a){var i=e.pingCache;if(i===null){i=e.pingCache=new Tp;var u=new Set;i.set(t,u)}else u=i.get(t),u===void 0&&(u=new Set,i.set(t,u));u.has(a)||(Vu=!0,u.add(a),e=kp.bind(null,e,t,a),t.then(e,e))}function kp(e,t,a){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Fe===e&&(Oe&a)===a&&(it===4||it===3&&(Oe&62914560)===Oe&&300>It()-Ku?($e&2)===0&&Or(e,0):Gu|=a,Er===Oe&&(Er=0)),wn(e)}function Em(e,t){t===0&&(t=Ft()),e=ur(e,t),e!==null&&(Tn(e,t),wn(e))}function Rp(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),Em(e,a)}function Dp(e,t){var a=0;switch(e.tag){case 13:var i=e.stateNode,u=e.memoizedState;u!==null&&(a=u.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(l(314))}i!==null&&i.delete(t),Em(e,a)}function Np(e,t){return ns(e,t)}var pl=null,Cr=null,Wu=!1,bl=!1,ec=!1,Ha=0;function wn(e){e!==Cr&&e.next===null&&(Cr===null?pl=Cr=e:Cr=Cr.next=e),bl=!0,Wu||(Wu=!0,Up())}function Hs(e,t){if(!ec&&bl){ec=!0;do for(var a=!1,i=pl;i!==null;){if(e!==0){var u=i.pendingLanes;if(u===0)var d=0;else{var g=i.suspendedLanes,b=i.pingedLanes;d=(1<<31-te(42|e)+1)-1,d&=u&~(g&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Am(i,d))}else d=Oe,d=je(i,i===Fe?d:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),(d&3)===0||me(i,d)||(a=!0,Am(i,d));i=i.next}while(a);ec=!1}}function Mp(){Tm()}function Tm(){bl=Wu=!1;var e=0;Ha!==0&&(Gp()&&(e=Ha),Ha=0);for(var t=It(),a=null,i=pl;i!==null;){var u=i.next,d=jm(i,t);d===0?(i.next=null,a===null?pl=u:a.next=u,u===null&&(Cr=a)):(a=i,(e!==0||(d&3)!==0)&&(bl=!0)),i=u}Hs(e)}function jm(e,t){for(var a=e.suspendedLanes,i=e.pingedLanes,u=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var g=31-te(d),b=1<<g,S=u[g];S===-1?((b&a)===0||(b&i)!==0)&&(u[g]=fe(b,t)):S<=t&&(e.expiredLanes|=b),d&=~b}if(t=Fe,a=Oe,a=je(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,a===0||e===t&&(Ve===2||Ve===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&Ia(i),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||me(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(i!==null&&Ia(i),jn(a)){case 2:case 8:a=Ei;break;case 32:a=Fa;break;case 268435456:a=Ti;break;default:a=Fa}return i=Om.bind(null,e),a=ns(a,i),e.callbackPriority=t,e.callbackNode=a,t}return i!==null&&i!==null&&Ia(i),e.callbackPriority=2,e.callbackNode=null,2}function Om(e,t){if(Et!==0&&Et!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(vl()&&e.callbackNode!==a)return null;var i=Oe;return i=je(e,e===Fe?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(um(e,i,t),jm(e,It()),e.callbackNode!=null&&e.callbackNode===a?Om.bind(null,e):null)}function Am(e,t){if(vl())return null;um(e,t,!0)}function Up(){Kp(function(){($e&6)!==0?ns(xi,Mp):Tm()})}function tc(){return Ha===0&&(Ha=Ce()),Ha}function Cm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ki(""+e)}function km(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function zp(e,t,a,i,u){if(t==="submit"&&a&&a.stateNode===u){var d=Cm((u[Ze]||null).action),g=i.submitter;g&&(t=(t=g[Ze]||null)?Cm(t.formAction):g.getAttribute("formAction"),t!==null&&(d=t,g=null));var b=new Mi("action","action",null,i,u);e.push({event:b,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Ha!==0){var S=g?km(u,g):new FormData(u);wu(a,{pending:!0,data:S,method:u.method,action:d},null,S)}}else typeof d=="function"&&(b.preventDefault(),S=g?km(u,g):new FormData(u),wu(a,{pending:!0,data:S,method:u.method,action:d},d,S))},currentTarget:u}]})}}for(var nc=0;nc<Ho.length;nc++){var ac=Ho[nc],qp=ac.toLowerCase(),Lp=ac[0].toUpperCase()+ac.slice(1);un(qp,"on"+Lp)}un(uf,"onAnimationEnd"),un(cf,"onAnimationIteration"),un(df,"onAnimationStart"),un("dblclick","onDoubleClick"),un("focusin","onFocus"),un("focusout","onBlur"),un(tp,"onTransitionRun"),un(np,"onTransitionStart"),un(ap,"onTransitionCancel"),un(ff,"onTransitionEnd"),Wa("onMouseEnter",["mouseout","mouseover"]),Wa("onMouseLeave",["mouseout","mouseover"]),Wa("onPointerEnter",["pointerout","pointerover"]),Wa("onPointerLeave",["pointerout","pointerover"]),Ea("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ea("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ea("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ea("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ea("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ea("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $s="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Bp=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($s));function Rm(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var i=e[a],u=i.event;i=i.listeners;e:{var d=void 0;if(t)for(var g=i.length-1;0<=g;g--){var b=i[g],S=b.instance,k=b.currentTarget;if(b=b.listener,S!==d&&u.isPropagationStopped())break e;d=b,u.currentTarget=k;try{d(u)}catch(L){il(L)}u.currentTarget=null,d=S}else for(g=0;g<i.length;g++){if(b=i[g],S=b.instance,k=b.currentTarget,b=b.listener,S!==d&&u.isPropagationStopped())break e;d=b,u.currentTarget=k;try{d(u)}catch(L){il(L)}u.currentTarget=null,d=S}}}}function Se(e,t){var a=t[go];a===void 0&&(a=t[go]=new Set);var i=e+"__bubble";a.has(i)||(Dm(t,e,2,!1),a.add(i))}function rc(e,t,a){var i=0;t&&(i|=4),Dm(a,e,i,t)}var _l="_reactListening"+Math.random().toString(36).slice(2);function sc(e){if(!e[_l]){e[_l]=!0,Ed.forEach(function(a){a!=="selectionchange"&&(Bp.has(a)||rc(a,!1,e),rc(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[_l]||(t[_l]=!0,rc("selectionchange",!1,t))}}function Dm(e,t,a,i){switch(ny(t)){case 2:var u=f0;break;case 8:u=h0;break;default:u=bc}a=u.bind(null,t,a,e),u=void 0,!Oo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),i?u!==void 0?e.addEventListener(t,a,{capture:!0,passive:u}):e.addEventListener(t,a,!0):u!==void 0?e.addEventListener(t,a,{passive:u}):e.addEventListener(t,a,!1)}function ic(e,t,a,i,u){var d=i;if((t&1)===0&&(t&2)===0&&i!==null)e:for(;;){if(i===null)return;var g=i.tag;if(g===3||g===4){var b=i.stateNode.containerInfo;if(b===u)break;if(g===4)for(g=i.return;g!==null;){var S=g.tag;if((S===3||S===4)&&g.stateNode.containerInfo===u)return;g=g.return}for(;b!==null;){if(g=Xa(b),g===null)return;if(S=g.tag,S===5||S===6||S===26||S===27){i=d=g;continue e}b=b.parentNode}}i=i.return}Ld(function(){var k=d,L=To(a),$=[];e:{var R=hf.get(e);if(R!==void 0){var D=Mi,ce=e;switch(e){case"keypress":if(Di(a)===0)break e;case"keydown":case"keyup":D=Nv;break;case"focusin":ce="focus",D=Ro;break;case"focusout":ce="blur",D=Ro;break;case"beforeblur":case"afterblur":D=Ro;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":D=$d;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":D=wv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":D=zv;break;case uf:case cf:case df:D=Ev;break;case ff:D=Lv;break;case"scroll":case"scrollend":D=bv;break;case"wheel":D=Hv;break;case"copy":case"cut":case"paste":D=jv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":D=Gd;break;case"toggle":case"beforetoggle":D=Vv}var oe=(t&4)!==0,Ke=!oe&&(e==="scroll"||e==="scrollend"),O=oe?R!==null?R+"Capture":null:R;oe=[];for(var E=k,C;E!==null;){var B=E;if(C=B.stateNode,B=B.tag,B!==5&&B!==26&&B!==27||C===null||O===null||(B=is(E,O),B!=null&&oe.push(Vs(E,B,C))),Ke)break;E=E.return}0<oe.length&&(R=new D(R,ce,null,a,L),$.push({event:R,listeners:oe}))}}if((t&7)===0){e:{if(R=e==="mouseover"||e==="pointerover",D=e==="mouseout"||e==="pointerout",R&&a!==Eo&&(ce=a.relatedTarget||a.fromElement)&&(Xa(ce)||ce[On]))break e;if((D||R)&&(R=L.window===L?L:(R=L.ownerDocument)?R.defaultView||R.parentWindow:window,D?(ce=a.relatedTarget||a.toElement,D=k,ce=ce?Xa(ce):null,ce!==null&&(Ke=c(ce),oe=ce.tag,ce!==Ke||oe!==5&&oe!==27&&oe!==6)&&(ce=null)):(D=null,ce=k),D!==ce)){if(oe=$d,B="onMouseLeave",O="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(oe=Gd,B="onPointerLeave",O="onPointerEnter",E="pointer"),Ke=D==null?R:ss(D),C=ce==null?R:ss(ce),R=new oe(B,E+"leave",D,a,L),R.target=Ke,R.relatedTarget=C,B=null,Xa(L)===k&&(oe=new oe(O,E+"enter",ce,a,L),oe.target=C,oe.relatedTarget=Ke,B=oe),Ke=B,D&&ce)t:{for(oe=D,O=ce,E=0,C=oe;C;C=kr(C))E++;for(C=0,B=O;B;B=kr(B))C++;for(;0<E-C;)oe=kr(oe),E--;for(;0<C-E;)O=kr(O),C--;for(;E--;){if(oe===O||O!==null&&oe===O.alternate)break t;oe=kr(oe),O=kr(O)}oe=null}else oe=null;D!==null&&Nm($,R,D,oe,!1),ce!==null&&Ke!==null&&Nm($,Ke,ce,oe,!0)}}e:{if(R=k?ss(k):window,D=R.nodeName&&R.nodeName.toLowerCase(),D==="select"||D==="input"&&R.type==="file")var ee=Zd;else if(Fd(R))if(Jd)ee=Jv;else{ee=Xv;var _e=Fv}else D=R.nodeName,!D||D.toLowerCase()!=="input"||R.type!=="checkbox"&&R.type!=="radio"?k&&xo(k.elementType)&&(ee=Zd):ee=Zv;if(ee&&(ee=ee(e,k))){Xd($,ee,a,L);break e}_e&&_e(e,R,k),e==="focusout"&&k&&R.type==="number"&&k.memoizedProps.value!=null&&So(R,"number",R.value)}switch(_e=k?ss(k):window,e){case"focusin":(Fd(_e)||_e.contentEditable==="true")&&(ir=_e,qo=k,ms=null);break;case"focusout":ms=qo=ir=null;break;case"mousedown":Lo=!0;break;case"contextmenu":case"mouseup":case"dragend":Lo=!1,lf($,a,L);break;case"selectionchange":if(ep)break;case"keydown":case"keyup":lf($,a,L)}var ae;if(No)e:{switch(e){case"compositionstart":var ue="onCompositionStart";break e;case"compositionend":ue="onCompositionEnd";break e;case"compositionupdate":ue="onCompositionUpdate";break e}ue=void 0}else sr?Pd(e,a)&&(ue="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(ue="onCompositionStart");ue&&(Yd&&a.locale!=="ko"&&(sr||ue!=="onCompositionStart"?ue==="onCompositionEnd"&&sr&&(ae=Bd()):(In=L,Ao="value"in In?In.value:In.textContent,sr=!0)),_e=wl(k,ue),0<_e.length&&(ue=new Vd(ue,e,null,a,L),$.push({event:ue,listeners:_e}),ae?ue.data=ae:(ae=Id(a),ae!==null&&(ue.data=ae)))),(ae=Yv?Kv(e,a):Qv(e,a))&&(ue=wl(k,"onBeforeInput"),0<ue.length&&(_e=new Vd("onBeforeInput","beforeinput",null,a,L),$.push({event:_e,listeners:ue}),_e.data=ae)),zp($,e,k,a,L)}Rm($,t)})}function Vs(e,t,a){return{instance:e,listener:t,currentTarget:a}}function wl(e,t){for(var a=t+"Capture",i=[];e!==null;){var u=e,d=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||d===null||(u=is(e,a),u!=null&&i.unshift(Vs(e,u,d)),u=is(e,t),u!=null&&i.push(Vs(e,u,d))),e.tag===3)return i;e=e.return}return[]}function kr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Nm(e,t,a,i,u){for(var d=t._reactName,g=[];a!==null&&a!==i;){var b=a,S=b.alternate,k=b.stateNode;if(b=b.tag,S!==null&&S===i)break;b!==5&&b!==26&&b!==27||k===null||(S=k,u?(k=is(a,d),k!=null&&g.unshift(Vs(a,k,S))):u||(k=is(a,d),k!=null&&g.push(Vs(a,k,S)))),a=a.return}g.length!==0&&e.push({event:t,listeners:g})}var Hp=/\r\n?/g,$p=/\u0000|\uFFFD/g;function Mm(e){return(typeof e=="string"?e:""+e).replace(Hp,`
`).replace($p,"")}function Um(e,t){return t=Mm(t),Mm(e)===t}function Sl(){}function Ye(e,t,a,i,u,d){switch(a){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||nr(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&nr(e,""+i);break;case"className":Oi(e,"class",i);break;case"tabIndex":Oi(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Oi(e,a,i);break;case"style":zd(e,i,d);break;case"data":if(t!=="object"){Oi(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(a);break}i=ki(""+i),e.setAttribute(a,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(t!=="input"&&Ye(e,t,"name",u.name,u,null),Ye(e,t,"formEncType",u.formEncType,u,null),Ye(e,t,"formMethod",u.formMethod,u,null),Ye(e,t,"formTarget",u.formTarget,u,null)):(Ye(e,t,"encType",u.encType,u,null),Ye(e,t,"method",u.method,u,null),Ye(e,t,"target",u.target,u,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(a);break}i=ki(""+i),e.setAttribute(a,i);break;case"onClick":i!=null&&(e.onclick=Sl);break;case"onScroll":i!=null&&Se("scroll",e);break;case"onScrollEnd":i!=null&&Se("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(l(61));if(a=i.__html,a!=null){if(u.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}a=ki(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(a,""+i):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":i===!0?e.setAttribute(a,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(a,i):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(a,i):e.removeAttribute(a);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(a):e.setAttribute(a,i);break;case"popover":Se("beforetoggle",e),Se("toggle",e),ji(e,"popover",i);break;case"xlinkActuate":An(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":An(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":An(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":An(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":An(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":An(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":An(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":An(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":An(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":ji(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=vv.get(a)||a,ji(e,a,i))}}function lc(e,t,a,i,u,d){switch(a){case"style":zd(e,i,d);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(l(61));if(a=i.__html,a!=null){if(u.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"children":typeof i=="string"?nr(e,i):(typeof i=="number"||typeof i=="bigint")&&nr(e,""+i);break;case"onScroll":i!=null&&Se("scroll",e);break;case"onScrollEnd":i!=null&&Se("scrollend",e);break;case"onClick":i!=null&&(e.onclick=Sl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Td.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(u=a.endsWith("Capture"),t=a.slice(2,u?a.length-7:void 0),d=e[Ze]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(t,d,u),typeof i=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,i,u);break e}a in e?e[a]=i:i===!0?e.setAttribute(a,""):ji(e,a,i)}}}function Tt(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Se("error",e),Se("load",e);var i=!1,u=!1,d;for(d in a)if(a.hasOwnProperty(d)){var g=a[d];if(g!=null)switch(d){case"src":i=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Ye(e,t,d,g,a,null)}}u&&Ye(e,t,"srcSet",a.srcSet,a,null),i&&Ye(e,t,"src",a.src,a,null);return;case"input":Se("invalid",e);var b=d=g=u=null,S=null,k=null;for(i in a)if(a.hasOwnProperty(i)){var L=a[i];if(L!=null)switch(i){case"name":u=L;break;case"type":g=L;break;case"checked":S=L;break;case"defaultChecked":k=L;break;case"value":d=L;break;case"defaultValue":b=L;break;case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(l(137,t));break;default:Ye(e,t,i,L,a,null)}}Dd(e,d,b,S,k,g,u,!1),Ai(e);return;case"select":Se("invalid",e),i=g=d=null;for(u in a)if(a.hasOwnProperty(u)&&(b=a[u],b!=null))switch(u){case"value":d=b;break;case"defaultValue":g=b;break;case"multiple":i=b;default:Ye(e,t,u,b,a,null)}t=d,a=g,e.multiple=!!i,t!=null?tr(e,!!i,t,!1):a!=null&&tr(e,!!i,a,!0);return;case"textarea":Se("invalid",e),d=u=i=null;for(g in a)if(a.hasOwnProperty(g)&&(b=a[g],b!=null))switch(g){case"value":i=b;break;case"defaultValue":u=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(l(91));break;default:Ye(e,t,g,b,a,null)}Md(e,i,u,d),Ai(e);return;case"option":for(S in a)if(a.hasOwnProperty(S)&&(i=a[S],i!=null))switch(S){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:Ye(e,t,S,i,a,null)}return;case"dialog":Se("beforetoggle",e),Se("toggle",e),Se("cancel",e),Se("close",e);break;case"iframe":case"object":Se("load",e);break;case"video":case"audio":for(i=0;i<$s.length;i++)Se($s[i],e);break;case"image":Se("error",e),Se("load",e);break;case"details":Se("toggle",e);break;case"embed":case"source":case"link":Se("error",e),Se("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(k in a)if(a.hasOwnProperty(k)&&(i=a[k],i!=null))switch(k){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Ye(e,t,k,i,a,null)}return;default:if(xo(t)){for(L in a)a.hasOwnProperty(L)&&(i=a[L],i!==void 0&&lc(e,t,L,i,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(i=a[b],i!=null&&Ye(e,t,b,i,a,null))}function Vp(e,t,a,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,d=null,g=null,b=null,S=null,k=null,L=null;for(D in a){var $=a[D];if(a.hasOwnProperty(D)&&$!=null)switch(D){case"checked":break;case"value":break;case"defaultValue":S=$;default:i.hasOwnProperty(D)||Ye(e,t,D,null,i,$)}}for(var R in i){var D=i[R];if($=a[R],i.hasOwnProperty(R)&&(D!=null||$!=null))switch(R){case"type":d=D;break;case"name":u=D;break;case"checked":k=D;break;case"defaultChecked":L=D;break;case"value":g=D;break;case"defaultValue":b=D;break;case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(l(137,t));break;default:D!==$&&Ye(e,t,R,D,i,$)}}wo(e,g,b,S,k,L,d,u);return;case"select":D=g=b=R=null;for(d in a)if(S=a[d],a.hasOwnProperty(d)&&S!=null)switch(d){case"value":break;case"multiple":D=S;default:i.hasOwnProperty(d)||Ye(e,t,d,null,i,S)}for(u in i)if(d=i[u],S=a[u],i.hasOwnProperty(u)&&(d!=null||S!=null))switch(u){case"value":R=d;break;case"defaultValue":b=d;break;case"multiple":g=d;default:d!==S&&Ye(e,t,u,d,i,S)}t=b,a=g,i=D,R!=null?tr(e,!!a,R,!1):!!i!=!!a&&(t!=null?tr(e,!!a,t,!0):tr(e,!!a,a?[]:"",!1));return;case"textarea":D=R=null;for(b in a)if(u=a[b],a.hasOwnProperty(b)&&u!=null&&!i.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Ye(e,t,b,null,i,u)}for(g in i)if(u=i[g],d=a[g],i.hasOwnProperty(g)&&(u!=null||d!=null))switch(g){case"value":R=u;break;case"defaultValue":D=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(l(91));break;default:u!==d&&Ye(e,t,g,u,i,d)}Nd(e,R,D);return;case"option":for(var ce in a)if(R=a[ce],a.hasOwnProperty(ce)&&R!=null&&!i.hasOwnProperty(ce))switch(ce){case"selected":e.selected=!1;break;default:Ye(e,t,ce,null,i,R)}for(S in i)if(R=i[S],D=a[S],i.hasOwnProperty(S)&&R!==D&&(R!=null||D!=null))switch(S){case"selected":e.selected=R&&typeof R!="function"&&typeof R!="symbol";break;default:Ye(e,t,S,R,i,D)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var oe in a)R=a[oe],a.hasOwnProperty(oe)&&R!=null&&!i.hasOwnProperty(oe)&&Ye(e,t,oe,null,i,R);for(k in i)if(R=i[k],D=a[k],i.hasOwnProperty(k)&&R!==D&&(R!=null||D!=null))switch(k){case"children":case"dangerouslySetInnerHTML":if(R!=null)throw Error(l(137,t));break;default:Ye(e,t,k,R,i,D)}return;default:if(xo(t)){for(var Ke in a)R=a[Ke],a.hasOwnProperty(Ke)&&R!==void 0&&!i.hasOwnProperty(Ke)&&lc(e,t,Ke,void 0,i,R);for(L in i)R=i[L],D=a[L],!i.hasOwnProperty(L)||R===D||R===void 0&&D===void 0||lc(e,t,L,R,i,D);return}}for(var O in a)R=a[O],a.hasOwnProperty(O)&&R!=null&&!i.hasOwnProperty(O)&&Ye(e,t,O,null,i,R);for($ in i)R=i[$],D=a[$],!i.hasOwnProperty($)||R===D||R==null&&D==null||Ye(e,t,$,R,i,D)}var oc=null,uc=null;function xl(e){return e.nodeType===9?e:e.ownerDocument}function zm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function qm(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function cc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var dc=null;function Gp(){var e=window.event;return e&&e.type==="popstate"?e===dc?!1:(dc=e,!0):(dc=null,!1)}var Lm=typeof setTimeout=="function"?setTimeout:void 0,Yp=typeof clearTimeout=="function"?clearTimeout:void 0,Bm=typeof Promise=="function"?Promise:void 0,Kp=typeof queueMicrotask=="function"?queueMicrotask:typeof Bm<"u"?function(e){return Bm.resolve(null).then(e).catch(Qp)}:Lm;function Qp(e){setTimeout(function(){throw e})}function ca(e){return e==="head"}function Hm(e,t){var a=t,i=0,u=0;do{var d=a.nextSibling;if(e.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<i&&8>i){a=i;var g=e.ownerDocument;if(a&1&&Gs(g.documentElement),a&2&&Gs(g.body),a&4)for(a=g.head,Gs(a),g=a.firstChild;g;){var b=g.nextSibling,S=g.nodeName;g[rs]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&g.rel.toLowerCase()==="stylesheet"||a.removeChild(g),g=b}}if(u===0){e.removeChild(d),Zs(t);return}u--}else a==="$"||a==="$?"||a==="$!"?u++:i=a.charCodeAt(0)-48;else i=0;a=d}while(a);Zs(t)}function fc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":fc(a),vo(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Pp(e,t,a,i){for(;e.nodeType===1;){var u=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[rs])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var d=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=dn(e.nextSibling),e===null)break}return null}function Ip(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=dn(e.nextSibling),e===null))return null;return e}function hc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function Fp(e,t){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")t();else{var i=function(){t(),a.removeEventListener("DOMContentLoaded",i)};a.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function dn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var mc=null;function $m(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(t===0)return e;t--}else a==="/$"&&t++}e=e.previousSibling}return null}function Vm(e,t,a){switch(t=xl(a),e){case"html":if(e=t.documentElement,!e)throw Error(l(452));return e;case"head":if(e=t.head,!e)throw Error(l(453));return e;case"body":if(e=t.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function Gs(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);vo(e)}var rn=new Map,Gm=new Set;function El(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Vn=K.d;K.d={f:Xp,r:Zp,D:Jp,C:Wp,L:e0,m:t0,X:a0,S:n0,M:r0};function Xp(){var e=Vn.f(),t=yl();return e||t}function Zp(e){var t=Za(e);t!==null&&t.tag===5&&t.type==="form"?uh(t):Vn.r(e)}var Rr=typeof document>"u"?null:document;function Ym(e,t,a){var i=Rr;if(i&&typeof t=="string"&&t){var u=Zt(t);u='link[rel="'+e+'"][href="'+u+'"]',typeof a=="string"&&(u+='[crossorigin="'+a+'"]'),Gm.has(u)||(Gm.add(u),e={rel:e,crossOrigin:a,href:t},i.querySelector(u)===null&&(t=i.createElement("link"),Tt(t,"link",e),pt(t),i.head.appendChild(t)))}}function Jp(e){Vn.D(e),Ym("dns-prefetch",e,null)}function Wp(e,t){Vn.C(e,t),Ym("preconnect",e,t)}function e0(e,t,a){Vn.L(e,t,a);var i=Rr;if(i&&e&&t){var u='link[rel="preload"][as="'+Zt(t)+'"]';t==="image"&&a&&a.imageSrcSet?(u+='[imagesrcset="'+Zt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(u+='[imagesizes="'+Zt(a.imageSizes)+'"]')):u+='[href="'+Zt(e)+'"]';var d=u;switch(t){case"style":d=Dr(e);break;case"script":d=Nr(e)}rn.has(d)||(e=p({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),rn.set(d,e),i.querySelector(u)!==null||t==="style"&&i.querySelector(Ys(d))||t==="script"&&i.querySelector(Ks(d))||(t=i.createElement("link"),Tt(t,"link",e),pt(t),i.head.appendChild(t)))}}function t0(e,t){Vn.m(e,t);var a=Rr;if(a&&e){var i=t&&typeof t.as=="string"?t.as:"script",u='link[rel="modulepreload"][as="'+Zt(i)+'"][href="'+Zt(e)+'"]',d=u;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Nr(e)}if(!rn.has(d)&&(e=p({rel:"modulepreload",href:e},t),rn.set(d,e),a.querySelector(u)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ks(d)))return}i=a.createElement("link"),Tt(i,"link",e),pt(i),a.head.appendChild(i)}}}function n0(e,t,a){Vn.S(e,t,a);var i=Rr;if(i&&e){var u=Ja(i).hoistableStyles,d=Dr(e);t=t||"default";var g=u.get(d);if(!g){var b={loading:0,preload:null};if(g=i.querySelector(Ys(d)))b.loading=5;else{e=p({rel:"stylesheet",href:e,"data-precedence":t},a),(a=rn.get(d))&&yc(e,a);var S=g=i.createElement("link");pt(S),Tt(S,"link",e),S._p=new Promise(function(k,L){S.onload=k,S.onerror=L}),S.addEventListener("load",function(){b.loading|=1}),S.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Tl(g,t,i)}g={type:"stylesheet",instance:g,count:1,state:b},u.set(d,g)}}}function a0(e,t){Vn.X(e,t);var a=Rr;if(a&&e){var i=Ja(a).hoistableScripts,u=Nr(e),d=i.get(u);d||(d=a.querySelector(Ks(u)),d||(e=p({src:e,async:!0},t),(t=rn.get(u))&&gc(e,t),d=a.createElement("script"),pt(d),Tt(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},i.set(u,d))}}function r0(e,t){Vn.M(e,t);var a=Rr;if(a&&e){var i=Ja(a).hoistableScripts,u=Nr(e),d=i.get(u);d||(d=a.querySelector(Ks(u)),d||(e=p({src:e,async:!0,type:"module"},t),(t=rn.get(u))&&gc(e,t),d=a.createElement("script"),pt(d),Tt(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},i.set(u,d))}}function Km(e,t,a,i){var u=(u=ie.current)?El(u):null;if(!u)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=Dr(a.href),a=Ja(u).hoistableStyles,i=a.get(t),i||(i={type:"style",instance:null,count:0,state:null},a.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Dr(a.href);var d=Ja(u).hoistableStyles,g=d.get(e);if(g||(u=u.ownerDocument||u,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,g),(d=u.querySelector(Ys(e)))&&!d._p&&(g.instance=d,g.state.loading=5),rn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},rn.set(e,a),d||s0(u,e,a,g.state))),t&&i===null)throw Error(l(528,""));return g}if(t&&i!==null)throw Error(l(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Nr(a),a=Ja(u).hoistableScripts,i=a.get(t),i||(i={type:"script",instance:null,count:0,state:null},a.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function Dr(e){return'href="'+Zt(e)+'"'}function Ys(e){return'link[rel="stylesheet"]['+e+"]"}function Qm(e){return p({},e,{"data-precedence":e.precedence,precedence:null})}function s0(e,t,a,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),Tt(t,"link",a),pt(t),e.head.appendChild(t))}function Nr(e){return'[src="'+Zt(e)+'"]'}function Ks(e){return"script[async]"+e}function Pm(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+Zt(a.href)+'"]');if(i)return t.instance=i,pt(i),i;var u=p({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),pt(i),Tt(i,"style",u),Tl(i,a.precedence,e),t.instance=i;case"stylesheet":u=Dr(a.href);var d=e.querySelector(Ys(u));if(d)return t.state.loading|=4,t.instance=d,pt(d),d;i=Qm(a),(u=rn.get(u))&&yc(i,u),d=(e.ownerDocument||e).createElement("link"),pt(d);var g=d;return g._p=new Promise(function(b,S){g.onload=b,g.onerror=S}),Tt(d,"link",i),t.state.loading|=4,Tl(d,a.precedence,e),t.instance=d;case"script":return d=Nr(a.src),(u=e.querySelector(Ks(d)))?(t.instance=u,pt(u),u):(i=a,(u=rn.get(d))&&(i=p({},a),gc(i,u)),e=e.ownerDocument||e,u=e.createElement("script"),pt(u),Tt(u,"link",i),e.head.appendChild(u),t.instance=u);case"void":return null;default:throw Error(l(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(i=t.instance,t.state.loading|=4,Tl(i,a.precedence,e));return t.instance}function Tl(e,t,a){for(var i=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=i.length?i[i.length-1]:null,d=u,g=0;g<i.length;g++){var b=i[g];if(b.dataset.precedence===t)d=b;else if(d!==u)break}d?d.parentNode.insertBefore(e,d.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function yc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function gc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var jl=null;function Im(e,t,a){if(jl===null){var i=new Map,u=jl=new Map;u.set(a,i)}else u=jl,i=u.get(a),i||(i=new Map,u.set(a,i));if(i.has(e))return i;for(i.set(e,null),a=a.getElementsByTagName(e),u=0;u<a.length;u++){var d=a[u];if(!(d[rs]||d[qe]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var g=d.getAttribute(t)||"";g=e+g;var b=i.get(g);b?b.push(d):i.set(g,[d])}}return i}function Fm(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function i0(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Xm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Qs=null;function l0(){}function o0(e,t,a){if(Qs===null)throw Error(l(475));var i=Qs;if(t.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var u=Dr(a.href),d=e.querySelector(Ys(u));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(i.count++,i=Ol.bind(i),e.then(i,i)),t.state.loading|=4,t.instance=d,pt(d);return}d=e.ownerDocument||e,a=Qm(a),(u=rn.get(u))&&yc(a,u),d=d.createElement("link"),pt(d);var g=d;g._p=new Promise(function(b,S){g.onload=b,g.onerror=S}),Tt(d,"link",a),t.instance=d}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(i.count++,t=Ol.bind(i),e.addEventListener("load",t),e.addEventListener("error",t))}}function u0(){if(Qs===null)throw Error(l(475));var e=Qs;return e.stylesheets&&e.count===0&&vc(e,e.stylesheets),0<e.count?function(t){var a=setTimeout(function(){if(e.stylesheets&&vc(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(a)}}:null}function Ol(){if(this.count--,this.count===0){if(this.stylesheets)vc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Al=null;function vc(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Al=new Map,t.forEach(c0,e),Al=null,Ol.call(e))}function c0(e,t){if(!(t.state.loading&4)){var a=Al.get(e);if(a)var i=a.get(null);else{a=new Map,Al.set(e,a);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<u.length;d++){var g=u[d];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),i=g)}i&&a.set(null,i)}u=t.instance,g=u.getAttribute("data-precedence"),d=a.get(g)||i,d===i&&a.set(null,u),a.set(g,u),this.count++,i=Ol.bind(this),u.addEventListener("load",i),u.addEventListener("error",i),d?d.parentNode.insertBefore(u,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),t.state.loading|=4}}var Ps={$$typeof:H,Provider:null,Consumer:null,_currentValue:se,_currentValue2:se,_threadCount:0};function d0(e,t,a,i,u,d,g,b){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=wa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wa(0),this.hiddenUpdates=wa(null),this.identifierPrefix=i,this.onUncaughtError=u,this.onCaughtError=d,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function Zm(e,t,a,i,u,d,g,b,S,k,L,$){return e=new d0(e,t,a,g,b,S,k,$),t=1,d===!0&&(t|=24),d=Bt(3,null,null,t),e.current=d,d.stateNode=e,t=Jo(),t.refCount++,e.pooledCache=t,t.refCount++,d.memoizedState={element:i,isDehydrated:a,cache:t},nu(d),e}function Jm(e){return e?(e=cr,e):cr}function Wm(e,t,a,i,u,d){u=Jm(u),i.context===null?i.context=u:i.pendingContext=u,i=Zn(t),i.payload={element:a},d=d===void 0?null:d,d!==null&&(i.callback=d),a=Jn(e,i,t),a!==null&&(Yt(a,e,t),xs(a,e,t))}function ey(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function pc(e,t){ey(e,t),(e=e.alternate)&&ey(e,t)}function ty(e){if(e.tag===13){var t=ur(e,67108864);t!==null&&Yt(t,e,67108864),pc(e,67108864)}}var Cl=!0;function f0(e,t,a,i){var u=q.T;q.T=null;var d=K.p;try{K.p=2,bc(e,t,a,i)}finally{K.p=d,q.T=u}}function h0(e,t,a,i){var u=q.T;q.T=null;var d=K.p;try{K.p=8,bc(e,t,a,i)}finally{K.p=d,q.T=u}}function bc(e,t,a,i){if(Cl){var u=_c(i);if(u===null)ic(e,t,i,kl,a),ay(e,i);else if(y0(u,e,t,a,i))i.stopPropagation();else if(ay(e,i),t&4&&-1<m0.indexOf(e)){for(;u!==null;){var d=Za(u);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var g=he(d.pendingLanes);if(g!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;g;){var S=1<<31-te(g);b.entanglements[1]|=S,g&=~S}wn(d),($e&6)===0&&(hl=It()+500,Hs(0))}}break;case 13:b=ur(d,2),b!==null&&Yt(b,d,2),yl(),pc(d,2)}if(d=_c(i),d===null&&ic(e,t,i,kl,a),d===u)break;u=d}u!==null&&i.stopPropagation()}else ic(e,t,i,null,a)}}function _c(e){return e=To(e),wc(e)}var kl=null;function wc(e){if(kl=null,e=Xa(e),e!==null){var t=c(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=f(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return kl=e,null}function ny(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(mo()){case xi:return 2;case Ei:return 8;case Fa:case as:return 32;case Ti:return 268435456;default:return 32}default:return 32}}var Sc=!1,da=null,fa=null,ha=null,Is=new Map,Fs=new Map,ma=[],m0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ay(e,t){switch(e){case"focusin":case"focusout":da=null;break;case"dragenter":case"dragleave":fa=null;break;case"mouseover":case"mouseout":ha=null;break;case"pointerover":case"pointerout":Is.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fs.delete(t.pointerId)}}function Xs(e,t,a,i,u,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:a,eventSystemFlags:i,nativeEvent:d,targetContainers:[u]},t!==null&&(t=Za(t),t!==null&&ty(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function y0(e,t,a,i,u){switch(t){case"focusin":return da=Xs(da,e,t,a,i,u),!0;case"dragenter":return fa=Xs(fa,e,t,a,i,u),!0;case"mouseover":return ha=Xs(ha,e,t,a,i,u),!0;case"pointerover":var d=u.pointerId;return Is.set(d,Xs(Is.get(d)||null,e,t,a,i,u)),!0;case"gotpointercapture":return d=u.pointerId,Fs.set(d,Xs(Fs.get(d)||null,e,t,a,i,u)),!0}return!1}function ry(e){var t=Xa(e.target);if(t!==null){var a=c(t);if(a!==null){if(t=a.tag,t===13){if(t=f(a),t!==null){e.blockedOn=t,et(e.priority,function(){if(a.tag===13){var i=Gt();i=on(i);var u=ur(a,i);u!==null&&Yt(u,a,i),pc(a,i)}});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Rl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=_c(e.nativeEvent);if(a===null){a=e.nativeEvent;var i=new a.constructor(a.type,a);Eo=i,a.target.dispatchEvent(i),Eo=null}else return t=Za(a),t!==null&&ty(t),e.blockedOn=a,!1;t.shift()}return!0}function sy(e,t,a){Rl(e)&&a.delete(t)}function g0(){Sc=!1,da!==null&&Rl(da)&&(da=null),fa!==null&&Rl(fa)&&(fa=null),ha!==null&&Rl(ha)&&(ha=null),Is.forEach(sy),Fs.forEach(sy)}function Dl(e,t){e.blockedOn===t&&(e.blockedOn=null,Sc||(Sc=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,g0)))}var Nl=null;function iy(e){Nl!==e&&(Nl=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Nl===e&&(Nl=null);for(var t=0;t<e.length;t+=3){var a=e[t],i=e[t+1],u=e[t+2];if(typeof i!="function"){if(wc(i||a)===null)continue;break}var d=Za(a);d!==null&&(e.splice(t,3),t-=3,wu(d,{pending:!0,data:u,method:a.method,action:i},i,u))}}))}function Zs(e){function t(S){return Dl(S,e)}da!==null&&Dl(da,e),fa!==null&&Dl(fa,e),ha!==null&&Dl(ha,e),Is.forEach(t),Fs.forEach(t);for(var a=0;a<ma.length;a++){var i=ma[a];i.blockedOn===e&&(i.blockedOn=null)}for(;0<ma.length&&(a=ma[0],a.blockedOn===null);)ry(a),a.blockedOn===null&&ma.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(i=0;i<a.length;i+=3){var u=a[i],d=a[i+1],g=u[Ze]||null;if(typeof d=="function")g||iy(a);else if(g){var b=null;if(d&&d.hasAttribute("formAction")){if(u=d,g=d[Ze]||null)b=g.formAction;else if(wc(u)!==null)continue}else b=g.action;typeof b=="function"?a[i+1]=b:(a.splice(i,3),i-=3),iy(a)}}}function xc(e){this._internalRoot=e}Ml.prototype.render=xc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(l(409));var a=t.current,i=Gt();Wm(a,i,e,t,null,null)},Ml.prototype.unmount=xc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Wm(e.current,2,null,e,null,null),yl(),t[On]=null}};function Ml(e){this._internalRoot=e}Ml.prototype.unstable_scheduleHydration=function(e){if(e){var t=ze();e={blockedOn:null,target:e,priority:t};for(var a=0;a<ma.length&&t!==0&&t<ma[a].priority;a++);ma.splice(a,0,e),a===0&&ry(e)}};var ly=n.version;if(ly!=="19.1.1")throw Error(l(527,ly,"19.1.1"));K.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=m(t),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var v0={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ul=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ul.isDisabled&&Ul.supportsFiber)try{z=Ul.inject(v0),Y=Ul}catch{}}return Ws.createRoot=function(e,t){if(!o(e))throw Error(l(299));var a=!1,i="",u=xh,d=Eh,g=Th,b=null;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(u=t.onUncaughtError),t.onCaughtError!==void 0&&(d=t.onCaughtError),t.onRecoverableError!==void 0&&(g=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(b=t.unstable_transitionCallbacks)),t=Zm(e,1,!1,null,null,a,i,u,d,g,b,null),e[On]=t.current,sc(e),new xc(t)},Ws.hydrateRoot=function(e,t,a){if(!o(e))throw Error(l(299));var i=!1,u="",d=xh,g=Eh,b=Th,S=null,k=null;return a!=null&&(a.unstable_strictMode===!0&&(i=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(S=a.unstable_transitionCallbacks),a.formState!==void 0&&(k=a.formState)),t=Zm(e,1,!0,t,a??null,i,u,d,g,b,S,k),t.context=Jm(null),a=t.current,i=Gt(),i=on(i),u=Zn(i),u.callback=null,Jn(a,u,i),a=i,t.current.lanes=a,Tn(t,a),wn(t),e[On]=t.current,sc(e),new Ml(t)},Ws.version="19.1.1",Ws}var vy;function O0(){if(vy)return Tc.exports;vy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(n){console.error(n)}}return r(),Tc.exports=j0(),Tc.exports}var A0=O0(),ao=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(r){return this.listeners.add(r),this.onSubscribe(),()=>{this.listeners.delete(r),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ro=typeof window>"u"||"Deno"in globalThis;function hn(){}function C0(r,n){return typeof r=="function"?r(n):r}function k0(r){return typeof r=="number"&&r>=0&&r!==1/0}function R0(r,n){return Math.max(r+(n||0)-Date.now(),0)}function Hc(r,n){return typeof r=="function"?r(n):r}function D0(r,n){return typeof r=="function"?r(n):r}function py(r,n){const{type:s="all",exact:l,fetchStatus:o,predicate:c,queryKey:f,stale:h}=r;if(f){if(l){if(n.queryHash!==ad(f,n.options))return!1}else if(!gi(n.queryKey,f))return!1}if(s!=="all"){const m=n.isActive();if(s==="active"&&!m||s==="inactive"&&m)return!1}return!(typeof h=="boolean"&&n.isStale()!==h||o&&o!==n.state.fetchStatus||c&&!c(n))}function by(r,n){const{exact:s,status:l,predicate:o,mutationKey:c}=r;if(c){if(!n.options.mutationKey)return!1;if(s){if(yi(n.options.mutationKey)!==yi(c))return!1}else if(!gi(n.options.mutationKey,c))return!1}return!(l&&n.state.status!==l||o&&!o(n))}function ad(r,n){return(n?.queryKeyHashFn||yi)(r)}function yi(r){return JSON.stringify(r,(n,s)=>$c(s)?Object.keys(s).sort().reduce((l,o)=>(l[o]=s[o],l),{}):s)}function gi(r,n){return r===n?!0:typeof r!=typeof n?!1:r&&n&&typeof r=="object"&&typeof n=="object"?Object.keys(n).every(s=>gi(r[s],n[s])):!1}function cg(r,n){if(r===n)return r;const s=_y(r)&&_y(n);if(s||$c(r)&&$c(n)){const l=s?r:Object.keys(r),o=l.length,c=s?n:Object.keys(n),f=c.length,h=s?[]:{},m=new Set(l);let y=0;for(let p=0;p<f;p++){const _=s?p:c[p];(!s&&m.has(_)||s)&&r[_]===void 0&&n[_]===void 0?(h[_]=void 0,y++):(h[_]=cg(r[_],n[_]),h[_]===r[_]&&r[_]!==void 0&&y++)}return o===f&&y===o?r:h}return n}function _y(r){return Array.isArray(r)&&r.length===Object.keys(r).length}function $c(r){if(!wy(r))return!1;const n=r.constructor;if(n===void 0)return!0;const s=n.prototype;return!(!wy(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(r)!==Object.prototype)}function wy(r){return Object.prototype.toString.call(r)==="[object Object]"}function N0(r){return new Promise(n=>{setTimeout(n,r)})}function M0(r,n,s){return typeof s.structuralSharing=="function"?s.structuralSharing(r,n):s.structuralSharing!==!1?cg(r,n):n}function U0(r,n,s=0){const l=[...r,n];return s&&l.length>s?l.slice(1):l}function z0(r,n,s=0){const l=[n,...r];return s&&l.length>s?l.slice(0,-1):l}var rd=Symbol();function dg(r,n){return!r.queryFn&&n?.initialPromise?()=>n.initialPromise:!r.queryFn||r.queryFn===rd?()=>Promise.reject(new Error(`Missing queryFn: '${r.queryHash}'`)):r.queryFn}var q0=class extends ao{#e;#t;#n;constructor(){super(),this.#n=r=>{if(!ro&&window.addEventListener){const n=()=>r();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(r){this.#n=r,this.#t?.(),this.#t=r(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()})}setFocused(r){this.#e!==r&&(this.#e=r,this.onFocus())}onFocus(){const r=this.isFocused();this.listeners.forEach(n=>{n(r)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},fg=new q0,L0=class extends ao{#e=!0;#t;#n;constructor(){super(),this.#n=r=>{if(!ro&&window.addEventListener){const n=()=>r(!0),s=()=>r(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",s)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(r){this.#n=r,this.#t?.(),this.#t=r(this.setOnline.bind(this))}setOnline(r){this.#e!==r&&(this.#e=r,this.listeners.forEach(s=>{s(r)}))}isOnline(){return this.#e}},Xl=new L0;function B0(){let r,n;const s=new Promise((o,c)=>{r=o,n=c});s.status="pending",s.catch(()=>{});function l(o){Object.assign(s,o),delete s.resolve,delete s.reject}return s.resolve=o=>{l({status:"fulfilled",value:o}),r(o)},s.reject=o=>{l({status:"rejected",reason:o}),n(o)},s}function H0(r){return Math.min(1e3*2**r,3e4)}function hg(r){return(r??"online")==="online"?Xl.isOnline():!0}var mg=class extends Error{constructor(r){super("CancelledError"),this.revert=r?.revert,this.silent=r?.silent}};function yg(r){let n=!1,s=0,l;const o=B0(),c=()=>o.status!=="pending",f=U=>{c()||(w(new mg(U)),r.abort?.())},h=()=>{n=!0},m=()=>{n=!1},y=()=>fg.isFocused()&&(r.networkMode==="always"||Xl.isOnline())&&r.canRun(),p=()=>hg(r.networkMode)&&r.canRun(),_=U=>{c()||(l?.(),o.resolve(U))},w=U=>{c()||(l?.(),o.reject(U))},T=()=>new Promise(U=>{l=M=>{(c()||y())&&U(M)},r.onPause?.()}).then(()=>{l=void 0,c()||r.onContinue?.()}),A=()=>{if(c())return;let U;const M=s===0?r.initialPromise:void 0;try{U=M??r.fn()}catch(N){U=Promise.reject(N)}Promise.resolve(U).then(_).catch(N=>{if(c())return;const Q=r.retry??(ro?0:3),H=r.retryDelay??H0,P=typeof H=="function"?H(s,N):H,V=Q===!0||typeof Q=="number"&&s<Q||typeof Q=="function"&&Q(s,N);if(n||!V){w(N);return}s++,r.onFail?.(s,N),N0(P).then(()=>y()?void 0:T()).then(()=>{n?w(N):A()})})};return{promise:o,status:()=>o.status,cancel:f,continue:()=>(l?.(),o),cancelRetry:h,continueRetry:m,canStart:p,start:()=>(p()?A():T().then(A),o)}}var $0=r=>setTimeout(r,0);function V0(){let r=[],n=0,s=h=>{h()},l=h=>{h()},o=$0;const c=h=>{n?r.push(h):o(()=>{s(h)})},f=()=>{const h=r;r=[],h.length&&o(()=>{l(()=>{h.forEach(m=>{s(m)})})})};return{batch:h=>{let m;n++;try{m=h()}finally{n--,n||f()}return m},batchCalls:h=>(...m)=>{c(()=>{h(...m)})},schedule:c,setNotifyFunction:h=>{s=h},setBatchNotifyFunction:h=>{l=h},setScheduler:h=>{o=h}}}var Nt=V0(),gg=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),k0(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(r){this.gcTime=Math.max(this.gcTime||0,r??(ro?1/0:300*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},G0=class extends gg{#e;#t;#n;#r;#a;#i;#l;constructor(r){super(),this.#l=!1,this.#i=r.defaultOptions,this.setOptions(r.options),this.observers=[],this.#r=r.client,this.#n=this.#r.getQueryCache(),this.queryKey=r.queryKey,this.queryHash=r.queryHash,this.#e=K0(this.options),this.state=r.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#a?.promise}setOptions(r){this.options={...this.#i,...r},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(r,n){const s=M0(this.state.data,r,this.options);return this.#s({data:s,type:"success",dataUpdatedAt:n?.updatedAt,manual:n?.manual}),s}setState(r,n){this.#s({type:"setState",state:r,setStateOptions:n})}cancel(r){const n=this.#a?.promise;return this.#a?.cancel(r),n?n.then(hn).catch(hn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(r=>D0(r.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===rd||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(r=>Hc(r.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(r=>r.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(r=0){return this.state.data===void 0?!0:r==="static"?!1:this.state.isInvalidated?!0:!R0(this.state.dataUpdatedAt,r)}onFocus(){this.observers.find(n=>n.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#a?.continue()}onOnline(){this.observers.find(n=>n.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#a?.continue()}addObserver(r){this.observers.includes(r)||(this.observers.push(r),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:r}))}removeObserver(r){this.observers.includes(r)&&(this.observers=this.observers.filter(n=>n!==r),this.observers.length||(this.#a&&(this.#l?this.#a.cancel({revert:!0}):this.#a.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:r}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}async fetch(r,n){if(this.state.fetchStatus!=="idle"&&this.#a?.status()!=="rejected"){if(this.state.data!==void 0&&n?.cancelRefetch)this.cancel({silent:!0});else if(this.#a)return this.#a.continueRetry(),this.#a.promise}if(r&&this.setOptions(r),!this.options.queryFn){const h=this.observers.find(m=>m.options.queryFn);h&&this.setOptions(h.options)}const s=new AbortController,l=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(this.#l=!0,s.signal)})},o=()=>{const h=dg(this.options,n),y=(()=>{const p={client:this.#r,queryKey:this.queryKey,meta:this.meta};return l(p),p})();return this.#l=!1,this.options.persister?this.options.persister(h,y,this):h(y)},f=(()=>{const h={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:this.#r,state:this.state,fetchFn:o};return l(h),h})();this.options.behavior?.onFetch(f,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==f.fetchOptions?.meta)&&this.#s({type:"fetch",meta:f.fetchOptions?.meta}),this.#a=yg({initialPromise:n?.initialPromise,fn:f.fetchFn,abort:s.abort.bind(s),onFail:(h,m)=>{this.#s({type:"failed",failureCount:h,error:m})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:f.options.retry,retryDelay:f.options.retryDelay,networkMode:f.options.networkMode,canRun:()=>!0});try{const h=await this.#a.start();if(h===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(h),this.#n.config.onSuccess?.(h,this),this.#n.config.onSettled?.(h,this.state.error,this),h}catch(h){if(h instanceof mg){if(h.silent)return this.#a.promise;if(h.revert)return this.setState({...this.#t,fetchStatus:"idle"}),this.state.data}throw this.#s({type:"error",error:h}),this.#n.config.onError?.(h,this),this.#n.config.onSettled?.(this.state.data,h,this),h}finally{this.scheduleGc()}}#s(r){const n=s=>{switch(r.type){case"failed":return{...s,fetchFailureCount:r.failureCount,fetchFailureReason:r.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...Y0(s.data,this.options),fetchMeta:r.meta??null};case"success":const l={...s,data:r.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:r.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!r.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=r.manual?l:void 0,l;case"error":const o=r.error;return{...s,error:o,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...r.state}}};this.state=n(this.state),Nt.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:r})})}};function Y0(r,n){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:hg(n.networkMode)?"fetching":"paused",...r===void 0&&{error:null,status:"pending"}}}function K0(r){const n=typeof r.initialData=="function"?r.initialData():r.initialData,s=n!==void 0,l=s?typeof r.initialDataUpdatedAt=="function"?r.initialDataUpdatedAt():r.initialDataUpdatedAt:0;return{data:n,dataUpdateCount:0,dataUpdatedAt:s?l??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}var Q0=class extends ao{constructor(r={}){super(),this.config=r,this.#e=new Map}#e;build(r,n,s){const l=n.queryKey,o=n.queryHash??ad(l,n);let c=this.get(o);return c||(c=new G0({client:r,queryKey:l,queryHash:o,options:r.defaultQueryOptions(n),state:s,defaultOptions:r.getQueryDefaults(l)}),this.add(c)),c}add(r){this.#e.has(r.queryHash)||(this.#e.set(r.queryHash,r),this.notify({type:"added",query:r}))}remove(r){const n=this.#e.get(r.queryHash);n&&(r.destroy(),n===r&&this.#e.delete(r.queryHash),this.notify({type:"removed",query:r}))}clear(){Nt.batch(()=>{this.getAll().forEach(r=>{this.remove(r)})})}get(r){return this.#e.get(r)}getAll(){return[...this.#e.values()]}find(r){const n={exact:!0,...r};return this.getAll().find(s=>py(n,s))}findAll(r={}){const n=this.getAll();return Object.keys(r).length>0?n.filter(s=>py(r,s)):n}notify(r){Nt.batch(()=>{this.listeners.forEach(n=>{n(r)})})}onFocus(){Nt.batch(()=>{this.getAll().forEach(r=>{r.onFocus()})})}onOnline(){Nt.batch(()=>{this.getAll().forEach(r=>{r.onOnline()})})}},P0=class extends gg{#e;#t;#n;constructor(r){super(),this.mutationId=r.mutationId,this.#t=r.mutationCache,this.#e=[],this.state=r.state||I0(),this.setOptions(r.options),this.scheduleGc()}setOptions(r){this.options=r,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(r){this.#e.includes(r)||(this.#e.push(r),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:r}))}removeObserver(r){this.#e=this.#e.filter(n=>n!==r),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:r})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(r){const n=()=>{this.#r({type:"continue"})};this.#n=yg({fn:()=>this.options.mutationFn?this.options.mutationFn(r):Promise.reject(new Error("No mutationFn found")),onFail:(o,c)=>{this.#r({type:"failed",failureCount:o,error:c})},onPause:()=>{this.#r({type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const s=this.state.status==="pending",l=!this.#n.canStart();try{if(s)n();else{this.#r({type:"pending",variables:r,isPaused:l}),await this.#t.config.onMutate?.(r,this);const c=await this.options.onMutate?.(r);c!==this.state.context&&this.#r({type:"pending",context:c,variables:r,isPaused:l})}const o=await this.#n.start();return await this.#t.config.onSuccess?.(o,r,this.state.context,this),await this.options.onSuccess?.(o,r,this.state.context),await this.#t.config.onSettled?.(o,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(o,null,r,this.state.context),this.#r({type:"success",data:o}),o}catch(o){try{throw await this.#t.config.onError?.(o,r,this.state.context,this),await this.options.onError?.(o,r,this.state.context),await this.#t.config.onSettled?.(void 0,o,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,o,r,this.state.context),o}finally{this.#r({type:"error",error:o})}}finally{this.#t.runNext(this)}}#r(r){const n=s=>{switch(r.type){case"failed":return{...s,failureCount:r.failureCount,failureReason:r.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:r.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:r.isPaused,status:"pending",variables:r.variables,submittedAt:Date.now()};case"success":return{...s,data:r.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:r.error,failureCount:s.failureCount+1,failureReason:r.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Nt.batch(()=>{this.#e.forEach(s=>{s.onMutationUpdate(r)}),this.#t.notify({mutation:this,type:"updated",action:r})})}};function I0(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var F0=class extends ao{constructor(r={}){super(),this.config=r,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(r,n,s){const l=new P0({mutationCache:this,mutationId:++this.#n,options:r.defaultMutationOptions(n),state:s});return this.add(l),l}add(r){this.#e.add(r);const n=zl(r);if(typeof n=="string"){const s=this.#t.get(n);s?s.push(r):this.#t.set(n,[r])}this.notify({type:"added",mutation:r})}remove(r){if(this.#e.delete(r)){const n=zl(r);if(typeof n=="string"){const s=this.#t.get(n);if(s)if(s.length>1){const l=s.indexOf(r);l!==-1&&s.splice(l,1)}else s[0]===r&&this.#t.delete(n)}}this.notify({type:"removed",mutation:r})}canRun(r){const n=zl(r);if(typeof n=="string"){const l=this.#t.get(n)?.find(o=>o.state.status==="pending");return!l||l===r}else return!0}runNext(r){const n=zl(r);return typeof n=="string"?this.#t.get(n)?.find(l=>l!==r&&l.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Nt.batch(()=>{this.#e.forEach(r=>{this.notify({type:"removed",mutation:r})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(r){const n={exact:!0,...r};return this.getAll().find(s=>by(n,s))}findAll(r={}){return this.getAll().filter(n=>by(r,n))}notify(r){Nt.batch(()=>{this.listeners.forEach(n=>{n(r)})})}resumePausedMutations(){const r=this.getAll().filter(n=>n.state.isPaused);return Nt.batch(()=>Promise.all(r.map(n=>n.continue().catch(hn))))}};function zl(r){return r.options.scope?.id}function Sy(r){return{onFetch:(n,s)=>{const l=n.options,o=n.fetchOptions?.meta?.fetchMore?.direction,c=n.state.data?.pages||[],f=n.state.data?.pageParams||[];let h={pages:[],pageParams:[]},m=0;const y=async()=>{let p=!1;const _=A=>{Object.defineProperty(A,"signal",{enumerable:!0,get:()=>(n.signal.aborted?p=!0:n.signal.addEventListener("abort",()=>{p=!0}),n.signal)})},w=dg(n.options,n.fetchOptions),T=async(A,U,M)=>{if(p)return Promise.reject();if(U==null&&A.pages.length)return Promise.resolve(A);const Q=(()=>{const X={client:n.client,queryKey:n.queryKey,pageParam:U,direction:M?"backward":"forward",meta:n.options.meta};return _(X),X})(),H=await w(Q),{maxPages:P}=n.options,V=M?z0:U0;return{pages:V(A.pages,H,P),pageParams:V(A.pageParams,U,P)}};if(o&&c.length){const A=o==="backward",U=A?X0:xy,M={pages:c,pageParams:f},N=U(l,M);h=await T(M,N,A)}else{const A=r??c.length;do{const U=m===0?f[0]??l.initialPageParam:xy(l,h);if(m>0&&U==null)break;h=await T(h,U),m++}while(m<A)}return h};n.options.persister?n.fetchFn=()=>n.options.persister?.(y,{client:n.client,queryKey:n.queryKey,meta:n.options.meta,signal:n.signal},s):n.fetchFn=y}}}function xy(r,{pages:n,pageParams:s}){const l=n.length-1;return n.length>0?r.getNextPageParam(n[l],n,s[l],s):void 0}function X0(r,{pages:n,pageParams:s}){return n.length>0?r.getPreviousPageParam?.(n[0],n,s[0],s):void 0}var Z0=class{#e;#t;#n;#r;#a;#i;#l;#s;constructor(r={}){this.#e=r.queryCache||new Q0,this.#t=r.mutationCache||new F0,this.#n=r.defaultOptions||{},this.#r=new Map,this.#a=new Map,this.#i=0}mount(){this.#i++,this.#i===1&&(this.#l=fg.subscribe(async r=>{r&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#s=Xl.subscribe(async r=>{r&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#i--,this.#i===0&&(this.#l?.(),this.#l=void 0,this.#s?.(),this.#s=void 0)}isFetching(r){return this.#e.findAll({...r,fetchStatus:"fetching"}).length}isMutating(r){return this.#t.findAll({...r,status:"pending"}).length}getQueryData(r){const n=this.defaultQueryOptions({queryKey:r});return this.#e.get(n.queryHash)?.state.data}ensureQueryData(r){const n=this.defaultQueryOptions(r),s=this.#e.build(this,n),l=s.state.data;return l===void 0?this.fetchQuery(r):(r.revalidateIfStale&&s.isStaleByTime(Hc(n.staleTime,s))&&this.prefetchQuery(n),Promise.resolve(l))}getQueriesData(r){return this.#e.findAll(r).map(({queryKey:n,state:s})=>{const l=s.data;return[n,l]})}setQueryData(r,n,s){const l=this.defaultQueryOptions({queryKey:r}),c=this.#e.get(l.queryHash)?.state.data,f=C0(n,c);if(f!==void 0)return this.#e.build(this,l).setData(f,{...s,manual:!0})}setQueriesData(r,n,s){return Nt.batch(()=>this.#e.findAll(r).map(({queryKey:l})=>[l,this.setQueryData(l,n,s)]))}getQueryState(r){const n=this.defaultQueryOptions({queryKey:r});return this.#e.get(n.queryHash)?.state}removeQueries(r){const n=this.#e;Nt.batch(()=>{n.findAll(r).forEach(s=>{n.remove(s)})})}resetQueries(r,n){const s=this.#e;return Nt.batch(()=>(s.findAll(r).forEach(l=>{l.reset()}),this.refetchQueries({type:"active",...r},n)))}cancelQueries(r,n={}){const s={revert:!0,...n},l=Nt.batch(()=>this.#e.findAll(r).map(o=>o.cancel(s)));return Promise.all(l).then(hn).catch(hn)}invalidateQueries(r,n={}){return Nt.batch(()=>(this.#e.findAll(r).forEach(s=>{s.invalidate()}),r?.refetchType==="none"?Promise.resolve():this.refetchQueries({...r,type:r?.refetchType??r?.type??"active"},n)))}refetchQueries(r,n={}){const s={...n,cancelRefetch:n.cancelRefetch??!0},l=Nt.batch(()=>this.#e.findAll(r).filter(o=>!o.isDisabled()&&!o.isStatic()).map(o=>{let c=o.fetch(void 0,s);return s.throwOnError||(c=c.catch(hn)),o.state.fetchStatus==="paused"?Promise.resolve():c}));return Promise.all(l).then(hn)}fetchQuery(r){const n=this.defaultQueryOptions(r);n.retry===void 0&&(n.retry=!1);const s=this.#e.build(this,n);return s.isStaleByTime(Hc(n.staleTime,s))?s.fetch(n):Promise.resolve(s.state.data)}prefetchQuery(r){return this.fetchQuery(r).then(hn).catch(hn)}fetchInfiniteQuery(r){return r.behavior=Sy(r.pages),this.fetchQuery(r)}prefetchInfiniteQuery(r){return this.fetchInfiniteQuery(r).then(hn).catch(hn)}ensureInfiniteQueryData(r){return r.behavior=Sy(r.pages),this.ensureQueryData(r)}resumePausedMutations(){return Xl.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(r){this.#n=r}setQueryDefaults(r,n){this.#r.set(yi(r),{queryKey:r,defaultOptions:n})}getQueryDefaults(r){const n=[...this.#r.values()],s={};return n.forEach(l=>{gi(r,l.queryKey)&&Object.assign(s,l.defaultOptions)}),s}setMutationDefaults(r,n){this.#a.set(yi(r),{mutationKey:r,defaultOptions:n})}getMutationDefaults(r){const n=[...this.#a.values()],s={};return n.forEach(l=>{gi(r,l.mutationKey)&&Object.assign(s,l.defaultOptions)}),s}defaultQueryOptions(r){if(r._defaulted)return r;const n={...this.#n.queries,...this.getQueryDefaults(r.queryKey),...r,_defaulted:!0};return n.queryHash||(n.queryHash=ad(n.queryKey,n)),n.refetchOnReconnect===void 0&&(n.refetchOnReconnect=n.networkMode!=="always"),n.throwOnError===void 0&&(n.throwOnError=!!n.suspense),!n.networkMode&&n.persister&&(n.networkMode="offlineFirst"),n.queryFn===rd&&(n.enabled=!1),n}defaultMutationOptions(r){return r?._defaulted?r:{...this.#n.mutations,...r?.mutationKey&&this.getMutationDefaults(r.mutationKey),...r,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},j=nd();const Kn=og(j);var J0=j.createContext(void 0),W0=({client:r,children:n})=>(j.useEffect(()=>(r.mount(),()=>{r.unmount()}),[r]),v.jsx(J0.Provider,{value:r,children:n}));/**
 * react-router v7.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Ey="popstate";function eb(r={}){function n(l,o){let{pathname:c,search:f,hash:h}=l.location;return Vc("",{pathname:c,search:f,hash:h},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function s(l,o){return typeof o=="string"?o:vi(o)}return nb(n,s,null,r)}function We(r,n){if(r===!1||r===null||typeof r>"u")throw new Error(n)}function yn(r,n){if(!r){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function tb(){return Math.random().toString(36).substring(2,10)}function Ty(r,n){return{usr:r.state,key:r.key,idx:n}}function Vc(r,n,s=null,l){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof n=="string"?Xr(n):n,state:s,key:n&&n.key||l||tb()}}function vi({pathname:r="/",search:n="",hash:s=""}){return n&&n!=="?"&&(r+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(r+=s.charAt(0)==="#"?s:"#"+s),r}function Xr(r){let n={};if(r){let s=r.indexOf("#");s>=0&&(n.hash=r.substring(s),r=r.substring(0,s));let l=r.indexOf("?");l>=0&&(n.search=r.substring(l),r=r.substring(0,l)),r&&(n.pathname=r)}return n}function nb(r,n,s,l={}){let{window:o=document.defaultView,v5Compat:c=!1}=l,f=o.history,h="POP",m=null,y=p();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function p(){return(f.state||{idx:null}).idx}function _(){h="POP";let M=p(),N=M==null?null:M-y;y=M,m&&m({action:h,location:U.location,delta:N})}function w(M,N){h="PUSH";let Q=Vc(U.location,M,N);y=p()+1;let H=Ty(Q,y),P=U.createHref(Q);try{f.pushState(H,"",P)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;o.location.assign(P)}c&&m&&m({action:h,location:U.location,delta:1})}function T(M,N){h="REPLACE";let Q=Vc(U.location,M,N);y=p();let H=Ty(Q,y),P=U.createHref(Q);f.replaceState(H,"",P),c&&m&&m({action:h,location:U.location,delta:0})}function A(M){return ab(M)}let U={get action(){return h},get location(){return r(o,f)},listen(M){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(Ey,_),m=M,()=>{o.removeEventListener(Ey,_),m=null}},createHref(M){return n(o,M)},createURL:A,encodeLocation(M){let N=A(M);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:w,replace:T,go(M){return f.go(M)}};return U}function ab(r,n=!1){let s="http://localhost";typeof window<"u"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),We(s,"No window.location.(origin|href) available to create URL");let l=typeof r=="string"?r:vi(r);return l=l.replace(/ $/,"%20"),!n&&l.startsWith("//")&&(l=s+l),new URL(l,s)}function vg(r,n,s="/"){return rb(r,n,s,!1)}function rb(r,n,s,l){let o=typeof n=="string"?Xr(n):n,c=Pn(o.pathname||"/",s);if(c==null)return null;let f=pg(r);sb(f);let h=null;for(let m=0;h==null&&m<f.length;++m){let y=gb(c);h=mb(f[m],y,l)}return h}function pg(r,n=[],s=[],l="",o=!1){let c=(f,h,m=o,y)=>{let p={relativePath:y===void 0?f.path||"":y,caseSensitive:f.caseSensitive===!0,childrenIndex:h,route:f};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(l)&&m)return;We(p.relativePath.startsWith(l),`Absolute route path "${p.relativePath}" nested under path "${l}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(l.length)}let _=Qn([l,p.relativePath]),w=s.concat(p);f.children&&f.children.length>0&&(We(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),pg(f.children,n,w,_,m)),!(f.path==null&&!f.index)&&n.push({path:_,score:fb(_,f.index),routesMeta:w})};return r.forEach((f,h)=>{if(f.path===""||!f.path?.includes("?"))c(f,h);else for(let m of bg(f.path))c(f,h,!0,m)}),n}function bg(r){let n=r.split("/");if(n.length===0)return[];let[s,...l]=n,o=s.endsWith("?"),c=s.replace(/\?$/,"");if(l.length===0)return o?[c,""]:[c];let f=bg(l.join("/")),h=[];return h.push(...f.map(m=>m===""?c:[c,m].join("/"))),o&&h.push(...f),h.map(m=>r.startsWith("/")&&m===""?"/":m)}function sb(r){r.sort((n,s)=>n.score!==s.score?s.score-n.score:hb(n.routesMeta.map(l=>l.childrenIndex),s.routesMeta.map(l=>l.childrenIndex)))}var ib=/^:[\w-]+$/,lb=3,ob=2,ub=1,cb=10,db=-2,jy=r=>r==="*";function fb(r,n){let s=r.split("/"),l=s.length;return s.some(jy)&&(l+=db),n&&(l+=ob),s.filter(o=>!jy(o)).reduce((o,c)=>o+(ib.test(c)?lb:c===""?ub:cb),l)}function hb(r,n){return r.length===n.length&&r.slice(0,-1).every((l,o)=>l===n[o])?r[r.length-1]-n[n.length-1]:0}function mb(r,n,s=!1){let{routesMeta:l}=r,o={},c="/",f=[];for(let h=0;h<l.length;++h){let m=l[h],y=h===l.length-1,p=c==="/"?n:n.slice(c.length)||"/",_=Zl({path:m.relativePath,caseSensitive:m.caseSensitive,end:y},p),w=m.route;if(!_&&y&&s&&!l[l.length-1].route.index&&(_=Zl({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},p)),!_)return null;Object.assign(o,_.params),f.push({params:o,pathname:Qn([c,_.pathname]),pathnameBase:_b(Qn([c,_.pathnameBase])),route:w}),_.pathnameBase!=="/"&&(c=Qn([c,_.pathnameBase]))}return f}function Zl(r,n){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[s,l]=yb(r.path,r.caseSensitive,r.end),o=n.match(s);if(!o)return null;let c=o[0],f=c.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:l.reduce((y,{paramName:p,isOptional:_},w)=>{if(p==="*"){let A=h[w]||"";f=c.slice(0,c.length-A.length).replace(/(.)\/+$/,"$1")}const T=h[w];return _&&!T?y[p]=void 0:y[p]=(T||"").replace(/%2F/g,"/"),y},{}),pathname:c,pathnameBase:f,pattern:r}}function yb(r,n=!1,s=!0){yn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let l=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,h,m)=>(l.push({paramName:h,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(l.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,n?void 0:"i"),l]}function gb(r){try{return r.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return yn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${n}).`),r}}function Pn(r,n){if(n==="/")return r;if(!r.toLowerCase().startsWith(n.toLowerCase()))return null;let s=n.endsWith("/")?n.length-1:n.length,l=r.charAt(s);return l&&l!=="/"?null:r.slice(s)||"/"}function vb(r,n="/"){let{pathname:s,search:l="",hash:o=""}=typeof r=="string"?Xr(r):r;return{pathname:s?s.startsWith("/")?s:pb(s,n):n,search:wb(l),hash:Sb(o)}}function pb(r,n){let s=n.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?s.length>1&&s.pop():o!=="."&&s.push(o)}),s.length>1?s.join("/"):"/"}function kc(r,n,s,l){return`Cannot include a '${r}' character in a manually specified \`to.${n}\` field [${JSON.stringify(l)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function bb(r){return r.filter((n,s)=>s===0||n.route.path&&n.route.path.length>0)}function sd(r){let n=bb(r);return n.map((s,l)=>l===n.length-1?s.pathname:s.pathnameBase)}function id(r,n,s,l=!1){let o;typeof r=="string"?o=Xr(r):(o={...r},We(!o.pathname||!o.pathname.includes("?"),kc("?","pathname","search",o)),We(!o.pathname||!o.pathname.includes("#"),kc("#","pathname","hash",o)),We(!o.search||!o.search.includes("#"),kc("#","search","hash",o)));let c=r===""||o.pathname==="",f=c?"/":o.pathname,h;if(f==null)h=s;else{let _=n.length-1;if(!l&&f.startsWith("..")){let w=f.split("/");for(;w[0]==="..";)w.shift(),_-=1;o.pathname=w.join("/")}h=_>=0?n[_]:"/"}let m=vb(o,h),y=f&&f!=="/"&&f.endsWith("/"),p=(c||f===".")&&s.endsWith("/");return!m.pathname.endsWith("/")&&(y||p)&&(m.pathname+="/"),m}var Qn=r=>r.join("/").replace(/\/\/+/g,"/"),_b=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),wb=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Sb=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function xb(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var _g=["POST","PUT","PATCH","DELETE"];new Set(_g);var Eb=["GET",..._g];new Set(Eb);var Zr=j.createContext(null);Zr.displayName="DataRouter";var so=j.createContext(null);so.displayName="DataRouterState";j.createContext(!1);var wg=j.createContext({isTransitioning:!1});wg.displayName="ViewTransition";var Tb=j.createContext(new Map);Tb.displayName="Fetchers";var jb=j.createContext(null);jb.displayName="Await";var gn=j.createContext(null);gn.displayName="Navigation";var _i=j.createContext(null);_i.displayName="Location";var En=j.createContext({outlet:null,matches:[],isDataRoute:!1});En.displayName="Route";var ld=j.createContext(null);ld.displayName="RouteError";function Ob(r,{relative:n}={}){We(Jr(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:l}=j.useContext(gn),{hash:o,pathname:c,search:f}=wi(r,{relative:n}),h=c;return s!=="/"&&(h=c==="/"?s:Qn([s,c])),l.createHref({pathname:h,search:f,hash:o})}function Jr(){return j.useContext(_i)!=null}function ba(){return We(Jr(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(_i).location}var Sg="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function xg(r){j.useContext(gn).static||j.useLayoutEffect(r)}function Eg(){let{isDataRoute:r}=j.useContext(En);return r?Hb():Ab()}function Ab(){We(Jr(),"useNavigate() may be used only in the context of a <Router> component.");let r=j.useContext(Zr),{basename:n,navigator:s}=j.useContext(gn),{matches:l}=j.useContext(En),{pathname:o}=ba(),c=JSON.stringify(sd(l)),f=j.useRef(!1);return xg(()=>{f.current=!0}),j.useCallback((m,y={})=>{if(yn(f.current,Sg),!f.current)return;if(typeof m=="number"){s.go(m);return}let p=id(m,JSON.parse(c),o,y.relative==="path");r==null&&n!=="/"&&(p.pathname=p.pathname==="/"?n:Qn([n,p.pathname])),(y.replace?s.replace:s.push)(p,y.state,y)},[n,s,c,o,r])}j.createContext(null);function wi(r,{relative:n}={}){let{matches:s}=j.useContext(En),{pathname:l}=ba(),o=JSON.stringify(sd(s));return j.useMemo(()=>id(r,JSON.parse(o),l,n==="path"),[r,o,l,n])}function Cb(r,n){return Tg(r,n)}function Tg(r,n,s,l){We(Jr(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=j.useContext(gn),{matches:c}=j.useContext(En),f=c[c.length-1],h=f?f.params:{},m=f?f.pathname:"/",y=f?f.pathnameBase:"/",p=f&&f.route;{let N=p&&p.path||"";jg(m,!p||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let _=ba(),w;if(n){let N=typeof n=="string"?Xr(n):n;We(y==="/"||N.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${N.pathname}" was given in the \`location\` prop.`),w=N}else w=_;let T=w.pathname||"/",A=T;if(y!=="/"){let N=y.replace(/^\//,"").split("/");A="/"+T.replace(/^\//,"").split("/").slice(N.length).join("/")}let U=vg(r,{pathname:A});yn(p||U!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),yn(U==null||U[U.length-1].route.element!==void 0||U[U.length-1].route.Component!==void 0||U[U.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let M=Mb(U&&U.map(N=>Object.assign({},N,{params:Object.assign({},h,N.params),pathname:Qn([y,o.encodeLocation?o.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?y:Qn([y,o.encodeLocation?o.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),c,s,l);return n&&M?j.createElement(_i.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},M):M}function kb(){let r=Bb(),n=xb(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),s=r instanceof Error?r.stack:null,l="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:l},c={padding:"2px 4px",backgroundColor:l},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:c},"ErrorBoundary")," or"," ",j.createElement("code",{style:c},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},n),s?j.createElement("pre",{style:o},s):null,f)}var Rb=j.createElement(kb,null),Db=class extends j.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,n){return n.location!==r.location||n.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:n.error,location:n.location,revalidation:r.revalidation||n.revalidation}}componentDidCatch(r,n){console.error("React Router caught the following error during render",r,n)}render(){return this.state.error!==void 0?j.createElement(En.Provider,{value:this.props.routeContext},j.createElement(ld.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Nb({routeContext:r,match:n,children:s}){let l=j.useContext(Zr);return l&&l.static&&l.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=n.route.id),j.createElement(En.Provider,{value:r},s)}function Mb(r,n=[],s=null,l=null){if(r==null){if(!s)return null;if(s.errors)r=s.matches;else if(n.length===0&&!s.initialized&&s.matches.length>0)r=s.matches;else return null}let o=r,c=s?.errors;if(c!=null){let m=o.findIndex(y=>y.route.id&&c?.[y.route.id]!==void 0);We(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,m+1))}let f=!1,h=-1;if(s)for(let m=0;m<o.length;m++){let y=o[m];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(h=m),y.route.id){let{loaderData:p,errors:_}=s,w=y.route.loader&&!p.hasOwnProperty(y.route.id)&&(!_||_[y.route.id]===void 0);if(y.route.lazy||w){f=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((m,y,p)=>{let _,w=!1,T=null,A=null;s&&(_=c&&y.route.id?c[y.route.id]:void 0,T=y.route.errorElement||Rb,f&&(h<0&&p===0?(jg("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,A=null):h===p&&(w=!0,A=y.route.hydrateFallbackElement||null)));let U=n.concat(o.slice(0,p+1)),M=()=>{let N;return _?N=T:w?N=A:y.route.Component?N=j.createElement(y.route.Component,null):y.route.element?N=y.route.element:N=m,j.createElement(Nb,{match:y,routeContext:{outlet:m,matches:U,isDataRoute:s!=null},children:N})};return s&&(y.route.ErrorBoundary||y.route.errorElement||p===0)?j.createElement(Db,{location:s.location,revalidation:s.revalidation,component:T,error:_,children:M(),routeContext:{outlet:null,matches:U,isDataRoute:!0}}):M()},null)}function od(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ub(r){let n=j.useContext(Zr);return We(n,od(r)),n}function zb(r){let n=j.useContext(so);return We(n,od(r)),n}function qb(r){let n=j.useContext(En);return We(n,od(r)),n}function ud(r){let n=qb(r),s=n.matches[n.matches.length-1];return We(s.route.id,`${r} can only be used on routes that contain a unique "id"`),s.route.id}function Lb(){return ud("useRouteId")}function Bb(){let r=j.useContext(ld),n=zb("useRouteError"),s=ud("useRouteError");return r!==void 0?r:n.errors?.[s]}function Hb(){let{router:r}=Ub("useNavigate"),n=ud("useNavigate"),s=j.useRef(!1);return xg(()=>{s.current=!0}),j.useCallback(async(o,c={})=>{yn(s.current,Sg),s.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:n,...c}))},[r,n])}var Oy={};function jg(r,n,s){!n&&!Oy[r]&&(Oy[r]=!0,yn(!1,s))}j.memo($b);function $b({routes:r,future:n,state:s}){return Tg(r,void 0,s,n)}function Jl({to:r,replace:n,state:s,relative:l}){We(Jr(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=j.useContext(gn);yn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=j.useContext(En),{pathname:f}=ba(),h=Eg(),m=id(r,sd(c),f,l==="path"),y=JSON.stringify(m);return j.useEffect(()=>{h(JSON.parse(y),{replace:n,state:s,relative:l})},[h,y,l,n,s]),null}function ai(r){We(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Vb({basename:r="/",children:n=null,location:s,navigationType:l="POP",navigator:o,static:c=!1}){We(!Jr(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),h=j.useMemo(()=>({basename:f,navigator:o,static:c,future:{}}),[f,o,c]);typeof s=="string"&&(s=Xr(s));let{pathname:m="/",search:y="",hash:p="",state:_=null,key:w="default"}=s,T=j.useMemo(()=>{let A=Pn(m,f);return A==null?null:{location:{pathname:A,search:y,hash:p,state:_,key:w},navigationType:l}},[f,m,y,p,_,w,l]);return yn(T!=null,`<Router basename="${f}"> is not able to match the URL "${m}${y}${p}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:j.createElement(gn.Provider,{value:h},j.createElement(_i.Provider,{children:n,value:T}))}function Gb({children:r,location:n}){return Cb(Gc(r),n)}function Gc(r,n=[]){let s=[];return j.Children.forEach(r,(l,o)=>{if(!j.isValidElement(l))return;let c=[...n,o];if(l.type===j.Fragment){s.push.apply(s,Gc(l.props.children,c));return}We(l.type===ai,`[${typeof l.type=="string"?l.type:l.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),We(!l.props.index||!l.props.children,"An index route cannot have child routes.");let f={id:l.props.id||c.join("-"),caseSensitive:l.props.caseSensitive,element:l.props.element,Component:l.props.Component,index:l.props.index,path:l.props.path,loader:l.props.loader,action:l.props.action,hydrateFallbackElement:l.props.hydrateFallbackElement,HydrateFallback:l.props.HydrateFallback,errorElement:l.props.errorElement,ErrorBoundary:l.props.ErrorBoundary,hasErrorBoundary:l.props.hasErrorBoundary===!0||l.props.ErrorBoundary!=null||l.props.errorElement!=null,shouldRevalidate:l.props.shouldRevalidate,handle:l.props.handle,lazy:l.props.lazy};l.props.children&&(f.children=Gc(l.props.children,c)),s.push(f)}),s}var Kl="get",Ql="application/x-www-form-urlencoded";function io(r){return r!=null&&typeof r.tagName=="string"}function Yb(r){return io(r)&&r.tagName.toLowerCase()==="button"}function Kb(r){return io(r)&&r.tagName.toLowerCase()==="form"}function Qb(r){return io(r)&&r.tagName.toLowerCase()==="input"}function Pb(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Ib(r,n){return r.button===0&&(!n||n==="_self")&&!Pb(r)}var ql=null;function Fb(){if(ql===null)try{new FormData(document.createElement("form"),0),ql=!1}catch{ql=!0}return ql}var Xb=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Rc(r){return r!=null&&!Xb.has(r)?(yn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ql}"`),null):r}function Zb(r,n){let s,l,o,c,f;if(Kb(r)){let h=r.getAttribute("action");l=h?Pn(h,n):null,s=r.getAttribute("method")||Kl,o=Rc(r.getAttribute("enctype"))||Ql,c=new FormData(r)}else if(Yb(r)||Qb(r)&&(r.type==="submit"||r.type==="image")){let h=r.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=r.getAttribute("formaction")||h.getAttribute("action");if(l=m?Pn(m,n):null,s=r.getAttribute("formmethod")||h.getAttribute("method")||Kl,o=Rc(r.getAttribute("formenctype"))||Rc(h.getAttribute("enctype"))||Ql,c=new FormData(h,r),!Fb()){let{name:y,type:p,value:_}=r;if(p==="image"){let w=y?`${y}.`:"";c.append(`${w}x`,"0"),c.append(`${w}y`,"0")}else y&&c.append(y,_)}}else{if(io(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=Kl,l=null,o=Ql,f=r}return c&&o==="text/plain"&&(f=c,c=void 0),{action:l,method:s.toLowerCase(),encType:o,formData:c,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function cd(r,n){if(r===!1||r===null||typeof r>"u")throw new Error(n)}function Jb(r,n,s){let l=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return l.pathname==="/"?l.pathname=`_root.${s}`:n&&Pn(l.pathname,n)==="/"?l.pathname=`${n.replace(/\/$/,"")}/_root.${s}`:l.pathname=`${l.pathname.replace(/\/$/,"")}.${s}`,l}async function Wb(r,n){if(r.id in n)return n[r.id];try{let s=await import(r.module);return n[r.id]=s,s}catch(s){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function e_(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function t_(r,n,s){let l=await Promise.all(r.map(async o=>{let c=n.routes[o.route.id];if(c){let f=await Wb(c,s);return f.links?f.links():[]}return[]}));return s_(l.flat(1).filter(e_).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Ay(r,n,s,l,o,c){let f=(m,y)=>s[y]?m.route.id!==s[y].route.id:!0,h=(m,y)=>s[y].pathname!==m.pathname||s[y].route.path?.endsWith("*")&&s[y].params["*"]!==m.params["*"];return c==="assets"?n.filter((m,y)=>f(m,y)||h(m,y)):c==="data"?n.filter((m,y)=>{let p=l.routes[m.route.id];if(!p||!p.hasLoader)return!1;if(f(m,y)||h(m,y))return!0;if(m.route.shouldRevalidate){let _=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:s[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function n_(r,n,{includeHydrateFallback:s}={}){return a_(r.map(l=>{let o=n.routes[l.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),s&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function a_(r){return[...new Set(r)]}function r_(r){let n={},s=Object.keys(r).sort();for(let l of s)n[l]=r[l];return n}function s_(r,n){let s=new Set;return new Set(n),r.reduce((l,o)=>{let c=JSON.stringify(r_(o));return s.has(c)||(s.add(c),l.push({key:c,link:o})),l},[])}function Og(){let r=j.useContext(Zr);return cd(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function i_(){let r=j.useContext(so);return cd(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var dd=j.createContext(void 0);dd.displayName="FrameworkContext";function Ag(){let r=j.useContext(dd);return cd(r,"You must render this element inside a <HydratedRouter> element"),r}function l_(r,n){let s=j.useContext(dd),[l,o]=j.useState(!1),[c,f]=j.useState(!1),{onFocus:h,onBlur:m,onMouseEnter:y,onMouseLeave:p,onTouchStart:_}=n,w=j.useRef(null);j.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let U=N=>{N.forEach(Q=>{f(Q.isIntersecting)})},M=new IntersectionObserver(U,{threshold:.5});return w.current&&M.observe(w.current),()=>{M.disconnect()}}},[r]),j.useEffect(()=>{if(l){let U=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(U)}}},[l]);let T=()=>{o(!0)},A=()=>{o(!1),f(!1)};return s?r!=="intent"?[c,w,{}]:[c,w,{onFocus:ei(h,T),onBlur:ei(m,A),onMouseEnter:ei(y,T),onMouseLeave:ei(p,A),onTouchStart:ei(_,T)}]:[!1,w,{}]}function ei(r,n){return s=>{r&&r(s),s.defaultPrevented||n(s)}}function o_({page:r,...n}){let{router:s}=Og(),l=j.useMemo(()=>vg(s.routes,r,s.basename),[s.routes,r,s.basename]);return l?j.createElement(c_,{page:r,matches:l,...n}):null}function u_(r){let{manifest:n,routeModules:s}=Ag(),[l,o]=j.useState([]);return j.useEffect(()=>{let c=!1;return t_(r,n,s).then(f=>{c||o(f)}),()=>{c=!0}},[r,n,s]),l}function c_({page:r,matches:n,...s}){let l=ba(),{manifest:o,routeModules:c}=Ag(),{basename:f}=Og(),{loaderData:h,matches:m}=i_(),y=j.useMemo(()=>Ay(r,n,m,o,l,"data"),[r,n,m,o,l]),p=j.useMemo(()=>Ay(r,n,m,o,l,"assets"),[r,n,m,o,l]),_=j.useMemo(()=>{if(r===l.pathname+l.search+l.hash)return[];let A=new Set,U=!1;if(n.forEach(N=>{let Q=o.routes[N.route.id];!Q||!Q.hasLoader||(!y.some(H=>H.route.id===N.route.id)&&N.route.id in h&&c[N.route.id]?.shouldRevalidate||Q.hasClientLoader?U=!0:A.add(N.route.id))}),A.size===0)return[];let M=Jb(r,f,"data");return U&&A.size>0&&M.searchParams.set("_routes",n.filter(N=>A.has(N.route.id)).map(N=>N.route.id).join(",")),[M.pathname+M.search]},[f,h,l,o,y,n,r,c]),w=j.useMemo(()=>n_(p,o),[p,o]),T=u_(p);return j.createElement(j.Fragment,null,_.map(A=>j.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...s})),w.map(A=>j.createElement("link",{key:A,rel:"modulepreload",href:A,...s})),T.map(({key:A,link:U})=>j.createElement("link",{key:A,nonce:s.nonce,...U})))}function d_(...r){return n=>{r.forEach(s=>{typeof s=="function"?s(n):s!=null&&(s.current=n)})}}var Cg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Cg&&(window.__reactRouterVersion="7.8.1")}catch{}function f_({basename:r,children:n,window:s}){let l=j.useRef();l.current==null&&(l.current=eb({window:s,v5Compat:!0}));let o=l.current,[c,f]=j.useState({action:o.action,location:o.location}),h=j.useCallback(m=>{j.startTransition(()=>f(m))},[f]);return j.useLayoutEffect(()=>o.listen(h),[o,h]),j.createElement(Vb,{basename:r,children:n,location:c.location,navigationType:c.action,navigator:o})}var kg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Rg=j.forwardRef(function({onClick:n,discover:s="render",prefetch:l="none",relative:o,reloadDocument:c,replace:f,state:h,target:m,to:y,preventScrollReset:p,viewTransition:_,...w},T){let{basename:A}=j.useContext(gn),U=typeof y=="string"&&kg.test(y),M,N=!1;if(typeof y=="string"&&U&&(M=y,Cg))try{let Qe=new URL(window.location.href),W=y.startsWith("//")?new URL(Qe.protocol+y):new URL(y),ye=Pn(W.pathname,A);W.origin===Qe.origin&&ye!=null?y=ye+W.search+W.hash:N=!0}catch{yn(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Q=Ob(y,{relative:o}),[H,P,V]=l_(l,w),X=g_(y,{replace:f,state:h,target:m,preventScrollReset:p,relative:o,viewTransition:_});function Z(Qe){n&&n(Qe),Qe.defaultPrevented||X(Qe)}let Ee=j.createElement("a",{...w,...V,href:M||Q,onClick:N||c?n:Z,ref:d_(T,P),target:m,"data-discover":!U&&s==="render"?"true":void 0});return H&&!U?j.createElement(j.Fragment,null,Ee,j.createElement(o_,{page:Q})):Ee});Rg.displayName="Link";var h_=j.forwardRef(function({"aria-current":n="page",caseSensitive:s=!1,className:l="",end:o=!1,style:c,to:f,viewTransition:h,children:m,...y},p){let _=wi(f,{relative:y.relative}),w=ba(),T=j.useContext(so),{navigator:A,basename:U}=j.useContext(gn),M=T!=null&&w_(_)&&h===!0,N=A.encodeLocation?A.encodeLocation(_).pathname:_.pathname,Q=w.pathname,H=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;s||(Q=Q.toLowerCase(),H=H?H.toLowerCase():null,N=N.toLowerCase()),H&&U&&(H=Pn(H,U)||H);const P=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let V=Q===N||!o&&Q.startsWith(N)&&Q.charAt(P)==="/",X=H!=null&&(H===N||!o&&H.startsWith(N)&&H.charAt(N.length)==="/"),Z={isActive:V,isPending:X,isTransitioning:M},Ee=V?n:void 0,Qe;typeof l=="function"?Qe=l(Z):Qe=[l,V?"active":null,X?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let W=typeof c=="function"?c(Z):c;return j.createElement(Rg,{...y,"aria-current":Ee,className:Qe,ref:p,style:W,to:f,viewTransition:h},typeof m=="function"?m(Z):m)});h_.displayName="NavLink";var m_=j.forwardRef(({discover:r="render",fetcherKey:n,navigate:s,reloadDocument:l,replace:o,state:c,method:f=Kl,action:h,onSubmit:m,relative:y,preventScrollReset:p,viewTransition:_,...w},T)=>{let A=b_(),U=__(h,{relative:y}),M=f.toLowerCase()==="get"?"get":"post",N=typeof h=="string"&&kg.test(h),Q=H=>{if(m&&m(H),H.defaultPrevented)return;H.preventDefault();let P=H.nativeEvent.submitter,V=P?.getAttribute("formmethod")||f;A(P||H.currentTarget,{fetcherKey:n,method:V,navigate:s,replace:o,state:c,relative:y,preventScrollReset:p,viewTransition:_})};return j.createElement("form",{ref:T,method:M,action:U,onSubmit:l?m:Q,...w,"data-discover":!N&&r==="render"?"true":void 0})});m_.displayName="Form";function y_(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Dg(r){let n=j.useContext(Zr);return We(n,y_(r)),n}function g_(r,{target:n,replace:s,state:l,preventScrollReset:o,relative:c,viewTransition:f}={}){let h=Eg(),m=ba(),y=wi(r,{relative:c});return j.useCallback(p=>{if(Ib(p,n)){p.preventDefault();let _=s!==void 0?s:vi(m)===vi(y);h(r,{replace:_,state:l,preventScrollReset:o,relative:c,viewTransition:f})}},[m,h,y,s,l,n,r,o,c,f])}var v_=0,p_=()=>`__${String(++v_)}__`;function b_(){let{router:r}=Dg("useSubmit"),{basename:n}=j.useContext(gn),s=Lb();return j.useCallback(async(l,o={})=>{let{action:c,method:f,encType:h,formData:m,body:y}=Zb(l,n);if(o.navigate===!1){let p=o.fetcherKey||p_();await r.fetch(p,s,o.action||c,{preventScrollReset:o.preventScrollReset,formData:m,body:y,formMethod:o.method||f,formEncType:o.encType||h,flushSync:o.flushSync})}else await r.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:m,body:y,formMethod:o.method||f,formEncType:o.encType||h,replace:o.replace,state:o.state,fromRouteId:s,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,n,s])}function __(r,{relative:n}={}){let{basename:s}=j.useContext(gn),l=j.useContext(En);We(l,"useFormAction must be used inside a RouteContext");let[o]=l.matches.slice(-1),c={...wi(r||".",{relative:n})},f=ba();if(r==null){c.search=f.search;let h=new URLSearchParams(c.search),m=h.getAll("index");if(m.some(p=>p==="")){h.delete("index"),m.filter(_=>_).forEach(_=>h.append("index",_));let p=h.toString();c.search=p?`?${p}`:""}}return(!r||r===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(c.pathname=c.pathname==="/"?s:Qn([s,c.pathname])),vi(c)}function w_(r,{relative:n}={}){let s=j.useContext(wg);We(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:l}=Dg("useViewTransitionState"),o=wi(r,{relative:n});if(!s.isTransitioning)return!1;let c=Pn(s.currentLocation.pathname,l)||s.currentLocation.pathname,f=Pn(s.nextLocation.pathname,l)||s.nextLocation.pathname;return Zl(o.pathname,f)!=null||Zl(o.pathname,c)!=null}var n1=ug();const S_="modulepreload",x_=function(r){return"/"+r},Cy={},Pt=function(n,s,l){let o=Promise.resolve();if(s&&s.length>0){let m=function(y){return Promise.all(y.map(p=>Promise.resolve(p).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),h=f?.nonce||f?.getAttribute("nonce");o=m(s.map(y=>{if(y=x_(y),y in Cy)return;Cy[y]=!0;const p=y.endsWith(".css"),_=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${y}"]${_}`))return;const w=document.createElement("link");if(w.rel=p?"stylesheet":S_,p||(w.as="script"),w.crossOrigin="",w.href=y,h&&w.setAttribute("nonce",h),document.head.appendChild(w),p)return new Promise((T,A)=>{w.addEventListener("load",T),w.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${y}`)))})}))}function c(f){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=f,window.dispatchEvent(h),!h.defaultPrevented)throw f}return o.then(f=>{for(const h of f||[])h.status==="rejected"&&c(h.reason);return n().catch(c)})};function si({className:r="",...n}){return v.jsx("div",{className:`rounded-xl border ${r}`,...n})}function Pl({className:r="",...n}){return v.jsx("div",{className:`p-4 border-b ${r}`,...n})}function ii({className:r="",...n}){return v.jsx("div",{className:`text-base font-semibold ${r}`,...n})}function li({className:r="",...n}){return v.jsx("div",{className:`p-4 ${r}`,...n})}const Qt=Kn.forwardRef(function({className:n="",...s},l){return v.jsx("input",{ref:l,className:`h-10 px-3 rounded-xl border border-slate-300 focus:outline-none focus:ring-2 focus:ring-slate-400 ${n}`,...s})}),Kt=({className:r="",...n})=>v.jsx("label",{className:`text-sm font-medium text-slate-700 ${r}`,...n}),Ie=({variant:r="default",size:n="md",className:s="",...l})=>{const o="inline-flex items-center justify-center font-medium rounded-xl",c={sm:"h-8 px-3 text-sm",md:"h-10 px-4",lg:"h-12 px-5 text-lg"},f={default:"bg-slate-900 text-white hover:bg-slate-800",outline:"border border-slate-300 hover:bg-slate-50",destructive:"bg-red-600 text-white hover:bg-red-700",secondary:"bg-slate-100 text-slate-800"};return v.jsx("button",{className:`${o} ${c[n]} ${f[r]} ${s}`,...l})},Ng=j.createContext({});function oi({value:r,onValueChange:n,children:s}){const l=[],o=c=>{Kn.Children.forEach(c,f=>{if(!Kn.isValidElement(f))return;const h=f,m=h.props??{};h.type?.__isSelectItem?l.push({value:String(m.value),label:m.children}):m?.children&&o(m.children)})};return o(s),v.jsx(Ng.Provider,{value:{value:r,onValueChange:n},children:v.jsx("div",{className:"inline-flex items-center gap-2",children:v.jsxs("select",{className:"h-10 px-3 rounded-xl border border-slate-300 bg-white",value:r,onChange:c=>n?.(c.target.value),children:[!r&&v.jsx("option",{value:"",hidden:!0}),l.map((c,f)=>v.jsx("option",{value:c.value,children:c.label},f))]})})})}const ui=({className:r="",...n})=>v.jsx("div",{className:r,...n}),ci=({placeholder:r})=>{const{value:n}=j.useContext(Ng);return v.jsx("span",{className:"text-slate-500",children:n??r??""})},di=({className:r="",...n})=>v.jsx("div",{className:r,...n}),At=({value:r,className:n="",...s})=>v.jsx("div",{"data-value":r,className:n,...s});At.__isSelectItem=!0;const E_=({variant:r="default",className:n="",...s})=>{const l={default:"bg-slate-900 text-white",secondary:"bg-slate-100 text-slate-800"};return v.jsx("span",{className:`inline-flex items-center px-2 py-0.5 text-xs rounded-full ${l[r]} ${n}`,...s})},fd=({className:r="",...n})=>v.jsx("table",{className:`w-full text-sm ${r}`,...n}),hd=({className:r="",...n})=>v.jsx("thead",{className:r,...n}),md=({className:r="",...n})=>v.jsx("tbody",{className:r,...n}),Ir=({className:r="",...n})=>v.jsx("tr",{className:`border-b last:border-0 ${r}`,...n}),nt=({className:r="",...n})=>v.jsx("th",{className:`text-left text-slate-500 font-medium py-2 px-3 ${r}`,...n}),at=({className:r="",...n})=>v.jsx("td",{className:`py-2 px-3 ${r}`,...n}),yd=j.createContext(null);function T_({value:r,onValueChange:n,children:s}){const[l,o]=j.useState(r??""),c=r??l,f=h=>n?n(h):o(h);return v.jsx(yd.Provider,{value:{value:c,setValue:f},children:v.jsx("div",{children:s})})}const j_=({className:r="",...n})=>v.jsx("div",{className:`inline-grid gap-2 ${r}`,...n}),Ll=({value:r,className:n="",...s})=>{const l=j.useContext(yd),o=l.value===r;return v.jsx("button",{className:`h-9 px-3 rounded-xl border ${o?"bg-slate-900 text-white":"bg-white"} ${n}`,onClick:()=>l.setValue(r),...s})},O_=({value:r,className:n="",...s})=>j.useContext(yd).value!==r?null:v.jsx("div",{className:n,...s});function A_(r){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",n.appendChild(s),s.styleSheet?s.styleSheet.cssText=r:s.appendChild(document.createTextNode(r))}Array(12).fill(0);let Yc=1;class C_{constructor(){this.subscribe=n=>(this.subscribers.push(n),()=>{const s=this.subscribers.indexOf(n);this.subscribers.splice(s,1)}),this.publish=n=>{this.subscribers.forEach(s=>s(n))},this.addToast=n=>{this.publish(n),this.toasts=[...this.toasts,n]},this.create=n=>{var s;const{message:l,...o}=n,c=typeof n?.id=="number"||((s=n.id)==null?void 0:s.length)>0?n.id:Yc++,f=this.toasts.find(m=>m.id===c),h=n.dismissible===void 0?!0:n.dismissible;return this.dismissedToasts.has(c)&&this.dismissedToasts.delete(c),f?this.toasts=this.toasts.map(m=>m.id===c?(this.publish({...m,...n,id:c,title:l}),{...m,...n,id:c,dismissible:h,title:l}):m):this.addToast({title:l,...o,dismissible:h,id:c}),c},this.dismiss=n=>(n?(this.dismissedToasts.add(n),requestAnimationFrame(()=>this.subscribers.forEach(s=>s({id:n,dismiss:!0})))):this.toasts.forEach(s=>{this.subscribers.forEach(l=>l({id:s.id,dismiss:!0}))}),n),this.message=(n,s)=>this.create({...s,message:n}),this.error=(n,s)=>this.create({...s,message:n,type:"error"}),this.success=(n,s)=>this.create({...s,type:"success",message:n}),this.info=(n,s)=>this.create({...s,type:"info",message:n}),this.warning=(n,s)=>this.create({...s,type:"warning",message:n}),this.loading=(n,s)=>this.create({...s,type:"loading",message:n}),this.promise=(n,s)=>{if(!s)return;let l;s.loading!==void 0&&(l=this.create({...s,promise:n,type:"loading",message:s.loading,description:typeof s.description!="function"?s.description:void 0}));const o=Promise.resolve(n instanceof Function?n():n);let c=l!==void 0,f;const h=o.then(async y=>{if(f=["resolve",y],Kn.isValidElement(y))c=!1,this.create({id:l,type:"default",message:y});else if(R_(y)&&!y.ok){c=!1;const _=typeof s.error=="function"?await s.error(`HTTP error! status: ${y.status}`):s.error,w=typeof s.description=="function"?await s.description(`HTTP error! status: ${y.status}`):s.description,A=typeof _=="object"&&!Kn.isValidElement(_)?_:{message:_};this.create({id:l,type:"error",description:w,...A})}else if(y instanceof Error){c=!1;const _=typeof s.error=="function"?await s.error(y):s.error,w=typeof s.description=="function"?await s.description(y):s.description,A=typeof _=="object"&&!Kn.isValidElement(_)?_:{message:_};this.create({id:l,type:"error",description:w,...A})}else if(s.success!==void 0){c=!1;const _=typeof s.success=="function"?await s.success(y):s.success,w=typeof s.description=="function"?await s.description(y):s.description,A=typeof _=="object"&&!Kn.isValidElement(_)?_:{message:_};this.create({id:l,type:"success",description:w,...A})}}).catch(async y=>{if(f=["reject",y],s.error!==void 0){c=!1;const p=typeof s.error=="function"?await s.error(y):s.error,_=typeof s.description=="function"?await s.description(y):s.description,T=typeof p=="object"&&!Kn.isValidElement(p)?p:{message:p};this.create({id:l,type:"error",description:_,...T})}}).finally(()=>{c&&(this.dismiss(l),l=void 0),s.finally==null||s.finally.call(s)}),m=()=>new Promise((y,p)=>h.then(()=>f[0]==="reject"?p(f[1]):y(f[1])).catch(p));return typeof l!="string"&&typeof l!="number"?{unwrap:m}:Object.assign(l,{unwrap:m})},this.custom=(n,s)=>{const l=s?.id||Yc++;return this.create({jsx:n(l),id:l,...s}),l},this.getActiveToasts=()=>this.toasts.filter(n=>!this.dismissedToasts.has(n.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const sn=new C_,k_=(r,n)=>{const s=n?.id||Yc++;return sn.addToast({title:r,...n,id:s}),s},R_=r=>r&&typeof r=="object"&&"ok"in r&&typeof r.ok=="boolean"&&"status"in r&&typeof r.status=="number",D_=k_,N_=()=>sn.toasts,M_=()=>sn.getActiveToasts(),Be=Object.assign(D_,{success:sn.success,info:sn.info,warning:sn.warning,error:sn.error,custom:sn.custom,message:sn.message,promise:sn.promise,dismiss:sn.dismiss,loading:sn.loading},{getHistory:N_,getToasts:M_});A_("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");const U_=r=>{let n;return r?n=r:typeof fetch>"u"?n=(...s)=>Pt(async()=>{const{default:l}=await Promise.resolve().then(()=>Wr);return{default:l}},[]).then(({default:l})=>l(...s)):n=fetch,(...s)=>n(...s)};class gd extends Error{constructor(n,s="FunctionsError",l){super(n),this.name=s,this.context=l}}class z_ extends gd{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class ky extends gd{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class Ry extends gd{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var Kc;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(Kc||(Kc={}));var q_=function(r,n,s,l){function o(c){return c instanceof s?c:new s(function(f){f(c)})}return new(s||(s=Promise))(function(c,f){function h(p){try{y(l.next(p))}catch(_){f(_)}}function m(p){try{y(l.throw(p))}catch(_){f(_)}}function y(p){p.done?c(p.value):o(p.value).then(h,m)}y((l=l.apply(r,n||[])).next())})};class L_{constructor(n,{headers:s={},customFetch:l,region:o=Kc.Any}={}){this.url=n,this.headers=s,this.region=o,this.fetch=U_(l)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n,s={}){var l;return q_(this,void 0,void 0,function*(){try{const{headers:o,method:c,body:f}=s;let h={},{region:m}=s;m||(m=this.region);const y=new URL(`${this.url}/${n}`);m&&m!=="any"&&(h["x-region"]=m,y.searchParams.set("forceFunctionRegion",m));let p;f&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",p=f):typeof f=="string"?(h["Content-Type"]="text/plain",p=f):typeof FormData<"u"&&f instanceof FormData?p=f:(h["Content-Type"]="application/json",p=JSON.stringify(f)));const _=yield this.fetch(y.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),o),body:p}).catch(U=>{throw new z_(U)}),w=_.headers.get("x-relay-error");if(w&&w==="true")throw new ky(_);if(!_.ok)throw new Ry(_);let T=((l=_.headers.get("Content-Type"))!==null&&l!==void 0?l:"text/plain").split(";")[0].trim(),A;return T==="application/json"?A=yield _.json():T==="application/octet-stream"?A=yield _.blob():T==="text/event-stream"?A=_:T==="multipart/form-data"?A=yield _.formData():A=yield _.text(),{data:A,error:null,response:_}}catch(o){return{data:null,error:o,response:o instanceof Ry||o instanceof ky?o.context:void 0}}})}}var St={},Mr={},Ur={},zr={},qr={},Lr={},B_=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Fr=B_();const H_=Fr.fetch,Mg=Fr.fetch.bind(Fr),Ug=Fr.Headers,$_=Fr.Request,V_=Fr.Response,Wr=Object.freeze(Object.defineProperty({__proto__:null,Headers:Ug,Request:$_,Response:V_,default:Mg,fetch:H_},Symbol.toStringTag,{value:"Module"})),G_=b0(Wr);var Bl={},Dy;function zg(){if(Dy)return Bl;Dy=1,Object.defineProperty(Bl,"__esModule",{value:!0});class r extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return Bl.default=r,Bl}var Ny;function qg(){if(Ny)return Lr;Ny=1;var r=Lr&&Lr.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Lr,"__esModule",{value:!0});const n=r(G_),s=r(zg());class l{constructor(c){this.shouldThrowOnError=!1,this.method=c.method,this.url=c.url,this.headers=c.headers,this.schema=c.schema,this.body=c.body,this.shouldThrowOnError=c.shouldThrowOnError,this.signal=c.signal,this.isMaybeSingle=c.isMaybeSingle,c.fetch?this.fetch=c.fetch:typeof fetch>"u"?this.fetch=n.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(c,f){return this.headers=Object.assign({},this.headers),this.headers[c]=f,this}then(c,f){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const h=this.fetch;let m=h(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async y=>{var p,_,w;let T=null,A=null,U=null,M=y.status,N=y.statusText;if(y.ok){if(this.method!=="HEAD"){const V=await y.text();V===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?A=V:A=JSON.parse(V))}const H=(p=this.headers.Prefer)===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),P=(_=y.headers.get("content-range"))===null||_===void 0?void 0:_.split("/");H&&P&&P.length>1&&(U=parseInt(P[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(A)&&(A.length>1?(T={code:"PGRST116",details:`Results contain ${A.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},A=null,U=null,M=406,N="Not Acceptable"):A.length===1?A=A[0]:A=null)}else{const H=await y.text();try{T=JSON.parse(H),Array.isArray(T)&&y.status===404&&(A=[],T=null,M=200,N="OK")}catch{y.status===404&&H===""?(M=204,N="No Content"):T={message:H}}if(T&&this.isMaybeSingle&&(!((w=T?.details)===null||w===void 0)&&w.includes("0 rows"))&&(T=null,M=200,N="OK"),T&&this.shouldThrowOnError)throw new s.default(T)}return{error:T,data:A,count:U,status:M,statusText:N}});return this.shouldThrowOnError||(m=m.catch(y=>{var p,_,w;return{error:{message:`${(p=y?.name)!==null&&p!==void 0?p:"FetchError"}: ${y?.message}`,details:`${(_=y?.stack)!==null&&_!==void 0?_:""}`,hint:"",code:`${(w=y?.code)!==null&&w!==void 0?w:""}`},data:null,count:null,status:0,statusText:""}})),m.then(c,f)}returns(){return this}overrideTypes(){return this}}return Lr.default=l,Lr}var My;function Lg(){if(My)return qr;My=1;var r=qr&&qr.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(qr,"__esModule",{value:!0});const n=r(qg());class s extends n.default{select(o){let c=!1;const f=(o??"*").split("").map(h=>/\s/.test(h)&&!c?"":(h==='"'&&(c=!c),h)).join("");return this.url.searchParams.set("select",f),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(o,{ascending:c=!0,nullsFirst:f,foreignTable:h,referencedTable:m=h}={}){const y=m?`${m}.order`:"order",p=this.url.searchParams.get(y);return this.url.searchParams.set(y,`${p?`${p},`:""}${o}.${c?"asc":"desc"}${f===void 0?"":f?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:c,referencedTable:f=c}={}){const h=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(h,`${o}`),this}range(o,c,{foreignTable:f,referencedTable:h=f}={}){const m=typeof h>"u"?"offset":`${h}.offset`,y=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(m,`${o}`),this.url.searchParams.set(y,`${c-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:o=!1,verbose:c=!1,settings:f=!1,buffers:h=!1,wal:m=!1,format:y="text"}={}){var p;const _=[o?"analyze":null,c?"verbose":null,f?"settings":null,h?"buffers":null,m?"wal":null].filter(Boolean).join("|"),w=(p=this.headers.Accept)!==null&&p!==void 0?p:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${y}; for="${w}"; options=${_};`,y==="json"?this:this}rollback(){var o;return((o=this.headers.Prefer)!==null&&o!==void 0?o:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return qr.default=s,qr}var Uy;function vd(){if(Uy)return zr;Uy=1;var r=zr&&zr.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(zr,"__esModule",{value:!0});const n=r(Lg());class s extends n.default{eq(o,c){return this.url.searchParams.append(o,`eq.${c}`),this}neq(o,c){return this.url.searchParams.append(o,`neq.${c}`),this}gt(o,c){return this.url.searchParams.append(o,`gt.${c}`),this}gte(o,c){return this.url.searchParams.append(o,`gte.${c}`),this}lt(o,c){return this.url.searchParams.append(o,`lt.${c}`),this}lte(o,c){return this.url.searchParams.append(o,`lte.${c}`),this}like(o,c){return this.url.searchParams.append(o,`like.${c}`),this}likeAllOf(o,c){return this.url.searchParams.append(o,`like(all).{${c.join(",")}}`),this}likeAnyOf(o,c){return this.url.searchParams.append(o,`like(any).{${c.join(",")}}`),this}ilike(o,c){return this.url.searchParams.append(o,`ilike.${c}`),this}ilikeAllOf(o,c){return this.url.searchParams.append(o,`ilike(all).{${c.join(",")}}`),this}ilikeAnyOf(o,c){return this.url.searchParams.append(o,`ilike(any).{${c.join(",")}}`),this}is(o,c){return this.url.searchParams.append(o,`is.${c}`),this}in(o,c){const f=Array.from(new Set(c)).map(h=>typeof h=="string"&&new RegExp("[,()]").test(h)?`"${h}"`:`${h}`).join(",");return this.url.searchParams.append(o,`in.(${f})`),this}contains(o,c){return typeof c=="string"?this.url.searchParams.append(o,`cs.${c}`):Array.isArray(c)?this.url.searchParams.append(o,`cs.{${c.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(c)}`),this}containedBy(o,c){return typeof c=="string"?this.url.searchParams.append(o,`cd.${c}`):Array.isArray(c)?this.url.searchParams.append(o,`cd.{${c.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(c)}`),this}rangeGt(o,c){return this.url.searchParams.append(o,`sr.${c}`),this}rangeGte(o,c){return this.url.searchParams.append(o,`nxl.${c}`),this}rangeLt(o,c){return this.url.searchParams.append(o,`sl.${c}`),this}rangeLte(o,c){return this.url.searchParams.append(o,`nxr.${c}`),this}rangeAdjacent(o,c){return this.url.searchParams.append(o,`adj.${c}`),this}overlaps(o,c){return typeof c=="string"?this.url.searchParams.append(o,`ov.${c}`):this.url.searchParams.append(o,`ov.{${c.join(",")}}`),this}textSearch(o,c,{config:f,type:h}={}){let m="";h==="plain"?m="pl":h==="phrase"?m="ph":h==="websearch"&&(m="w");const y=f===void 0?"":`(${f})`;return this.url.searchParams.append(o,`${m}fts${y}.${c}`),this}match(o){return Object.entries(o).forEach(([c,f])=>{this.url.searchParams.append(c,`eq.${f}`)}),this}not(o,c,f){return this.url.searchParams.append(o,`not.${c}.${f}`),this}or(o,{foreignTable:c,referencedTable:f=c}={}){const h=f?`${f}.or`:"or";return this.url.searchParams.append(h,`(${o})`),this}filter(o,c,f){return this.url.searchParams.append(o,`${c}.${f}`),this}}return zr.default=s,zr}var zy;function Bg(){if(zy)return Ur;zy=1;var r=Ur&&Ur.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(Ur,"__esModule",{value:!0});const n=r(vd());class s{constructor(o,{headers:c={},schema:f,fetch:h}){this.url=o,this.headers=c,this.schema=f,this.fetch=h}select(o,{head:c=!1,count:f}={}){const h=c?"HEAD":"GET";let m=!1;const y=(o??"*").split("").map(p=>/\s/.test(p)&&!m?"":(p==='"'&&(m=!m),p)).join("");return this.url.searchParams.set("select",y),f&&(this.headers.Prefer=`count=${f}`),new n.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(o,{count:c,defaultToNull:f=!0}={}){const h="POST",m=[];if(this.headers.Prefer&&m.push(this.headers.Prefer),c&&m.push(`count=${c}`),f||m.push("missing=default"),this.headers.Prefer=m.join(","),Array.isArray(o)){const y=o.reduce((p,_)=>p.concat(Object.keys(_)),[]);if(y.length>0){const p=[...new Set(y)].map(_=>`"${_}"`);this.url.searchParams.set("columns",p.join(","))}}return new n.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:this.fetch,allowEmpty:!1})}upsert(o,{onConflict:c,ignoreDuplicates:f=!1,count:h,defaultToNull:m=!0}={}){const y="POST",p=[`resolution=${f?"ignore":"merge"}-duplicates`];if(c!==void 0&&this.url.searchParams.set("on_conflict",c),this.headers.Prefer&&p.push(this.headers.Prefer),h&&p.push(`count=${h}`),m||p.push("missing=default"),this.headers.Prefer=p.join(","),Array.isArray(o)){const _=o.reduce((w,T)=>w.concat(Object.keys(T)),[]);if(_.length>0){const w=[...new Set(_)].map(T=>`"${T}"`);this.url.searchParams.set("columns",w.join(","))}}return new n.default({method:y,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:this.fetch,allowEmpty:!1})}update(o,{count:c}={}){const f="PATCH",h=[];return this.headers.Prefer&&h.push(this.headers.Prefer),c&&h.push(`count=${c}`),this.headers.Prefer=h.join(","),new n.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:this.fetch,allowEmpty:!1})}delete({count:o}={}){const c="DELETE",f=[];return o&&f.push(`count=${o}`),this.headers.Prefer&&f.unshift(this.headers.Prefer),this.headers.Prefer=f.join(","),new n.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return Ur.default=s,Ur}var ti={},ni={},qy;function Y_(){return qy||(qy=1,Object.defineProperty(ni,"__esModule",{value:!0}),ni.version=void 0,ni.version="0.0.0-automated"),ni}var Ly;function K_(){if(Ly)return ti;Ly=1,Object.defineProperty(ti,"__esModule",{value:!0}),ti.DEFAULT_HEADERS=void 0;const r=Y_();return ti.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${r.version}`},ti}var By;function Q_(){if(By)return Mr;By=1;var r=Mr&&Mr.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(Mr,"__esModule",{value:!0});const n=r(Bg()),s=r(vd()),l=K_();class o{constructor(f,{headers:h={},schema:m,fetch:y}={}){this.url=f,this.headers=Object.assign(Object.assign({},l.DEFAULT_HEADERS),h),this.schemaName=m,this.fetch=y}from(f){const h=new URL(`${this.url}/${f}`);return new n.default(h,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(f){return new o(this.url,{headers:this.headers,schema:f,fetch:this.fetch})}rpc(f,h={},{head:m=!1,get:y=!1,count:p}={}){let _;const w=new URL(`${this.url}/rpc/${f}`);let T;m||y?(_=m?"HEAD":"GET",Object.entries(h).filter(([U,M])=>M!==void 0).map(([U,M])=>[U,Array.isArray(M)?`{${M.join(",")}}`:`${M}`]).forEach(([U,M])=>{w.searchParams.append(U,M)})):(_="POST",T=h);const A=Object.assign({},this.headers);return p&&(A.Prefer=`count=${p}`),new s.default({method:_,url:w,headers:A,schema:this.schemaName,body:T,fetch:this.fetch,allowEmpty:!1})}}return Mr.default=o,Mr}var Hy;function P_(){if(Hy)return St;Hy=1;var r=St&&St.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(St,"__esModule",{value:!0}),St.PostgrestError=St.PostgrestBuilder=St.PostgrestTransformBuilder=St.PostgrestFilterBuilder=St.PostgrestQueryBuilder=St.PostgrestClient=void 0;const n=r(Q_());St.PostgrestClient=n.default;const s=r(Bg());St.PostgrestQueryBuilder=s.default;const l=r(vd());St.PostgrestFilterBuilder=l.default;const o=r(Lg());St.PostgrestTransformBuilder=o.default;const c=r(qg());St.PostgrestBuilder=c.default;const f=r(zg());return St.PostgrestError=f.default,St.default={PostgrestClient:n.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:l.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:c.default,PostgrestError:f.default},St}var I_=P_();const F_=og(I_),{PostgrestClient:X_,PostgrestQueryBuilder:a1,PostgrestFilterBuilder:r1,PostgrestTransformBuilder:s1,PostgrestBuilder:i1,PostgrestError:l1}=F_;class Z_{static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const s=parseInt(process.versions.node.split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const n=this.detectEnvironment();if(n.constructor)return n.constructor;let s=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(s+=`

Suggested solution: ${n.workaround}`),new Error(s)}static createWebSocket(n,s){const l=this.getWebSocketConstructor();return new l(n,s)}static isWebSocketSupported(){try{const n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}}const J_="2.15.1",W_=`realtime-js/${J_}`,ew="1.0.0",Qc=1e4,tw=1e3,nw=100;var fi;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(fi||(fi={}));var gt;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(gt||(gt={}));var mn;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(mn||(mn={}));var Pc;(function(r){r.websocket="websocket"})(Pc||(Pc={}));var Ka;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(Ka||(Ka={}));class aw{constructor(){this.HEADER_LENGTH=1}decode(n,s){return n.constructor===ArrayBuffer?s(this._binaryDecode(n)):s(typeof n=="string"?JSON.parse(n):{})}_binaryDecode(n){const s=new DataView(n),l=new TextDecoder;return this._decodeBroadcast(n,s,l)}_decodeBroadcast(n,s,l){const o=s.getUint8(1),c=s.getUint8(2);let f=this.HEADER_LENGTH+2;const h=l.decode(n.slice(f,f+o));f=f+o;const m=l.decode(n.slice(f,f+c));f=f+c;const y=JSON.parse(l.decode(n.slice(f,n.byteLength)));return{ref:null,topic:h,event:m,payload:y}}}class Hg{constructor(n,s){this.callback=n,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Xe;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(Xe||(Xe={}));const $y=(r,n,s={})=>{var l;const o=(l=s.skipTypes)!==null&&l!==void 0?l:[];return Object.keys(n).reduce((c,f)=>(c[f]=rw(f,r,n,o),c),{})},rw=(r,n,s,l)=>{const o=n.find(h=>h.name===r),c=o?.type,f=s[r];return c&&!l.includes(c)?$g(c,f):Ic(f)},$g=(r,n)=>{if(r.charAt(0)==="_"){const s=r.slice(1,r.length);return ow(n,s)}switch(r){case Xe.bool:return sw(n);case Xe.float4:case Xe.float8:case Xe.int2:case Xe.int4:case Xe.int8:case Xe.numeric:case Xe.oid:return iw(n);case Xe.json:case Xe.jsonb:return lw(n);case Xe.timestamp:return uw(n);case Xe.abstime:case Xe.date:case Xe.daterange:case Xe.int4range:case Xe.int8range:case Xe.money:case Xe.reltime:case Xe.text:case Xe.time:case Xe.timestamptz:case Xe.timetz:case Xe.tsrange:case Xe.tstzrange:return Ic(n);default:return Ic(n)}},Ic=r=>r,sw=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},iw=r=>{if(typeof r=="string"){const n=parseFloat(r);if(!Number.isNaN(n))return n}return r},lw=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch(n){return console.log(`JSON parse error: ${n}`),r}return r},ow=(r,n)=>{if(typeof r!="string")return r;const s=r.length-1,l=r[s];if(r[0]==="{"&&l==="}"){let c;const f=r.slice(1,s);try{c=JSON.parse("["+f+"]")}catch{c=f?f.split(","):[]}return c.map(h=>$g(n,h))}return r},uw=r=>typeof r=="string"?r.replace(" ","T"):r,Vg=r=>{let n=r;return n=n.replace(/^ws/i,"http"),n=n.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),n.replace(/\/+$/,"")+"/api/broadcast"};class Dc{constructor(n,s,l={},o=Qc){this.channel=n,this.event=s,this.payload=l,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,s){var l;return this._hasReceived(n)&&s((l=this.receivedResp)===null||l===void 0?void 0:l.response),this.recHooks.push({status:n,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:s}){this.recHooks.filter(l=>l.status===n).forEach(l=>l.callback(s))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var Vy;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(Vy||(Vy={}));class hi{constructor(n,s){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const l=s?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(l.state,{},o=>{const{onJoin:c,onLeave:f,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=hi.syncState(this.state,o,c,f),this.pendingDiffs.forEach(m=>{this.state=hi.syncDiff(this.state,m,c,f)}),this.pendingDiffs=[],h()}),this.channel._on(l.diff,{},o=>{const{onJoin:c,onLeave:f,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=hi.syncDiff(this.state,o,c,f),h())}),this.onJoin((o,c,f)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:c,newPresences:f})}),this.onLeave((o,c,f)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:c,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,s,l,o){const c=this.cloneDeep(n),f=this.transformState(s),h={},m={};return this.map(c,(y,p)=>{f[y]||(m[y]=p)}),this.map(f,(y,p)=>{const _=c[y];if(_){const w=p.map(M=>M.presence_ref),T=_.map(M=>M.presence_ref),A=p.filter(M=>T.indexOf(M.presence_ref)<0),U=_.filter(M=>w.indexOf(M.presence_ref)<0);A.length>0&&(h[y]=A),U.length>0&&(m[y]=U)}else h[y]=p}),this.syncDiff(c,{joins:h,leaves:m},l,o)}static syncDiff(n,s,l,o){const{joins:c,leaves:f}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return l||(l=()=>{}),o||(o=()=>{}),this.map(c,(h,m)=>{var y;const p=(y=n[h])!==null&&y!==void 0?y:[];if(n[h]=this.cloneDeep(m),p.length>0){const _=n[h].map(T=>T.presence_ref),w=p.filter(T=>_.indexOf(T.presence_ref)<0);n[h].unshift(...w)}l(h,p,m)}),this.map(f,(h,m)=>{let y=n[h];if(!y)return;const p=m.map(_=>_.presence_ref);y=y.filter(_=>p.indexOf(_.presence_ref)<0),n[h]=y,o(h,y,m),y.length===0&&delete n[h]}),n}static map(n,s){return Object.getOwnPropertyNames(n).map(l=>s(l,n[l]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((s,l)=>{const o=n[l];return"metas"in o?s[l]=o.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):s[l]=o,s},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Gy;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(Gy||(Gy={}));var mi;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(mi||(mi={}));var Yn;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(Yn||(Yn={}));class pd{constructor(n,s={config:{}},l){this.topic=n,this.params=s,this.socket=l,this.bindings={},this.state=gt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Dc(this,mn.join,this.params,this.timeout),this.rejoinTimer=new Hg(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=gt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=gt.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=gt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=gt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=gt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(mn.reply,{},(o,c)=>{this._trigger(this._replyEventName(c),o)}),this.presence=new hi(this),this.broadcastEndpointURL=Vg(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(n,s=this.timeout){var l,o;if(this.socket.isConnected()||this.socket.connect(),this.state==gt.closed){const{config:{broadcast:c,presence:f,private:h}}=this.params,m=(o=(l=this.bindings.postgres_changes)===null||l===void 0?void 0:l.map(w=>w.filter))!==null&&o!==void 0?o:[],y=!!this.bindings[mi.PRESENCE]&&this.bindings[mi.PRESENCE].length>0,p={},_={broadcast:c,presence:Object.assign(Object.assign({},f),{enabled:y}),postgres_changes:m,private:h};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(w=>n?.(Yn.CHANNEL_ERROR,w)),this._onClose(()=>n?.(Yn.CLOSED)),this.updateJoinPayload(Object.assign({config:_},p)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:w})=>{var T;if(this.socket.setAuth(),w===void 0){n?.(Yn.SUBSCRIBED);return}else{const A=this.bindings.postgres_changes,U=(T=A?.length)!==null&&T!==void 0?T:0,M=[];for(let N=0;N<U;N++){const Q=A[N],{filter:{event:H,schema:P,table:V,filter:X}}=Q,Z=w&&w[N];if(Z&&Z.event===H&&Z.schema===P&&Z.table===V&&Z.filter===X)M.push(Object.assign(Object.assign({},Q),{id:Z.id}));else{this.unsubscribe(),this.state=gt.errored,n?.(Yn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=M,n&&n(Yn.SUBSCRIBED);return}}).receive("error",w=>{this.state=gt.errored,n?.(Yn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(w).join(", ")||"error")))}).receive("timeout",()=>{n?.(Yn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,s={}){return await this.send({type:"presence",event:"track",payload:n},s.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,s,l){return this.state===gt.joined&&n===mi.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(n,s,l)}async send(n,s={}){var l,o;if(!this._canPush()&&n.type==="broadcast"){const{event:c,payload:f}=n,m={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:f,private:this.private}]})};try{const y=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(l=s.timeout)!==null&&l!==void 0?l:this.timeout);return await((o=y.body)===null||o===void 0?void 0:o.cancel()),y.ok?"ok":"error"}catch(y){return y.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var f,h,m;const y=this._push(n.type,n,s.timeout||this.timeout);n.type==="broadcast"&&!(!((m=(h=(f=this.params)===null||f===void 0?void 0:f.config)===null||h===void 0?void 0:h.broadcast)===null||m===void 0)&&m.ack)&&c("ok"),y.receive("ok",()=>c("ok")),y.receive("error",()=>c("error")),y.receive("timeout",()=>c("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=gt.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(mn.close,"leave",this._joinRef())};this.joinPush.destroy();let l=null;return new Promise(o=>{l=new Dc(this,mn.leave,{},n),l.receive("ok",()=>{s(),o("ok")}).receive("timeout",()=>{s(),o("timed out")}).receive("error",()=>{o("error")}),l.send(),this._canPush()||l.trigger("ok",{})}).finally(()=>{l?.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=gt.closed,this.bindings={}}async _fetchWithTimeout(n,s,l){const o=new AbortController,c=setTimeout(()=>o.abort(),l),f=await this.socket.fetch(n,Object.assign(Object.assign({},s),{signal:o.signal}));return clearTimeout(c),f}_push(n,s,l=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Dc(this,n,s,l);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>nw){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(n,s,l){return s}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,s,l){var o,c;const f=n.toLocaleLowerCase(),{close:h,error:m,leave:y,join:p}=mn;if(l&&[h,m,y,p].indexOf(f)>=0&&l!==this._joinRef())return;let w=this._onMessage(f,s,l);if(s&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(T=>{var A,U,M;return((A=T.filter)===null||A===void 0?void 0:A.event)==="*"||((M=(U=T.filter)===null||U===void 0?void 0:U.event)===null||M===void 0?void 0:M.toLocaleLowerCase())===f}).map(T=>T.callback(w,l)):(c=this.bindings[f])===null||c===void 0||c.filter(T=>{var A,U,M,N,Q,H;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in T){const P=T.id,V=(A=T.filter)===null||A===void 0?void 0:A.event;return P&&((U=s.ids)===null||U===void 0?void 0:U.includes(P))&&(V==="*"||V?.toLocaleLowerCase()===((M=s.data)===null||M===void 0?void 0:M.type.toLocaleLowerCase()))}else{const P=(Q=(N=T?.filter)===null||N===void 0?void 0:N.event)===null||Q===void 0?void 0:Q.toLocaleLowerCase();return P==="*"||P===((H=s?.event)===null||H===void 0?void 0:H.toLocaleLowerCase())}else return T.type.toLocaleLowerCase()===f}).map(T=>{if(typeof w=="object"&&"ids"in w){const A=w.data,{schema:U,table:M,commit_timestamp:N,type:Q,errors:H}=A;w=Object.assign(Object.assign({},{schema:U,table:M,commit_timestamp:N,eventType:Q,new:{},old:{},errors:H}),this._getPayloadRecords(A))}T.callback(w,l)})}_isClosed(){return this.state===gt.closed}_isJoined(){return this.state===gt.joined}_isJoining(){return this.state===gt.joining}_isLeaving(){return this.state===gt.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,s,l){const o=n.toLocaleLowerCase(),c={type:o,filter:s,callback:l};return this.bindings[o]?this.bindings[o].push(c):this.bindings[o]=[c],this}_off(n,s){const l=n.toLocaleLowerCase();return this.bindings[l]&&(this.bindings[l]=this.bindings[l].filter(o=>{var c;return!(((c=o.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===l&&pd.isEqual(o.filter,s))})),this}static isEqual(n,s){if(Object.keys(n).length!==Object.keys(s).length)return!1;for(const l in n)if(n[l]!==s[l])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(mn.close,{},n)}_onError(n){this._on(mn.error,{},s=>n(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=gt.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const s={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(s.new=$y(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(s.old=$y(n.columns,n.old_record)),s}}const Yy=()=>{},Hl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},cw=[1e3,2e3,5e3,1e4],dw=1e4,fw=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class hw{constructor(n,s){var l;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Qc,this.transport=null,this.heartbeatIntervalMs=Hl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Yy,this.ref=0,this.reconnectTimer=null,this.logger=Yy,this.conn=null,this.sendBuffer=[],this.serializer=new aw,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>{let c;return o?c=o:typeof fetch>"u"?c=(...f)=>Pt(async()=>{const{default:h}=await Promise.resolve().then(()=>Wr);return{default:h}},void 0).then(({default:h})=>h(...f)).catch(h=>{throw new Error(`Failed to load @supabase/node-fetch: ${h.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):c=fetch,(...f)=>c(...f)},!(!((l=s?.params)===null||l===void 0)&&l.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${n}/${Pc.websocket}`,this.httpEndpoint=Vg(n),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Z_.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");const s=n.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:ew}))}disconnect(n,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const l=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(l),this._setConnectionState("disconnected")},n?this.conn.close(n,s??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(n){const s=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const n=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,s,l){this.logger(n,s,l)}connectionState(){switch(this.conn&&this.conn.readyState){case fi.connecting:return Ka.Connecting;case fi.open:return Ka.Open;case fi.closing:return Ka.Closing;default:return Ka.Closed}}isConnected(){return this.connectionState()===Ka.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,s={config:{}}){const l=`realtime:${n}`,o=this.getChannels().find(c=>c.topic===l);if(o)return o;{const c=new pd(`realtime:${n}`,s,this);return this.channels.push(c),c}}push(n){const{topic:s,event:l,payload:o,ref:c}=n,f=()=>{this.encode(n,h=>{var m;(m=this.conn)===null||m===void 0||m.send(h)})};this.log("push",`${s} ${l} (${c})`,o),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(n=null){this._authPromise=this._performAuth(n);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var n;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(tw,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},Hl.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let s=this.channels.find(l=>l.topic===n&&(l._isJoined()||l._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${n}"`),s.unsubscribe())}_remove(n){this.channels=this.channels.filter(s=>s.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,s=>{s.topic==="phoenix"&&s.event==="phx_reply"&&this.heartbeatCallback(s.payload.status==="ok"?"ok":"error"),s.ref&&s.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:l,event:o,payload:c,ref:f}=s,h=f?`(${f})`:"",m=c.status||"";this.log("receive",`${m} ${l} ${o} ${h}`.trim(),c),this.channels.filter(y=>y._isMember(l)).forEach(y=>y._trigger(o,c,f)),this._triggerStateCallbacks("message",s)})}_clearTimer(n){var s;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(n){var s;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n)}_triggerChanError(){this.channels.forEach(n=>n._trigger(mn.error))}_appendParams(n,s){if(Object.keys(s).length===0)return n;const l=n.match(/\?/)?"&":"?",o=new URLSearchParams(s);return`${n}${l}${o}`}_workerObjectUrl(n){let s;if(n)s=n;else{const l=new Blob([fw],{type:"application/javascript"});s=URL.createObjectURL(l)}return s}_setConnectionState(n,s=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(n=null){let s;n?s=n:this.accessToken?s=await this.accessToken():s=this.accessTokenValue,this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(l=>{const o={access_token:s,version:W_};s&&l.updateJoinPayload(o),l.joinedOnce&&l._isJoined()&&l._push(mn.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(n="general"){this.setAuth().catch(s=>{this.log("error",`error setting auth in ${n}`,s)})}_triggerStateCallbacks(n,s){try{this.stateChangeCallbacks[n].forEach(l=>{try{l(s)}catch(o){this.log("error",`error in ${n} callback`,o)}})}catch(l){this.log("error",`error triggering ${n} callbacks`,l)}}_setupReconnectionTimer(){this.reconnectTimer=new Hg(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Hl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(n){var s,l,o,c,f,h,m,y;if(this.transport=(s=n?.transport)!==null&&s!==void 0?s:null,this.timeout=(l=n?.timeout)!==null&&l!==void 0?l:Qc,this.heartbeatIntervalMs=(o=n?.heartbeatIntervalMs)!==null&&o!==void 0?o:Hl.HEARTBEAT_INTERVAL,this.worker=(c=n?.worker)!==null&&c!==void 0?c:!1,this.accessToken=(f=n?.accessToken)!==null&&f!==void 0?f:null,n?.params&&(this.params=n.params),n?.logger&&(this.logger=n.logger),(n?.logLevel||n?.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(h=n?.reconnectAfterMs)!==null&&h!==void 0?h:(p=>cw[p-1]||dw),this.encode=(m=n?.encode)!==null&&m!==void 0?m:((p,_)=>_(JSON.stringify(p))),this.decode=(y=n?.decode)!==null&&y!==void 0?y:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n?.workerUrl}}}class bd extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}}function vt(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}class mw extends bd{constructor(n,s,l){super(n),this.name="StorageApiError",this.status=s,this.statusCode=l}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Fc extends bd{constructor(n,s){super(n),this.name="StorageUnknownError",this.originalError=s}}var yw=function(r,n,s,l){function o(c){return c instanceof s?c:new s(function(f){f(c)})}return new(s||(s=Promise))(function(c,f){function h(p){try{y(l.next(p))}catch(_){f(_)}}function m(p){try{y(l.throw(p))}catch(_){f(_)}}function y(p){p.done?c(p.value):o(p.value).then(h,m)}y((l=l.apply(r,n||[])).next())})};const Gg=r=>{let n;return r?n=r:typeof fetch>"u"?n=(...s)=>Pt(async()=>{const{default:l}=await Promise.resolve().then(()=>Wr);return{default:l}},void 0).then(({default:l})=>l(...s)):n=fetch,(...s)=>n(...s)},gw=()=>yw(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Pt(()=>Promise.resolve().then(()=>Wr),void 0)).Response:Response}),Xc=r=>{if(Array.isArray(r))return r.map(s=>Xc(s));if(typeof r=="function"||r!==Object(r))return r;const n={};return Object.entries(r).forEach(([s,l])=>{const o=s.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));n[o]=Xc(l)}),n},vw=r=>{if(typeof r!="object"||r===null)return!1;const n=Object.getPrototypeOf(r);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)};var Qa=function(r,n,s,l){function o(c){return c instanceof s?c:new s(function(f){f(c)})}return new(s||(s=Promise))(function(c,f){function h(p){try{y(l.next(p))}catch(_){f(_)}}function m(p){try{y(l.throw(p))}catch(_){f(_)}}function y(p){p.done?c(p.value):o(p.value).then(h,m)}y((l=l.apply(r,n||[])).next())})};const Nc=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),pw=(r,n,s)=>Qa(void 0,void 0,void 0,function*(){const l=yield gw();r instanceof l&&!s?.noResolveJson?r.json().then(o=>{const c=r.status||500,f=o?.statusCode||c+"";n(new mw(Nc(o),c,f))}).catch(o=>{n(new Fc(Nc(o),o))}):n(new Fc(Nc(r),r))}),bw=(r,n,s,l)=>{const o={method:r,headers:n?.headers||{}};return r==="GET"||!l?o:(vw(l)?(o.headers=Object.assign({"Content-Type":"application/json"},n?.headers),o.body=JSON.stringify(l)):o.body=l,n?.duplex&&(o.duplex=n.duplex),Object.assign(Object.assign({},o),s))};function Si(r,n,s,l,o,c){return Qa(this,void 0,void 0,function*(){return new Promise((f,h)=>{r(s,bw(n,l,o,c)).then(m=>{if(!m.ok)throw m;return l?.noResolveJson?m:m.json()}).then(m=>f(m)).catch(m=>pw(m,h,l))})})}function Wl(r,n,s,l){return Qa(this,void 0,void 0,function*(){return Si(r,"GET",n,s,l)})}function xn(r,n,s,l,o){return Qa(this,void 0,void 0,function*(){return Si(r,"POST",n,l,o,s)})}function Zc(r,n,s,l,o){return Qa(this,void 0,void 0,function*(){return Si(r,"PUT",n,l,o,s)})}function _w(r,n,s,l){return Qa(this,void 0,void 0,function*(){return Si(r,"HEAD",n,Object.assign(Object.assign({},s),{noResolveJson:!0}),l)})}function Yg(r,n,s,l,o){return Qa(this,void 0,void 0,function*(){return Si(r,"DELETE",n,l,o,s)})}var Dt=function(r,n,s,l){function o(c){return c instanceof s?c:new s(function(f){f(c)})}return new(s||(s=Promise))(function(c,f){function h(p){try{y(l.next(p))}catch(_){f(_)}}function m(p){try{y(l.throw(p))}catch(_){f(_)}}function y(p){p.done?c(p.value):o(p.value).then(h,m)}y((l=l.apply(r,n||[])).next())})};const ww={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ky={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Sw{constructor(n,s={},l,o){this.url=n,this.headers=s,this.bucketId=l,this.fetch=Gg(o)}uploadOrUpdate(n,s,l,o){return Dt(this,void 0,void 0,function*(){try{let c;const f=Object.assign(Object.assign({},Ky),o);let h=Object.assign(Object.assign({},this.headers),n==="POST"&&{"x-upsert":String(f.upsert)});const m=f.metadata;typeof Blob<"u"&&l instanceof Blob?(c=new FormData,c.append("cacheControl",f.cacheControl),m&&c.append("metadata",this.encodeMetadata(m)),c.append("",l)):typeof FormData<"u"&&l instanceof FormData?(c=l,c.append("cacheControl",f.cacheControl),m&&c.append("metadata",this.encodeMetadata(m))):(c=l,h["cache-control"]=`max-age=${f.cacheControl}`,h["content-type"]=f.contentType,m&&(h["x-metadata"]=this.toBase64(this.encodeMetadata(m)))),o?.headers&&(h=Object.assign(Object.assign({},h),o.headers));const y=this._removeEmptyFolders(s),p=this._getFinalPath(y),_=yield(n=="PUT"?Zc:xn)(this.fetch,`${this.url}/object/${p}`,c,Object.assign({headers:h},f?.duplex?{duplex:f.duplex}:{}));return{data:{path:y,id:_.Id,fullPath:_.Key},error:null}}catch(c){if(vt(c))return{data:null,error:c};throw c}})}upload(n,s,l){return Dt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",n,s,l)})}uploadToSignedUrl(n,s,l,o){return Dt(this,void 0,void 0,function*(){const c=this._removeEmptyFolders(n),f=this._getFinalPath(c),h=new URL(this.url+`/object/upload/sign/${f}`);h.searchParams.set("token",s);try{let m;const y=Object.assign({upsert:Ky.upsert},o),p=Object.assign(Object.assign({},this.headers),{"x-upsert":String(y.upsert)});typeof Blob<"u"&&l instanceof Blob?(m=new FormData,m.append("cacheControl",y.cacheControl),m.append("",l)):typeof FormData<"u"&&l instanceof FormData?(m=l,m.append("cacheControl",y.cacheControl)):(m=l,p["cache-control"]=`max-age=${y.cacheControl}`,p["content-type"]=y.contentType);const _=yield Zc(this.fetch,h.toString(),m,{headers:p});return{data:{path:c,fullPath:_.Key},error:null}}catch(m){if(vt(m))return{data:null,error:m};throw m}})}createSignedUploadUrl(n,s){return Dt(this,void 0,void 0,function*(){try{let l=this._getFinalPath(n);const o=Object.assign({},this.headers);s?.upsert&&(o["x-upsert"]="true");const c=yield xn(this.fetch,`${this.url}/object/upload/sign/${l}`,{},{headers:o}),f=new URL(this.url+c.url),h=f.searchParams.get("token");if(!h)throw new bd("No token returned by API");return{data:{signedUrl:f.toString(),path:n,token:h},error:null}}catch(l){if(vt(l))return{data:null,error:l};throw l}})}update(n,s,l){return Dt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",n,s,l)})}move(n,s,l){return Dt(this,void 0,void 0,function*(){try{return{data:yield xn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:n,destinationKey:s,destinationBucket:l?.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(vt(o))return{data:null,error:o};throw o}})}copy(n,s,l){return Dt(this,void 0,void 0,function*(){try{return{data:{path:(yield xn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:n,destinationKey:s,destinationBucket:l?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(vt(o))return{data:null,error:o};throw o}})}createSignedUrl(n,s,l){return Dt(this,void 0,void 0,function*(){try{let o=this._getFinalPath(n),c=yield xn(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:s},l?.transform?{transform:l.transform}:{}),{headers:this.headers});const f=l?.download?`&download=${l.download===!0?"":l.download}`:"";return c={signedUrl:encodeURI(`${this.url}${c.signedURL}${f}`)},{data:c,error:null}}catch(o){if(vt(o))return{data:null,error:o};throw o}})}createSignedUrls(n,s,l){return Dt(this,void 0,void 0,function*(){try{const o=yield xn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:n},{headers:this.headers}),c=l?.download?`&download=${l.download===!0?"":l.download}`:"";return{data:o.map(f=>Object.assign(Object.assign({},f),{signedUrl:f.signedURL?encodeURI(`${this.url}${f.signedURL}${c}`):null})),error:null}}catch(o){if(vt(o))return{data:null,error:o};throw o}})}download(n,s){return Dt(this,void 0,void 0,function*(){const o=typeof s?.transform<"u"?"render/image/authenticated":"object",c=this.transformOptsToQueryString(s?.transform||{}),f=c?`?${c}`:"";try{const h=this._getFinalPath(n);return{data:yield(yield Wl(this.fetch,`${this.url}/${o}/${h}${f}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(h){if(vt(h))return{data:null,error:h};throw h}})}info(n){return Dt(this,void 0,void 0,function*(){const s=this._getFinalPath(n);try{const l=yield Wl(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:Xc(l),error:null}}catch(l){if(vt(l))return{data:null,error:l};throw l}})}exists(n){return Dt(this,void 0,void 0,function*(){const s=this._getFinalPath(n);try{return yield _w(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(l){if(vt(l)&&l instanceof Fc){const o=l.originalError;if([400,404].includes(o?.status))return{data:!1,error:l}}throw l}})}getPublicUrl(n,s){const l=this._getFinalPath(n),o=[],c=s?.download?`download=${s.download===!0?"":s.download}`:"";c!==""&&o.push(c);const h=typeof s?.transform<"u"?"render/image":"object",m=this.transformOptsToQueryString(s?.transform||{});m!==""&&o.push(m);let y=o.join("&");return y!==""&&(y=`?${y}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${l}${y}`)}}}remove(n){return Dt(this,void 0,void 0,function*(){try{return{data:yield Yg(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:n},{headers:this.headers}),error:null}}catch(s){if(vt(s))return{data:null,error:s};throw s}})}list(n,s,l){return Dt(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},ww),s),{prefix:n||""});return{data:yield xn(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},l),error:null}}catch(o){if(vt(o))return{data:null,error:o};throw o}})}listV2(n,s){return Dt(this,void 0,void 0,function*(){try{const l=Object.assign({},n);return{data:yield xn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,l,{headers:this.headers},s),error:null}}catch(l){if(vt(l))return{data:null,error:l};throw l}})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const s=[];return n.width&&s.push(`width=${n.width}`),n.height&&s.push(`height=${n.height}`),n.resize&&s.push(`resize=${n.resize}`),n.format&&s.push(`format=${n.format}`),n.quality&&s.push(`quality=${n.quality}`),s.join("&")}}const xw="2.11.0",Ew={"X-Client-Info":`storage-js/${xw}`};var Br=function(r,n,s,l){function o(c){return c instanceof s?c:new s(function(f){f(c)})}return new(s||(s=Promise))(function(c,f){function h(p){try{y(l.next(p))}catch(_){f(_)}}function m(p){try{y(l.throw(p))}catch(_){f(_)}}function y(p){p.done?c(p.value):o(p.value).then(h,m)}y((l=l.apply(r,n||[])).next())})};class Tw{constructor(n,s={},l,o){const c=new URL(n);o?.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase.")),this.url=c.href,this.headers=Object.assign(Object.assign({},Ew),s),this.fetch=Gg(l)}listBuckets(){return Br(this,void 0,void 0,function*(){try{return{data:yield Wl(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(n){if(vt(n))return{data:null,error:n};throw n}})}getBucket(n){return Br(this,void 0,void 0,function*(){try{return{data:yield Wl(this.fetch,`${this.url}/bucket/${n}`,{headers:this.headers}),error:null}}catch(s){if(vt(s))return{data:null,error:s};throw s}})}createBucket(n,s={public:!1}){return Br(this,void 0,void 0,function*(){try{return{data:yield xn(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(vt(l))return{data:null,error:l};throw l}})}updateBucket(n,s){return Br(this,void 0,void 0,function*(){try{return{data:yield Zc(this.fetch,`${this.url}/bucket/${n}`,{id:n,name:n,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(vt(l))return{data:null,error:l};throw l}})}emptyBucket(n){return Br(this,void 0,void 0,function*(){try{return{data:yield xn(this.fetch,`${this.url}/bucket/${n}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(vt(s))return{data:null,error:s};throw s}})}deleteBucket(n){return Br(this,void 0,void 0,function*(){try{return{data:yield Yg(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(s){if(vt(s))return{data:null,error:s};throw s}})}}class jw extends Tw{constructor(n,s={},l,o){super(n,s,l,o)}from(n){return new Sw(this.url,this.headers,n,this.fetch)}}const Ow="2.55.0";let ri="";typeof Deno<"u"?ri="deno":typeof document<"u"?ri="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ri="react-native":ri="node";const Aw={"X-Client-Info":`supabase-js-${ri}/${Ow}`},Cw={headers:Aw},kw={schema:"public"},Rw={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Dw={};var Nw=function(r,n,s,l){function o(c){return c instanceof s?c:new s(function(f){f(c)})}return new(s||(s=Promise))(function(c,f){function h(p){try{y(l.next(p))}catch(_){f(_)}}function m(p){try{y(l.throw(p))}catch(_){f(_)}}function y(p){p.done?c(p.value):o(p.value).then(h,m)}y((l=l.apply(r,n||[])).next())})};const Mw=r=>{let n;return r?n=r:typeof fetch>"u"?n=Mg:n=fetch,(...s)=>n(...s)},Uw=()=>typeof Headers>"u"?Ug:Headers,zw=(r,n,s)=>{const l=Mw(s),o=Uw();return(c,f)=>Nw(void 0,void 0,void 0,function*(){var h;const m=(h=yield n())!==null&&h!==void 0?h:r;let y=new o(f?.headers);return y.has("apikey")||y.set("apikey",r),y.has("Authorization")||y.set("Authorization",`Bearer ${m}`),l(c,Object.assign(Object.assign({},f),{headers:y}))})};var qw=function(r,n,s,l){function o(c){return c instanceof s?c:new s(function(f){f(c)})}return new(s||(s=Promise))(function(c,f){function h(p){try{y(l.next(p))}catch(_){f(_)}}function m(p){try{y(l.throw(p))}catch(_){f(_)}}function y(p){p.done?c(p.value):o(p.value).then(h,m)}y((l=l.apply(r,n||[])).next())})};function Lw(r){return r.endsWith("/")?r:r+"/"}function Bw(r,n){var s,l;const{db:o,auth:c,realtime:f,global:h}=r,{db:m,auth:y,realtime:p,global:_}=n,w={db:Object.assign(Object.assign({},m),o),auth:Object.assign(Object.assign({},y),c),realtime:Object.assign(Object.assign({},p),f),storage:{},global:Object.assign(Object.assign(Object.assign({},_),h),{headers:Object.assign(Object.assign({},(s=_?.headers)!==null&&s!==void 0?s:{}),(l=h?.headers)!==null&&l!==void 0?l:{})}),accessToken:()=>qw(this,void 0,void 0,function*(){return""})};return r.accessToken?w.accessToken=r.accessToken:delete w.accessToken,w}const Kg="2.71.1",Qr=30*1e3,Jc=3,Mc=Jc*Qr,Hw="http://localhost:9999",$w="supabase.auth.token",Vw={"X-Client-Info":`gotrue-js/${Kg}`},Wc="X-Supabase-Api-Version",Qg={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Gw=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Yw=600*1e3;class _d extends Error{constructor(n,s,l){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=l}}function ge(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class Kw extends _d{constructor(n,s,l){super(n,s,l),this.name="AuthApiError",this.status=s,this.code=l}}function Qw(r){return ge(r)&&r.name==="AuthApiError"}class Pg extends _d{constructor(n,s){super(n),this.name="AuthUnknownError",this.originalError=s}}class _a extends _d{constructor(n,s,l,o){super(n,l,o),this.name=s,this.status=l}}class va extends _a{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Pw(r){return ge(r)&&r.name==="AuthSessionMissingError"}class $l extends _a{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Vl extends _a{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class Gl extends _a{constructor(n,s=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Iw(r){return ge(r)&&r.name==="AuthImplicitGrantRedirectError"}class Qy extends _a{constructor(n,s=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ed extends _a{constructor(n,s){super(n,"AuthRetryableFetchError",s,void 0)}}function Uc(r){return ge(r)&&r.name==="AuthRetryableFetchError"}class Py extends _a{constructor(n,s,l){super(n,"AuthWeakPasswordError",s,"weak_password"),this.reasons=l}}class td extends _a{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const eo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Iy=` 	
\r=`.split(""),Fw=(()=>{const r=new Array(128);for(let n=0;n<r.length;n+=1)r[n]=-1;for(let n=0;n<Iy.length;n+=1)r[Iy[n].charCodeAt(0)]=-2;for(let n=0;n<eo.length;n+=1)r[eo[n].charCodeAt(0)]=n;return r})();function Fy(r,n,s){if(r!==null)for(n.queue=n.queue<<8|r,n.queuedBits+=8;n.queuedBits>=6;){const l=n.queue>>n.queuedBits-6&63;s(eo[l]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const l=n.queue>>n.queuedBits-6&63;s(eo[l]),n.queuedBits-=6}}function Ig(r,n,s){const l=Fw[r];if(l>-1)for(n.queue=n.queue<<6|l,n.queuedBits+=6;n.queuedBits>=8;)s(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(l===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function Xy(r){const n=[],s=f=>{n.push(String.fromCodePoint(f))},l={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},c=f=>{Jw(f,l,s)};for(let f=0;f<r.length;f+=1)Ig(r.charCodeAt(f),o,c);return n.join("")}function Xw(r,n){if(r<=127){n(r);return}else if(r<=2047){n(192|r>>6),n(128|r&63);return}else if(r<=65535){n(224|r>>12),n(128|r>>6&63),n(128|r&63);return}else if(r<=1114111){n(240|r>>18),n(128|r>>12&63),n(128|r>>6&63),n(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function Zw(r,n){for(let s=0;s<r.length;s+=1){let l=r.charCodeAt(s);if(l>55295&&l<=56319){const o=(l-55296)*1024&65535;l=(r.charCodeAt(s+1)-56320&65535|o)+65536,s+=1}Xw(l,n)}}function Jw(r,n,s){if(n.utf8seq===0){if(r<=127){s(r);return}for(let l=1;l<6;l+=1)if((r>>7-l&1)===0){n.utf8seq=l;break}if(n.utf8seq===2)n.codepoint=r&31;else if(n.utf8seq===3)n.codepoint=r&15;else if(n.utf8seq===4)n.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|r&63,n.utf8seq-=1,n.utf8seq===0&&s(n.codepoint)}}function Ww(r){const n=[],s={queue:0,queuedBits:0},l=o=>{n.push(o)};for(let o=0;o<r.length;o+=1)Ig(r.charCodeAt(o),s,l);return new Uint8Array(n)}function eS(r){const n=[];return Zw(r,s=>n.push(s)),new Uint8Array(n)}function tS(r){const n=[],s={queue:0,queuedBits:0},l=o=>{n.push(o)};return r.forEach(o=>Fy(o,s,l)),Fy(null,s,l),n.join("")}function nS(r){return Math.round(Date.now()/1e3)+r}function aS(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){const n=Math.random()*16|0;return(r=="x"?n:n&3|8).toString(16)})}const fn=()=>typeof window<"u"&&typeof document<"u",$a={tested:!1,writable:!1},Fg=()=>{if(!fn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if($a.tested)return $a.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),$a.tested=!0,$a.writable=!0}catch{$a.tested=!0,$a.writable=!1}return $a.writable};function rS(r){const n={},s=new URL(r);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((o,c)=>{n[c]=o})}catch{}return s.searchParams.forEach((l,o)=>{n[o]=l}),n}const Xg=r=>{let n;return r?n=r:typeof fetch>"u"?n=(...s)=>Pt(async()=>{const{default:l}=await Promise.resolve().then(()=>Wr);return{default:l}},void 0).then(({default:l})=>l(...s)):n=fetch,(...s)=>n(...s)},sS=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",Pr=async(r,n,s)=>{await r.setItem(n,JSON.stringify(s))},Va=async(r,n)=>{const s=await r.getItem(n);if(!s)return null;try{return JSON.parse(s)}catch{return s}},ga=async(r,n)=>{await r.removeItem(n)};class lo{constructor(){this.promise=new lo.promiseConstructor((n,s)=>{this.resolve=n,this.reject=s})}}lo.promiseConstructor=Promise;function zc(r){const n=r.split(".");if(n.length!==3)throw new td("Invalid JWT structure");for(let l=0;l<n.length;l++)if(!Gw.test(n[l]))throw new td("JWT not in base64url format");return{header:JSON.parse(Xy(n[0])),payload:JSON.parse(Xy(n[1])),signature:Ww(n[2]),raw:{header:n[0],payload:n[1]}}}async function iS(r){return await new Promise(n=>{setTimeout(()=>n(null),r)})}function lS(r,n){return new Promise((l,o)=>{(async()=>{for(let c=0;c<1/0;c++)try{const f=await r(c);if(!n(c,null,f)){l(f);return}}catch(f){if(!n(c,f)){o(f);return}}})()})}function oS(r){return("0"+r.toString(16)).substr(-2)}function uS(){const n=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",l=s.length;let o="";for(let c=0;c<56;c++)o+=s.charAt(Math.floor(Math.random()*l));return o}return crypto.getRandomValues(n),Array.from(n,oS).join("")}async function cS(r){const s=new TextEncoder().encode(r),l=await crypto.subtle.digest("SHA-256",s),o=new Uint8Array(l);return Array.from(o).map(c=>String.fromCharCode(c)).join("")}async function dS(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const s=await cS(r);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Hr(r,n,s=!1){const l=uS();let o=l;s&&(o+="/PASSWORD_RECOVERY"),await Pr(r,`${n}-code-verifier`,o);const c=await dS(l);return[c,l===c?"plain":"s256"]}const fS=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function hS(r){const n=r.headers.get(Wc);if(!n||!n.match(fS))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function mS(r){if(!r)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(r<=n)throw new Error("JWT has expired")}function yS(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const gS=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function $r(r){if(!gS.test(r))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function qc(){const r={};return new Proxy(r,{get:(n,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const l=s.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Zy(r){return JSON.parse(JSON.stringify(r))}var vS=function(r,n){var s={};for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&n.indexOf(l)<0&&(s[l]=r[l]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,l=Object.getOwnPropertySymbols(r);o<l.length;o++)n.indexOf(l[o])<0&&Object.prototype.propertyIsEnumerable.call(r,l[o])&&(s[l[o]]=r[l[o]]);return s};const Ya=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),pS=[502,503,504];async function Jy(r){var n;if(!sS(r))throw new ed(Ya(r),0);if(pS.includes(r.status))throw new ed(Ya(r),r.status);let s;try{s=await r.json()}catch(c){throw new Pg(Ya(c),c)}let l;const o=hS(r);if(o&&o.getTime()>=Qg["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?l=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(l=s.error_code),l){if(l==="weak_password")throw new Py(Ya(s),r.status,((n=s.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(l==="session_not_found")throw new va}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((c,f)=>c&&typeof f=="string",!0))throw new Py(Ya(s),r.status,s.weak_password.reasons);throw new Kw(Ya(s),r.status||500,l)}const bS=(r,n,s,l)=>{const o={method:r,headers:n?.headers||{}};return r==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),o.body=JSON.stringify(l),Object.assign(Object.assign({},o),s))};async function xe(r,n,s,l){var o;const c=Object.assign({},l?.headers);c[Wc]||(c[Wc]=Qg["2024-01-01"].name),l?.jwt&&(c.Authorization=`Bearer ${l.jwt}`);const f=(o=l?.query)!==null&&o!==void 0?o:{};l?.redirectTo&&(f.redirect_to=l.redirectTo);const h=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",m=await _S(r,n,s+h,{headers:c,noResolveJson:l?.noResolveJson},{},l?.body);return l?.xform?l?.xform(m):{data:Object.assign({},m),error:null}}async function _S(r,n,s,l,o,c){const f=bS(n,l,o,c);let h;try{h=await r(s,Object.assign({},f))}catch(m){throw console.error(m),new ed(Ya(m),0)}if(h.ok||await Jy(h),l?.noResolveJson)return h;try{return await h.json()}catch(m){await Jy(m)}}function Gn(r){var n;let s=null;ES(r)&&(s=Object.assign({},r),r.expires_at||(s.expires_at=nS(r.expires_in)));const l=(n=r.user)!==null&&n!==void 0?n:r;return{data:{session:s,user:l},error:null}}function Wy(r){const n=Gn(r);return!n.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((s,l)=>s&&typeof l=="string",!0)&&(n.data.weak_password=r.weak_password),n}function pa(r){var n;return{data:{user:(n=r.user)!==null&&n!==void 0?n:r},error:null}}function wS(r){return{data:r,error:null}}function SS(r){const{action_link:n,email_otp:s,hashed_token:l,redirect_to:o,verification_type:c}=r,f=vS(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:n,email_otp:s,hashed_token:l,redirect_to:o,verification_type:c},m=Object.assign({},f);return{data:{properties:h,user:m},error:null}}function xS(r){return r}function ES(r){return r.access_token&&r.refresh_token&&r.expires_in}const Lc=["global","local","others"];var TS=function(r,n){var s={};for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&n.indexOf(l)<0&&(s[l]=r[l]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,l=Object.getOwnPropertySymbols(r);o<l.length;o++)n.indexOf(l[o])<0&&Object.prototype.propertyIsEnumerable.call(r,l[o])&&(s[l[o]]=r[l[o]]);return s};class jS{constructor({url:n="",headers:s={},fetch:l}){this.url=n,this.headers=s,this.fetch=Xg(l),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(n,s=Lc[0]){if(Lc.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Lc.join(", ")}`);try{return await xe(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(l){if(ge(l))return{data:null,error:l};throw l}}async inviteUserByEmail(n,s={}){try{return await xe(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:pa})}catch(l){if(ge(l))return{data:{user:null},error:l};throw l}}async generateLink(n){try{const{options:s}=n,l=TS(n,["options"]),o=Object.assign(Object.assign({},l),s);return"newEmail"in l&&(o.new_email=l?.newEmail,delete o.newEmail),await xe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:SS,redirectTo:s?.redirectTo})}catch(s){if(ge(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(n){try{return await xe(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:pa})}catch(s){if(ge(s))return{data:{user:null},error:s};throw s}}async listUsers(n){var s,l,o,c,f,h,m;try{const y={nextPage:null,lastPage:0,total:0},p=await xe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(s=n?.page)===null||s===void 0?void 0:s.toString())!==null&&l!==void 0?l:"",per_page:(c=(o=n?.perPage)===null||o===void 0?void 0:o.toString())!==null&&c!==void 0?c:""},xform:xS});if(p.error)throw p.error;const _=await p.json(),w=(f=p.headers.get("x-total-count"))!==null&&f!==void 0?f:0,T=(m=(h=p.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&m!==void 0?m:[];return T.length>0&&(T.forEach(A=>{const U=parseInt(A.split(";")[0].split("=")[1].substring(0,1)),M=JSON.parse(A.split(";")[1].split("=")[1]);y[`${M}Page`]=U}),y.total=parseInt(w)),{data:Object.assign(Object.assign({},_),y),error:null}}catch(y){if(ge(y))return{data:{users:[]},error:y};throw y}}async getUserById(n){$r(n);try{return await xe(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:pa})}catch(s){if(ge(s))return{data:{user:null},error:s};throw s}}async updateUserById(n,s){$r(n);try{return await xe(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:s,headers:this.headers,xform:pa})}catch(l){if(ge(l))return{data:{user:null},error:l};throw l}}async deleteUser(n,s=!1){$r(n);try{return await xe(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:s},xform:pa})}catch(l){if(ge(l))return{data:{user:null},error:l};throw l}}async _listFactors(n){$r(n.userId);try{const{data:s,error:l}=await xe(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:s,error:l}}catch(s){if(ge(s))return{data:null,error:s};throw s}}async _deleteFactor(n){$r(n.userId),$r(n.id);try{return{data:await xe(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(s){if(ge(s))return{data:null,error:s};throw s}}}function eg(r={}){return{getItem:n=>r[n]||null,setItem:(n,s)=>{r[n]=s},removeItem:n=>{delete r[n]}}}function OS(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Vr={debug:!!(globalThis&&Fg()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Zg extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class AS extends Zg{}async function CS(r,n,s){Vr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,n);const l=new globalThis.AbortController;return n>0&&setTimeout(()=>{l.abort(),Vr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:l.signal},async o=>{if(o){Vr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,o.name);try{return await s()}finally{Vr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,o.name)}}else{if(n===0)throw Vr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new AS(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(Vr.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}OS();const kS={url:Hw,storageKey:$w,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Vw,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function tg(r,n,s){return await s()}const Gr={};class pi{constructor(n){var s,l;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=pi.nextInstanceID,pi.nextInstanceID+=1,this.instanceID>0&&fn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},kS),n);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new jS({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=Xg(o.fetch),this.lock=o.lock||tg,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:fn()&&(!((s=globalThis?.navigator)===null||s===void 0)&&s.locks)?this.lock=CS:this.lock=tg,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:Fg()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=eg(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=eg(this.memoryStorage)),fn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(l=this.broadcastChannel)===null||l===void 0||l.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}get jwks(){var n,s;return(s=(n=Gr[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(n){Gr[this.storageKey]=Object.assign(Object.assign({},Gr[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,s;return(s=(n=Gr[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){Gr[this.storageKey]=Object.assign(Object.assign({},Gr[this.storageKey]),{cachedAt:n})}_debug(...n){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Kg}) ${new Date().toISOString()}`,...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{const s=rS(window.location.href);let l="none";if(this._isImplicitGrantCallback(s)?l="implicit":await this._isPKCECallback(s)&&(l="pkce"),fn()&&this.detectSessionInUrl&&l!=="none"){const{data:o,error:c}=await this._getSessionFromURL(s,l);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),Iw(c)){const m=(n=c.details)===null||n===void 0?void 0:n.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:c}}return await this._removeSession(),{error:c}}const{session:f,redirectType:h}=o;return this._debug("#_initialize()","detected session in URL",f,"redirect type",h),await this._saveSession(f),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return ge(s)?{error:s}:{error:new Pg("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var s,l,o;try{const c=await xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(l=(s=n?.options)===null||s===void 0?void 0:s.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:(o=n?.options)===null||o===void 0?void 0:o.captchaToken}},xform:Gn}),{data:f,error:h}=c;if(h||!f)return{data:{user:null,session:null},error:h};const m=f.session,y=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",m)),{data:{user:y,session:m},error:null}}catch(c){if(ge(c))return{data:{user:null,session:null},error:c};throw c}}async signUp(n){var s,l,o;try{let c;if("email"in n){const{email:p,password:_,options:w}=n;let T=null,A=null;this.flowType==="pkce"&&([T,A]=await Hr(this.storage,this.storageKey)),c=await xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w?.emailRedirectTo,body:{email:p,password:_,data:(s=w?.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:w?.captchaToken},code_challenge:T,code_challenge_method:A},xform:Gn})}else if("phone"in n){const{phone:p,password:_,options:w}=n;c=await xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:_,data:(l=w?.data)!==null&&l!==void 0?l:{},channel:(o=w?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:w?.captchaToken}},xform:Gn})}else throw new Vl("You must provide either an email or phone number and a password");const{data:f,error:h}=c;if(h||!f)return{data:{user:null,session:null},error:h};const m=f.session,y=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",m)),{data:{user:y,session:m},error:null}}catch(c){if(ge(c))return{data:{user:null,session:null},error:c};throw c}}async signInWithPassword(n){try{let s;if("email"in n){const{email:c,password:f,options:h}=n;s=await xe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:f,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:Wy})}else if("phone"in n){const{phone:c,password:f,options:h}=n;s=await xe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:f,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:Wy})}else throw new Vl("You must provide either an email or phone number and a password");const{data:l,error:o}=s;return o?{data:{user:null,session:null},error:o}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new $l}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:Object.assign({user:l.user,session:l.session},l.weak_password?{weakPassword:l.weak_password}:null),error:o})}catch(s){if(ge(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(n){var s,l,o,c;return await this._handleProviderSignIn(n.provider,{redirectTo:(s=n.options)===null||s===void 0?void 0:s.redirectTo,scopes:(l=n.options)===null||l===void 0?void 0:l.scopes,queryParams:(o=n.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(c=n.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:s}=n;if(s==="solana")return await this.signInWithSolana(n);throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}async signInWithSolana(n){var s,l,o,c,f,h,m,y,p,_,w,T;let A,U;if("message"in n)A=n.message,U=n.signature;else{const{chain:M,wallet:N,statement:Q,options:H}=n;let P;if(fn())if(typeof N=="object")P=N;else{const X=window;if("solana"in X&&typeof X.solana=="object"&&("signIn"in X.solana&&typeof X.solana.signIn=="function"||"signMessage"in X.solana&&typeof X.solana.signMessage=="function"))P=X.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!H?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");P=N}const V=new URL((s=H?.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in P&&P.signIn){const X=await P.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},H?.signInWithSolana),{version:"1",domain:V.host,uri:V.href}),Q?{statement:Q}:null));let Z;if(Array.isArray(X)&&X[0]&&typeof X[0]=="object")Z=X[0];else if(X&&typeof X=="object"&&"signedMessage"in X&&"signature"in X)Z=X;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in Z&&"signature"in Z&&(typeof Z.signedMessage=="string"||Z.signedMessage instanceof Uint8Array)&&Z.signature instanceof Uint8Array)A=typeof Z.signedMessage=="string"?Z.signedMessage:new TextDecoder().decode(Z.signedMessage),U=Z.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in P)||typeof P.signMessage!="function"||!("publicKey"in P)||typeof P!="object"||!P.publicKey||!("toBase58"in P.publicKey)||typeof P.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");A=[`${V.host} wants you to sign in with your Solana account:`,P.publicKey.toBase58(),...Q?["",Q,""]:[""],"Version: 1",`URI: ${V.href}`,`Issued At: ${(o=(l=H?.signInWithSolana)===null||l===void 0?void 0:l.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((c=H?.signInWithSolana)===null||c===void 0)&&c.notBefore?[`Not Before: ${H.signInWithSolana.notBefore}`]:[],...!((f=H?.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${H.signInWithSolana.expirationTime}`]:[],...!((h=H?.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${H.signInWithSolana.chainId}`]:[],...!((m=H?.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${H.signInWithSolana.nonce}`]:[],...!((y=H?.signInWithSolana)===null||y===void 0)&&y.requestId?[`Request ID: ${H.signInWithSolana.requestId}`]:[],...!((_=(p=H?.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||_===void 0)&&_.length?["Resources",...H.signInWithSolana.resources.map(Z=>`- ${Z}`)]:[]].join(`
`);const X=await P.signMessage(new TextEncoder().encode(A),"utf8");if(!X||!(X instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");U=X}}try{const{data:M,error:N}=await xe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:A,signature:tS(U)},!((w=n.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(T=n.options)===null||T===void 0?void 0:T.captchaToken}}:null),xform:Gn});if(N)throw N;return!M||!M.session||!M.user?{data:{user:null,session:null},error:new $l}:(M.session&&(await this._saveSession(M.session),await this._notifyAllSubscribers("SIGNED_IN",M.session)),{data:Object.assign({},M),error:N})}catch(M){if(ge(M))return{data:{user:null,session:null},error:M};throw M}}async _exchangeCodeForSession(n){const s=await Va(this.storage,`${this.storageKey}-code-verifier`),[l,o]=(s??"").split("/");try{const{data:c,error:f}=await xe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:l},xform:Gn});if(await ga(this.storage,`${this.storageKey}-code-verifier`),f)throw f;return!c||!c.session||!c.user?{data:{user:null,session:null,redirectType:null},error:new $l}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:Object.assign(Object.assign({},c),{redirectType:o??null}),error:f})}catch(c){if(ge(c))return{data:{user:null,session:null,redirectType:null},error:c};throw c}}async signInWithIdToken(n){try{const{options:s,provider:l,token:o,access_token:c,nonce:f}=n,h=await xe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:l,id_token:o,access_token:c,nonce:f,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:Gn}),{data:m,error:y}=h;return y?{data:{user:null,session:null},error:y}:!m||!m.session||!m.user?{data:{user:null,session:null},error:new $l}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),{data:m,error:y})}catch(s){if(ge(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(n){var s,l,o,c,f;try{if("email"in n){const{email:h,options:m}=n;let y=null,p=null;this.flowType==="pkce"&&([y,p]=await Hr(this.storage,this.storageKey));const{error:_}=await xe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(s=m?.data)!==null&&s!==void 0?s:{},create_user:(l=m?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},code_challenge:y,code_challenge_method:p},redirectTo:m?.emailRedirectTo});return{data:{user:null,session:null},error:_}}if("phone"in n){const{phone:h,options:m}=n,{data:y,error:p}=await xe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(o=m?.data)!==null&&o!==void 0?o:{},create_user:(c=m?.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},channel:(f=m?.channel)!==null&&f!==void 0?f:"sms"}});return{data:{user:null,session:null,messageId:y?.message_id},error:p}}throw new Vl("You must provide either an email or phone number.")}catch(h){if(ge(h))return{data:{user:null,session:null},error:h};throw h}}async verifyOtp(n){var s,l;try{let o,c;"options"in n&&(o=(s=n.options)===null||s===void 0?void 0:s.redirectTo,c=(l=n.options)===null||l===void 0?void 0:l.captchaToken);const{data:f,error:h}=await xe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:c}}),redirectTo:o,xform:Gn});if(h)throw h;if(!f)throw new Error("An error occurred on token verification.");const m=f.session,y=f.user;return m?.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),{data:{user:y,session:m},error:null}}catch(o){if(ge(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(n){var s,l,o;try{let c=null,f=null;return this.flowType==="pkce"&&([c,f]=await Hr(this.storage,this.storageKey)),await xe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(l=(s=n.options)===null||s===void 0?void 0:s.redirectTo)!==null&&l!==void 0?l:void 0}),!((o=n?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:f}),headers:this.headers,xform:wS})}catch(c){if(ge(c))return{data:null,error:c};throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:s},error:l}=n;if(l)throw l;if(!s)throw new va;const{error:o}=await xe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:o}})}catch(n){if(ge(n))return{data:{user:null,session:null},error:n};throw n}}async resend(n){try{const s=`${this.url}/resend`;if("email"in n){const{email:l,type:o,options:c}=n,{error:f}=await xe(this.fetch,"POST",s,{headers:this.headers,body:{email:l,type:o,gotrue_meta_security:{captcha_token:c?.captchaToken}},redirectTo:c?.emailRedirectTo});return{data:{user:null,session:null},error:f}}else if("phone"in n){const{phone:l,type:o,options:c}=n,{data:f,error:h}=await xe(this.fetch,"POST",s,{headers:this.headers,body:{phone:l,type:o,gotrue_meta_security:{captcha_token:c?.captchaToken}}});return{data:{user:null,session:null,messageId:f?.message_id},error:h}}throw new Vl("You must provide either an email or phone number and a type")}catch(s){if(ge(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(n,s){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const l=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await l,await s()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const l=s();for(this.pendingInLock.push((async()=>{try{await l}catch{}})()),await l;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await l}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await n(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const s=await Va(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?n=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const l=n.expires_at?n.expires_at*1e3-Date.now()<Mc:!1;if(this._debug("#__loadSession()",`session has${l?"":" not"} expired`,"expires_at",n.expires_at),!l){if(this.userStorage){const f=await Va(this.userStorage,this.storageKey+"-user");f?.user?n.user=f.user:n.user=qc()}if(this.storage.isServer&&n.user){let f=this.suppressGetSessionWarning;n=new Proxy(n,{get:(m,y,p)=>(!f&&y==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),f=!0,this.suppressGetSessionWarning=!0),Reflect.get(m,y,p))})}return{data:{session:n},error:null}}const{session:o,error:c}=await this._callRefreshToken(n.refresh_token);return c?{data:{session:null},error:c}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(n){return n?await this._getUser(n):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(n){try{return n?await xe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:pa}):await this._useSession(async s=>{var l,o,c;const{data:f,error:h}=s;if(h)throw h;return!(!((l=f.session)===null||l===void 0)&&l.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new va}:await xe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(o=f.session)===null||o===void 0?void 0:o.access_token)!==null&&c!==void 0?c:void 0,xform:pa})})}catch(s){if(ge(s))return Pw(s)&&(await this._removeSession(),await ga(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(n,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(n,s))}async _updateUser(n,s={}){try{return await this._useSession(async l=>{const{data:o,error:c}=l;if(c)throw c;if(!o.session)throw new va;const f=o.session;let h=null,m=null;this.flowType==="pkce"&&n.email!=null&&([h,m]=await Hr(this.storage,this.storageKey));const{data:y,error:p}=await xe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:h,code_challenge_method:m}),jwt:f.access_token,xform:pa});if(p)throw p;return f.user=y.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),{data:{user:f.user},error:null}})}catch(l){if(ge(l))return{data:{user:null},error:l};throw l}}async setSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new va;const s=Date.now()/1e3;let l=s,o=!0,c=null;const{payload:f}=zc(n.access_token);if(f.exp&&(l=f.exp,o=l<=s),o){const{session:h,error:m}=await this._callRefreshToken(n.refresh_token);if(m)return{data:{user:null,session:null},error:m};if(!h)return{data:{user:null,session:null},error:null};c=h}else{const{data:h,error:m}=await this._getUser(n.access_token);if(m)throw m;c={access_token:n.access_token,refresh_token:n.refresh_token,user:h.user,token_type:"bearer",expires_in:l-s,expires_at:l},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return{data:{user:c.user,session:c},error:null}}catch(s){if(ge(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async s=>{var l;if(!n){const{data:f,error:h}=s;if(h)throw h;n=(l=f.session)!==null&&l!==void 0?l:void 0}if(!n?.refresh_token)throw new va;const{session:o,error:c}=await this._callRefreshToken(n.refresh_token);return c?{data:{user:null,session:null},error:c}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(ge(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(n,s){try{if(!fn())throw new Gl("No browser detected.");if(n.error||n.error_description||n.error_code)throw new Gl(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Qy("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Gl("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new Qy("No code detected.");const{data:Q,error:H}=await this._exchangeCodeForSession(n.code);if(H)throw H;const P=new URL(window.location.href);return P.searchParams.delete("code"),window.history.replaceState(window.history.state,"",P.toString()),{data:{session:Q.session,redirectType:null},error:null}}const{provider_token:l,provider_refresh_token:o,access_token:c,refresh_token:f,expires_in:h,expires_at:m,token_type:y}=n;if(!c||!h||!f||!y)throw new Gl("No session defined in URL");const p=Math.round(Date.now()/1e3),_=parseInt(h);let w=p+_;m&&(w=parseInt(m));const T=w-p;T*1e3<=Qr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${T}s, should have been closer to ${_}s`);const A=w-_;p-A>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",A,w,p):p-A<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",A,w,p);const{data:U,error:M}=await this._getUser(c);if(M)throw M;const N={provider_token:l,provider_refresh_token:o,access_token:c,expires_in:_,expires_at:w,refresh_token:f,token_type:y,user:U.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:N,redirectType:n.type},error:null}}catch(l){if(ge(l))return{data:{session:null,redirectType:null},error:l};throw l}}_isImplicitGrantCallback(n){return!!(n.access_token||n.error_description)}async _isPKCECallback(n){const s=await Va(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&s)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async s=>{var l;const{data:o,error:c}=s;if(c)return{error:c};const f=(l=o.session)===null||l===void 0?void 0:l.access_token;if(f){const{error:h}=await this.admin.signOut(f,n);if(h&&!(Qw(h)&&(h.status===404||h.status===401||h.status===403)))return{error:h}}return n!=="others"&&(await this._removeSession(),await ga(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(n){const s=aS(),l={id:s,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,l),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:l}}}async _emitInitialSession(n){return await this._useSession(async s=>{var l,o;try{const{data:{session:c},error:f}=s;if(f)throw f;await((l=this.stateChangeEmitters.get(n))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",n,"session",c)}catch(c){await((o=this.stateChangeEmitters.get(n))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",c),console.error(c)}})}async resetPasswordForEmail(n,s={}){let l=null,o=null;this.flowType==="pkce"&&([l,o]=await Hr(this.storage,this.storageKey,!0));try{return await xe(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:l,code_challenge_method:o,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(c){if(ge(c))return{data:null,error:c};throw c}}async getUserIdentities(){var n;try{const{data:s,error:l}=await this.getUser();if(l)throw l;return{data:{identities:(n=s.user.identities)!==null&&n!==void 0?n:[]},error:null}}catch(s){if(ge(s))return{data:null,error:s};throw s}}async linkIdentity(n){var s;try{const{data:l,error:o}=await this._useSession(async c=>{var f,h,m,y,p;const{data:_,error:w}=c;if(w)throw w;const T=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(f=n.options)===null||f===void 0?void 0:f.redirectTo,scopes:(h=n.options)===null||h===void 0?void 0:h.scopes,queryParams:(m=n.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await xe(this.fetch,"GET",T,{headers:this.headers,jwt:(p=(y=_.session)===null||y===void 0?void 0:y.access_token)!==null&&p!==void 0?p:void 0})});if(o)throw o;return fn()&&!(!((s=n.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(l?.url),{data:{provider:n.provider,url:l?.url},error:null}}catch(l){if(ge(l))return{data:{provider:n.provider,url:null},error:l};throw l}}async unlinkIdentity(n){try{return await this._useSession(async s=>{var l,o;const{data:c,error:f}=s;if(f)throw f;return await xe(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(o=(l=c.session)===null||l===void 0?void 0:l.access_token)!==null&&o!==void 0?o:void 0})})}catch(s){if(ge(s))return{data:null,error:s};throw s}}async _refreshAccessToken(n){const s=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(s,"begin");try{const l=Date.now();return await lS(async o=>(o>0&&await iS(200*Math.pow(2,o-1)),this._debug(s,"refreshing attempt",o),await xe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:Gn})),(o,c)=>{const f=200*Math.pow(2,o);return c&&Uc(c)&&Date.now()+f-l<Qr})}catch(l){if(this._debug(s,"error",l),ge(l))return{data:{session:null,user:null},error:l};throw l}finally{this._debug(s,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,s){const l=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",s,"url",l),fn()&&!s.skipBrowserRedirect&&window.location.assign(l),{data:{provider:n,url:l},error:null}}async _recoverAndRefresh(){var n,s;const l="#_recoverAndRefresh()";this._debug(l,"begin");try{const o=await Va(this.storage,this.storageKey);if(o&&this.userStorage){let f=await Va(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!f&&(f={user:o.user},await Pr(this.userStorage,this.storageKey+"-user",f)),o.user=(n=f?.user)!==null&&n!==void 0?n:qc()}else if(o&&!o.user&&!o.user){const f=await Va(this.storage,this.storageKey+"-user");f&&f?.user?(o.user=f.user,await ga(this.storage,this.storageKey+"-user"),await Pr(this.storage,this.storageKey,o)):o.user=qc()}if(this._debug(l,"session from storage",o),!this._isValidSession(o)){this._debug(l,"session is not valid"),o!==null&&await this._removeSession();return}const c=((s=o.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<Mc;if(this._debug(l,`session has${c?"":" not"} expired with margin of ${Mc}s`),c){if(this.autoRefreshToken&&o.refresh_token){const{error:f}=await this._callRefreshToken(o.refresh_token);f&&(console.error(f),Uc(f)||(this._debug(l,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:f,error:h}=await this._getUser(o.access_token);!h&&f?.user?(o.user=f.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(l,"could not get user data, skipping SIGNED_IN notification")}catch(f){console.error("Error getting user data:",f),this._debug(l,"error getting user data, skipping SIGNED_IN notification",f)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(l,"error",o),console.error(o);return}finally{this._debug(l,"end")}}async _callRefreshToken(n){var s,l;if(!n)throw new va;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new lo;const{data:c,error:f}=await this._refreshAccessToken(n);if(f)throw f;if(!c.session)throw new va;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const h={session:c.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(c){if(this._debug(o,"error",c),ge(c)){const f={session:null,error:c};return Uc(c)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(f),f}throw(l=this.refreshingDeferred)===null||l===void 0||l.reject(c),c}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(n,s,l=!0){const o=`#_notifyAllSubscribers(${n})`;this._debug(o,"begin",s,`broadcast = ${l}`);try{this.broadcastChannel&&l&&this.broadcastChannel.postMessage({event:n,session:s});const c=[],f=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(n,s)}catch(m){c.push(m)}});if(await Promise.all(f),c.length>0){for(let h=0;h<c.length;h+=1)console.error(c[h]);throw c[0]}}finally{this._debug(o,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0;const s=Object.assign({},n),l=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!l&&s.user&&await Pr(this.userStorage,this.storageKey+"-user",{user:s.user});const o=Object.assign({},s);delete o.user;const c=Zy(o);await Pr(this.storage,this.storageKey,c)}else{const o=Zy(s);await Pr(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),await ga(this.storage,this.storageKey),await ga(this.storage,this.storageKey+"-code-verifier"),await ga(this.storage,this.storageKey+"-user"),this.userStorage&&await ga(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&fn()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),Qr);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async s=>{const{data:{session:l}}=s;if(!l||!l.refresh_token||!l.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((l.expires_at*1e3-n)/Qr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Qr}ms, refresh threshold is ${Jc} ticks`),o<=Jc&&await this._callRefreshToken(l.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof Zg)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!fn()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const s=`#_onVisibilityChanged(${n})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,s,l){const o=[`provider=${encodeURIComponent(s)}`];if(l?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(l.redirectTo)}`),l?.scopes&&o.push(`scopes=${encodeURIComponent(l.scopes)}`),this.flowType==="pkce"){const[c,f]=await Hr(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(f)}`});o.push(h.toString())}if(l?.queryParams){const c=new URLSearchParams(l.queryParams);o.push(c.toString())}return l?.skipBrowserRedirect&&o.push(`skip_http_redirect=${l.skipBrowserRedirect}`),`${n}?${o.join("&")}`}async _unenroll(n){try{return await this._useSession(async s=>{var l;const{data:o,error:c}=s;return c?{data:null,error:c}:await xe(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(l=o?.session)===null||l===void 0?void 0:l.access_token})})}catch(s){if(ge(s))return{data:null,error:s};throw s}}async _enroll(n){try{return await this._useSession(async s=>{var l,o;const{data:c,error:f}=s;if(f)return{data:null,error:f};const h=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:{issuer:n.issuer}),{data:m,error:y}=await xe(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(l=c?.session)===null||l===void 0?void 0:l.access_token});return y?{data:null,error:y}:(n.factorType==="totp"&&(!((o=m?.totp)===null||o===void 0)&&o.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),{data:m,error:null})})}catch(s){if(ge(s))return{data:null,error:s};throw s}}async _verify(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var l;const{data:o,error:c}=s;if(c)return{data:null,error:c};const{data:f,error:h}=await xe(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:{code:n.code,challenge_id:n.challengeId},headers:this.headers,jwt:(l=o?.session)===null||l===void 0?void 0:l.access_token});return h?{data:null,error:h}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),{data:f,error:h})})}catch(s){if(ge(s))return{data:null,error:s};throw s}})}async _challenge(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var l;const{data:o,error:c}=s;return c?{data:null,error:c}:await xe(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:{channel:n.channel},headers:this.headers,jwt:(l=o?.session)===null||l===void 0?void 0:l.access_token})})}catch(s){if(ge(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(n){const{data:s,error:l}=await this._challenge({factorId:n.factorId});return l?{data:null,error:l}:await this._verify({factorId:n.factorId,challengeId:s.id,code:n.code})}async _listFactors(){const{data:{user:n},error:s}=await this.getUser();if(s)return{data:null,error:s};const l=n?.factors||[],o=l.filter(f=>f.factor_type==="totp"&&f.status==="verified"),c=l.filter(f=>f.factor_type==="phone"&&f.status==="verified");return{data:{all:l,totp:o,phone:c},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async n=>{var s,l;const{data:{session:o},error:c}=n;if(c)return{data:null,error:c};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:f}=zc(o.access_token);let h=null;f.aal&&(h=f.aal);let m=h;((l=(s=o.user.factors)===null||s===void 0?void 0:s.filter(_=>_.status==="verified"))!==null&&l!==void 0?l:[]).length>0&&(m="aal2");const p=f.amr||[];return{data:{currentLevel:h,nextLevel:m,currentAuthenticationMethods:p},error:null}}))}async fetchJwk(n,s={keys:[]}){let l=s.keys.find(h=>h.kid===n);if(l)return l;const o=Date.now();if(l=this.jwks.keys.find(h=>h.kid===n),l&&this.jwks_cached_at+Yw>o)return l;const{data:c,error:f}=await xe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return!c.keys||c.keys.length===0||(this.jwks=c,this.jwks_cached_at=o,l=c.keys.find(h=>h.kid===n),!l)?null:l}async getClaims(n,s={}){try{let l=n;if(!l){const{data:T,error:A}=await this.getSession();if(A||!T.session)return{data:null,error:A};l=T.session.access_token}const{header:o,payload:c,signature:f,raw:{header:h,payload:m}}=zc(l);s?.allowExpired||mS(c.exp);const y=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,s?.keys?{keys:s.keys}:s?.jwks);if(!y){const{error:T}=await this.getUser(l);if(T)throw T;return{data:{claims:c,header:o,signature:f},error:null}}const p=yS(o.alg),_=await crypto.subtle.importKey("jwk",y,p,!0,["verify"]);if(!await crypto.subtle.verify(p,_,f,eS(`${h}.${m}`)))throw new td("Invalid JWT signature");return{data:{claims:c,header:o,signature:f},error:null}}catch(l){if(ge(l))return{data:null,error:l};throw l}}}pi.nextInstanceID=0;const RS=pi;class DS extends RS{constructor(n){super(n)}}var NS=function(r,n,s,l){function o(c){return c instanceof s?c:new s(function(f){f(c)})}return new(s||(s=Promise))(function(c,f){function h(p){try{y(l.next(p))}catch(_){f(_)}}function m(p){try{y(l.throw(p))}catch(_){f(_)}}function y(p){p.done?c(p.value):o(p.value).then(h,m)}y((l=l.apply(r,n||[])).next())})};class MS{constructor(n,s,l){var o,c,f;if(this.supabaseUrl=n,this.supabaseKey=s,!n)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const h=Lw(n),m=new URL(h);this.realtimeUrl=new URL("realtime/v1",m),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",m),this.storageUrl=new URL("storage/v1",m),this.functionsUrl=new URL("functions/v1",m);const y=`sb-${m.hostname.split(".")[0]}-auth-token`,p={db:kw,realtime:Dw,auth:Object.assign(Object.assign({},Rw),{storageKey:y}),global:Cw},_=Bw(l??{},p);this.storageKey=(o=_.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(c=_.global.headers)!==null&&c!==void 0?c:{},_.accessToken?(this.accessToken=_.accessToken,this.auth=new Proxy({},{get:(w,T)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(T)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((f=_.auth)!==null&&f!==void 0?f:{},this.headers,_.global.fetch),this.fetch=zw(s,this._getAccessToken.bind(this),_.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},_.realtime)),this.rest=new X_(new URL("rest/v1",m).href,{headers:this.headers,schema:_.db.schema,fetch:this.fetch}),this.storage=new jw(this.storageUrl.href,this.headers,this.fetch,l?.storage),_.accessToken||this._listenForAuthEvents()}get functions(){return new L_(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,s={},l={}){return this.rest.rpc(n,s,l)}channel(n,s={config:{}}){return this.realtime.channel(n,s)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var n,s;return NS(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:l}=yield this.auth.getSession();return(s=(n=l.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:s,detectSessionInUrl:l,storage:o,storageKey:c,flowType:f,lock:h,debug:m},y,p){const _={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new DS({url:this.authUrl.href,headers:Object.assign(Object.assign({},_),y),storageKey:c,autoRefreshToken:n,persistSession:s,detectSessionInUrl:l,storage:o,flowType:f,lock:h,debug:m,fetch:p,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(n){return new hw(this.realtimeUrl.href,Object.assign(Object.assign({},n),{params:Object.assign({apikey:this.supabaseKey},n?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,l)=>{this._handleTokenChanged(s,"CLIENT",l?.access_token)})}_handleTokenChanged(n,s,l){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==l?this.changedAccessToken=l:n==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Jg=(r,n,s)=>new MS(r,n,s);function US(){if(typeof window<"u"||typeof process>"u")return!1;const r=process.version;if(r==null)return!1;const n=r.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}US()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const zS="https://errkjwfxrbkfajngshkn.supabase.co",qS="sb_publishable_w3w_OD8s64kHs2w-Ptj7TA_ORqPeFRe",re=Jg(zS,qS,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0},realtime:{params:{eventsPerSecond:10}}});function lt(r){throw console.error("Supabase error:",r),new Error(r.message||"Database operation failed")}const LS=Object.freeze(Object.defineProperty({__proto__:null,handleSupabaseError:lt,supabase:re},Symbol.toStringTag,{value:"Module"})),Wg=j.createContext(void 0);function wd(){const r=j.useContext(Wg);if(r===void 0)throw new Error("useAuth must be used within an AuthProvider");return r}function BS({children:r}){const[n,s]=j.useState(null),[l,o]=j.useState(null),[c,f]=j.useState(!0);j.useEffect(()=>{re.auth.getSession().then(({data:{session:_}})=>{o(_),s(_?.user??null),f(!1)});const{data:{subscription:p}}=re.auth.onAuthStateChange((_,w)=>{o(w),s(w?.user??null),f(!1)});return()=>p.unsubscribe()},[]);const y={user:n,session:l,loading:c,signIn:async(p,_)=>{try{f(!0);const{data:w,error:T}=await re.auth.signInWithPassword({email:p,password:_});return T?{error:T.message}:{}}catch{return{error:"An unexpected error occurred"}}finally{f(!1)}},signOut:async()=>{try{f(!0),await re.auth.signOut()}catch(p){console.error("Error signing out:",p)}finally{f(!1)}}};return v.jsx(Wg.Provider,{value:y,children:r})}function HS({data:r,height:n=40,formatValue:s,labels:l}){const[o,c]=j.useState(null),f=Math.max(...r,1),h=Math.min(...r,0);let m=f,y=h;if(f===h){const w=f===0?1:Math.abs(f)*.05;m=f+w,y=h-w}else{const w=(f-h)*.1;m=f+w,y=h-w}const p=m-y||1,_=3;return v.jsxs("div",{className:"relative h-full",style:{minHeight:n+(l?16:0)},children:[v.jsxs("div",{className:"relative",style:{height:n},onMouseLeave:()=>c(null),children:[v.jsx("div",{className:"flex gap-3 opacity-0 pointer-events-none",children:r.map((w,T)=>v.jsx("div",{className:"w-4"},T))}),v.jsxs("svg",{className:"absolute inset-0 w-full h-full",children:[v.jsx("polyline",{fill:"none",stroke:"black",strokeWidth:"2",opacity:.9,points:r.map((w,T)=>{const A=8+T*28,U=(w-y)/p*n;return`${A},${n-U}`}).join(" ")}),r.map((w,T)=>{const A=8+T*28,U=n-(w-y)/p*n;return v.jsx("circle",{cx:A,cy:U,r:_,fill:"black",opacity:o===null||o===T?1:.3,className:"cursor-pointer transition-opacity",onMouseEnter:()=>c(T),title:s?s(w):String(w)},T)})]}),o!==null&&v.jsxs("div",{className:"absolute -top-6 text-[10px] px-1.5 py-0.5 rounded bg-black text-white shadow pointer-events-none",style:{left:8+o*28-15},children:[v.jsx("div",{children:s?s(r[o]):r[o]}),o>0&&v.jsx("div",{className:"text-[9px] opacity-80",children:(()=>{const w=r[o],T=r[o-1];if(T===0)return"";const A=(w-T)/Math.abs(T)*100;return`${A>=0?"+":""}${A.toFixed(1)}%`})()})]})]}),l&&v.jsx("div",{className:"flex gap-3 mt-1",children:l.map((w,T)=>v.jsx("div",{className:"w-4 text-[8px] text-slate-400 text-center",style:{fontSize:"7px",lineHeight:"10px"},children:w},T))})]})}function $S({data:r,height:n=40,formatValue:s,labels:l}){const[o,c]=j.useState(null),f=Math.max(...r,1);return v.jsxs("div",{className:"relative h-full",style:{minHeight:n+(l?16:0)},children:[v.jsxs("div",{className:"relative flex items-end gap-3",style:{height:n},onMouseLeave:()=>c(null),children:[r.map((y,p)=>v.jsx("div",{className:"w-4 rounded-sm bg-black/90 transition-opacity",style:{height:`${Math.max(8,Math.round(y/f*n))}px`,opacity:o===null||o===p?1:.25},onMouseEnter:()=>c(p),title:s?s(y):String(y),"aria-label":`bar-${p}`},p)),o!==null&&v.jsxs("div",{className:"absolute -top-6 text-[10px] px-1.5 py-0.5 rounded bg-black text-white shadow pointer-events-none",style:{left:o*(16+12)},children:[v.jsx("div",{children:s?s(r[o]):r[o]}),o>0&&v.jsx("div",{className:"text-[9px] opacity-80",children:(()=>{const y=r[o],p=r[o-1];if(p===0)return"";const _=(y-p)/Math.abs(p)*100;return`${_>=0?"+":""}${_.toFixed(1)}%`})()})]})]}),l&&v.jsx("div",{className:"flex gap-3 mt-1",children:l.map((y,p)=>v.jsx("div",{className:"w-4 text-[8px] text-slate-400 text-center",style:{fontSize:"7px",lineHeight:"10px"},children:y},p))})]})}function VS({title:r,primary:n,secondary:s,unitPrimary:l,unitSecondary:o,series:c,direction:f,valueFormatter:h,infoContent:m,labels:y,chartType:p="bars"}){const _=j.useMemo(()=>{if(!c||c.length<2)return 0;const M=c[0],N=c[c.length-1];return M===0?0:(N-M)/Math.abs(M)*100},[c]),w=f==="up"||f===void 0&&_>=0,T=f==="flat"||f===void 0&&Math.abs(_)<.1,[A,U]=j.useState(!1);return v.jsx(si,{className:"rounded-2xl border-dashed",children:v.jsxs(li,{className:"p-4",children:[v.jsxs("div",{className:"flex items-center justify-between mb-1",children:[v.jsx("div",{className:"text-xs text-slate-500",children:r}),m&&v.jsxs("div",{className:"relative",children:[v.jsx("button",{type:"button","aria-label":"Info",className:"h-5 w-5 leading-none rounded-full border text-[10px] flex items-center justify-center text-slate-600 hover:bg-slate-50",onClick:()=>U(M=>!M),children:"i"}),A&&v.jsxs("div",{role:"dialog","aria-label":`${r} info`,className:"absolute right-0 z-10 mt-2 w-72 max-w-[80vw] rounded-md border bg-white p-3 text-xs text-slate-700 shadow-lg",onClick:M=>M.stopPropagation(),children:[v.jsxs("div",{className:"mb-2 font-medium text-slate-900",children:["About: ",r]}),v.jsx("div",{className:"space-y-1",children:m}),v.jsx("div",{className:"mt-2 text-right",children:v.jsx("button",{type:"button",className:"text-xs text-slate-600 hover:text-slate-900",onClick:()=>U(!1),children:"Close"})})]})]})]}),v.jsxs("div",{children:[v.jsxs("div",{className:"flex items-baseline gap-2",children:[v.jsx("p",{className:"text-2xl font-semibold",children:n}),l&&v.jsx("span",{className:"text-sm text-slate-500",children:l})]}),s&&v.jsxs("p",{className:"text-sm text-slate-500",children:[s," ",o??""]}),v.jsx("div",{className:`mt-2 text-xs ${T?"text-slate-500":w?"text-emerald-600":"text-red-600"}`,children:T?"0%":`${w?"+":""}${_.toFixed(1)}%`}),v.jsx("div",{className:"mt-3 h-24",children:p==="line"?v.jsx(HS,{data:c,height:80,formatValue:h,labels:y}):v.jsx($S,{data:c,height:80,formatValue:h,labels:y})})]})]})})}const ng=j.memo(VS),GS=r=>typeof r=="string"&&/^[A-Z0-9-]+$/.test(r),ev=r=>{if(!GS(r))throw new Error(`SKUId invlido: esperado /^[A-Z0-9-]+$/, recebido "${r}"`);return r},YS=r=>typeof r=="string"&&r.length>0,KS=r=>{if(!YS(r))throw new Error("LayerId invlido: string vazia no  permitida.");return r},QS=r=>typeof r=="string"&&r.length>0,to=r=>{if(!QS(r))throw new Error("MovementId invlido: string vazia no  permitida.");return r};var PS=(r=>(r.ADJUSTMENT="ADJUSTMENT",r.ISSUE="ISSUE",r.PRODUCE="PRODUCE",r.RECEIVE="RECEIVE",r.TRANSFER="TRANSFER",r.WASTE="WASTE",r))(PS||{});function oo(r){return{id:ev(r.id),description:r.description,type:r.type,productCategory:r.product_category,unit:r.unit,active:r.active,min:r.min_stock,onHand:r.on_hand}}async function ag(r){try{let n=re.from("skus").select("*").order("id");r?.type&&(n=n.eq("type",r.type)),r?.active!==void 0&&(n=n.eq("active",r.active)),r?.searchTerm&&(n=n.or(`id.ilike.%${r.searchTerm}%,description.ilike.%${r.searchTerm}%`));const{data:s,error:l}=await n;return l&&lt(l),s?.map(oo)||[]}catch(n){throw console.error("Error fetching SKUs:",n),n}}async function IS(r){try{const{data:n,error:s}=await re.from("skus").select("*").eq("id",r).single();if(s){if(s.code==="PGRST116")return null;lt(s)}return n?oo(n):null}catch(n){throw console.error("Error fetching SKU by ID:",n),n}}async function FS(r){try{const n={id:r.id,description:r.description||"",type:r.type,product_category:r.productCategory,unit:r.unit||"unit",active:r.active??!0,min_stock:r.min||0,on_hand:0},{data:s,error:l}=await re.from("skus").insert(n).select().single();return l&&lt(l),oo(s)}catch(n){throw console.error("Error creating SKU:",n),n}}async function XS(r,n){try{const s={};n.description!==void 0&&(s.description=n.description),n.type!==void 0&&(s.type=n.type),n.productCategory!==void 0&&(s.product_category=n.productCategory),n.unit!==void 0&&(s.unit=n.unit),n.active!==void 0&&(s.active=n.active),n.min!==void 0&&(s.min_stock=n.min),n.onHand!==void 0&&(s.on_hand=n.onHand),s.updated_at=new Date().toISOString();const{data:l,error:o}=await re.from("skus").update(s).eq("id",r).select().single();return o&&lt(o),oo(l)}catch(s){throw console.error("Error updating SKU:",s),s}}async function ZS(r){try{const{error:n}=await re.from("skus").update({active:!1,updated_at:new Date().toISOString()}).eq("id",r);n&&lt(n)}catch(n){throw console.error("Error deleting SKU:",n),n}}async function JS(){try{const{data:r,error:n}=await re.from("inventory_summary").select("*").order("id");return n&&lt(n),r?.map(s=>({id:ev(s.id),description:s.description,type:s.type,productCategory:s.product_category,unit:s.unit,active:s.active,min:s.min_stock,onHand:s.on_hand,status:s.status,currentAvgCost:s.current_avg_cost,activeLayers:s.active_layers}))||[]}catch(r){throw console.error("Error fetching inventory summary:",r),r}}function Sd(r){return{id:KS(r.id),date:new Date(r.receiving_date),remaining:r.remaining_quantity,cost:r.unit_cost}}async function tv(r){try{const{data:n,error:s}=await re.from("fifo_layers").select("*").eq("sku_id",r).eq("status","ACTIVE").gt("remaining_quantity",0).order("receiving_date",{ascending:!0}).order("created_at",{ascending:!0});return s&&lt(s),n?.map(Sd)||[]}catch(n){throw console.error("Error fetching FIFO layers:",n),n}}async function WS(){try{const{data:r,error:n}=await re.from("fifo_layers").select("*").eq("status","ACTIVE").gt("remaining_quantity",0).order("sku_id").order("receiving_date",{ascending:!0});n&&lt(n);const s={};return r?.forEach(l=>{const o=l.sku_id;s[o]||(s[o]=[]),s[o].push(Sd(l))}),s}catch(r){throw console.error("Error fetching all FIFO layers:",r),r}}async function ex(r){try{const n={id:r.id,sku_id:r.skuId,receiving_date:r.receivingDate.toISOString().split("T")[0],original_quantity:r.quantity,remaining_quantity:r.quantity,unit_cost:r.unitCost,vendor_id:r.vendorId,packing_slip_no:r.packingSlipNo,lot_number:r.lotNumber,status:"ACTIVE"},{data:s,error:l}=await re.from("fifo_layers").insert(n).select().single();return l&&lt(l),Sd(s)}catch(n){throw console.error("Error creating FIFO layer:",n),n}}async function bi(r,n){try{const s=await tv(r),l=[];let o=n,c=0,f=0;for(const h of s){if(o<=0)break;const m=Math.min(o,h.remaining),y=m*h.cost;l.push({layerId:h.id,consumeQty:m,unitCost:h.cost,totalCost:y}),c+=y,f+=m,o-=m}return{plan:l,totalCost:c,totalQty:f,canFulfill:o<=0}}catch(s){throw console.error("Error calculating FIFO plan:",s),s}}async function nv(r,n){try{const{error:s}=await re.rpc("begin_transaction");if(s)throw s;try{let l=0,o="";for(const f of r){const{error:h}=await re.rpc("update_layer_quantity",{p_layer_id:f.layerId,p_quantity_change:-f.consumeQty});if(h)throw h;if(!o){const{data:y}=await re.from("fifo_layers").select("sku_id").eq("id",f.layerId).single();o=y?.sku_id||""}const{error:m}=await re.from("layer_consumptions").insert({movement_id:n,layer_id:f.layerId,quantity_consumed:f.consumeQty,unit_cost:f.unitCost,total_cost:f.totalCost});if(m)throw m;l+=f.consumeQty}if(o&&l>0){const{data:f,error:h}=await re.from("skus").select("on_hand").eq("id",o).single();if(h)throw h;const m=f?.on_hand??0;if(m<l)throw new Error(`INSUFFICIENT_STOCK_ON_HAND: sku=${o}, on_hand=${m}, required=${l}`);const{error:y}=await re.rpc("update_sku_quantity",{p_sku_id:o,p_quantity_change:-l});if(y)throw y}const{error:c}=await re.rpc("commit_transaction");if(c)throw c}catch(l){throw await re.rpc("rollback_transaction"),l}}catch(s){throw console.error("Error executing FIFO consumption:",s),s}}async function tx(r){try{const{data:n,error:s}=await re.from("fifo_layers").select("remaining_quantity").eq("sku_id",r).eq("status","ACTIVE");return s&&lt(s),n?.reduce((l,o)=>l+o.remaining_quantity,0)||0}catch(n){throw console.error("Error getting available quantity:",n),n}}function nx(r){return{name:r.name,address:r.address||void 0,bank:r.bank_info?JSON.stringify(r.bank_info):void 0,email:r.email||void 0,phone:r.phone||void 0}}async function ax(r){try{if(r.trim().length<3)return[];const{data:n,error:s}=await re.from("vendors").select("*").eq("active",!0).ilike("name",`%${r.trim()}%`).order("name").limit(8);return s&&lt(s),n?.map(nx)||[]}catch(n){throw console.error("Error fetching vendor suggestions:",n),n}}async function rx(r){try{let n=re.from("vendors").select("*").order("name");r?.active!==void 0&&(n=n.eq("active",r.active)),r?.searchTerm&&(n=n.ilike("name",`%${r.searchTerm}%`));const{data:s,error:l}=await n;return l&&lt(l),s||[]}catch(n){throw console.error("Error fetching vendors:",n),n}}async function sx(r){try{const{data:n,error:s}=await re.from("vendors").select("*").eq("id",r).single();if(s){if(s.code==="PGRST116")return null;lt(s)}return n}catch(n){throw console.error("Error fetching vendor by ID:",n),n}}async function ix(r){try{const{data:n,error:s}=await re.from("vendors").select("*").eq("name",r.trim()).eq("active",!0).single();if(s){if(s.code==="PGRST116")return null;lt(s)}return n}catch(n){throw console.error("Error fetching vendor by name:",n),n}}async function av(r){try{const n=r.name.replace(/[^A-Z0-9]/gi,"").toUpperCase().slice(0,8),s=Date.now().toString().slice(-4);let l=`VND-${n}-${s}`,o=1,c=!1;for(;!c&&o<=5;){const{data:y}=await re.from("vendors").select("id").eq("id",l).single();y?(l=`VND-${n}-${s}-${o}`,o++):c=!0}c||(l=`VND-${n}-${Math.random().toString(36).substr(2,6).toUpperCase()}`);const f={id:l,name:r.name.trim(),legal_name:r.legalName?.trim(),address:r.address?.trim(),city:r.city?.trim(),state:r.state?.trim(),zip_code:r.zipCode?.trim(),email:r.email?.trim(),phone:r.phone?.trim(),bank_info:r.bankInfo||{}},{data:h,error:m}=await re.from("vendors").insert(f).select().single();return m&&lt(m),h}catch(n){throw console.error("Error creating vendor:",n),n}}async function lx(r,n){try{const s={...n,updated_at:new Date().toISOString()},{data:l,error:o}=await re.from("vendors").update(s).eq("id",r).select().single();return o&&lt(o),l}catch(s){throw console.error("Error updating vendor:",s),s}}async function ox(r){try{const{error:n}=await re.from("vendors").update({active:!1,updated_at:new Date().toISOString()}).eq("id",r);n&&lt(n)}catch(n){throw console.error("Error deleting vendor:",n),n}}async function rv(r){try{const n=await ix(r);return n||await av({name:r})}catch(n){throw console.error("Error creating or getting vendor:",n),n}}async function ux(r){try{const{data:n,error:s}=await re.from("movements").select("id, type, sku_id, quantity, total_value").eq("id",r).is("deleted_at",null).single();if(s){if(s.code==="PGRST116")return{canDelete:!1,reason:"Movement not found or already deleted"};throw s}if(n.type!=="RECEIVE")return{canDelete:!1,reason:`Invalid movement type: ${n.type}. Only RECEIVE movements are validated.`};const{data:l,error:o}=await re.from("fifo_layers").select("id, sku_id, original_quantity, remaining_quantity, unit_cost, status").eq("created_by_movement_id",r).eq("status","ACTIVE");if(o)throw o;if(!l||l.length===0)return{canDelete:!0,reason:"No FIFO layers found - safe to delete"};const c=[],f=new Set;let h=0,m=0;for(const y of l){const p=y.original_quantity-y.remaining_quantity;if(p>0){const{data:_,error:w}=await re.from("layer_consumptions").select(`
            quantity_consumed,
            total_cost,
            movement_id,
            movements!inner (
              work_order_id,
              type,
              reference
            )
          `).eq("layer_id",y.id).is("deleted_at",null);if(w)throw w;_?.forEach(T=>{T.movements?.work_order_id&&f.add(T.movements.work_order_id)}),c.push({layerId:y.id,skuId:y.sku_id,originalQuantity:y.original_quantity,remainingQuantity:y.remaining_quantity,consumedQuantity:p,unitCost:y.unit_cost,consumedValue:p*y.unit_cost}),h+=p}m+=y.remaining_quantity}return c.length>0?{canDelete:!1,reason:`Cannot delete: ${c.length} FIFO layer(s) have been consumed by Work Orders`,affectedLayers:c,totalConsumed:h,totalRemaining:m,workOrdersAffected:Array.from(f)}:{canDelete:!0,reason:"All FIFO layers are unused - safe to delete",totalRemaining:m}}catch(n){return console.error("Error validating movement deletion:",n),lt(n),{canDelete:!1,reason:"Error occurred during validation - deletion blocked for safety"}}}function uo(r){return{id:to(r.id.toString()),date:new Date(r.datetime),type:r.type,skuId:r.sku_id||"",skuDescription:r.skus?.description||r.product_name||r.sku_id||"",unit:r.skus?.unit||"unit",quantity:r.quantity,unitCost:r.unit_cost||0,totalCost:r.total_value||0,vendor:r.vendors?.name,reference:r.reference,notes:r.notes||void 0}}async function cx(r){try{const{data:n,error:s}=await re.rpc("get_movements_filtered",{p_sku_id:r?.skuId||null,p_type:r?.type||null,p_date_from:r?.dateFrom?.toISOString()||null,p_date_to:r?.dateTo?.toISOString()||null,p_include_deleted:r?.includeDeleted||!1,p_limit:r?.limit||100,p_offset:r?.offset||0});if(s)throw s;const l=(n||[]).map(c=>({id:to(c.id.toString()),date:new Date(c.datetime),type:c.type,skuId:c.sku_id||"",skuDescription:c.sku_description||c.product_name||c.sku_id||"",unit:c.sku_unit||"unit",quantity:c.quantity,unitCost:c.unit_cost||0,totalCost:c.total_value||0,vendor:c.vendor_name,reference:c.reference,notes:c.notes||void 0,deletedAt:c.deleted_at?new Date(c.deleted_at):void 0,deletedBy:c.deleted_by||void 0,deletionReason:c.deletion_reason||void 0})),{count:o}=await re.from("movements").select("*",{count:"exact",head:!0}).is("deleted_at",r?.includeDeleted?void 0:null);return{movements:l,total:o||0}}catch(n){throw console.error("Error fetching movements:",n),n}}async function dx(r){try{const n=await rv(r.vendorName);console.log("Creating receive movement with transactional RPC:",{skuId:r.skuId,quantity:r.quantity,unitCost:r.unitCost,vendorId:n.id});const{data:s,error:l}=await re.rpc("create_receiving_transaction",{p_sku_id:r.skuId,p_quantity:r.quantity,p_unit_cost:r.unitCost,p_receiving_date:r.date.toISOString().split("T")[0],p_vendor_id:n.id,p_packing_slip_no:r.packingSlipNo||null,p_reference:r.packingSlipNo||`RCV-${Date.now()}`,p_notes:r.notes||null});if(l)throw console.error("Error creating receive movement via RPC:",l),l;if(!s?.success)throw new Error("Receive movement creation failed");console.log("Receive movement created successfully:",s);const{data:o,error:c}=await re.from("movements").select(`
        *,
        skus (id, description, unit),
        vendors (name)
      `).eq("id",s.movement_id).single();if(c)throw c;return uo(o)}catch(n){throw console.error("Error creating receive movement:",n),n}}async function fx(r){try{const n=await bi(r.skuId,r.quantity);if(!n.canFulfill)throw new Error(`Insufficient inventory. Available: ${n.totalQty}, Requested: ${r.quantity}`);try{const s={type:"ISSUE",sku_id:r.skuId,quantity:-r.quantity,unit_cost:n.totalCost/r.quantity,total_value:-n.totalCost,datetime:r.date.toISOString(),reference:r.reference||`ISS-${Date.now()}`,notes:r.notes},{data:l,error:o}=await re.from("movements").insert(s).select(`
          *,
          skus (id, description, unit),
          vendors (name)
        `).single();if(o)throw o;return await nv(n.plan,l.id),{movement:uo(l),totalCost:n.totalCost}}catch(s){throw console.error("Error within createIssueMovement flow:",s),s}}catch(n){throw console.error("Error creating issue movement:",n),n}}async function hx(r){try{const n=await bi(r.skuId,r.quantity);if(!n.canFulfill)throw new Error(`Insufficient inventory. Available: ${n.totalQty}, Requested: ${r.quantity}`);try{const s={type:"WASTE",sku_id:r.skuId,quantity:-r.quantity,unit_cost:n.totalCost/r.quantity,total_value:-n.totalCost,datetime:r.date.toISOString(),reference:r.reference||`WST-${Date.now()}`,notes:r.notes},{data:l,error:o}=await re.from("movements").insert(s).select(`
          *,
          skus (id, description, unit),
          vendors (name)
        `).single();if(o)throw o;return await nv(n.plan,l.id),{movement:uo(l),totalCost:n.totalCost}}catch(s){throw console.error("Error within createWasteMovement flow:",s),s}}catch(n){throw console.error("Error creating waste movement:",n),n}}async function mx(r){try{try{const n={type:"PRODUCE",sku_id:r.skuId||null,product_name:r.skuId?null:r.productName||"Produced Item",quantity:r.quantity,unit_cost:r.unitCost,total_value:r.quantity*r.unitCost,datetime:r.date.toISOString(),reference:r.reference||`PRD-${Date.now()}`,notes:r.notes},{data:s,error:l}=await re.from("movements").insert(n).select(`
          *,
          skus (id, description, unit),
          vendors (name)
        `).single();if(l)throw l;if(r.skuId){const o=`L-${s.id}-${r.skuId}`;await ex({id:o,skuId:r.skuId,receivingDate:r.date,quantity:r.quantity,unitCost:r.unitCost})}return uo(s)}catch(n){throw console.error("Error within createProduceMovement flow:",n),n}}catch(n){throw console.error("Error creating produce movement:",n),n}}async function yx(r){const{data:n,error:s}=await re.rpc("can_reverse_movement",{p_movement_id:r});if(s)throw s;return{canReverse:n.can_reverse,reason:n.reason,currentStock:n.current_stock,requiredQuantity:n.movement_quantity,remainingAfterReversal:n.remaining_after_reversal}}async function gx(r){const{data:n,error:s}=await re.rpc("validate_work_order_state",{p_reference:r});if(s)throw s;return{reference:n.reference,isValid:n.is_valid,canDelete:n.can_delete,canRestore:n.can_restore,hasProduce:n.has_produce,hasIssue:n.has_issue,hasWaste:n.has_waste,activeCount:n.active_count,deletedCount:n.deleted_count,issues:n.issues||[],movements:n.movements||[]}}async function vx(r,n){const{data:s,error:l}=await re.rpc("delete_work_order_atomic",{p_reference:r,p_deletion_reason:n?.reason||null,p_deleted_by:n?.deletedBy||"system"});if(l)throw l;if(!s?.success)throw new Error("Failed to delete Work Order atomically");return{success:s.success,reference:s.reference,deletedMovementsCount:s.deleted_movements_count,affectedSkus:s.affected_skus||[],deletedMovements:s.deleted_movements||[]}}async function px(r,n){const{data:s,error:l}=await re.rpc("restore_work_order_atomic",{p_reference:r,p_restored_by:n||"system"});if(l)throw l;if(!s?.success)throw new Error("Failed to restore Work Order atomically");return{success:s.success,reference:s.reference,restoredMovementsCount:s.restored_movements_count,affectedSkus:s.affected_skus||[],restoredMovements:s.restored_movements||[]}}async function bx(r){const{data:n,error:s}=await re.rpc("diagnose_work_order_integrity",{p_reference:r});if(s)throw s;return{reference:n.reference,validation:n.validation,skuIntegrity:n.sku_integrity||[],overallIntegrity:n.overall_integrity}}async function _x(r){const{data:n,error:s}=await re.rpc("repair_sku_integrity",{p_sku_id:r});if(s)throw s;return{skuId:n.sku_id,oldOnHand:n.old_on_hand,layerTotal:n.layer_total,newOnHand:n.new_on_hand,wasRepaired:n.was_repaired,isNowSynchronized:n.is_now_synchronized}}async function sv(r){const{data:n,error:s}=await re.rpc("get_movement_deletion_info",{p_movement_id:r});if(s)throw s;if(n?.error)throw new Error(n.error);return{canDelete:n.can_delete,movementType:n.type,skuId:n.sku_id,quantity:n.quantity,totalValue:n.total_value,reference:n.reference,consumptions:n.consumptions||[],isReversed:n.is_reversed}}async function wx(r,n){const{data:s,error:l}=await re.rpc("reverse_movement",{p_movement_id:r,p_deletion_reason:n?.reason||null,p_deleted_by:n?.deletedBy||"system"});if(l)throw l;if(!s?.success)throw new Error("Failed to reverse movement");return{success:s.success,movementId:s.movement_id,movementType:s.movement_type,restoredLayers:s.restored_layers||[],reversedAt:s.reversed_at,auditId:s.audit_id}}async function Sx(r,n){try{let s;if(!n?.bypassValidation&&(s=await ux(r),!s.canDelete))throw new Error(`Cannot delete movement: ${s.reason}
This would cause data inconsistency. `+(s.workOrdersAffected?.length?`Affected Work Orders: ${s.workOrdersAffected.join(", ")}`:""));const{data:l,error:o}=await re.rpc("soft_delete_movement",{p_movement_id:r,p_deletion_reason:n?.reason||null,p_deleted_by:n?.deletedBy||"system"});if(o)throw o;if(!l?.success)throw new Error("Failed to soft delete movement");return{success:l.success,movementId:l.movement_id,movementType:l.movement_type,deletedAt:l.deleted_at,deletedBy:l.deleted_by,deletionReason:l.deletion_reason,validationResult:s}}catch(s){throw console.error("Error in softDeleteMovement:",s),s}}async function xx(r,n){const{data:s,error:l}=await re.rpc("restore_movement",{p_movement_id:r,p_restored_by:n||"system"});if(l)throw l;if(!s?.success)throw new Error("Failed to restore movement");return{success:s.success,movementId:s.movement_id,movementType:s.movement_type,restoredAt:s.restored_at,restoredBy:s.restored_by}}async function Ex(r,n){const s=await sv(r);if(s.movementType==="PRODUCE"){const{data:c,error:f}=await re.rpc("delete_production_group",{p_reference:s.reference,p_deletion_reason:n?.reason||null,p_deleted_by:n?.deletedBy||"system"});if(f)throw f;if(!c?.success)throw new Error("Failed to delete production group");return{success:!0,movementId:r,movementType:s.movementType,restoredLayers:[],deleted:!0,auditId:0,deletionAuditId:0}}const{data:l,error:o}=await re.rpc("delete_movement",{p_movement_id:r,p_deletion_reason:n?.reason||null,p_deleted_by:n?.deletedBy||"system"});if(o)throw o;if(!l?.success)throw new Error("Failed to delete movement");return{success:l.success,movementId:l.movement_id,movementType:l.movement_type,restoredLayers:l.restored_layers||[],deleted:l.deleted,auditId:l.audit_id,deletionAuditId:l.deletion_audit_id}}async function iv(r,n){try{const s=[],l=[];let o=0,c=0;const f=[];for(const h of r){const m=await bi(h.skuId,h.quantity);s.push({skuId:h.skuId,requestedQty:h.quantity,plan:m}),m.canFulfill||f.push(h.skuId),o+=m.totalCost}for(const h of n)if(h.quantity>0){const m=await bi(h.skuId,h.quantity);l.push({skuId:h.skuId,requestedQty:h.quantity,plan:m}),c+=m.totalCost}return{rawPlans:s,wastePlans:l,totalRawCost:o,totalWasteCost:c,canFulfill:f.length===0,insufficientSKUs:f}}catch(s){throw console.error("Error calculating work order FIFO plans:",s),s}}async function Tx(r){try{const n=r.rawMaterials.map(m=>({sku_id:m.skuId,quantity:m.quantity,type:"ISSUE"})),s=r.wasteLines.filter(m=>m.quantity>0).map(m=>({sku_id:m.skuId,quantity:m.quantity,type:"WASTE"})),l=[...n,...s];console.log("Creating work order with transactional RPC:",{outputName:r.outputName,outputQuantity:r.outputQuantity,materials:l});const o={p_output_name:r.outputName,p_output_quantity:r.outputQuantity,p_output_unit:"unit",p_mode:"AUTO",p_client_name:null,p_invoice_no:r.reference||null,p_notes:r.notes||null,p_materials:l};console.log("RPC parameters:",o);const{data:c,error:f}=await re.rpc("create_work_order_transaction",o);if(f)throw console.error("Error creating work order via RPC:",f),console.error("Error details:",JSON.stringify(f,null,2)),f;if(!c?.success)throw new Error("Work order creation failed");console.log("Work order created successfully:",c);const h=await iv(r.rawMaterials,r.wasteLines);return{workOrderId:c.work_order_id,totalRawCost:c.total_raw_cost||h.totalRawCost,totalWasteCost:c.total_waste_cost||h.totalWasteCost,outputUnitCost:c.produce_unit_cost||(c.net_produce_cost||h.totalRawCost)/r.outputQuantity,rawPlans:h.rawPlans,wastePlans:h.wastePlans,netProduceCost:c.net_produce_cost,details:{rawCost:c.total_raw_cost,wasteCost:c.total_waste_cost,netCost:c.net_produce_cost,unitCost:c.produce_unit_cost,consumptions:c.material_consumptions}}}catch(n){throw console.error("Error creating work order:",n),n}}async function jx(r){try{let n=re.from("work_orders").select("*",{count:"exact"});r?.outputSkuId&&(n=n.eq("output_sku_id",r.outputSkuId)),r?.dateFrom&&(n=n.gte("work_order_date",r.dateFrom.toISOString().split("T")[0])),r?.dateTo&&(n=n.lte("work_order_date",r.dateTo.toISOString().split("T")[0])),r?.status&&(n=n.eq("status",r.status)),r?.limit&&(n=n.limit(r.limit)),r?.offset&&(n=n.range(r.offset,r.offset+(r?.limit||50)-1)),n=n.order("work_order_date",{ascending:!1}).order("created_at",{ascending:!1});const{data:s,error:l,count:o}=await n;return l&&lt(l),{workOrders:s||[],total:o||0}}catch(n){throw console.error("Error fetching work orders:",n),n}}async function Ox(r){try{const{data:n,error:s}=await re.from("work_orders").select(`
        *,
        skus (id, description, unit)
      `).eq("id",r).single();if(s){if(s.code==="PGRST116")return null;lt(s)}const{data:l,error:o}=await re.from("work_order_lines").select(`
        *,
        skus (id, description, unit),
        movements (id, type, datetime)
      `).eq("work_order_id",r).order("type").order("created_at");return o&&lt(o),{workOrder:n,lines:l||[]}}catch(n){throw console.error("Error fetching work order details:",n),n}}const Il={async getAllSKUs(){return await ag({active:!0})},async getSKUsByType(r){return await ag({type:r,active:!0})},async getSKUById(r){return await IS(r)},async createSKU(r){return await FS(r)},async updateSKU(r,n){return await XS(r,n)},async deleteSKU(r){return await ZS(r)},async getInventorySummary(){return await JS()}},Fl={async getVendorSuggestions(r){return await ax(r)},async createOrGetVendor(r){return await rv(r)},async getAllVendors(){return await rx({active:!0})},async getVendorById(r){return await sx(r)},async createVendor(r){return await av({name:r.name,address:r.address,email:r.email,phone:r.phone,bankInfo:r.bank?{display:r.bank}:void 0})},async updateVendor(r,n){return await lx(r,{name:n.name,address:n.address,email:n.email,phone:n.phone,bank_info:n.bank?{display:n.bank}:void 0})},async deleteVendor(r){return await ox(r)}},Ax={async getFIFOLayers(r){return await tv(r)},async getAllFIFOLayers(){return await WS()},async calculateFIFOPlan(r,n){return await bi(r,n)},async getAvailableQuantity(r){return await tx(r)}},co={async createReceiveMovement(r){return await dx(r)},async createIssueMovement(r){return await fx(r)},async createWasteMovement(r){return await hx(r)},async createProduceMovement(r){return await mx(r)},async getMovementDeletionInfo(r){return await sv(r)},async canReverseMovement(r){return await yx(r)},async reverseMovement(r,n){return await wx(r,n)},async deleteMovement(r,n){return await Ex(r,n)},async softDeleteMovement(r,n){return await Sx(r,n)},async restoreMovement(r,n){return await xx(r,n)},async getMovements(r){return await cx(r)},async validateWorkOrderState(r){return await gx(r)},async deleteWorkOrderAtomic(r,n){return await vx(r,n)},async restoreWorkOrderAtomic(r,n){return await px(r,n)},async diagnoseWorkOrderIntegrity(r){return await bx(r)},async repairSkuIntegrity(r){return await _x(r)}},Cx={async calculateWorkOrderPlans(r,n){return await iv(r,n)},async createWorkOrder(r){return await Tx(r)},async getWorkOrders(r){return await jx(r)},async getWorkOrderById(r){return await Ox(r)}};async function kx(r){return Ax.getFIFOLayers(r)}async function rg(r){return co.getMovements(r)}async function sg(r,n){return co.deleteMovement(r,n)}async function o1(r){return co.createReceiveMovement(r)}async function u1(r){return Cx.createWorkOrder(r)}const Ga="pgaskets-journal-export-history",Bc="pgaskets-journal-last-sync",ig=100;class Rx{supabase;conflictStrategy="merge-union";onSyncCallbacks=[];constructor(n,s){n&&s?this.supabase=Jg(n,s):Pt(async()=>{const{supabase:l}=await Promise.resolve().then(()=>LS);return{supabase:l}},void 0).then(({supabase:l})=>{this.supabase=l})}getExportedMovements(){try{const n=localStorage.getItem(Ga);return n?new Set(JSON.parse(n)):new Set}catch(n){return console.warn("Failed to load journal export history from localStorage:",n),new Set}}markMovementsAsExported(n,s){try{const l=this.getExportedMovements();n.forEach(c=>l.add(c)),localStorage.setItem(Ga,JSON.stringify([...l]));const o=this.getExportMetadata();n.forEach(c=>{o[c]={exported_at:new Date().toISOString(),journal_number:s,synced:!1}}),this.setExportMetadata(o)}catch(l){console.warn("Failed to save journal export history to localStorage:",l)}}clearLocalHistory(){try{localStorage.removeItem(Ga),localStorage.removeItem(Ga+"-metadata"),localStorage.removeItem(Bc),Be.success("Local export history cleared")}catch(n){console.warn("Failed to clear local journal export history:",n),Be.error("Failed to clear local history")}}getExportMetadata(){try{const n=localStorage.getItem(Ga+"-metadata");return n?JSON.parse(n):{}}catch{return{}}}setExportMetadata(n){try{localStorage.setItem(Ga+"-metadata",JSON.stringify(n))}catch(s){console.warn("Failed to save export metadata:",s)}}getLastSyncTime(){try{const n=localStorage.getItem(Bc);return n?new Date(n):null}catch{return null}}setLastSyncTime(n){try{localStorage.setItem(Bc,n.toISOString())}catch(s){console.warn("Failed to save last sync time:",s)}}async getSupabaseExports(){if(!this.supabase)throw new Error("Supabase client not initialized");const{data:n,error:s}=await this.supabase.from("journal_export_history").select("*").order("created_at",{ascending:!1});if(s)throw s;return n||[]}async insertSupabaseExports(n){if(!this.supabase)throw new Error("Supabase client not initialized");if(n.length===0)return;const{error:s}=await this.supabase.from("journal_export_history").upsert(n,{onConflict:"user_id,movement_id",ignoreDuplicates:!1});if(s)throw s}async clearSupabaseHistory(){if(!this.supabase)throw new Error("Supabase client not initialized");const{error:n}=await this.supabase.from("journal_export_history").delete().neq("id","00000000-0000-0000-0000-000000000000");if(n)throw n}async syncToSupabase(){const n={success:!1,uploaded:0,downloaded:0,conflicts:0,errors:[]};try{if(!this.supabase)throw new Error("Supabase client not available");const s=this.getExportMetadata(),l=[],{data:{user:o}}=await this.supabase.auth.getUser();if(!o)throw new Error("User not authenticated");if(Object.entries(s).forEach(([c,f])=>{f.synced||l.push({user_id:o.id,movement_id:c,exported_at:f.exported_at,journal_number:f.journal_number,device_info:{userAgent:navigator.userAgent,timestamp:new Date().toISOString()}})}),l.length>0){for(let f=0;f<l.length;f+=ig){const h=l.slice(f,f+ig);await this.insertSupabaseExports(h),n.uploaded+=h.length}const c={...s};l.forEach(f=>{c[f.movement_id]&&(c[f.movement_id].synced=!0)}),this.setExportMetadata(c)}this.setLastSyncTime(new Date),n.success=!0}catch(s){console.error("Failed to sync to Supabase:",s),n.errors.push(s instanceof Error?s.message:"Unknown error")}return this.onSyncCallbacks.forEach(s=>s(n)),n}async syncFromSupabase(){const n={success:!1,uploaded:0,downloaded:0,conflicts:0,errors:[]};try{if(!this.supabase)throw new Error("Supabase client not available");const s=await this.getSupabaseExports(),l=this.getExportedMovements(),o=this.getExportMetadata(),c=new Set(l),f={...o};s.forEach(h=>{const m=h.movement_id;if(!l.has(m))c.add(m),f[m]={exported_at:h.exported_at,journal_number:h.journal_number,synced:!0},n.downloaded++;else if(!o[m]?.synced)switch(this.conflictStrategy){case"supabase-wins":f[m]={exported_at:h.exported_at,journal_number:h.journal_number,synced:!0},n.conflicts++;break;case"merge-union":f[m]&&(f[m].synced=!0);break}}),localStorage.setItem(Ga,JSON.stringify([...c])),this.setExportMetadata(f),this.setLastSyncTime(new Date),n.success=!0}catch(s){console.error("Failed to sync from Supabase:",s),n.errors.push(s instanceof Error?s.message:"Unknown error")}return this.onSyncCallbacks.forEach(s=>s(n)),n}async fullSync(){const n=await this.syncFromSupabase(),s=await this.syncToSupabase();return{success:n.success&&s.success,uploaded:s.uploaded,downloaded:n.downloaded,conflicts:n.conflicts+s.conflicts,errors:[...n.errors,...s.errors]}}async exportHistoryToExcel(){try{const n=await Pt(()=>import("./xlsx-DGuHH-KN.js"),[]),s=this.getExportMetadata(),l=await this.getSupabaseExports().catch(()=>[]),o=[];Object.entries(s).forEach(([_,w])=>{o.push({"Movement ID":_,"Exported At":w.exported_at?new Date(w.exported_at).toLocaleString():"","Journal Number":w.journal_number||"",Source:"Local",Synced:w.synced?"Yes":"No"})});const c=new Set(Object.keys(s));if(l.forEach(_=>{c.has(_.movement_id)||o.push({"Movement ID":_.movement_id,"Exported At":new Date(_.exported_at).toLocaleString(),"Journal Number":_.journal_number||"",Source:"Supabase",Synced:"Yes"})}),o.length===0)return;o.sort((_,w)=>new Date(w["Exported At"]).getTime()-new Date(_["Exported At"]).getTime());const f=n.utils.book_new(),h=n.utils.json_to_sheet(o),m=[{wch:15},{wch:20},{wch:18},{wch:10},{wch:8}];h["!cols"]=m,n.utils.book_append_sheet(f,h,"Export History Backup");const p=`journal-export-history-backup-${new Date().toISOString().split("T")[0]}.xlsx`;n.writeFile(f,p),Be.info(`Backup saved: ${p}`,{description:`${o.length} export records archived`})}catch(n){console.warn("Failed to export history backup:",n),Be.error("Failed to create backup file")}}async clearAllHistory(){try{await this.exportHistoryToExcel(),await this.clearSupabaseHistory(),this.clearLocalHistory(),Be.success("Export history cleared and backed up to Excel")}catch(n){console.error("Failed to clear all history:",n),Be.error("Failed to clear remote history"),this.clearLocalHistory()}}setConflictStrategy(n){this.conflictStrategy=n}onSync(n){this.onSyncCallbacks.push(n)}async autoSync(){try{await this.fullSync()}catch(n){console.warn("Auto-sync failed:",n)}}getSyncStatus(){const n=this.getExportMetadata(),s=Object.values(n).filter(o=>!o.synced).length,l=this.getExportedMovements().size;return{lastSync:this.getLastSyncTime(),pendingUpload:s,totalExported:l}}}const Yr=new Rx,Dx=j.lazy(()=>Pt(()=>import("./Receiving-DpRyz98r.js"),__vite__mapDeps([0,1]))),Nx=j.lazy(()=>Pt(()=>import("./WorkOrder-CNU5P5_o.js"),__vite__mapDeps([2,1,3]))),Mx=j.lazy(()=>Pt(()=>import("./Movements-AHqnYO62.js"),__vite__mapDeps([4,3]))),no=1440*60*1e3;function Yl(r,n,s){const l=new Date,o=new Date(l.getFullYear(),l.getMonth(),l.getDate()).getTime();if(r==="today")return[o,l.getTime()];if(r==="last7")return[l.getTime()-7*no,l.getTime()];if(r==="month")return[new Date(l.getFullYear(),l.getMonth(),1).getTime(),l.getTime()];if(r==="custom"){const f=n?new Date(n+"T00:00:00").getTime():l.getTime()-7*no,h=s?new Date(s+"T23:59:59").getTime():l.getTime();return[Math.min(f,h),Math.max(f,h)]}const c=Math.floor(l.getMonth()/3)*3;return[new Date(l.getFullYear(),c,1).getTime(),l.getTime()]}function Ux(r,n,s=7){const l=[],o=Math.max(1,Math.floor((n-r)/s));for(let c=0;c<s;c++){const f=r+c*o,h=c===s-1?n:r+(c+1)*o;l.push([f,h])}return l}function lv(r,n,s){if(r==="today")return"hourly";if(r==="last7")return"daily";if(r==="month")return"weekly";if(r==="quarter")return"monthly";const l=(s-n)/(1e3*60*60*24);return l<=7?"daily":l<=90?"weekly":"monthly"}function zx(r,n){const s=[],l=new Date(r),o=new Date(n),c=new Date(l.getFullYear(),l.getMonth(),l.getDate(),l.getHours()),f=new Date(o.getFullYear(),o.getMonth(),o.getDate(),o.getHours()+1);let h=c.getTime();for(;h<f.getTime();){const m=h+36e5;s.push([h,Math.min(m,n)]),h=m}return s.slice(-7)}function qx(r,n){const s=[],l=new Date(r),o=new Date(n),c=new Date(l.getFullYear(),l.getMonth(),l.getDate()),f=new Date(o.getFullYear(),o.getMonth(),o.getDate()+1);let h=c.getTime();for(;h<f.getTime();){const m=h+864e5;s.push([h,Math.min(m,n)]),h=m}return s.slice(-7)}function Lx(r,n){const s=[],l=new Date(n);let o=new Date(l.getFullYear(),l.getMonth(),l.getDate());for(;o.getDay()!==0;)o.setDate(o.getDate()-1);const c=o.getTime()+10080*60*1e3;s.unshift([o.getTime(),Math.min(c,n)]);for(let f=1;f<7;f++){const h=o.getTime()-f*7*24*60*60*1e3,m=o.getTime()-(f-1)*7*24*60*60*1e3;h>=r&&s.unshift([Math.max(h,r),m])}return s}function Bx(r,n){const s=[],l=new Date(n);let o=new Date(l.getFullYear(),l.getMonth(),1);const c=new Date(o.getFullYear(),o.getMonth()+1,1);s.unshift([o.getTime(),Math.min(c.getTime(),n)]);for(let f=1;f<7;f++){const h=new Date(o.getFullYear(),o.getMonth()-f,1),m=new Date(o.getFullYear(),o.getMonth()-f+1,1);h.getTime()>=r&&s.unshift([Math.max(h.getTime(),r),m.getTime()])}return s}function Hx(r,n,s){switch(lv(r,n,s)){case"hourly":return zx(n,s);case"daily":return qx(n,s);case"weekly":return Lx(n,s);case"monthly":return Bx(n,s);default:return Ux(n,s,7)}}function $x({children:r,onClose:n,onToggleAdd:s,addOpen:l}){const o=Kn.useRef(null);return j.useEffect(()=>{o.current?.focus()},[]),v.jsxs("div",{className:"fixed inset-0 z-50",role:"dialog","aria-modal":"true","aria-labelledby":"skus-title",children:[v.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:n}),v.jsx("div",{className:"absolute left-1/2 top-8 -translate-x-1/2 w-[min(100%,1100px)]",onClick:c=>c.stopPropagation(),children:v.jsxs("div",{ref:o,tabIndex:-1,className:"bg-white rounded-2xl shadow-2xl max-h-[85vh] flex flex-col",children:[v.jsxs("div",{className:"sticky top-0 z-10 bg-white rounded-t-2xl border-b px-4 py-3 flex items-center justify-between",children:[v.jsx("div",{className:"flex items-center gap-2",children:v.jsx(ii,{id:"skus-title",children:"SKUs"})}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(Ie,{size:"sm",variant:"outline",onClick:s,children:l?"Close form":"Add SKU"}),v.jsx(Ie,{size:"sm",onClick:n,"aria-label":"Close",children:""})]})]}),v.jsx("div",{className:"px-4 py-3 overflow-y-auto",children:r}),v.jsx("div",{className:"sticky bottom-0 z-10 bg-white rounded-b-2xl border-t px-4 py-3",children:v.jsxs("div",{className:"flex items-center justify-end gap-2",children:[v.jsx(Ie,{variant:"outline",onClick:n,children:"Cancel"}),v.jsx(Ie,{onClick:n,children:"Update"})]})})]})})]})}const Sn=r=>`$ ${r.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,lg=r=>r.toLocaleString("en-US"),Vx=["Adhesives","Boxes","Cork/Rubber","Polyurethane Ester","Polyurethane Ether","Felt","Fibre Foam","Film and Foil"];function Gx(r){if(!r||r.length===0)return null;const n=r.reduce((l,o)=>l+Math.max(0,o.remaining),0);return n<=0?null:r.reduce((l,o)=>l+Math.max(0,o.remaining)*o.cost,0)/n}function Kr(r){return r instanceof Date?r:r.includes("T")?new Date(r):new Date(r.replace(" ","T"))}function Yx(){const r={category:220,sku:140,description:260,unit:80,type:100,onHand:110,avgCost:130,assetValue:130,minimum:110,status:140},[n,s]=j.useState(()=>{const _=localStorage.getItem("inventory-column-widths");return _?{...r,...JSON.parse(_)}:r}),[l,o]=j.useState(!1),[c,f]=j.useState(null),h=j.useCallback((_,w)=>{w.preventDefault(),o(!0),f(_)},[]),m=j.useCallback(_=>{if(!l||!c)return;const w=document.querySelector(".resizable-table");if(!w)return;const T=w.getBoundingClientRect(),A=_.clientX-T.left;let U=A;const M=Object.keys(n),N=M.indexOf(c);if(N>0){const Q=M.slice(0,N).reduce((H,P)=>H+n[P],0);U=A-Q}U=Math.max(U,60),s(Q=>({...Q,[c]:U}))},[l,c,n]),y=j.useCallback(()=>{l&&(o(!1),f(null),localStorage.setItem("inventory-column-widths",JSON.stringify(n)))},[l,n]);j.useEffect(()=>(l&&(document.addEventListener("mousemove",m),document.addEventListener("mouseup",y),document.body.style.cursor="col-resize",document.body.style.userSelect="none"),()=>{document.removeEventListener("mousemove",m),document.removeEventListener("mouseup",y),document.body.style.cursor="",document.body.style.userSelect=""}),[l,m,y]);const p=j.useCallback(()=>{s(r),localStorage.removeItem("inventory-column-widths")},[]);return{columnWidths:n,handleMouseDown:h,resetWidths:p,isResizing:l}}function Kx({className:r}){return v.jsx("svg",{className:r,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})}function Qx({className:r}){return v.jsx("svg",{className:r,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})})}function Px({className:r}){return v.jsx("svg",{className:r,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}function Ix({className:r}){return v.jsxs("svg",{className:r,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[v.jsx("path",{d:"M12 2l9 4-9 4-9-4 9-4z",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),v.jsx("path",{d:"M3 10l9 4 9-4",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),v.jsx("path",{d:"M3 16l9 4 9-4",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}function Fx({items:r,onChange:n,openForm:s,onToggleForm:l,hideLocalHeader:o,onRefresh:c}){const f={id:"",description:"",type:"RAW",productCategory:"Cork/Rubber",unit:"unit",min:0,onHand:0},[h,m]=j.useState(!1),y=s??h,p=l??(()=>m(W=>!W)),[_,w]=j.useState(null),[T,A]=j.useState(f),[U,M]=j.useState(null),[N,Q]=j.useState({}),H=W=>{const ye={};return W.id.trim()||(ye.id="Code is required"),(W.min??0)<=0&&(ye.min="Minimum must be greater than 0"),ye};j.useEffect(()=>{Q(H(T))},[T]);function P(){A(f),w(null),s||p()}async function V(){const W=(T.id||"").trim().toUpperCase();if(!W)return;const ye=H({...T,id:W});if(Q(ye),!(Object.keys(ye).length>0))try{if(_===null){const pe={id:W,description:T.description||"",type:T.type,productCategory:T.productCategory,unit:T.unit||"unit",active:!0,min:T.min||0};await Il.createSKU(pe),c&&await c(),Be.success(`SKU "${W}" created successfully!`)}else{const pe=r[_],rt={description:T.description||"",type:T.type,productCategory:T.productCategory,unit:T.unit||"unit",min:T.min||0};await Il.updateSKU(pe.id,rt),c&&await c(),Be.success(`SKU "${W}" updated successfully!`)}P()}catch(pe){console.error("Error saving SKU:",pe);let rt="Failed to save SKU";pe?.message?.includes("duplicate")?rt=`SKU "${W}" already exists`:pe?.message&&(rt=pe.message),Be.error(rt)}}function X(W){A({...r[W]}),w(W),y||p(),Q(H(r[W]))}function Z(W){const ye=r[W];if((ye.onHand??0)>0){Be.error(`Cannot delete SKU "${ye.id}" because it has ${ye.onHand} units in stock. Please reduce inventory to zero before deleting.`);return}M(W)}function Ee(){M(null)}async function Qe(W){const ye=r[W];if(ye)try{await Il.deleteSKU(ye.id),c&&await c(),_===W&&P(),M(null),Be.success(`SKU "${ye.id}" deleted successfully!`)}catch(pe){console.error("Error deleting SKU:",pe);let rt="Failed to delete SKU";pe?.message?.includes("foreign key")||pe?.message?.includes("referenced")?rt=`Cannot delete SKU "${ye.id}" - it has associated movements or inventory`:pe?.message&&(rt=pe.message),Be.error(rt),M(null)}}return v.jsxs("div",{className:"space-y-4",children:[!o&&v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("div",{className:"text-sm text-slate-600",children:"Centralized SKU master data"}),v.jsx(Ie,{size:"sm",className:"rounded-xl",onClick:()=>p(),children:y?"Close":"Add SKU"})]}),y&&v.jsxs("div",{className:"rounded-2xl border border-dashed p-4 grid grid-cols-1 sm:grid-cols-12 gap-3",children:[_!==null&&v.jsxs("div",{className:"sm:col-span-12 text-xs text-slate-500",children:["Editing SKU: ",v.jsx("b",{children:r[_]?.id})]}),v.jsxs("div",{className:"sm:col-span-3",children:[v.jsx(Kt,{htmlFor:"sku-code",className:"mb-1.5 block",children:"Code *"}),v.jsx(Qt,{id:"sku-code",className:`w-full h-10 ${N.id?"border-red-500 focus:ring-red-500":""}`,value:T.id,onChange:W=>A({...T,id:W.target.value}),placeholder:"SKU-001","aria-invalid":!!N.id,"aria-describedby":N.id?"sku-code-error":void 0}),N.id&&v.jsx("div",{id:"sku-code-error",className:"text-sm text-red-600 mt-1",children:N.id})]}),v.jsxs("div",{className:"sm:col-span-5",children:[v.jsx(Kt,{className:"mb-1.5 block",children:"Description"}),v.jsx(Qt,{className:"w-full",value:T.description??"",onChange:W=>A({...T,description:W.target.value}),placeholder:"GAX-12"})]}),v.jsxs("div",{className:"sm:col-span-2",children:[v.jsx(Kt,{className:"mb-1.5 block",children:"Type"}),v.jsxs(oi,{value:T.type,onValueChange:W=>A({...T,type:W}),children:[v.jsx(ui,{className:"h-10 w-full rounded-xl",children:v.jsx(ci,{})}),v.jsxs(di,{children:[v.jsx(At,{value:"RAW",children:"Raw"}),v.jsx(At,{value:"SELLABLE",children:"Sellable"})]})]})]}),v.jsxs("div",{className:"sm:col-span-2",children:[v.jsx(Kt,{className:"mb-1.5 block",children:"Category"}),v.jsxs(oi,{value:T.productCategory,onValueChange:W=>A({...T,productCategory:W}),children:[v.jsx(ui,{className:"h-10 w-full rounded-xl",children:v.jsx(ci,{})}),v.jsx(di,{children:Vx.map(W=>v.jsx(At,{value:W,children:W},W))})]})]}),v.jsxs("div",{className:"sm:col-span-2",children:[v.jsx(Kt,{className:"mb-1.5 block",children:"Unit"}),v.jsx(Qt,{className:"w-full",value:T.unit??"",onChange:W=>A({...T,unit:W.target.value}),placeholder:"unit"})]}),v.jsxs("div",{className:"sm:col-span-2",children:[v.jsx(Kt,{htmlFor:"sku-minimum",className:"mb-1.5 block",children:"Minimum *"}),v.jsx(Qt,{id:"sku-minimum",className:`w-full h-10 ${N.min?"border-red-500 focus:ring-red-500":""}`,type:"number",min:1,value:T.min??0,onChange:W=>A({...T,min:Math.max(0,parseInt(W.target.value||"0",10))}),placeholder:"0","aria-invalid":!!N.min,"aria-describedby":N.min?"sku-minimum-error":void 0}),N.min&&v.jsx("div",{id:"sku-minimum-error",className:"text-sm text-red-600 mt-1",children:N.min})]}),v.jsxs("div",{className:"sm:col-span-12 flex gap-2 justify-end",children:[v.jsx(Ie,{className:"rounded-xl",onClick:V,children:_===null?"Save":"Update"}),v.jsx(Ie,{variant:"outline",className:"rounded-xl",onClick:P,children:"Cancel"})]})]}),v.jsx("div",{className:"overflow-x-auto",children:v.jsxs(fd,{className:"min-w-[900px]",children:[v.jsx(hd,{children:v.jsxs(Ir,{children:[v.jsx(nt,{children:"Code"}),v.jsx(nt,{children:"Description"}),v.jsx(nt,{children:"Type"}),v.jsx(nt,{children:"Category"}),v.jsx(nt,{children:"Unit"}),v.jsx(nt,{children:"Minimum"}),v.jsx(nt,{className:"text-right",children:"Actions"})]})}),v.jsx(md,{children:r.map((W,ye)=>{const pe=(W.onHand??0)>0;return v.jsxs(Ir,{children:[v.jsx(at,{className:"font-medium",children:W.id}),v.jsx(at,{children:W.description??"-"}),v.jsx(at,{children:W.type==="RAW"?"Raw":"Sellable"}),v.jsx(at,{children:W.productCategory}),v.jsx(at,{children:W.unit??"-"}),v.jsx(at,{children:W.min??0}),v.jsx(at,{className:"text-right",children:U===ye?v.jsxs("div",{className:"flex justify-end gap-2",children:[v.jsx(Ie,{size:"sm",variant:"destructive",onClick:()=>Qe(ye),children:"Confirm"}),v.jsx(Ie,{size:"sm",variant:"outline",onClick:Ee,children:"Cancel"})]}):v.jsxs("div",{className:"flex justify-end gap-2",children:[v.jsx(Ie,{size:"sm",variant:"outline",onClick:()=>X(ye),children:"Edit"}),v.jsx(Ie,{size:"sm",variant:"outline",className:pe?"text-gray-400 cursor-not-allowed":"text-red-600",onClick:()=>Z(ye),disabled:pe,title:pe?`Cannot delete: SKU has ${W.onHand} units in stock`:"Delete SKU",children:"Delete"})]})})]},W.id)})})]})})]})}function Xx({items:r,onChange:n,onRefresh:s}){const l={id:"",name:"",email:"",phone:"",address:"",bank:""},[o,c]=j.useState(!1),[f,h]=j.useState(null),[m,y]=j.useState(l),[p,_]=j.useState(null),[w,T]=j.useState({}),A=V=>{const X={};return(V.name||"").trim()||(X.name="Name is required"),X};j.useEffect(()=>{T(A(m))},[m]);function U(){y(l),h(null),c(!1)}async function M(){const V=(m.name||"").trim(),X=A({...m,name:V});if(T(X),!(!V||Object.keys(X).length>0))try{if(f===null){const Z={name:V,address:m.address?.trim()||void 0,email:m.email?.trim()||void 0,phone:m.phone?.trim()||void 0,bank:m.bank?.trim()||void 0};await Fl.createVendor(Z),Be.success(`Vendor "${V}" created successfully!`)}else{const Z=r[f],Ee={name:V,address:m.address?.trim()||void 0,email:m.email?.trim()||void 0,phone:m.phone?.trim()||void 0,bank:m.bank?.trim()||void 0};await Fl.updateVendor(Z.id,Ee),Be.success(`Vendor "${V}" updated successfully!`)}s&&await s(),U()}catch(Z){console.error("Error saving vendor:",Z);let Ee="Failed to save vendor";Z?.message?.includes("duplicate")||Z?.message?.includes("unique")?Ee=`Vendor "${V}" already exists`:Z?.message&&(Ee=Z.message),Be.error(Ee)}}function N(V){y({...r[V]}),h(V),c(!0),T(A(r[V]))}function Q(V){_(V)}function H(){_(null)}async function P(V){const X=r[V];if(X)try{await Fl.deleteVendor(X.id),s&&await s(),f===V&&U(),_(null),Be.success(`Vendor "${X.name}" deleted successfully!`)}catch(Z){console.error("Error deleting vendor:",Z);let Ee="Failed to delete vendor";Z?.message?.includes("foreign key")||Z?.message?.includes("referenced")?Ee=`Cannot delete vendor "${X.name}" - it has associated transactions or data`:Z?.message&&(Ee=Z.message),Be.error(Ee),_(null)}}return v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("div",{className:"text-sm text-slate-600",children:"Centralized vendor master data"}),v.jsx(Ie,{size:"sm",className:"rounded-xl",onClick:()=>{c(V=>{const X=!V;return X&&(y(l),T(A(l))),X})},children:o?"Close":"Add Vendor"})]}),o&&v.jsxs("div",{className:"rounded-2xl border border-dashed p-4 grid grid-cols-1 md:grid-cols-2 gap-3",children:[f!==null&&v.jsxs("div",{className:"md:col-span-2 text-xs text-slate-500",children:["Editing vendor: ",v.jsx("b",{children:r[f]?.name})]}),v.jsxs("div",{children:[v.jsx(Kt,{htmlFor:"vendor-name",className:"mb-1.5 block",children:"Name *"}),v.jsx(Qt,{id:"vendor-name",className:`w-full h-10 ${w.name?"border-red-500 focus:ring-red-500":""}`,value:m.name??"",onChange:V=>y({...m,name:V.target.value}),placeholder:"e.g., ABC Metals LLC","aria-invalid":!!w.name,"aria-describedby":w.name?"vendor-name-error":void 0}),w.name&&v.jsx("div",{id:"vendor-name-error",className:"text-sm text-red-600 mt-1",children:w.name})]}),v.jsxs("div",{children:[v.jsx(Kt,{htmlFor:"vendor-email",className:"mb-1.5 block",children:"Email"}),v.jsx(Qt,{id:"vendor-email",className:"w-full h-10",value:m.email??"",onChange:V=>y({...m,email:V.target.value}),placeholder:"ap@vendor.com"})]}),v.jsxs("div",{children:[v.jsx(Kt,{htmlFor:"vendor-phone",className:"mb-1.5 block",children:"Phone"}),v.jsx(Qt,{id:"vendor-phone",className:"w-full h-10",value:m.phone??"",onChange:V=>y({...m,phone:V.target.value}),placeholder:"+1 (555) 000-0000"})]}),v.jsxs("div",{className:"md:col-span-2",children:[v.jsx(Kt,{htmlFor:"vendor-address",className:"mb-1.5 block",children:"Address"}),v.jsx(Qt,{id:"vendor-address",className:"w-full h-10",value:m.address??"",onChange:V=>y({...m,address:V.target.value}),placeholder:"Street, City, State"})]}),v.jsxs("div",{className:"md:col-span-2",children:[v.jsx(Kt,{htmlFor:"vendor-bank",className:"mb-1.5 block",children:"Bank account"}),v.jsx(Qt,{id:"vendor-bank",className:"w-full h-10",value:m.bank??"",onChange:V=>y({...m,bank:V.target.value}),placeholder:"Bank  ****-1234"})]}),v.jsxs("div",{className:"md:col-span-2 flex gap-2 justify-end",children:[v.jsx(Ie,{className:"rounded-xl",onClick:M,children:f===null?"Save":"Update"}),v.jsx(Ie,{variant:"outline",className:"rounded-xl",onClick:U,children:"Cancel"})]})]}),v.jsxs(fd,{children:[v.jsx(hd,{children:v.jsxs(Ir,{children:[v.jsx(nt,{children:"Name"}),v.jsx(nt,{children:"Address"}),v.jsx(nt,{children:"Bank"}),v.jsx(nt,{children:"Email"}),v.jsx(nt,{children:"Phone"}),v.jsx(nt,{className:"text-right",children:"Actions"})]})}),v.jsx(md,{children:r.map((V,X)=>v.jsxs(Ir,{children:[v.jsx(at,{className:"font-medium",children:V.name}),v.jsx(at,{children:V.address??"-"}),v.jsx(at,{children:V.bank??"-"}),v.jsx(at,{children:V.email??"-"}),v.jsx(at,{children:V.phone??"-"}),v.jsx(at,{className:"text-right",children:p===X?v.jsxs("div",{className:"flex justify-end gap-2",children:[v.jsx(Ie,{size:"sm",variant:"destructive",onClick:()=>P(X),children:"Confirm"}),v.jsx(Ie,{size:"sm",variant:"outline",onClick:H,children:"Cancel"})]}):v.jsxs("div",{className:"flex justify-end gap-2",children:[v.jsx(Ie,{size:"sm",variant:"outline",onClick:()=>N(X),children:"Edit"}),v.jsx(Ie,{size:"sm",variant:"outline",className:"text-red-600",onClick:()=>Q(X),children:"Delete"})]})})]},V.id||String(X)))})]})]})}function Zx(){const{user:r,signOut:n}=wd(),{columnWidths:s,handleMouseDown:l,resetWidths:o}=Yx(),[c,f]=j.useState("dashboard"),[h,m]=j.useState("last7"),[y,p]=j.useState(""),[_,w]=j.useState(""),[T,A]=j.useState([]),[U,M]=j.useState([]),[N,Q]=j.useState([]),[H,P]=j.useState({}),[V,X]=j.useState({}),[Z,Ee]=j.useState([]),[Qe,W]=j.useState(!1),ye=j.useCallback(()=>{if(c!=="movements"){console.log(" Skipping movements refresh - not on movements tab");return}ie.current&&clearTimeout(ie.current),ie.current=setTimeout(()=>{console.log(" Smart refresh: Loading movements"),(async()=>{try{W(!0);const[Y,F]=Yl(h,y,_),{movements:te}=await rg({dateFrom:new Date(Y),dateTo:new Date(F),limit:1e3}),de=(te||[]).map(le=>({movementId:to(String(le.id)),datetime:le.date instanceof Date?le.date:new Date(le.date),type:le.type,skuOrName:le.skuId||le.productName||"",skuId:le.skuId||"",qty:le.quantity,value:le.totalCost||0,ref:le.reference||""}));Ee(de),console.log(` Smart refresh completed: ${de.length} movements loaded`)}catch(Y){console.error("Smart refresh error:",Y)}finally{W(!1)}})()},2e3)},[c,h,y,_]),pe=j.useCallback(z=>{Ee(Y=>[z,...Y]),ht.current&&clearTimeout(ht.current),ht.current=setTimeout(()=>{console.log(" Consolidating movements after delayed period"),ye()},5e3)},[ye]),rt=j.useCallback(async()=>{try{W(!0);const[z,Y]=Yl(h,y,_),{movements:F}=await rg({dateFrom:new Date(z),dateTo:new Date(Y),limit:5e3}),te=(F||[]).map(de=>({movementId:to(String(de.id)),datetime:de.date instanceof Date?de.date:new Date(de.date),type:de.type,skuOrName:de.skuDescription,skuId:de.skuId,qty:de.quantity,value:de.totalCost,ref:de.reference||""}));Ee(te),Be.success(`Refreshed ${te.length} movements`)}catch(z){Be.error("Failed to load movements"),console.error("loadMovements error",z)}finally{W(!1)}},[h,y,_]),Ct=j.useCallback(async()=>{try{const z=await Il.getInventorySummary(),Y=z||[];Q(Y),M(Y);const F={};for(const te of z||[])typeof te.currentAvgCost=="number"&&(F[te.id]=te.currentAvgCost);X(F)}catch(z){console.error("loadInventorySummary error",z)}},[]),ct=j.useCallback(async()=>{try{const Y=(await Fl.getAllVendors()||[]).map(F=>({id:F.id,name:F.name,address:F.address||void 0,email:F.email||void 0,phone:F.phone||void 0,bank:F.bank_info?.display||void 0}));A(Y)}catch(z){console.error("loadVendors error",z)}},[]),[q,K]=j.useState(!1),[se,Me]=j.useState(!1),[x,G]=j.useState(!1),[J,I]=j.useState(!1),[ne,Te]=j.useState("default"),ie=j.useRef(null),ht=j.useRef(null);j.useEffect(()=>()=>{ie.current&&clearTimeout(ie.current),ht.current&&clearTimeout(ht.current)},[]),j.useEffect(()=>{const z=Y=>{Y.key==="Escape"&&(q&&K(!1),se&&Me(!1))};return q||se?(document.addEventListener("keydown",z),document.body.style.overflow="hidden"):document.body.style.overflow="unset",()=>{document.removeEventListener("keydown",z),document.body.style.overflow="unset"}},[q,se]),j.useEffect(()=>{rt(),Ct(),ct(),Yr.syncFromSupabase().catch(z=>{console.warn("Initial sync from Supabase failed:",z)})},[rt,Ct,ct]),j.useEffect(()=>{c==="movements"&&ye(),c==="dashboard"&&Ct()},[c,ye,Ct]),j.useEffect(()=>{ye()},[h,y,_,ye]);const He=z=>{const Y=V[z];return typeof Y=="number"?Y:Gx(H[z])},{bins:kt,periodLabels:Pa,granularity:es,inventoryValues:ts,cogsValues:ns}=j.useMemo(()=>{const[z,Y]=Yl(h,y,_),F=Hx(h,z,Y),te=lv(h,z,Y),de={};N.forEach(he=>{const je=he.onHand??0,me=Z.filter(fe=>{const Ce=Kr(fe.datetime).getTime();return Ce>=z&&Ce<=Y&&fe.skuId===he.id}).reduce((fe,Ce)=>Ce.type==="RECEIVE"||Ce.type==="PRODUCE"?fe+Ce.qty:Ce.type==="ISSUE"||Ce.type==="WASTE"?fe-Ce.qty:fe,0);de[he.id]=Math.max(0,je-me)});const le=[],Ae={...de};F.forEach(([he,je])=>{Z.filter(fe=>{const Ce=Kr(fe.datetime).getTime();return Ce>=he&&Ce<je}).forEach(fe=>{Ae[fe.skuId]||(Ae[fe.skuId]=0),fe.type==="RECEIVE"||fe.type==="PRODUCE"?Ae[fe.skuId]+=fe.qty:(fe.type==="ISSUE"||fe.type==="WASTE")&&(Ae[fe.skuId]-=fe.qty),Ae[fe.skuId]=Math.max(0,Ae[fe.skuId])});let me=0;Object.entries(Ae).forEach(([fe,Ce])=>{if(Ce>0){const Ft=He(fe);Ft&&(me+=Ce*Ft)}}),le.push(me)});const Ue=F.map(([he,je])=>Z.filter(me=>{const fe=Kr(me.datetime).getTime();return me.type==="ISSUE"&&fe>=he&&fe<je}).reduce((me,fe)=>{const Ce=He(fe.skuId);return me+(Ce?fe.qty*Ce:0)},0)),ke=F.map((he,je)=>{if(je===F.length-1)return"Now";new Date(he[1]);const me=new Date;switch(te){case"hourly":{const fe=Math.ceil((me.getTime()-he[1])/36e5);return fe===0?"Now":`-${fe}h`}case"daily":return`-${Math.ceil((me.getTime()-he[1])/864e5)}d`;case"weekly":return`-${Math.ceil((me.getTime()-he[1])/6048e5)}w`;case"monthly":return`-${Math.ceil((me.getTime()-he[1])/2592e6)}m`;default:return`P${je+1}`}});return{bins:F,periodLabels:ke,granularity:te,inventoryValues:le,cogsValues:Ue}},[h,y,_,Z,V,H,N]),Ia=async(z=!1)=>{const Y=z?N.filter(je=>(je.onHand||0)<(je.min||0)):N;if(Y.length===0){Be.info(z?"No red flags found":"No data to export");return}const F=Y.map(je=>{const me=je.onHand||0,fe=je.min||0,Ce=He(je.id),Ft=Ce?me*Ce:0;return{"SKU Code":je.id,Description:je.description||"",Type:je.type==="RAW"?"Raw":"Sellable",Category:je.productCategory,Unit:je.unit||"","On Hand":me,Minimum:fe,Status:me>=fe?"OK":"Below minimum","Avg. Cost (FIFO)":Ce?Ce.toFixed(2):0,"Asset Value":Ce?Ft.toFixed(2):0}}),te=await Pt(()=>import("./xlsx-DGuHH-KN.js"),[]),de=te.utils.book_new(),le=te.utils.json_to_sheet(F),Ae=[{wch:12},{wch:30},{wch:10},{wch:15},{wch:8},{wch:10},{wch:10},{wch:15},{wch:15},{wch:15}];le["!cols"]=Ae;const Ue=z?"Red Flags Inventory":"Full Inventory";te.utils.book_append_sheet(de,le,Ue);const ke=new Date().toISOString().split("T")[0],he=z?`inventory-red-flags-${ke}.xlsx`:`inventory-full-${ke}.xlsx`;te.writeFile(de,he),Be.success(`Exported ${Y.length} record(s) to ${he}`)},fo=async(z,Y)=>{if(z.length===0){Be.info("No movements to export");return}const F=z.map(([me,fe])=>{const Ce=me.datetime instanceof Date?me.datetime:new Date(me.datetime);return{Date:Ce.toLocaleDateString("en-US"),Time:Ce.toLocaleTimeString("en-US"),Type:me.type,"SKU/Product":me.skuOrName||"-",Quantity:me.qty||0,Value:me.value?me.value.toFixed(2):0,Reference:me.ref||"-"}}),te=await Pt(()=>import("./xlsx-DGuHH-KN.js"),[]),de=te.utils.book_new(),le=te.utils.json_to_sheet(F),Ae=[{wch:12},{wch:10},{wch:10},{wch:25},{wch:12},{wch:12},{wch:20}];le["!cols"]=Ae,te.utils.book_append_sheet(de,le,"Movements Export");const ke=new Date().toISOString().split("T")[0],je=`movements-export${Object.values(Y).some(me=>me)?"-filtered":""}-${ke}.xlsx`;te.writeFile(de,je),Be.success(`Exported ${z.length} movement record(s) to ${je}`)},ho=z=>{const Y=z[0]||z;if(Y.type==="RECEIVE"||Y.ref&&Y.ref.includes("WO-"))return"RAW";const te=(Y.skuOrName||"").toLowerCase(),de=["fg-","finished","final","complete","assembled","gasket","seal","product","part"],le=["raw","material","steel","rubber","metal","sheet","compound","polymer","chemical","ingredient"];return de.some(Ae=>te.includes(Ae))?"FINISHED":(le.some(Ae=>te.includes(Ae)),"RAW")},It=()=>Yr.getExportedMovements(),mo=(z,Y)=>{Yr.markMovementsAsExported(z,Y),Yr.syncToSupabase().catch(F=>{console.warn("Background sync to Supabase failed:",F)})},xi=async()=>{await Yr.clearAllHistory()},Ei=async()=>{try{const z=await Yr.fullSync();z.success?Be.success(`Sync completed: ${z.uploaded} uploaded, ${z.downloaded} downloaded`):Be.error("Sync failed: "+z.errors.join(", "))}catch(z){console.error("Manual sync failed:",z),Be.error("Sync failed: "+(z instanceof Error?z.message:"Unknown error"))}},Fa=async(z,Y)=>{const F=z.filter(([Re])=>["RECEIVE","PRODUCE","WASTE"].includes(Re.type));if(F.length===0){Be.info("No applicable movements for journal export (RECEIVE, PRODUCE, WASTE only)");return}const te=new Date,de=te.toISOString().split("T")[0].replace(/-/g,""),le=Math.floor(Math.random()*1e3).toString().padStart(3,"0"),Ae=`J-${de}-${le}`,Ue=te.toLocaleDateString("en-US"),ke=[];F.forEach(([Re])=>{const xa=ho(Re),on=Math.abs(Re.value||0),jn=xa==="RAW"?"Inventory - Raw Materials":"Inventory - Finished Goods";switch(Re.type){case"RECEIVE":ke.push({"Journal No.":Ae,"Journal Date":Ue,"Account Name":jn,Debits:on.toFixed(2),Credits:"",Reference:`${Re.ref} - ${Re.skuOrName}`,"Movement ID":Re.movementId}),ke.push({"Journal No.":Ae,"Journal Date":Ue,"Account Name":"Accounts Payable",Debits:"",Credits:on.toFixed(2),Reference:`${Re.ref} - ${Re.skuOrName}`,"Movement ID":Re.movementId});break;case"PRODUCE":ke.push({"Journal No.":Ae,"Journal Date":Ue,"Account Name":"Cost of Goods Sold (COGS)",Debits:on.toFixed(2),Credits:"",Reference:`${Re.ref} - ${Re.skuOrName}`,"Movement ID":Re.movementId}),ke.push({"Journal No.":Ae,"Journal Date":Ue,"Account Name":jn,Debits:"",Credits:on.toFixed(2),Reference:`${Re.ref} - ${Re.skuOrName}`,"Movement ID":Re.movementId});break;case"WASTE":ke.push({"Journal No.":Ae,"Journal Date":Ue,"Account Name":"Shrinkage Expense",Debits:on.toFixed(2),Credits:"",Reference:`${Re.ref} - ${Re.skuOrName}`,"Movement ID":Re.movementId}),ke.push({"Journal No.":Ae,"Journal Date":Ue,"Account Name":jn,Debits:"",Credits:on.toFixed(2),Reference:`${Re.ref} - ${Re.skuOrName}`,"Movement ID":Re.movementId});break}});const he=await Pt(()=>import("./xlsx-DGuHH-KN.js"),[]),je=he.utils.book_new(),me=he.utils.json_to_sheet(ke),fe=[{wch:15},{wch:12},{wch:30},{wch:15},{wch:15},{wch:40},{wch:12}];me["!cols"]=fe,he.utils.book_append_sheet(je,me,"Journal Entries");const Ft=new Date().toISOString().split("T")[0],Tn=`journal-entries${Object.values(Y).some(Re=>Re)?"-filtered":""}-${Ft}.xlsx`;he.writeFile(je,Tn);const Sa=F.map(([Re])=>Re.movementId);mo(Sa,Ae),Be.success(`Exported ${ke.length} journal entries (${F.length} movements) to ${Tn}`,{description:`Journal No: ${Ae}`})},as=j.useMemo(()=>N.map(z=>({...z,categoryName:z.productCategory||"Uncategorized"})),[N]),Ti=j.useMemo(()=>ne==="default"?as:[...as].sort((Y,F)=>{if(ne==="redFlags"){const te=Y.onHand??0,de=Y.min??0,le=F.onHand??0,Ae=F.min??0,Ue=te<de,ke=le<Ae;return Ue&&!ke?-1:!Ue&&ke?1:le-te}if(ne==="quantity")return(F.onHand??0)-(Y.onHand??0);if(ne==="category"){const te=Y.categoryName.localeCompare(F.categoryName);return te!==0?te:(F.onHand??0)-(Y.onHand??0)}return 0}),[as,ne]),yo=({ok:z})=>v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("span",{className:`inline-block h-2.5 w-2.5 rounded-full ${z?"bg-emerald-500":"bg-red-500"}`}),v.jsx("span",{className:`text-xs ${z?"text-emerald-700":"text-red-700"}`,children:z?"OK":"Below minimum"})]}),ln=j.useMemo(()=>{const[z,Y]=Yl(h,y,_),F=N.reduce((ze,et)=>{const De=Math.max(0,et.onHand??0),qe=He(et.id)??0;return ze.qty+=De,ze.value+=De*qe,ze},{qty:0,value:0}),te=Z.map(ze=>{const et=+Kr(ze.datetime),De=Math.abs(ze.value||0),qe=ze.type==="RECEIVE"?+De:ze.type==="ISSUE"||ze.type==="WASTE"?-De:0;return{ts:et,delta:qe}}),de=F.value,le=ze=>de-te.reduce((et,De)=>De.ts>ze?et+De.delta:et,0),Ae=kt.map(([ze,et])=>le(et)),Ue=kt.map(([ze,et])=>Z.filter(De=>De.type==="ISSUE").reduce((De,qe)=>{const Ze=+Kr(qe.datetime);return Ze>ze&&Ze<=et?De+(qe.value||0):De},0)),ke=Ue.reduce((ze,et)=>ze+et,0),he=le(z),je=le(Y),me=Math.max(0,(he+je)/2),fe=me>0?ke/me:0,Ce=kt.map(([ze,et],De)=>{const qe=le(ze),Ze=le(et),On=Math.max(0,(qe+Ze)/2);return On>0?Ue[De]/On:0}),Ft=Math.max(1,(Y-z)/no),wa=kt.map(([ze,et])=>Z.filter(De=>De.type==="ISSUE"||De.type==="WASTE").reduce((De,qe)=>{const Ze=+Kr(qe.datetime);return Ze>ze&&Ze<=et?De+(qe.value||0):De},0)),Sa=wa.reduce((ze,et)=>ze+et,0)/Ft,Re=Sa>0?de/Sa:1/0;let xa=0;const jn=kt.map(([,ze],et)=>{xa+=wa[et];const De=Math.max((ze-z)/no,1e-6),qe=xa/De,Ze=le(ze);return qe>0?Ze/qe:1/0}).map(ze=>Number.isFinite(ze)?ze:0);return{inv:F,inventorySeries:Ae,turnoverVal:fe,turnoverSeries:Ce,cogsTotal:ke,doiVal:Re,doiSeries:jn,dailyCOGS:Sa,invStart:he,invEnd:je,avgInvPeriod:me,daysInPeriod:Ft,nowInvValue:de}},[N,H,Z,kt,h,y,_]);return v.jsxs("div",{className:"min-h-screen w-full bg-white text-slate-900",children:[v.jsx("header",{className:"sticky top-0 z-30 bg-white/80 backdrop-blur border-b",children:v.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-3 flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("div",{className:"h-9 w-9 rounded-xl bg-slate-900 text-white grid place-items-center",children:"PG"}),v.jsxs("div",{children:[v.jsx("p",{className:"text-sm text-slate-500 leading-none",children:"Premier Gaskets"}),v.jsx("h1",{className:"text-base font-semibold",children:"Inventory  Dashboard (Preview)"})]})]}),v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"hidden md:flex items-center gap-2",children:v.jsx(E_,{variant:"secondary",className:"rounded-full",children:"MVP"})}),v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"text-sm text-slate-600",children:r?.email}),v.jsx(Ie,{variant:"outline",size:"sm",onClick:n,className:"rounded-xl",children:"Sign Out"})]})]})]})}),v.jsx("div",{className:"sticky top-[56px] z-20 bg-white/90 backdrop-blur border-b",children:v.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-2 flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center gap-2 text-slate-600 text-sm",children:[v.jsx("span",{className:"inline-flex h-5 w-5 items-center justify-center rounded-md bg-slate-900 text-white text-[10px]",children:"QM"}),v.jsx("span",{children:"Quick menu"})]}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx(Ie,{size:"sm",className:"rounded-xl",onClick:()=>K(!0),children:"Open Vendors"}),v.jsx(Ie,{size:"sm",variant:"outline",className:"rounded-xl",onClick:()=>Me(!0),children:"Open SKUs"})]})]})}),v.jsx("main",{className:"max-w-6xl mx-auto px-4 py-6",children:v.jsxs(T_,{value:c,onValueChange:f,children:[v.jsxs(j_,{className:"grid grid-cols-4 w-full rounded-2xl",children:[v.jsx(Ll,{value:"dashboard",children:"Dashboard"}),v.jsxs(Ll,{value:"receiving",className:"flex items-center justify-center gap-2",children:[v.jsx(Kx,{className:"h-4 w-4"}),"Receiving"]}),v.jsxs(Ll,{value:"workorder",className:"flex items-center justify-center gap-2",children:[v.jsx(Qx,{className:"h-4 w-4"}),"Work Order"]}),v.jsxs(Ll,{value:"movements",className:"flex items-center justify-center gap-2",children:[v.jsx(Px,{className:"h-4 w-4"}),"Movements"]})]}),v.jsxs(O_,{value:"dashboard",className:"mt-6 space-y-4",children:[v.jsxs(si,{className:"rounded-2xl border-dashed",children:[v.jsx(Pl,{className:"py-4",children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx(ii,{className:"text-lg",children:"Dashboard"}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsxs(oi,{value:h,onValueChange:z=>m(z),children:[v.jsx(ui,{className:"h-8 w-[200px] rounded-xl",children:v.jsx(ci,{placeholder:"Period"})}),v.jsxs(di,{children:[v.jsx(At,{value:"today",children:"Today"}),v.jsx(At,{value:"last7",children:"Last 7 days"}),v.jsx(At,{value:"month",children:"Current month"}),v.jsx(At,{value:"quarter",children:"Current quarter"}),v.jsx(At,{value:"custom",children:"Custom range"})]})]}),h==="custom"&&v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(Qt,{type:"date",value:y,onChange:z=>p(z.target.value),className:"h-8 rounded-xl"}),v.jsx("span",{className:"text-slate-500",children:"to"}),v.jsx(Qt,{type:"date",value:_,onChange:z=>w(z.target.value),className:"h-8 rounded-xl"})]})]})]})}),v.jsx(li,{children:v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 max-w-4xl mx-auto",children:[v.jsx(ng,{title:"Total Inventory Value",primary:Sn(ln.inv.value),secondary:"Asset value at current FIFO cost",series:ts,chartType:"line",valueFormatter:Sn,labels:Pa,infoContent:v.jsxs("div",{children:[v.jsx("p",{children:"Total asset value of inventory at current average cost (FIFO)."}),v.jsxs("ul",{className:"list-disc pl-4 mt-1 space-y-1",children:[v.jsxs("li",{children:[v.jsx("strong",{children:"Calculation"}),": (on-hand  avg. cost per SKU)."]}),v.jsxs("li",{children:[v.jsx("strong",{children:"Cost Method"}),": FIFO (First In, First Out) layers."]}),v.jsxs("li",{children:[v.jsx("strong",{children:"Quantity"}),": ",ln.inv.qty.toLocaleString("en-US")," units total."]})]})]})}),v.jsx(ng,{title:"Cost of Goods Sold (COGS)",primary:Sn(ln.cogsTotal),secondary:"Total cost of inventory issued in period",series:ns,chartType:"bars",valueFormatter:Sn,labels:Pa,infoContent:v.jsxs("div",{children:[v.jsx("p",{children:"Total cost of goods sold (issued from inventory) in the selected period."}),v.jsxs("ul",{className:"list-disc pl-4 mt-1 space-y-1",children:[v.jsxs("li",{children:[v.jsx("strong",{children:"COGS"}),": ",Sn(ln.cogsTotal)," from ISSUE movements"]}),v.jsxs("li",{children:[v.jsx("strong",{children:"Inventory (start/end)"}),": ",Sn(ln.invStart),"  ",Sn(ln.invEnd)]}),v.jsxs("li",{children:[v.jsx("strong",{children:"Average Inventory"}),": ",Sn(ln.avgInvPeriod)]}),v.jsxs("li",{children:[v.jsx("strong",{children:"Turnover Ratio"}),": ",Number.isFinite(ln.turnoverVal)?ln.turnoverVal.toFixed(2):"","x"]})]})]})})]})})]}),v.jsxs(si,{className:"rounded-2xl border-dashed",children:[v.jsx(Pl,{className:"py-4",children:v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(Ix,{className:"h-5 w-5 text-slate-500"}),v.jsx(ii,{className:"text-lg",children:"Inventory by SKU"})]})}),v.jsxs(li,{children:[v.jsxs("div",{className:"flex items-center justify-between gap-2 mb-3",children:[v.jsx("div",{className:"text-xs text-slate-500",children:"Traffic light: green = above minimum  red = below minimum"}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsxs(oi,{value:ne,onValueChange:z=>Te(z),children:[v.jsx(ui,{className:"h-8 w-[200px] rounded-xl",children:v.jsx(ci,{placeholder:"Sort by..."})}),v.jsxs(di,{children:[v.jsx(At,{value:"default",children:"Default"}),v.jsx(At,{value:"redFlags",children:" Red Flags First"}),v.jsx(At,{value:"quantity",children:" By Quantity"}),v.jsx(At,{value:"category",children:" By Category"})]})]}),v.jsx(Ie,{variant:"outline",size:"sm",onClick:o,title:"Reset column widths to default",children:"Reset columns"}),v.jsx(Ie,{variant:"outline",size:"sm",onClick:()=>Ia(!1),children:"Export all (Excel)"}),v.jsx(Ie,{size:"sm",onClick:()=>Ia(!0),children:"Export red flags (Excel)"}),v.jsxs(oi,{onValueChange:z=>{if(z==="ALL")return Q(U);Q(U.filter(Y=>Y.type===z))},children:[v.jsx(ui,{className:"h-8 w-[200px] rounded-xl",children:v.jsx(ci,{placeholder:"Filter by type"})}),v.jsxs(di,{children:[v.jsx(At,{value:"ALL",children:"All"}),v.jsx(At,{value:"RAW",children:"Raw"}),v.jsx(At,{value:"SELLABLE",children:"Sellable"})]})]})]})]}),v.jsx("div",{className:"overflow-x-auto",children:v.jsxs(fd,{className:"min-w-[1100px] table-fixed resizable-table",style:{width:Object.values(s).reduce((z,Y)=>z+Y,0)},children:[v.jsx(hd,{children:v.jsxs(Ir,{children:[v.jsxs(nt,{className:"whitespace-nowrap relative",style:{width:s.category,minWidth:60},children:["Category",v.jsx("div",{className:"absolute top-0 right-0 w-1 h-full cursor-col-resize bg-transparent hover:bg-blue-300 opacity-0 hover:opacity-50",onMouseDown:z=>l("category",z)})]}),v.jsxs(nt,{className:"whitespace-nowrap relative",style:{width:s.sku,minWidth:60},children:["SKU",v.jsx("div",{className:"absolute top-0 right-0 w-1 h-full cursor-col-resize bg-transparent hover:bg-blue-300 opacity-0 hover:opacity-50",onMouseDown:z=>l("sku",z)})]}),v.jsxs(nt,{className:"whitespace-nowrap relative",style:{width:s.description,minWidth:60},children:["Description",v.jsx("div",{className:"absolute top-0 right-0 w-1 h-full cursor-col-resize bg-transparent hover:bg-blue-300 opacity-0 hover:opacity-50",onMouseDown:z=>l("description",z)})]}),v.jsxs(nt,{className:"whitespace-nowrap relative",style:{width:s.status,minWidth:60},children:["Status",v.jsx("div",{className:"absolute top-0 right-0 w-1 h-full cursor-col-resize bg-transparent hover:bg-blue-300 opacity-0 hover:opacity-50",onMouseDown:z=>l("status",z)})]}),v.jsxs(nt,{className:"whitespace-nowrap relative",style:{width:s.unit,minWidth:60},children:["U/M",v.jsx("div",{className:"absolute top-0 right-0 w-1 h-full cursor-col-resize bg-transparent hover:bg-blue-300 opacity-0 hover:opacity-50",onMouseDown:z=>l("unit",z)})]}),v.jsxs(nt,{className:"whitespace-nowrap relative",style:{width:s.type,minWidth:60},children:["Type",v.jsx("div",{className:"absolute top-0 right-0 w-1 h-full cursor-col-resize bg-transparent hover:bg-blue-300 opacity-0 hover:opacity-50",onMouseDown:z=>l("type",z)})]}),v.jsxs(nt,{className:"text-right whitespace-nowrap relative",style:{width:s.onHand,minWidth:60},children:["On hand",v.jsx("div",{className:"absolute top-0 right-0 w-1 h-full cursor-col-resize bg-transparent hover:bg-blue-300 opacity-0 hover:opacity-50",onMouseDown:z=>l("onHand",z)})]}),v.jsxs(nt,{className:"text-right whitespace-nowrap relative",style:{width:s.avgCost,minWidth:60},children:["Avg. cost (FIFO)",v.jsx("div",{className:"absolute top-0 right-0 w-1 h-full cursor-col-resize bg-transparent hover:bg-blue-300 opacity-0 hover:opacity-50",onMouseDown:z=>l("avgCost",z)})]}),v.jsxs(nt,{className:"text-right whitespace-nowrap relative",style:{width:s.assetValue,minWidth:60},children:["Asset value",v.jsx("div",{className:"absolute top-0 right-0 w-1 h-full cursor-col-resize bg-transparent hover:bg-blue-300 opacity-0 hover:opacity-50",onMouseDown:z=>l("assetValue",z)})]}),v.jsx(nt,{className:"text-right whitespace-nowrap",style:{width:s.minimum,minWidth:60},children:"Minimum"})]})}),v.jsx(md,{children:Ti.map((z,Y)=>{const F=z.onHand??0,te=z.min??0,de=F>=te,le=He(z.id);return v.jsxs(Ir,{children:[v.jsx(at,{className:"font-medium",style:{width:s.category,minWidth:60},children:z.categoryName}),v.jsx(at,{className:"font-medium",style:{width:s.sku,minWidth:60},children:z.id}),v.jsx(at,{style:{width:s.description,minWidth:60},children:z.description??"-"}),v.jsx(at,{style:{width:s.status,minWidth:60},children:v.jsx(yo,{ok:de})}),v.jsx(at,{style:{width:s.unit,minWidth:60},children:z.unit??"-"}),v.jsx(at,{style:{width:s.type,minWidth:60},children:z.type==="RAW"?"Raw":"Sellable"}),v.jsx(at,{className:"text-right tabular-nums",style:{width:s.onHand,minWidth:60},children:lg(F)}),v.jsx(at,{className:"text-right tabular-nums",style:{width:s.avgCost,minWidth:60},children:le!=null?Sn(le):""}),v.jsx(at,{className:"text-right tabular-nums",style:{width:s.assetValue,minWidth:60},children:le!=null?Sn(F*le):""}),v.jsx(at,{className:"text-right tabular-nums",style:{width:s.minimum,minWidth:60},children:lg(te)})]},`${z.id}-${Y}`)})})]})})]})]})]}),v.jsx("div",{className:`mt-6 ${c==="receiving"?"":"hidden"}`,children:v.jsx(j.Suspense,{fallback:v.jsx("div",{children:"Loading..."}),children:v.jsx(Dx,{vendors:T,skus:N,layersBySku:H,movements:Z,onUpdateLayers:(z,Y)=>{P(F=>({...F,[z]:Y}))},onUpdateSKU:(z,Y)=>{Q(F=>{const{productCategory:te,...de}=Y||{};return F.map(le=>le.id===z?{...le,...de}:le)})},onAddMovement:z=>{pe(z)}})})}),v.jsx("div",{className:`mt-6 ${c==="workorder"?"":"hidden"}`,children:v.jsx(j.Suspense,{fallback:v.jsx("div",{children:"Loading..."}),children:v.jsx(Nx,{skus:N,layersBySku:H,onUpdateLayers:(z,Y)=>{P(F=>({...F,[z]:Y}))},onUpdateSKU:(z,Y)=>{Q(F=>{const{productCategory:te,...de}=Y||{};return F.map(le=>le.id===z?{...le,...de}:le)})},onAddMovement:z=>{pe(z)},onRefreshInventory:()=>{Ct(),ye()}})})}),v.jsxs("div",{className:`mt-6 ${c==="movements"?"":"hidden"}`,children:[v.jsx("div",{className:"flex items-center justify-end mb-2",children:v.jsx(Ie,{size:"sm",variant:"outline",onClick:()=>{ie.current&&clearTimeout(ie.current),rt()},disabled:Qe,children:Qe?"Refreshing...":"Refresh"})}),v.jsx(Mx,{movements:Z,onExportExcel:fo,onExportJournal:Fa,getExportedMovements:It,clearExportHistory:xi,syncToCloud:Ei,onRefreshMovements:rt,onDeleteMovement:async z=>{console.log(" onDeleteMovement called with:",z),console.log(" deleteBackendMovement function:",typeof sg);try{console.log(" Starting backend deletion process for movementId:",z);const Y=String(z),F=Number(Y);if(console.log(" Extracted ID - String:",Y,"Number:",F),Number.isNaN(F)){console.error(" Invalid Movement ID:",Y),Be.error(`Invalid Movement ID: ${Y}`);return}let te;try{te=(await co.getMovementDeletionInfo(F))?.skuId,console.log(" Deletion info fetched. Affected SKU:",te)}catch(Ue){console.warn(" Could not fetch movement deletion info before delete; will still proceed.",Ue)}console.log(" About to call backend deleteMovement with ID:",F);const de=await sg(F,{reason:"User deletion via UI",deletedBy:"user"});if(console.log(" Backend deletion result:",de),console.log(" Result type:",typeof de),console.log(" Result keys:",Object.keys(de||{})),Ee(Ue=>{const ke=Ue.filter(he=>he.movementId!==z);return console.log(" Movement removed from frontend state. Before:",Ue.length,"After:",ke.length),ke}),await Ct(),ye(),te)try{const ke=(await kx(te)||[]).map(he=>({id:String(he.id),date:he.date instanceof Date?he.date.toISOString().slice(0,10):String(he.date),remaining:he.remaining,cost:he.cost}));P(he=>({...he,[te]:ke})),console.log(" Refreshed FIFO layers for SKU:",te,"Count:",ke.length)}catch(Ue){console.warn(" Failed to refresh FIFO layers for SKU",te,Ue)}const le=de?.restoredLayers?.length||0,Ae=de?.related_movements_deleted||0;console.log(" Restored layers count:",le),console.log(" Related movements deleted:",Ae),Be.success(`Movement deleted successfully! ${le} layers restored, ${Ae} related movements deleted.`)}catch(Y){console.error(" Error deleting movement:",Y),console.error(" Error type:",typeof Y),console.error(" Error message:",Y?.message),console.error(" Error details:",Y?.details),console.error(" Error code:",Y?.code);let F="An unknown error occurred";Y?.message?F=Y.message:Y?.details?F=Y.details:typeof Y=="string"&&(F=Y),Be.error(`Failed to delete movement: ${F}`),console.log(" Frontend state NOT updated due to backend error")}}})]})]})}),q&&v.jsxs("div",{className:"fixed inset-0 z-50",role:"dialog","aria-modal":"true","aria-labelledby":"vendors-title",children:[v.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:()=>K(!1)}),v.jsx("div",{className:"absolute left-1/2 top-12 -translate-x-1/2 w-[min(100%,900px)]",children:v.jsxs(si,{className:"rounded-2xl shadow-2xl bg-white",children:[v.jsxs(Pl,{className:"py-4 flex flex-row items-center justify-between",children:[v.jsx(ii,{id:"vendors-title",children:"Vendors"}),v.jsx(Ie,{size:"sm",onClick:()=>K(!1),children:"Close"})]}),v.jsx(li,{className:"max-h-[70vh] overflow-auto",children:v.jsx(Xx,{items:T,onChange:A,onRefresh:ct})})]})})]}),se&&v.jsx($x,{onClose:()=>{Me(!1),G(!1)},onToggleAdd:()=>G(z=>!z),addOpen:x,children:v.jsx(Fx,{items:N,onChange:Q,openForm:x,onToggleForm:()=>G(z=>!z),hideLocalHeader:!0,onRefresh:Ct})})]})}function Jx(){const{user:r,signIn:n,loading:s}=wd(),[l,o]=j.useState(""),[c,f]=j.useState(""),[h,m]=j.useState(""),[y,p]=j.useState(!1);if(r&&!s)return v.jsx(Jl,{to:"/app",replace:!0});const _=async w=>{if(w.preventDefault(),!l||!c){m("Please fill in all fields");return}p(!0),m("");const T=await n(l,c);T.error&&m(T.error),p(!1)};return s?v.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",children:v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),v.jsx("p",{className:"text-slate-600",children:"Loading..."})]})}):v.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 p-4",children:v.jsxs(si,{className:"w-full max-w-md",children:[v.jsxs(Pl,{className:"text-center",children:[v.jsx("div",{className:"mb-4",children:v.jsx("div",{className:"w-16 h-16 bg-blue-600 rounded-xl mx-auto flex items-center justify-center mb-4",children:v.jsx("div",{className:"text-white font-bold text-2xl",children:"PG"})})}),v.jsx(ii,{className:"text-2xl font-bold",children:"PGaskets Inventory"}),v.jsx("p",{className:"text-slate-600 mt-2",children:"Sign in to access the system"})]}),v.jsxs(li,{children:[v.jsxs("form",{onSubmit:_,className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx(Kt,{htmlFor:"email",children:"Email"}),v.jsx(Qt,{id:"email",type:"email",value:l,onChange:w=>o(w.target.value),placeholder:"admin@pgaskets.com",className:"mt-1",disabled:y})]}),v.jsxs("div",{children:[v.jsx(Kt,{htmlFor:"password",children:"Password"}),v.jsx(Qt,{id:"password",type:"password",value:c,onChange:w=>f(w.target.value),placeholder:"Enter your password",className:"mt-1",disabled:y})]}),h&&v.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md text-sm",children:h}),v.jsx(Ie,{type:"submit",className:"w-full",disabled:y,children:y?v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Signing in..."]}):"Sign In"})]}),v.jsxs("div",{className:"mt-6 text-center text-sm text-slate-500",children:[v.jsx("p",{children:"Demo credentials:"}),v.jsx("p",{children:"Email: admin@pgaskets.com"}),v.jsx("p",{children:"Password: pgaskets123"})]})]})]})})}function Wx({children:r}){const{user:n,loading:s}=wd();return s?v.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",children:v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),v.jsx("p",{className:"text-slate-600",children:"Loading application..."})]})}):n?v.jsx(v.Fragment,{children:r}):v.jsx(Jl,{to:"/login",replace:!0})}function e1(){return v.jsx(BS,{children:v.jsx(f_,{children:v.jsxs(Gb,{children:[v.jsx(ai,{path:"/",element:v.jsx(Jl,{to:"/app",replace:!0})}),v.jsx(ai,{path:"/login",element:v.jsx(Jx,{})}),v.jsx(ai,{path:"/app",element:v.jsx(Wx,{children:v.jsx(Zx,{})})}),v.jsx(ai,{path:"*",element:v.jsx(Jl,{to:"/app",replace:!0})})]})})})}const ov=document.getElementById("root");if(!ov)throw new Error("Missing #root element");const t1=new Z0;A0.createRoot(ov).render(v.jsx(W0,{client:t1,children:v.jsx(e1,{})}));export{E_ as B,si as C,Qt as I,Kt as L,PS as M,Kn as R,oi as S,fd as T,n1 as a,Pl as b,ii as c,li as d,Ie as e,hd as f,Ir as g,nt as h,md as i,v as j,at as k,ui as l,ci as m,di as n,At as o,o1 as p,kx as q,j as r,u1 as s,re as t};
